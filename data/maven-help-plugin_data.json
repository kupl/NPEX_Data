[{"commit": "https://github.com/apache/maven-help-plugin/commit/9f6e0e637cb4199ee9dab7291b8ff0fa6a8dccd7", "parent": "https://github.com/apache/maven-help-plugin/commit/118fc2fae166a6803757c31a01e857f1e3ffb4f7", "message": "[MPH-135] help:effective-pom crashes with NPE in multi module builds with -Doutput set\n\nExplicitly check for null in encoding because JDOM's API design *does* permit\nnulls here, but expects the value never to be null.", "bug_id": "maven-help-plugin_1", "file": [{"additions": 5, "raw_url": "https://github.com/apache/maven-help-plugin/raw/9f6e0e637cb4199ee9dab7291b8ff0fa6a8dccd7/src/main/java/org/apache/maven/plugins/help/AbstractEffectiveMojo.java", "blob_url": "https://github.com/apache/maven-help-plugin/blob/9f6e0e637cb4199ee9dab7291b8ff0fa6a8dccd7/src/main/java/org/apache/maven/plugins/help/AbstractEffectiveMojo.java", "sha": "2f38dfe66103c16baa3cf3bb1fb9019077303bdf", "changes": 6, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/maven-help-plugin/contents/src/main/java/org/apache/maven/plugins/help/AbstractEffectiveMojo.java?ref=9f6e0e637cb4199ee9dab7291b8ff0fa6a8dccd7", "patch": "@@ -134,7 +134,11 @@ protected static String prettyFormat( String effectiveModel, String encoding )\n \n             StringWriter w = new StringWriter();\n             Format format = Format.getPrettyFormat();\n-            format.setEncoding( encoding );\n+            if ( encoding != null )\n+            {\n+                // This is a design flaw in JDOM, no NPE on null arguments, but null is not prohibited\n+                format.setEncoding( encoding );\n+            }\n             format.setLineSeparator( System.lineSeparator() );\n             XMLOutputter out = new XMLOutputter( format );\n             out.output( effectiveDocument, w );", "filename": "src/main/java/org/apache/maven/plugins/help/AbstractEffectiveMojo.java"}], "repo": "maven-help-plugin"}, {"commit": "https://github.com/apache/maven-help-plugin/commit/9338a394756004ea579a9407a346958730d5e098", "parent": "https://github.com/apache/maven-help-plugin/commit/4076b726168408dcdd65466927c3a9ef08a14f8a", "message": "o fixed potential NPE if no goals\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@690677 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-help-plugin_2", "file": [{"additions": 8, "raw_url": "https://github.com/apache/maven-help-plugin/raw/9338a394756004ea579a9407a346958730d5e098/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java", "blob_url": "https://github.com/apache/maven-help-plugin/blob/9338a394756004ea579a9407a346958730d5e098/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java", "sha": "6c6aa2ae108e0ba038e4d403bf2f344c52188c5a", "changes": 10, "status": "modified", "deletions": 2, "contents_url": "https://api.github.com/repos/apache/maven-help-plugin/contents/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java?ref=9338a394756004ea579a9407a346958730d5e098", "patch": "@@ -573,14 +573,20 @@ private void describePlugin( PluginDescriptor pd, StringBuffer buffer )\n         append( buffer, \"Goal Prefix\", pd.getGoalPrefix(), 0 );\n         buffer.append( \"\\n\" );\n \n+        List mojos = pd.getMojos();\n+\n+        if ( mojos == null )\n+        {\n+            append( buffer, \"This plugin has no goals.\", 0 );\n+            return;\n+        }\n+\n         if ( ( detail || medium ) && !minimal )\n         {\n             append( buffer, \"This plugin has \" + pd.getMojos().size() + \" goal\"\n                 + ( pd.getMojos().size() > 1 ? \"s\" : \"\" ) + \":\", 0 );\n             buffer.append( \"\\n\" );\n \n-            List mojos = pd.getMojos();\n-\n             PluginUtils.sortMojos( mojos );\n \n             for ( Iterator it = mojos.iterator(); it.hasNext(); )", "filename": "src/main/java/org/apache/maven/plugins/help/DescribeMojo.java"}], "repo": "maven-help-plugin"}, {"commit": "https://github.com/apache/maven-help-plugin/commit/b1a2eb2b17003ae9f1fcccbc1523261ade581fbf", "parent": "https://github.com/apache/maven-help-plugin/commit/cab5a134bd1bbc25251c6472a853304ef4655746", "message": "[MPH-10] avoid NPE if plugin is not found\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@390935 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-help-plugin_3", "file": [{"additions": 4, "raw_url": "https://github.com/apache/maven-help-plugin/raw/b1a2eb2b17003ae9f1fcccbc1523261ade581fbf/pom.xml", "blob_url": "https://github.com/apache/maven-help-plugin/blob/b1a2eb2b17003ae9f1fcccbc1523261ade581fbf/pom.xml", "sha": "1e01028c501fba646fc2c1f9a314a16bc73dae59", "changes": 6, "status": "modified", "deletions": 2, "contents_url": "https://api.github.com/repos/apache/maven-help-plugin/contents/pom.xml?ref=b1a2eb2b17003ae9f1fcccbc1523261ade581fbf", "patch": "@@ -1,4 +1,6 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?><project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">\n   <parent>\n     <artifactId>maven-plugins</artifactId>\n     <groupId>org.apache.maven.plugins</groupId>\n@@ -8,7 +10,7 @@\n   <artifactId>maven-help-plugin</artifactId>\n   <packaging>maven-plugin</packaging>\n   <name>Maven Help Plugin</name>\n-  <version>2.1-SNAPSHOT</version>\n+  <version>2.0.1-SNAPSHOT</version>\n   <description>\n     The Maven Help plugin provides goals aimed at helping to make sense out of\n     the build environment. It includes the ability to view the effective", "filename": "pom.xml"}, {"additions": 7, "raw_url": "https://github.com/apache/maven-help-plugin/raw/b1a2eb2b17003ae9f1fcccbc1523261ade581fbf/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java", "blob_url": "https://github.com/apache/maven-help-plugin/blob/b1a2eb2b17003ae9f1fcccbc1523261ade581fbf/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java", "sha": "c3dd2f3b488ba87f9df4d09dcd8528eb2129164a", "changes": 8, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/maven-help-plugin/contents/src/main/java/org/apache/maven/plugins/help/DescribeMojo.java?ref=b1a2eb2b17003ae9f1fcccbc1523261ade581fbf", "patch": "@@ -60,7 +60,7 @@\n \n     /**\n      * The plugin/mojo to describe. This must be specified in one of three ways:\n-     *\n+     * <p/>\n      * 1. plugin-prefix\n      * 2. groupId:artifactId\n      * 3. groupId:artifactId:version\n@@ -347,6 +347,12 @@ else if ( pi.groupId != null && pi.artifactId != null )\n             }\n         }\n \n+        if ( descriptor == null )\n+        {\n+            throw new MojoFailureException(\n+                \"Plugin could not be found. If you believe it is correct, check your pluginGroups setting, and run with -U to update the remote configuration\" );\n+        }\n+\n         return descriptor;\n     }\n ", "filename": "src/main/java/org/apache/maven/plugins/help/DescribeMojo.java"}], "repo": "maven-help-plugin"}]
