{
    "maven-wagon_02a071d": {
        "bug_id": "maven-wagon_02a071d",
        "commit": "https://github.com/apache/maven-wagon/commit/02a071d6736d74d8cbf770ad678559cd7e19c73c",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-wagon/blob/02a071d6736d74d8cbf770ad678559cd7e19c73c/wagon-providers/wagon-ftp/pom.xml",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-ftp/pom.xml?ref=02a071d6736d74d8cbf770ad678559cd7e19c73c",
                "deletions": 1,
                "filename": "wagon-providers/wagon-ftp/pom.xml",
                "patch": "@@ -8,7 +8,7 @@\n     <version>1.0-alpha-4</version>\n   </parent>\n   <artifactId>wagon-ftp</artifactId>\n-  <version>1.0-alpha-4</version>\n+  <version>1.0-alpha-5-SNAPSHOT</version>\n   <name>Maven Wagon FTP Provider</name>\n   <dependencies>\n     <dependency>",
                "raw_url": "https://github.com/apache/maven-wagon/raw/02a071d6736d74d8cbf770ad678559cd7e19c73c/wagon-providers/wagon-ftp/pom.xml",
                "sha": "777752bfed36ea9ca8efe769c266ef89e0b3bd8f",
                "status": "modified"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/maven-wagon/blob/02a071d6736d74d8cbf770ad678559cd7e19c73c/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java?ref=02a071d6736d74d8cbf770ad678559cd7e19c73c",
                "deletions": 5,
                "filename": "wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "patch": "@@ -31,6 +31,7 @@\n import org.apache.maven.wagon.TransferFailedException;\n import org.apache.maven.wagon.WagonConstants;\n import org.apache.maven.wagon.authentication.AuthenticationException;\n+import org.apache.maven.wagon.authentication.AuthenticationInfo;\n import org.apache.maven.wagon.repository.RepositoryPermissions;\n import org.apache.maven.wagon.resource.Resource;\n \n@@ -47,14 +48,16 @@\n     public void openConnection()\n         throws ConnectionException, AuthenticationException\n     {\n-        if ( authenticationInfo == null )\n+        AuthenticationInfo authInfo = getRepository().getAuthenticationInfo();\n+\n+        if ( authInfo == null )\n         {\n             throw new IllegalArgumentException( \"Authentication Credentials cannot be null for FTP protocol\" );\n         }\n \n-        String username = authenticationInfo.getUserName();\n+        String username = authInfo.getUserName();\n \n-        String password = authenticationInfo.getPassword();\n+        String password = authInfo.getPassword();\n \n         String host = getRepository().getHost();\n \n@@ -128,7 +131,6 @@ public void openConnection()\n             // Set to binary mode.\n             ftp.setFileType( FTP.BINARY_FILE_TYPE );\n \n-\n             // Use passive mode as default because most of us are\n             // behind firewalls these days.\n             // TODO [BP]: make optional based on a flag\n@@ -199,7 +201,7 @@ protected void fireGetCompleted( Resource resource, File localFile )\n     public void closeConnection()\n         throws ConnectionException\n     {\n-        if ( ftp.isConnected() )\n+        if ( ftp != null && ftp.isConnected() )\n         {\n             try\n             {",
                "raw_url": "https://github.com/apache/maven-wagon/raw/02a071d6736d74d8cbf770ad678559cd7e19c73c/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "sha": "d7b706a0605db5454a0d99a07391bfaca345d634",
                "status": "modified"
            }
        ],
        "message": "PR: WAGONFTP-5\nftp may be null in closeConnection(), avoid NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@220351 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/75e1613706c02173847a2eb5fb123a56a92292e0",
        "repo": "maven-wagon",
        "unit_tests": [
            "FtpWagonTest.java"
        ]
    },
    "maven-wagon_16ae4b5": {
        "bug_id": "maven-wagon_16ae4b5",
        "commit": "https://github.com/apache/maven-wagon/commit/16ae4b593c1a250a88f1b745b9e2dc11e7c8a259",
        "file": [
            {
                "additions": 34,
                "blob_url": "https://github.com/apache/maven-wagon/blob/16ae4b593c1a250a88f1b745b9e2dc11e7c8a259/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "changes": 43,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java?ref=16ae4b593c1a250a88f1b745b9e2dc11e7c8a259",
                "deletions": 9,
                "filename": "wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "patch": "@@ -66,15 +66,28 @@\n \n     private String password = null;\n \n+    /**\n+     * @deprecated use {@link #Repository(String, String)}\n+     */\n     public Repository()\n     {\n \n     }\n \n     public Repository( String id, String url )\n     {\n+        if ( id == null )\n+        {\n+            throw new NullPointerException( \"id can not be null\" );\n+        }\n+        \n         setId( id );\n \n+        if ( url == null )\n+        {\n+            throw new NullPointerException( \"url can not be null\" );\n+        }\n+        \n         setUrl( url );\n     }\n \n@@ -88,7 +101,6 @@ public void setId( String id )\n         this.id = id;\n     }\n \n-\n     public String getBasedir()\n     {\n         return basedir;\n@@ -238,18 +250,31 @@ public void setParameters( Properties parameters )\n         this.parameters = parameters;\n     }\n \n-    // ========================================================================\n-    // id is the unique identifier for Repositories, so let's enforce that.\n-    // ========================================================================\n-    public boolean equals( Object other )\n+    public int hashCode()\n     {\n-        return ( other == this ||\n-            ( ( other instanceof Repository ) && ( (Repository) other ).getId().equals( getId() ) ) );\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ( ( id == null ) ? 0 : id.hashCode() );\n+        return result;\n     }\n \n-    public int hashCode()\n+    public boolean equals( Object obj )\n     {\n-        return getId().hashCode();\n+        if ( this == obj )\n+            return true;\n+        if ( obj == null )\n+            return false;\n+        if ( getClass() != obj.getClass() )\n+            return false;\n+        final Repository other = (Repository) obj;\n+        if ( id == null )\n+        {\n+            if ( other.id != null )\n+                return false;\n+        }\n+        else if ( !id.equals( other.id ) )\n+            return false;\n+        return true;\n     }\n \n     public String getUsername()",
                "raw_url": "https://github.com/apache/maven-wagon/raw/16ae4b593c1a250a88f1b745b9e2dc11e7c8a259/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "sha": "5f35c3e7144f46ca911719258b32fe1fab049048",
                "status": "modified"
            }
        ],
        "message": "[WAGON-105] guard against NPE in hashCode\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@656236 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/3c0de3800cfa30edaa343389ed05835425bcd4ff",
        "repo": "maven-wagon",
        "unit_tests": [
            "RepositoryTest.java"
        ]
    },
    "maven-wagon_215bc4d": {
        "bug_id": "maven-wagon_215bc4d",
        "commit": "https://github.com/apache/maven-wagon/commit/215bc4dadb74a5cc50431ab706c661a495c756a9",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/maven-wagon/blob/215bc4dadb74a5cc50431ab706c661a495c756a9/wagon-provider-api/src/main/java/org/apache/maven/wagon/LazyFileOutputStream.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-provider-api/src/main/java/org/apache/maven/wagon/LazyFileOutputStream.java?ref=215bc4dadb74a5cc50431ab706c661a495c756a9",
                "deletions": 1,
                "filename": "wagon-provider-api/src/main/java/org/apache/maven/wagon/LazyFileOutputStream.java",
                "patch": "@@ -74,7 +74,10 @@ public boolean equals( Object obj )\n     public void flush()\n         throws IOException\n     {\n-        delegee.flush();\n+        if ( delegee != null )\n+        {\n+            delegee.flush();\n+        }\n     }\n \n ",
                "raw_url": "https://github.com/apache/maven-wagon/raw/215bc4dadb74a5cc50431ab706c661a495c756a9/wagon-provider-api/src/main/java/org/apache/maven/wagon/LazyFileOutputStream.java",
                "sha": "637ec25b7d134cdebf08460073c6dd66a42f660e",
                "status": "modified"
            }
        ],
        "message": "[WAGON-222] Empty file transfer causes NPE\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@668181 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/a86c3d3bb63b1b7057a19ddf646f1713951a3897",
        "repo": "maven-wagon",
        "unit_tests": [
            "LazyFileOutputStreamTest.java"
        ]
    },
    "maven-wagon_51aa401": {
        "bug_id": "maven-wagon_51aa401",
        "commit": "https://github.com/apache/maven-wagon/commit/51aa4013d6d6074335e914d290e6677c6b2a3d01",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/maven-wagon/blob/51aa4013d6d6074335e914d290e6677c6b2a3d01/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/ScpWagon.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/ScpWagon.java?ref=51aa4013d6d6074335e914d290e6677c6b2a3d01",
                "deletions": 5,
                "filename": "wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/ScpWagon.java",
                "patch": "@@ -242,19 +242,18 @@ public void put( File source, String resourceName )\n         firePutInitiated( resource, source );\n \n         String umaskCmd = \"\";\n+\n         if ( getRepository().getPermissions() != null )\n         {\n-            final String dirPerms = getRepository().getPermissions().getDirectoryMode();\n+            String dirPerms = getRepository().getPermissions().getDirectoryMode();\n+\n             if ( dirPerms != null )\n             {\n                 umaskCmd = \"umask \" + PermissionModeUtils.getUserMaskFor( dirPerms ) + \"\\n\";\n-                executeCommand( umaskCmd );\n             }\n         }\n \n-        String mkdirCmd = umaskCmd + \"mkdir -p -m \"\n-                          + getRepository().getPermissions().getDirectoryMode()\n-                          + \" \" + basedir + \"/\" + dir + \"\\n\";\n+        String mkdirCmd = umaskCmd + \"mkdir -p -m \" + basedir + \"/\" + dir + \"\\n\";\n \n         executeCommand( mkdirCmd );\n ",
                "raw_url": "https://github.com/apache/maven-wagon/raw/51aa4013d6d6074335e914d290e6677c6b2a3d01/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/ScpWagon.java",
                "sha": "c47165df6bc38e4df86a222d836139ce412b3c5b",
                "status": "modified"
            }
        ],
        "message": "Fixing WAGONSSH-14: \"another NPE introduced by me :(\"\no Problem and patch created by Juan F. Codagnone.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@290699 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/fe3063ba212910f3dcd4341d38e19bbe2a9a01b8",
        "repo": "maven-wagon",
        "unit_tests": [
            "ScpWagonTest.java"
        ]
    },
    "maven-wagon_9abfc57": {
        "bug_id": "maven-wagon_9abfc57",
        "commit": "https://github.com/apache/maven-wagon/commit/9abfc571577545d6f08594f0e5d4debc3d3b438c",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/maven-wagon/blob/9abfc571577545d6f08594f0e5d4debc3d3b438c/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java?ref=9abfc571577545d6f08594f0e5d4debc3d3b438c",
                "deletions": 1,
                "filename": "wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "patch": "@@ -25,6 +25,7 @@\n import java.io.InputStream;\n import java.io.OutputStream;\n import java.util.ArrayList;\n+import java.util.Calendar;\n import java.util.List;\n \n import org.apache.commons.net.ProtocolCommandEvent;\n@@ -353,7 +354,8 @@ public void fillInputData( InputData inputData )\n             //@todo check how it works! javadoc of common login says:\n             // Returns the file timestamp. This usually the last modification time.\n             //\n-            long lastModified = ftpFiles[0].getTimestamp().getTimeInMillis();\n+            Calendar timestamp = ftpFiles[0].getTimestamp();\n+            long lastModified = timestamp != null ? timestamp.getTimeInMillis() : 0;\n \n             resource.setContentLength( contentLength );\n ",
                "raw_url": "https://github.com/apache/maven-wagon/raw/9abfc571577545d6f08594f0e5d4debc3d3b438c/wagon-providers/wagon-ftp/src/main/java/org/apache/maven/wagon/providers/ftp/FtpWagon.java",
                "sha": "a1d05df0e5a547e93186bfe47189957a87eaaec6",
                "status": "modified"
            }
        ],
        "message": "[WAGON-242] guard against NPE\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@745732 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/d588a17a4d48e90380ae69238225ac072f9a4fcc",
        "repo": "maven-wagon",
        "unit_tests": [
            "FtpWagonTest.java"
        ]
    },
    "maven-wagon_aae08e1": {
        "bug_id": "maven-wagon_aae08e1",
        "commit": "https://github.com/apache/maven-wagon/commit/aae08e124964492ff178a3fa8f0e2c21312644be",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/maven-wagon/blob/aae08e124964492ff178a3fa8f0e2c21312644be/wagon-providers/wagon-file/src/main/java/org/apache/maven/wagon/providers/file/FileWagon.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-file/src/main/java/org/apache/maven/wagon/providers/file/FileWagon.java?ref=aae08e124964492ff178a3fa8f0e2c21312644be",
                "deletions": 1,
                "filename": "wagon-providers/wagon-file/src/main/java/org/apache/maven/wagon/providers/file/FileWagon.java",
                "patch": "@@ -135,7 +135,8 @@ public void closeConnection()\n \n     public boolean supportsDirectoryCopy()\n     {\n-        return ( getRepository().getBasedir() != null );\n+        // TODO: should we test for null basedir here?\n+        return true;\n     }\n \n     public void putDirectory( File sourceDirectory, String destinationDirectory )",
                "raw_url": "https://github.com/apache/maven-wagon/raw/aae08e124964492ff178a3fa8f0e2c21312644be/wagon-providers/wagon-file/src/main/java/org/apache/maven/wagon/providers/file/FileWagon.java",
                "sha": "dad885e027758edae617f647ae818c488a15301e",
                "status": "modified"
            }
        ],
        "message": "Addressing NPE on OSX\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@485713 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/711cb1f47a539ace24ba70ea88828de3e422beb0",
        "repo": "maven-wagon",
        "unit_tests": [
            "FileWagonTest.java"
        ]
    },
    "maven-wagon_af6e4e9": {
        "bug_id": "maven-wagon_af6e4e9",
        "commit": "https://github.com/apache/maven-wagon/commit/af6e4e9003173ec968f0742743056e9bbf16c07f",
        "file": [
            {
                "additions": 15,
                "blob_url": "https://github.com/apache/maven-wagon/blob/af6e4e9003173ec968f0742743056e9bbf16c07f/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/SftpWagon.java",
                "changes": 24,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/SftpWagon.java?ref=af6e4e9003173ec968f0742743056e9bbf16c07f",
                "deletions": 9,
                "filename": "wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/SftpWagon.java",
                "patch": "@@ -160,17 +160,23 @@ public void put( File source, String resourceName )\n      */\n     private int getDirectoryMode( RepositoryPermissions permissions )\n     {\n-        try\n-        {\n-            return Integer.valueOf( permissions.getDirectoryMode(), 8 ).intValue();\n-        }\n-        catch ( NumberFormatException e )\n+        int ret = -1;\n+        \n+        if ( permissions != null ) \n         {\n-            // TODO: warning level\n-            fireTransferDebug( \"the file mode must be a numerical mode for SFTP\" );\n-\n-            return -1;\n+            try\n+            {\n+                ret = Integer.valueOf( permissions.getDirectoryMode(), 8 ).intValue();\n+            }\n+            catch ( NumberFormatException e )\n+            {\n+                // TODO: warning level\n+                fireTransferDebug( \"the file mode must be a numerical mode for SFTP\" );\n+                ret = -1;\n+            }\n         }\n+        \n+        return ret;\n     }\n \n     private void mkdirs( ChannelSftp channel, String resourceName, int mode )",
                "raw_url": "https://github.com/apache/maven-wagon/raw/af6e4e9003173ec968f0742743056e9bbf16c07f/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/providers/ssh/SftpWagon.java",
                "sha": "764068087b9767173a2413c21b207ded41891f26",
                "status": "modified"
            }
        ],
        "message": "Fixing WAGON-SSH-10: \"fix NPE introduced in WAGONSSH-9\"\nPatch by Juan F. Codagnone.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@280300 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/333e66954d91e562be019ddbbc50323283eafb9c",
        "repo": "maven-wagon",
        "unit_tests": [
            "SftpWagonTest.java"
        ]
    },
    "maven-wagon_b4bf4a0": {
        "bug_id": "maven-wagon_b4bf4a0",
        "commit": "https://github.com/apache/maven-wagon/commit/b4bf4a0709d8114995a7a11949a8527d3e608a0e",
        "file": [
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/maven-wagon/blob/b4bf4a0709d8114995a7a11949a8527d3e608a0e/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "changes": 19,
                "contents_url": "https://api.github.com/repos/apache/maven-wagon/contents/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java?ref=b4bf4a0709d8114995a7a11949a8527d3e608a0e",
                "deletions": 9,
                "filename": "wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "patch": "@@ -19,13 +19,13 @@\n  * under the License.\n  */\n \n-import java.io.Serializable;\n-import java.util.Properties;\n-\n import org.apache.maven.wagon.PathUtils;\n import org.apache.maven.wagon.WagonConstants;\n import org.codehaus.plexus.util.StringUtils;\n \n+import java.io.Serializable;\n+import java.util.Properties;\n+\n /**\n  * This class is an abstraction of the location from/to resources\n  * can be transfered.\n@@ -34,7 +34,8 @@\n  * @version $Id$\n  * @todo [BP] some things are specific to certain wagons (eg key stuff in authInfo, permissions)\n  */\n-public class Repository implements Serializable\n+public class Repository\n+    implements Serializable\n {\n     private static final long serialVersionUID = 1312227676322136247L;\n \n@@ -77,16 +78,16 @@ public Repository( String id, String url )\n     {\n         if ( id == null )\n         {\n-            throw new NullPointerException( \"id can not be null\" );\n+            throw new NullPointerException( \"id can not be null for Repository with url=\" + url );\n         }\n-        \n+\n         setId( id );\n \n         if ( url == null )\n         {\n-            throw new NullPointerException( \"url can not be null\" );\n+            throw new NullPointerException( \"url can not be null for Repository with id=\" + id );\n         }\n-        \n+\n         setUrl( url );\n     }\n \n@@ -103,7 +104,7 @@ public void setId( String id )\n     /**\n      * Retrieve the base directory of the repository. This is derived from the full repository URL, and\n      * contains the entire path component.\n-     * \n+     *\n      * @return the base directory\n      */\n     public String getBasedir()",
                "raw_url": "https://github.com/apache/maven-wagon/raw/b4bf4a0709d8114995a7a11949a8527d3e608a0e/wagon-provider-api/src/main/java/org/apache/maven/wagon/repository/Repository.java",
                "sha": "c857297386de4a26c26c667e68c32beca92dbfc6",
                "status": "modified"
            }
        ],
        "message": "[WAGON-285] Repository constructor NPE should be more verbose.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/wagon/trunk@1174193 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-wagon/commit/beb74c62ca39ae29fc9e03e91285015e9fed4249",
        "repo": "maven-wagon",
        "unit_tests": [
            "RepositoryTest.java"
        ]
    }
}