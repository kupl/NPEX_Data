[{"commit": "https://github.com/apache/maven-release/commit/566ca636a7cea03de30bd9dbb2bf9d622202c9dc", "parent": "https://github.com/apache/maven-release/commit/ea56421da65feb4940c520df8cb4d9dac308f986", "message": "Fix MRELEASE-663: Possible NPE with getBaseWorkingDirectoryParentCount()\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@1348252 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_1", "file": [{"additions": 5, "raw_url": "https://github.com/apache/maven-release/raw/566ca636a7cea03de30bd9dbb2bf9d622202c9dc/maven-release-manager/src/main/java/org/apache/maven/shared/release/util/ReleaseUtil.java", "blob_url": "https://github.com/apache/maven-release/blob/566ca636a7cea03de30bd9dbb2bf9d622202c9dc/maven-release-manager/src/main/java/org/apache/maven/shared/release/util/ReleaseUtil.java", "sha": "53cca0837ffa5c184e433e3965543d8032c6d84b", "changes": 7, "status": "modified", "deletions": 2, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/util/ReleaseUtil.java?ref=566ca636a7cea03de30bd9dbb2bf9d622202c9dc", "patch": "@@ -236,8 +236,11 @@ public static int getBaseWorkingDirectoryParentCount( String basedir, String wor\n         workingDirectory = workingDirectory.toLowerCase( Locale.ENGLISH );\n         basedir = basedir.toLowerCase( Locale.ENGLISH );\n \n-        File workingDirectoryFile = new File( workingDirectory );\n-        File basedirFile = new File( basedir );\n+        // MRELEASE-663\n+        // For Windows is does matter if basedir ends with a file-separator or not to be able to compare.\n+        // Using the parent of a dummy file makes it possible to compare them OS-independent\n+        File workingDirectoryFile = new File( workingDirectory, \".tmp\" ).getParentFile();\n+        File basedirFile = new File( basedir, \".tmp\" ).getParentFile();\n \n         if ( !workingDirectoryFile.equals( basedirFile ) && workingDirectory.startsWith( basedir ) )\n         {", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/util/ReleaseUtil.java"}, {"additions": 10, "raw_url": "https://github.com/apache/maven-release/raw/566ca636a7cea03de30bd9dbb2bf9d622202c9dc/maven-release-manager/src/test/java/org/apache/maven/shared/release/util/ReleaseUtilTest.java", "blob_url": "https://github.com/apache/maven-release/blob/566ca636a7cea03de30bd9dbb2bf9d622202c9dc/maven-release-manager/src/test/java/org/apache/maven/shared/release/util/ReleaseUtilTest.java", "sha": "496403448737ea9eedc75a489b5fcfe90a25a6a5", "changes": 10, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/test/java/org/apache/maven/shared/release/util/ReleaseUtilTest.java?ref=566ca636a7cea03de30bd9dbb2bf9d622202c9dc", "patch": "@@ -224,6 +224,16 @@ public void testGetBaseWorkingDirectoryParentCountDifferentCase()\n         String basedir = \"/working/directory\";\n         assertEquals( 3, ReleaseUtil.getBaseWorkingDirectoryParentCount( basedir, workingDirectory ) );\n     }\n+    \n+    public void testGetWindowsRootBaseWorkingDirectoryParentCountDifferentCase()\n+    {\n+        assertEquals( 2, ReleaseUtil.getBaseWorkingDirectoryParentCount( \"C:\", \"C:\\\\working\\\\directory\" ) );\n+        assertEquals( 2, ReleaseUtil.getBaseWorkingDirectoryParentCount( \"C:\", \"C:\\\\working\\\\directory\\\\\" ) );\n+        assertEquals( 2, ReleaseUtil.getBaseWorkingDirectoryParentCount( \"C:\\\\\", \"C:\\\\working\\\\directory\" ) );\n+        assertEquals( 2, ReleaseUtil.getBaseWorkingDirectoryParentCount( \"C:\\\\\", \"C:\\\\working\\\\directory\\\\\" ) );\n+        \n+    }\n+\n \n     private static MavenProject createProject( String basedir )\n     {", "filename": "maven-release-manager/src/test/java/org/apache/maven/shared/release/util/ReleaseUtilTest.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/37e760161b122b832368842aafcba0099792c185", "parent": "https://github.com/apache/maven-release/commit/cd8364d7dcff97765577f419e3917e87dd2c3394", "message": "MRELEASE-273: a NPE can hide another\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@721316 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_2", "file": [{"additions": 16, "raw_url": "https://github.com/apache/maven-release/raw/37e760161b122b832368842aafcba0099792c185/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/GenerateReleasePomsPhase.java", "blob_url": "https://github.com/apache/maven-release/blob/37e760161b122b832368842aafcba0099792c185/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/GenerateReleasePomsPhase.java", "sha": "558744f057cfa0565ce216ca46494792b97f312b", "changes": 27, "status": "modified", "deletions": 11, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/GenerateReleasePomsPhase.java?ref=37e760161b122b832368842aafcba0099792c185", "patch": "@@ -19,6 +19,16 @@\n  * under the License.\n  */\n \n+import java.io.File;\n+import java.io.IOException;\n+import java.io.Writer;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n import org.apache.maven.artifact.Artifact;\n import org.apache.maven.artifact.ArtifactUtils;\n import org.apache.maven.model.Build;\n@@ -48,16 +58,6 @@\n import org.codehaus.plexus.util.IOUtil;\n import org.codehaus.plexus.util.WriterFactory;\n \n-import java.io.File;\n-import java.io.IOException;\n-import java.io.Writer;\n-import java.util.ArrayList;\n-import java.util.Collections;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Set;\n-\n /**\n  * Generate release POMs.\n  *\n@@ -145,6 +145,10 @@ private File generateReleasePom( MavenProject project, ReleaseDescriptor release\n         MavenXpp3Writer pomWriter = new MavenXpp3Writer();\n \n         File releasePomFile = ReleaseUtil.getReleasePom( project );\n+        \n+        // MRELEASE-273 : A release pom can be null\n+        if ( releasePomFile == null )\n+            throw new ReleaseExecutionException( \"Cannot generate release POM : pom file is null\" );\n \n         Writer fileWriter = null;\n \n@@ -551,7 +555,8 @@ public ReleaseResult clean( List reactorProjects )\n \n             File releasePom = ReleaseUtil.getReleasePom( project );\n \n-            if ( releasePom.exists() )\n+            // MRELEASE-273 : A release pom can be null\n+            if ( releasePom != null && releasePom.exists() )\n             {\n                 logInfo( result, \"Deleting release POM for '\" + project.getName() + \"'...\" );\n ", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/GenerateReleasePomsPhase.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/cd8364d7dcff97765577f419e3917e87dd2c3394", "parent": "https://github.com/apache/maven-release/commit/84623ad99ad8839a94fa6cc50bc75bbe698c4b6a", "message": "MRELEASE-273: a NPE can hide another\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@721313 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_3", "file": [{"additions": 7, "raw_url": "https://github.com/apache/maven-release/raw/cd8364d7dcff97765577f419e3917e87dd2c3394/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractRewritePomsPhase.java", "blob_url": "https://github.com/apache/maven-release/blob/cd8364d7dcff97765577f419e3917e87dd2c3394/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractRewritePomsPhase.java", "sha": "c53bac146378171bcc2ba17a8d40898b32dddd04", "changes": 11, "status": "modified", "deletions": 4, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractRewritePomsPhase.java?ref=cd8364d7dcff97765577f419e3917e87dd2c3394", "patch": "@@ -785,11 +785,14 @@ public ReleaseResult clean( List reactorProjects )\n                 MavenProject project = (MavenProject) i.next();\n \n                 File pomFile = ReleaseUtil.getStandardPom( project );\n-                File file =\n-                    new File( pomFile.getParentFile(), pomFile.getName() + \".\" + pomSuffix );\n-                if ( file.exists() )\n+                // MRELEASE-273 : if no pom\n+                if ( pomFile != null )\n                 {\n-                    file.delete();\n+                    File file = new File( pomFile.getParentFile(), pomFile.getName() + \".\" + pomSuffix );\n+                    if ( file.exists() )\n+                    {\n+                        file.delete();\n+                    }\n                 }\n             }\n         }", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractRewritePomsPhase.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/8ef54f62896daf869751a1c02adc23e554d9cd53", "parent": "https://github.com/apache/maven-release/commit/3cc491dfd8142aefff46e5b5cc767615c21ea91c", "message": "[MRELEASE-232] Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@539088 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_4", "file": [{"additions": 9, "raw_url": "https://github.com/apache/maven-release/raw/8ef54f62896daf869751a1c02adc23e554d9cd53/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractBackupPomsPhase.java", "blob_url": "https://github.com/apache/maven-release/blob/8ef54f62896daf869751a1c02adc23e554d9cd53/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractBackupPomsPhase.java", "sha": "7283a9e2c1b076026cdfe76456cc4ac713ba15cc", "changes": 11, "status": "modified", "deletions": 2, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractBackupPomsPhase.java?ref=8ef54f62896daf869751a1c02adc23e554d9cd53", "patch": "@@ -35,14 +35,21 @@ protected File getPomBackup( MavenProject project )\n     {\n         File pomFile = project.getFile();\n \n-        return new File( pomFile.getAbsolutePath() + backupPrefix );\n+        if ( pomFile != null )\n+        {\n+            return new File( pomFile.getAbsolutePath() + backupPrefix );\n+        }\n+        else\n+        {\n+            return null;\n+        }\n     }\n \n     protected void deletePomBackup( MavenProject project )\n     {\n         File pomBackup = getPomBackup( project );\n \n-        if ( pomBackup.exists() )\n+        if ( pomBackup != null && pomBackup.exists() )\n         {\n             pomBackup.delete();\n         }", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/AbstractBackupPomsPhase.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/6b1f658451a78e014f849b65a0c0b59ed70ca288", "parent": "https://github.com/apache/maven-release/commit/c0b2304e73e4044e993e628eb407c72d7f80c33d", "message": "[MRELEASE-975] NPE when using an unknown project versionpolicy id\n\nPassing an empty version policy hint (with -DprojectVersionPolicyId on the command-line), on an unknown one, should result in a helpful exception being thrown (not NullPointerException). Upgrading JUnit to 4.11 to use the expected exception mechanism (in order to test that the cause of the exception thrown is a PolicyException). This closes #8.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@1777917 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_5", "file": [{"additions": 1, "raw_url": "https://github.com/apache/maven-release/raw/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/pom.xml", "blob_url": "https://github.com/apache/maven-release/blob/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/pom.xml", "sha": "122b05f999275e79dbe1a86c3a1281615fb99030", "changes": 2, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/pom.xml?ref=6b1f658451a78e014f849b65a0c0b59ed70ca288", "patch": "@@ -157,7 +157,7 @@\n     <dependency>\n       <groupId>junit</groupId>\n       <artifactId>junit</artifactId>\n-      <version>4.10</version>\n+      <version>4.11</version>\n       <scope>test</scope>\n     </dependency>\n     <dependency>", "filename": "maven-release-manager/pom.xml"}, {"additions": 5, "raw_url": "https://github.com/apache/maven-release/raw/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/MapVersionsPhase.java", "blob_url": "https://github.com/apache/maven-release/blob/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/MapVersionsPhase.java", "sha": "f4b2132c7464983fbe1095223b7187361b6ec7d8", "changes": 6, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/MapVersionsPhase.java?ref=6b1f658451a78e014f849b65a0c0b59ed70ca288", "patch": "@@ -321,8 +321,12 @@ private String resolveSuggestedVersion( String baseVersion, String policyId )\n         throws PolicyException, VersionParseException\n     {\n         VersionPolicy policy = versionPolicies.get( policyId );\n-        VersionPolicyRequest request = new VersionPolicyRequest().setVersion( baseVersion );\n+        if ( policy == null )\n+        {\n+            throw new PolicyException( \"Policy '\" + policyId + \"' is unknown, available: \" + versionPolicies.keySet() );\n+        }\n \n+        VersionPolicyRequest request = new VersionPolicyRequest().setVersion( baseVersion );\n         return convertToSnapshot ? policy.getDevelopmentVersion( request ).getVersion()\n                         : policy.getReleaseVersion( request ).getVersion();\n     }", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/MapVersionsPhase.java"}, {"additions": 30, "raw_url": "https://github.com/apache/maven-release/raw/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/src/test/java/org/apache/maven/shared/release/phase/MapVersionsPhaseTest.java", "blob_url": "https://github.com/apache/maven-release/blob/6b1f658451a78e014f849b65a0c0b59ed70ca288/maven-release-manager/src/test/java/org/apache/maven/shared/release/phase/MapVersionsPhaseTest.java", "sha": "62da1bb9c1405fe87a8095ab4d975534f340226f", "changes": 30, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/test/java/org/apache/maven/shared/release/phase/MapVersionsPhaseTest.java?ref=6b1f658451a78e014f849b65a0c0b59ed70ca288", "patch": "@@ -42,10 +42,14 @@\n import org.apache.maven.shared.release.ReleaseExecutionException;\n import org.apache.maven.shared.release.config.ReleaseDescriptor;\n import org.apache.maven.shared.release.env.DefaultReleaseEnvironment;\n+import org.apache.maven.shared.release.policy.PolicyException;\n import org.apache.maven.shared.release.versions.VersionParseException;\n import org.codehaus.plexus.components.interactivity.Prompter;\n import org.codehaus.plexus.components.interactivity.PrompterException;\n+import org.hamcrest.CoreMatchers;\n+import org.junit.Rule;\n import org.junit.Test;\n+import org.junit.rules.ExpectedException;\n import org.mockito.Mock;\n import org.mockito.MockitoAnnotations;\n \n@@ -63,6 +67,9 @@\n \n     private static final String TEST_MAP_RELEASE_VERSIONS = \"test-map-release-versions\";\n \n+    @Rule\n+    public ExpectedException expectedException = ExpectedException.none();\n+\n     @Mock\n     private Prompter mockPrompter;\n \n@@ -2112,6 +2119,29 @@ public void testEmptyDefaultReleaseVersion()\n         verify( mockPrompter ).prompt( startsWith( \"What is the release version for \" ), eq( \"1.11\" ) );\n     }\n \n+    /**\n+     * MRELEASE-975: Test that a PolicyException is thrown when using an unknown policy version hint.\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testNonExistentVersionPolicy()\n+        throws Exception\n+    {\n+        expectedException.expect( ReleaseExecutionException.class );\n+        expectedException.expectCause( CoreMatchers.isA( PolicyException.class ) );\n+        \n+        // prepare\n+        MapVersionsPhase phase = (MapVersionsPhase) lookup( ReleasePhase.ROLE, TEST_MAP_RELEASE_VERSIONS );\n+\n+        List<MavenProject> reactorProjects = Collections.singletonList( createProject( \"artifactId\", \"1.0-SNAPSHOT\" ) );\n+\n+        ReleaseDescriptor releaseDescriptor = new ReleaseDescriptor();\n+        releaseDescriptor.setProjectVersionPolicyId( \"UNKNOWN\" );\n+\n+        // test\n+        phase.execute( releaseDescriptor, new DefaultReleaseEnvironment(), reactorProjects );\n+    }\n+\n     private static MavenProject createProject( String artifactId, String version )\n     {\n         Model model = new Model();", "filename": "maven-release-manager/src/test/java/org/apache/maven/shared/release/phase/MapVersionsPhaseTest.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/2c6275d98ddb674847b27361cf0fb10c0e7b279a", "parent": "https://github.com/apache/maven-release/commit/2c11676027a448457b5bfc603bd58b9a45f8397f", "message": "[MRELEASE-318] fix regression that caused NPE when the project.artifacts were null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@1002167 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_6", "file": [{"additions": 9, "raw_url": "https://github.com/apache/maven-release/raw/2c6275d98ddb674847b27361cf0fb10c0e7b279a/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/CheckDependencySnapshotsPhase.java", "blob_url": "https://github.com/apache/maven-release/blob/2c6275d98ddb674847b27361cf0fb10c0e7b279a/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/CheckDependencySnapshotsPhase.java", "sha": "777ddedc5f2900bde7e0acfafe4d217915750f37", "changes": 12, "status": "modified", "deletions": 3, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/CheckDependencySnapshotsPhase.java?ref=2c6275d98ddb674847b27361cf0fb10c0e7b279a", "patch": "@@ -146,7 +146,7 @@ private void checkProject( MavenProject project, Map originalVersions, ReleaseDe\n \n                 if ( checkArtifact( artifact, originalVersions, artifactMap, releaseDescriptor ) )\n                 {\n-                    snapshotDependencies.add( artifactMap.get( ArtifactUtils.versionlessKey( artifact ) ) );\n+                    snapshotDependencies.add( getArtifactFromMap( artifact, artifactMap ) );\n                 }\n             }\n         }\n@@ -257,6 +257,13 @@ else if ( releaseDescriptor.isSnapshotReleasePluginAllowed() )\n     }\n \n     private static boolean checkArtifact( Artifact artifact, Map originalVersions, Map artifactMapByVersionlessId, ReleaseDescriptor releaseDescriptor )\n+    {\n+        Artifact checkArtifact = getArtifactFromMap( artifact, artifactMapByVersionlessId );\n+\n+        return checkArtifact( checkArtifact, originalVersions, releaseDescriptor );\n+    }\n+\n+    private static Artifact getArtifactFromMap( Artifact artifact, Map artifactMapByVersionlessId )\n     {\n         String versionlessId = ArtifactUtils.versionlessKey( artifact );\n         Artifact checkArtifact = (Artifact) artifactMapByVersionlessId.get( versionlessId );\n@@ -265,8 +272,7 @@ private static boolean checkArtifact( Artifact artifact, Map originalVersions, M\n         {\n             checkArtifact = artifact;\n         }\n-\n-        return checkArtifact( checkArtifact, originalVersions, releaseDescriptor );\n+        return checkArtifact;\n     }\n \n     private static boolean checkArtifact( Artifact artifact, Map originalVersions, ReleaseDescriptor releaseDescriptor )", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/phase/CheckDependencySnapshotsPhase.java"}], "repo": "maven-release"}, {"commit": "https://github.com/apache/maven-release/commit/03033d77d22e689582dcea369517c88bcdda03c4", "parent": "https://github.com/apache/maven-release/commit/deb668153c207455768bad3d2f77dc528ded4d68", "message": "[MRELEASE-364] InvokerMavenExecutor fails with NPE if additional arguments are not set\nSubmitted by: Steve Gilbert\nReviewed by: Benjamin Bentmann\n\no Applied with improved formatting\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/release/trunk@679172 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-release_7", "file": [{"additions": 15, "raw_url": "https://github.com/apache/maven-release/raw/03033d77d22e689582dcea369517c88bcdda03c4/maven-release-manager/src/main/java/org/apache/maven/shared/release/exec/InvokerMavenExecutor.java", "blob_url": "https://github.com/apache/maven-release/blob/03033d77d22e689582dcea369517c88bcdda03c4/maven-release-manager/src/main/java/org/apache/maven/shared/release/exec/InvokerMavenExecutor.java", "sha": "9fe07ae58fed4389da5a13c218df022cf85fcad8", "changes": 19, "status": "modified", "deletions": 4, "contents_url": "https://api.github.com/repos/apache/maven-release/contents/maven-release-manager/src/main/java/org/apache/maven/shared/release/exec/InvokerMavenExecutor.java?ref=03033d77d22e689582dcea369517c88bcdda03c4", "patch": "@@ -154,7 +154,15 @@ private void setupRequest( InvocationRequest req,\n                                String additionalArguments )\n         throws MavenExecutorException\n     {\n-        String[] args = additionalArguments.split( \" \" );\n+        String[] args;\n+        if ( additionalArguments == null )\n+        {\n+            args = new String[0];\n+        }\n+        else\n+        {\n+            args = additionalArguments.split( \" \" );\n+        }\n         try\n         {\n             CommandLine cli = new PosixParser().parse( OPTIONS, args );\n@@ -185,7 +193,7 @@ else if ( cli.hasOption( DEBUG ) )\n             {\n                 req.setDebug( true );\n             }\n-            else if ( cli.hasOption(  ERRORS ) )\n+            else if ( cli.hasOption( ERRORS ) )\n             {\n                 req.setShowErrors( true );\n             }\n@@ -212,7 +220,7 @@ else if ( cli.hasOption( NON_RECURSIVE ) )\n \n                 if ( profiles != null )\n                 {\n-                    for ( int i=0; i < profiles.length; ++i )\n+                    for ( int i = 0; i < profiles.length; ++i )\n                     {\n                         StringTokenizer profileTokens = new StringTokenizer( profiles[i], \",\" );\n \n@@ -238,7 +246,10 @@ else if ( profileAction.startsWith( \"+\" ) )\n \n                 if ( !deactivatedProfiles.isEmpty() )\n                 {\n-                    getLogger().warn( \"Explicit profile deactivation is not yet supported. The following profiles will NOT be deactivated: \" + StringUtils.join( deactivatedProfiles.iterator(), \", \" ) );\n+                    getLogger().warn(\n+                                      \"Explicit profile deactivation is not yet supported. \"\n+                                          + \"The following profiles will NOT be deactivated: \"\n+                                          + StringUtils.join( deactivatedProfiles.iterator(), \", \" ) );\n                 }\n \n                 if ( !activatedProfiles.isEmpty() )", "filename": "maven-release-manager/src/main/java/org/apache/maven/shared/release/exec/InvokerMavenExecutor.java"}], "repo": "maven-release"}]
