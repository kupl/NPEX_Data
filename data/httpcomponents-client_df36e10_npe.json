[
    {
        "repo": "httpcomponents-client",
        "commit": "https://github.com/apache/httpcomponents-client/commit/df36e1087cb3673ff7aac01fe7ff08f91e43422c",
        "bug_id": "httpcomponents-client_df36e10",
        "message": "HTTPCLIENT-1416: Fixed NPE in CachingHttpClientBuilder#build()\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1529812 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/httpcomponents-client/commit/b83c1b93589ec9b3ade0f7455d02a83ad51aeff1",
        "patched_files": [
            "CachingHttpClientBuilder.java",
            "RELEASE_NOTES.txt"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 8,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/df36e1087cb3673ff7aac01fe7ff08f91e43422c/RELEASE_NOTES.txt",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/RELEASE_NOTES.txt?ref=df36e1087cb3673ff7aac01fe7ff08f91e43422c",
                "filename": "RELEASE_NOTES.txt",
                "deletions": 0,
                "sha": "5b6bff59a9e8c7f3a825478b6220abf27d8dd21c",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/df36e1087cb3673ff7aac01fe7ff08f91e43422c/RELEASE_NOTES.txt",
                "patch": "@@ -1,3 +1,11 @@\n+Changes sicne 4.3.1\n+-------------------\n+\n+* [HTTPCLIENT-1416] Fixed NPE in CachingHttpClientBuilder#build().\n+  Contributed by Oleg Kalnichevski <olegk at apache.org>\n+\n+\n+\n Release 4.3.1\n -------------------\n ",
                "changes": 8
            },
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/df36e1087cb3673ff7aac01fe7ff08f91e43422c/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingHttpClientBuilder.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingHttpClientBuilder.java?ref=df36e1087cb3673ff7aac01fe7ff08f91e43422c",
                "filename": "httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingHttpClientBuilder.java",
                "deletions": 2,
                "sha": "04377dec3e6e9227d3036251ba2575adaa84277f",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/df36e1087cb3673ff7aac01fe7ff08f91e43422c/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingHttpClientBuilder.java",
                "patch": "@@ -107,9 +107,9 @@ protected ClientExecChain decorateMainExec(final ClientExecChain mainExec) {\n         HttpCacheStorage storage = this.storage;\n         if (storage == null) {\n             if (this.cacheDir == null) {\n-                storage = new BasicHttpCacheStorage(cacheConfig);\n+                storage = new BasicHttpCacheStorage(config);\n             } else {\n-                final ManagedHttpCacheStorage managedStorage = new ManagedHttpCacheStorage(cacheConfig);\n+                final ManagedHttpCacheStorage managedStorage = new ManagedHttpCacheStorage(config);\n                 addCloseable(managedStorage);\n                 storage = managedStorage;\n             }",
                "changes": 4
            },
            {
                "status": "modified",
                "additions": 5,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/df36e1087cb3673ff7aac01fe7ff08f91e43422c/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestCachingHttpClientBuilder.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestCachingHttpClientBuilder.java?ref=df36e1087cb3673ff7aac01fe7ff08f91e43422c",
                "filename": "httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestCachingHttpClientBuilder.java",
                "deletions": 0,
                "sha": "c32b16f3bc5f473af9934daf97033850c1c4b7ea",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/df36e1087cb3673ff7aac01fe7ff08f91e43422c/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestCachingHttpClientBuilder.java",
                "patch": "@@ -40,4 +40,9 @@ public void testAsynchronousWorkersMax0() throws Exception {\n         CachingHttpClientBuilder.create().setCacheConfig(cacheConfig).build();\n     }\n \n+    @Test\n+    public void testNullCacheConfig() throws Exception {\n+        CachingHttpClientBuilder.create().setCacheConfig(null).build();\n+    }\n+\n }",
                "changes": 5
            }
        ],
        "unit_tests": [
            "TestCachingHttpClientBuilder.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestCachingHttpClientBuilder.java",
        "buggy_files": [
            "httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingHttpClientBuilder.java",
            "RELEASE_NOTES.txt"
        ],
        "fixed": true
    }
]