{
    "james-hupa_e514e42": {
        "bug_id": "james-hupa_e514e42",
        "commit": "https://github.com/apache/james-hupa/commit/e514e42d33edd23877075d3aaab5351c257aaca7",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/james-hupa/blob/e514e42d33edd23877075d3aaab5351c257aaca7/server/src/main/java/org/apache/hupa/server/utils/MessageUtils.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/james-hupa/contents/server/src/main/java/org/apache/hupa/server/utils/MessageUtils.java?ref=e514e42d33edd23877075d3aaab5351c257aaca7",
                "deletions": 3,
                "filename": "server/src/main/java/org/apache/hupa/server/utils/MessageUtils.java",
                "patch": "@@ -203,6 +203,9 @@ public static String decodeText(String s) {\n      * =?ISO-8859-1?Q?No=20hay=20ma=F1ana?= <hello@hupa.org> \n      */\n     public static String encodeEmail(String s) {\n+        if (s == null) {\n+            return s;\n+        }\n         Pattern p = Pattern.compile(\"^\\\\s*(.*?)\\\\s*(<[^>]+>)\\\\s*\");\n         Matcher m = p.matcher(s);\n         return m.matches() ? encodeTexts(m.group(1)) + \" \" + m.group(2) : s;\n@@ -213,9 +216,11 @@ public static String encodeEmail(String s) {\n      */\n     public static String encodeTexts(String s) {\n         String ret = s;\n-        try {\n-            ret = MimeUtility.encodeText(s, \"ISO-8859-1\", null);\n-        } catch (UnsupportedEncodingException e) {\n+        if (s != null) {\n+            try {\n+                ret = MimeUtility.encodeText(s, \"ISO-8859-1\", null);\n+            } catch (UnsupportedEncodingException e) {\n+            }\n         }\n         return ret;\n     }",
                "raw_url": "https://github.com/apache/james-hupa/raw/e514e42d33edd23877075d3aaab5351c257aaca7/server/src/main/java/org/apache/hupa/server/utils/MessageUtils.java",
                "sha": "eb10804f30c00791efe379efd2fba035335ae4fc",
                "status": "modified"
            }
        ],
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/james/hupa/trunk@1336542 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/james-hupa/commit/59ee74458dc64fef50d28dc0d3a1237549dcb258",
        "repo": "james-hupa",
        "unit_tests": [
            "MessageUtilsTest.java"
        ]
    }
}