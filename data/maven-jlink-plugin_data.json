[{"commit": "https://github.com/apache/maven-jlink-plugin/commit/56c529d648d77c8b83d69ee53e7a114b533e3b60", "parent": "https://github.com/apache/maven-jlink-plugin/commit/e3e89569b714f5f83c73ae460249266427539f9b", "message": "[MJLINK-4] NPE on execution\nUse requiresDependencyResolution instead of requiresDependencyCollection (which only downloads the poms)\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@1812236 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-jlink-plugin_1", "file": [{"additions": 28, "raw_url": "https://github.com/apache/maven-jlink-plugin/raw/56c529d648d77c8b83d69ee53e7a114b533e3b60/pom.xml", "blob_url": "https://github.com/apache/maven-jlink-plugin/blob/56c529d648d77c8b83d69ee53e7a114b533e3b60/pom.xml", "sha": "1cc90ba10e63eabd94d72cfca5651da945ad2fc2", "changes": 28, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-jlink-plugin/contents/pom.xml?ref=56c529d648d77c8b83d69ee53e7a114b533e3b60", "patch": "@@ -197,10 +197,37 @@\n       <id>run-its</id>\n       <build>\n         <plugins>\n+          <plugin>\n+          <groupId>org.codehaus.mojo</groupId>\n+          <artifactId>mrm-maven-plugin</artifactId>\n+          <version>1.1.0</version>\n+          <executions>\n+            <execution>\n+              <goals>\n+                <goal>start</goal>\n+                <goal>stop</goal>\n+              </goals>\n+            </execution>\n+          </executions>\n+          <configuration>\n+            <repositories>\n+              <mockRepo>\n+                <source>src/it/mrm/repository</source>\n+              </mockRepo>\n+              <proxyRepo/>\n+            </repositories>\n+          </configuration>\n+        </plugin>\n           <plugin>\n             <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-invoker-plugin</artifactId>\n             <configuration>\n+              <localRepositoryPath>${project.build.directory}/local-repo</localRepositoryPath>\n+              <projectsDirectory>src/it/projects</projectsDirectory>\n+              <settingsFile>src/it/mrm/settings.xml</settingsFile>\n+              <filterProperties>\n+                <mrm.repository.url>${mrm.repository.url}</mrm.repository.url>\n+              </filterProperties>\n               <goals>\n                 <goal>clean</goal>\n                 <goal>package</goal>\n@@ -212,6 +239,7 @@\n                 <goals>\n                   <goal>install</goal>\n                   <goal>integration-test</goal>\n+                  <goal>verify</goal>\n                 </goals>\n               </execution>\n             </executions>", "filename": "pom.xml"}, {"additions": 71, "raw_url": "https://github.com/apache/maven-jlink-plugin/raw/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/it/mrm/settings.xml", "blob_url": "https://github.com/apache/maven-jlink-plugin/blob/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/it/mrm/settings.xml", "sha": "f6398171148d227ef4699830ebdc6d2814a9410f", "changes": 71, "status": "added", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-jlink-plugin/contents/src/it/mrm/settings.xml?ref=56c529d648d77c8b83d69ee53e7a114b533e3b60", "patch": "@@ -0,0 +1,71 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n+\r\n+<!--\r\n+Licensed to the Apache Software Foundation (ASF) under one\r\n+or more contributor license agreements.  See the NOTICE file\r\n+distributed with this work for additional information\r\n+regarding copyright ownership.  The ASF licenses this file\r\n+to you under the Apache License, Version 2.0 (the\r\n+\"License\"); you may not use this file except in compliance\r\n+with the License.  You may obtain a copy of the License at\r\n+\r\n+  http://www.apache.org/licenses/LICENSE-2.0\r\n+\r\n+Unless required by applicable law or agreed to in writing,\r\n+software distributed under the License is distributed on an\r\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+KIND, either express or implied.  See the License for the\r\n+specific language governing permissions and limitations\r\n+under the License.\r\n+-->\r\n+\r\n+<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\">\r\n+  <mirrors>\r\n+    <mirror>\r\n+      <id>mrm-maven-plugin</id>\r\n+      <name>Mock Repository Manager</name>\r\n+      <url>@mrm.repository.url@</url>\r\n+      <mirrorOf>*</mirrorOf>\r\n+    </mirror>\r\n+  </mirrors>\r\n+  <profiles>\r\n+    <profile>\r\n+      <id>it-repo</id>\r\n+      <repositories>\r\n+        <repository>\r\n+          <id>snapshots</id>\r\n+          <url>@mrm.repository.url@</url>\r\n+          <releases>\r\n+            <enabled>true</enabled>\r\n+            <checksumPolicy>ignore</checksumPolicy>\r\n+            <updatePolicy>never</updatePolicy>\r\n+          </releases>\r\n+          <snapshots>\r\n+            <enabled>true</enabled>\r\n+            <checksumPolicy>ignore</checksumPolicy>\r\n+            <updatePolicy>always</updatePolicy>\r\n+          </snapshots>\r\n+        </repository>\r\n+      </repositories>\r\n+      <pluginRepositories>\r\n+        <pluginRepository>\r\n+          <id>snapshots</id>\r\n+          <url>@mrm.repository.url@</url>\r\n+          <releases>\r\n+            <enabled>true</enabled>\r\n+            <checksumPolicy>ignore</checksumPolicy>\r\n+            <updatePolicy>never</updatePolicy>\r\n+          </releases>\r\n+          <snapshots>\r\n+            <enabled>true</enabled>\r\n+            <checksumPolicy>ignore</checksumPolicy>\r\n+            <updatePolicy>always</updatePolicy>\r\n+          </snapshots>\r\n+        </pluginRepository>\r\n+      </pluginRepositories>\r\n+    </profile>\r\n+  </profiles>\r\n+  <activeProfiles>\r\n+    <activeProfile>it-repo</activeProfile>\r\n+  </activeProfiles>\r\n+</settings>\r", "filename": "src/it/mrm/settings.xml"}, {"additions": 54, "raw_url": "https://github.com/apache/maven-jlink-plugin/raw/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/it/projects/MJLINK-4_dependencyResolution/pom.xml", "blob_url": "https://github.com/apache/maven-jlink-plugin/blob/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/it/projects/MJLINK-4_dependencyResolution/pom.xml", "sha": "4dea7149be7b94edc9dac33e9c0e32c694bf02c9", "changes": 54, "status": "added", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-jlink-plugin/contents/src/it/projects/MJLINK-4_dependencyResolution/pom.xml?ref=56c529d648d77c8b83d69ee53e7a114b533e3b60", "patch": "@@ -0,0 +1,54 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements. See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership. The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License. You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing,\n+  software distributed under the License is distributed on an\n+  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, either express or implied. See the License for the\n+  specific language governing permissions and limitations\n+  under the License.\n+-->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <groupId>org.apache.maven.plugins.jlink.its</groupId>\n+  <artifactId>mjlink4</artifactId>\n+  <version>1.0.0-SNAPSHOT</version>\n+  <packaging>jlink</packaging>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-jlink-plugin</artifactId>\n+        <version>@project.version@</version>\n+        <extensions>true</extensions>\n+        <configuration>\n+            <noHeaderFiles>true</noHeaderFiles>\n+            <noManPages>true</noManPages>\n+        </configuration>\n+      </plugin>\n+    </plugins>\n+  </build>\n+\n+  <dependencies>\n+    <dependency>\n+      <!-- use a dependency with a module-info.class -->\n+      <artifactId>asm</artifactId>\n+      <groupId>org.ow2.asm</groupId>\n+      <version>6.0</version>\n+    </dependency>\n+  </dependencies>\n+</project>", "filename": "src/it/projects/MJLINK-4_dependencyResolution/pom.xml"}, {"additions": 1, "raw_url": "https://github.com/apache/maven-jlink-plugin/raw/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/main/java/org/apache/maven/plugins/jlink/JLinkMojo.java", "blob_url": "https://github.com/apache/maven-jlink-plugin/blob/56c529d648d77c8b83d69ee53e7a114b533e3b60/src/main/java/org/apache/maven/plugins/jlink/JLinkMojo.java", "sha": "be29b0235f659720ed9ae4954dee17b72a6b06d4", "changes": 2, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/maven-jlink-plugin/contents/src/main/java/org/apache/maven/plugins/jlink/JLinkMojo.java?ref=56c529d648d77c8b83d69ee53e7a114b533e3b60", "patch": "@@ -61,7 +61,7 @@\n  * @author Karl Heinz Marbaise <a href=\"mailto:khmarbaise@apache.org\">khmarbaise@apache.org</a>\n  */\n // CHECKSTYLE_OFF: LineLength\n-@Mojo( name = \"jlink\", requiresDependencyCollection = ResolutionScope.RUNTIME, defaultPhase = LifecyclePhase.PACKAGE, requiresProject = true )\n+@Mojo( name = \"jlink\", requiresDependencyResolution = ResolutionScope.RUNTIME, defaultPhase = LifecyclePhase.PACKAGE, requiresProject = true )\n // CHECKSTYLE_ON: LineLength\n public class JLinkMojo\n     extends AbstractJLinkMojo", "filename": "src/main/java/org/apache/maven/plugins/jlink/JLinkMojo.java"}], "repo": "maven-jlink-plugin"}]
