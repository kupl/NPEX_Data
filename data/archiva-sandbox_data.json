[
    {
        "repo": "archiva-sandbox",
        "message": "fix possible NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/archiva/sandbox/trunk@1487832 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/archiva-sandbox/commit/e27bd03321e7de6c6d9cb5d1e8ba13553a003faf",
        "parent": "https://github.com/apache/archiva-sandbox/commit/428465d0d5df65f1d4f6a8a23d85bfff57782aa2",
        "bug_id": "archiva-sandbox_1",
        "file": [
            {
                "sha": "047f5c0feb1221dfeee345178f872f4edd680141",
                "filename": "metadata-store-cassandra/src/main/java/org/apache/archiva/metadata/repository/cassandra/CassandraMetadataRepository.java",
                "blob_url": "https://github.com/apache/archiva-sandbox/blob/e27bd03321e7de6c6d9cb5d1e8ba13553a003faf/metadata-store-cassandra/src/main/java/org/apache/archiva/metadata/repository/cassandra/CassandraMetadataRepository.java",
                "raw_url": "https://github.com/apache/archiva-sandbox/raw/e27bd03321e7de6c6d9cb5d1e8ba13553a003faf/metadata-store-cassandra/src/main/java/org/apache/archiva/metadata/repository/cassandra/CassandraMetadataRepository.java",
                "status": "modified",
                "changes": 8,
                "additions": 8,
                "contents_url": "https://api.github.com/repos/apache/archiva-sandbox/contents/metadata-store-cassandra/src/main/java/org/apache/archiva/metadata/repository/cassandra/CassandraMetadataRepository.java?ref=e27bd03321e7de6c6d9cb5d1e8ba13553a003faf",
                "patch": "@@ -818,6 +818,10 @@ public Boolean apply( MetadataFacetModel metadataFacetModel )\n         }\n \n         MetadataFacetFactory metadataFacetFactory = metadataFacetFactories.get( facetId );\n+        if ( metadataFacetFactory == null )\n+        {\n+            return null;\n+        }\n         MetadataFacet metadataFacet = metadataFacetFactory.createMetadataFacet( repositoryId, name );\n         Map<String, String> map = new HashMap<String, String>( facets.size() );\n         for ( MetadataFacetModel metadataFacetModel : facets )\n@@ -1025,6 +1029,10 @@ public Boolean apply( MetadataFacetModel metadataFacetModel )\n         for ( Map.Entry<String, Map<String, String>> entry : facetValuesPerFacet.entrySet() )\n         {\n             MetadataFacetFactory factory = metadataFacetFactories.get( entry.getKey() );\n+            if ( factory == null )\n+            {\n+                continue;\n+            }\n             MetadataFacet metadataFacet =\n                 factory.createMetadataFacet( artifactMetadata.getRepositoryId(), entry.getKey() );\n             metadataFacet.fromProperties( entry.getValue() );",
                "deletions": 0
            }
        ]
    }
]