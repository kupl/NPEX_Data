[
    {
        "repo": "maven-ant-tasks",
        "message": "avoid NPE when pom.properties not found\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@603020 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/5cd26363c6141addb51741c67d74a67f8d965264",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/e3660283facd22d6c1620cf461042bf29864e89a",
        "bug_id": "maven-ant-tasks_1",
        "file": [
            {
                "sha": "bd6ddfc43c6b1f8a016de314f18b95613e06bfc3",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/5cd26363c6141addb51741c67d74a67f8d965264/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/5cd26363c6141addb51741c67d74a67f8d965264/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 14,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=5cd26363c6141addb51741c67d74a67f8d965264",
                "patch": "@@ -369,16 +369,20 @@ private void showVersion()\n             Properties properties = new Properties();\n             resourceAsStream = DependenciesTask.class.getClassLoader().getResourceAsStream(\n                 \"META-INF/maven/org.apache.maven/maven-ant-tasks/pom.properties\" );\n-            properties.load( resourceAsStream );\n+            if ( resourceAsStream != null )\n+            {\n+                properties.load( resourceAsStream );\n+            }\n \n-            if ( properties.getProperty( \"builtOn\" ) != null )\n+            String version = properties.getProperty( \"version\", \"unknown\" );\n+            String builtOn = properties.getProperty( \"builtOn\" );\n+            if ( builtOn != null )\n             {\n-                log( \"Maven Ant Tasks version: \" + properties.getProperty( \"version\", \"unknown\" ) + \" built on \"\n-                                + properties.getProperty( \"builtOn\" ), Project.MSG_VERBOSE );\n+                log( \"Maven Ant Tasks version: \" + version + \" built on \" + builtOn, Project.MSG_VERBOSE );\n             }\n             else\n             {\n-                log( \"Maven Ant Tasks version: \" + properties.getProperty( \"version\", \"unknown\" ), Project.MSG_VERBOSE );\n+                log( \"Maven Ant Tasks version: \" + version, Project.MSG_VERBOSE );\n             }\n         }\n         catch ( IOException e )",
                "deletions": 5
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "fix possible NPE\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk/maven-artifact-ant@190975 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/9c37dd3474bdda0f5bc6ea003181175adc8308b6",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/a5b465f26400dd694e67c0e19d8c42d8b84bd611",
        "bug_id": "maven-ant-tasks_2",
        "file": [
            {
                "sha": "83d8d193d7e357328b7d25f07ed94a7f53a1453d",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9c37dd3474bdda0f5bc6ea003181175adc8308b6/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9c37dd3474bdda0f5bc6ea003181175adc8308b6/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "status": "modified",
                "changes": 5,
                "additions": 4,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java?ref=9c37dd3474bdda0f5bc6ea003181175adc8308b6",
                "patch": "@@ -188,7 +188,10 @@ protected RemoteRepository createAntRemoteRepository( org.apache.maven.model.Rep\n         }\n \n         Mirror mirror = getSettings().getMirrorOf( pomRepository.getId() );\n-        r.setUrl( mirror.getUrl() );\n+        if ( mirror != null )\n+        {\n+            r.setUrl( mirror.getUrl() );\n+        }\n \n         return r;\n     }",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "[MANTTASKS-185] fixed NPE when caching dependency information and versionsId attribute is not set\nSubmitted by: Frank Wilson\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@965614 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/9ee880476551449d324f2bd6092e047b55aabd75",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/c408fa771fdaac88ba8b5b774a14cac9e8d9cb8e",
        "bug_id": "maven-ant-tasks_3",
        "file": [
            {
                "sha": "867819572938b5f4fbb07383e8e9c204a10be9bd",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9ee880476551449d324f2bd6092e047b55aabd75/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9ee880476551449d324f2bd6092e047b55aabd75/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 5,
                "additions": 4,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=9ee880476551449d324f2bd6092e047b55aabd75",
                "patch": "@@ -365,7 +365,10 @@ else if ( ( scope != null ) && !SCOPES_SET.contains( scope ) )\n                 }\n \n                 String versionsList = getProject().getProperty( versionsId );\n-                antBuildWriter.writeProperty( versionsId, versionsList );\n+                if ( versionsList != null )\n+                {\n+                    antBuildWriter.writeProperty( versionsId, versionsList );\n+                }\n \n                 antBuildWriter.closeTarget();\n                 antBuildWriter.closeAntBuild();",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "[MANTTASKS-189] display an explicit error message when scope=\"system\" without systemPath attribute instead of NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@965211 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/72b14cbd83c7dfc6cf970d4206274ae25af60ae0",
        "bug_id": "maven-ant-tasks_4",
        "file": [
            {
                "sha": "0830fcabaafd4d617346b4f771f1a2398a487359",
                "filename": "build-tests.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1/build-tests.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1/build-tests.xml",
                "status": "modified",
                "changes": 9,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/build-tests.xml?ref=61aca6c2153c5e5256afc03a4f84dc3998f1c8a1",
                "patch": "@@ -70,6 +70,7 @@\n     <echo>Some tests must be run manually, since they are intended to fail:\n         - test-bad-dep\n         - test-invalid-pom-ref\n+    \t- test-bad-system-dep\n     </echo>\n   </target>\n \n@@ -668,6 +669,14 @@\n     <fail if=\"test.fail\">For system scope path should not come from local repository.</fail>\n   </target>\n \n+  <target name=\"test-bad-system-dep\" depends=\"initTaskDefs\">\n+  \t<echo>Expected failure: dependency with scope=\"system\" must define systemPath attribute</echo>\n+    <artifact:dependencies>\n+      <dependency groupId=\"foo\" artifactId=\"bar\" version=\"1.0\" scope=\"system\"/>\n+      <localRepository refid=\"local.repository\"/>\n+    </artifact:dependencies>\n+  </target>\n+\n   <macrodef name=\"check.file.exists\">\n     <attribute name=\"file\"/>\n     <attribute name=\"type\" default=\"file\"/>",
                "deletions": 0
            },
            {
                "sha": "28b9991d7378f1fba506dabacea0f95be440da88",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 10,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=61aca6c2153c5e5256afc03a4f84dc3998f1c8a1",
                "patch": "@@ -195,7 +195,15 @@ protected ArtifactResolutionResult doExecuteResolution()\n             {\n                 String scope = dependency.getScope();\n \n-                if ( ( scope != null ) && !SCOPES_SET.contains( scope ) )\n+                if ( Artifact.SCOPE_SYSTEM.equals( scope ) )\n+                {\n+                    if ( StringUtils.isBlank( dependency.getSystemPath() ) )\n+                    {\n+                        throw new BuildException( dependency.toString()\n+                            + \" is defined with scope='system': systemPath attribute is required.\" );\n+                    }\n+                }\n+                else if ( ( scope != null ) && !SCOPES_SET.contains( scope ) )\n                 {\n                     // see MANTTASKS-190\n                     log( \"Unknown scope='\" + scope + \"' for \" + dependency + \", supported scopes are: \" + SCOPES_SET,",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "avoid NPE when pom.properties not found. Merged 603020 from trunk\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/branches/maven-ant-tasks-2.0.x@603022 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/abffcd573725f284a800934b53a6c0f60128aaf5",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/c85d844d03cedd92f78e4a2c81eca76f22dd5920",
        "bug_id": "maven-ant-tasks_5",
        "file": [
            {
                "sha": "bd6ddfc43c6b1f8a016de314f18b95613e06bfc3",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/abffcd573725f284a800934b53a6c0f60128aaf5/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/abffcd573725f284a800934b53a6c0f60128aaf5/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 14,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=abffcd573725f284a800934b53a6c0f60128aaf5",
                "patch": "@@ -369,16 +369,20 @@ private void showVersion()\n             Properties properties = new Properties();\n             resourceAsStream = DependenciesTask.class.getClassLoader().getResourceAsStream(\n                 \"META-INF/maven/org.apache.maven/maven-ant-tasks/pom.properties\" );\n-            properties.load( resourceAsStream );\n+            if ( resourceAsStream != null )\n+            {\n+                properties.load( resourceAsStream );\n+            }\n \n-            if ( properties.getProperty( \"builtOn\" ) != null )\n+            String version = properties.getProperty( \"version\", \"unknown\" );\n+            String builtOn = properties.getProperty( \"builtOn\" );\n+            if ( builtOn != null )\n             {\n-                log( \"Maven Ant Tasks version: \" + properties.getProperty( \"version\", \"unknown\" ) + \" built on \"\n-                                + properties.getProperty( \"builtOn\" ), Project.MSG_VERBOSE );\n+                log( \"Maven Ant Tasks version: \" + version + \" built on \" + builtOn, Project.MSG_VERBOSE );\n             }\n             else\n             {\n-                log( \"Maven Ant Tasks version: \" + properties.getProperty( \"version\", \"unknown\" ), Project.MSG_VERBOSE );\n+                log( \"Maven Ant Tasks version: \" + version, Project.MSG_VERBOSE );\n             }\n         }\n         catch ( IOException e )",
                "deletions": 5
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "[MANTTASKS-98] fixed NPE if user settings file doesn't exist\nSubmitted by: Pete Muir\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/branches/maven-ant-tasks-2.0.x@597214 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/fef00e5e4d9e7cc08baba0dfc98538f2bd8b530b",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/7bee1d59afa81399605eaf56015fa17d11ec7bef",
        "bug_id": "maven-ant-tasks_6",
        "file": [
            {
                "sha": "4f2b2eeb4b380e31e768efe6f4e2e593e362adc7",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/fef00e5e4d9e7cc08baba0dfc98538f2bd8b530b/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/fef00e5e4d9e7cc08baba0dfc98538f2bd8b530b/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java?ref=fef00e5e4d9e7cc08baba0dfc98538f2bd8b530b",
                "patch": "@@ -308,6 +308,8 @@ private Settings loadSettings( File settingsFile )\n         if ( settings == null )\n         {\n             settings = new Settings();\n+            RuntimeInfo rtInfo = new RuntimeInfo(settings);\n+            settings.setRuntimeInfo(rtInfo);\n         }\n \n         return settings;",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "[MANTTASKS-98] fixed NPE if user settings file doesn't exist\nSubmitted by: Pete Muir\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@597213 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/c766fd226843237b5228a662bf1bfa88c303e083",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/b7af52757b695c0ab594e9bc8de4bac86fd40ad9",
        "bug_id": "maven-ant-tasks_7",
        "file": [
            {
                "sha": "4f2b2eeb4b380e31e768efe6f4e2e593e362adc7",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/c766fd226843237b5228a662bf1bfa88c303e083/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/c766fd226843237b5228a662bf1bfa88c303e083/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java?ref=c766fd226843237b5228a662bf1bfa88c303e083",
                "patch": "@@ -308,6 +308,8 @@ private Settings loadSettings( File settingsFile )\n         if ( settings == null )\n         {\n             settings = new Settings();\n+            RuntimeInfo rtInfo = new RuntimeInfo(settings);\n+            settings.setRuntimeInfo(rtInfo);\n         }\n \n         return settings;",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "MANTTASKS-26 artifact:dependencies filesetId attribute causes NPE\nSubmitted by: Jeff Maxwell\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@541914 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/fa13549f5a00a1544293f67721850cb292560049",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/1db334cd72c674a72511d94d2fada326d0328b9c",
        "bug_id": "maven-ant-tasks_8",
        "file": [
            {
                "sha": "cf06df533e50035b007adb03e8ef0f2259d79b50",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/fa13549f5a00a1544293f67721850cb292560049/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/fa13549f5a00a1544293f67721850cb292560049/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=fa13549f5a00a1544293f67721850cb292560049",
                "patch": "@@ -204,6 +204,7 @@ protected void doExecute()\n         fileList.setDir( getLocalRepository().getLocation() );\n \n         FileSet fileSet = new FileSet();\n+        fileSet.setProject( getProject() );\n         fileSet.setDir( fileList.getDir( getProject() ) );\n \n         FileList sourcesFileList = new FileList();",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "MANTTASKS-26 artifact:dependencies filesetId attribute causes NPE\nSubmitted by: Jeff Maxwell\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/branches/maven-ant-tasks-2.0.x@541913 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/b6afbba5473355c4a7ef6de3d4c386e333d8f6e7",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/8d934477817f3bd2fe49c2e4612a76b17fda8ae2",
        "bug_id": "maven-ant-tasks_9",
        "file": [
            {
                "sha": "cf06df533e50035b007adb03e8ef0f2259d79b50",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/b6afbba5473355c4a7ef6de3d4c386e333d8f6e7/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/b6afbba5473355c4a7ef6de3d4c386e333d8f6e7/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=b6afbba5473355c4a7ef6de3d4c386e333d8f6e7",
                "patch": "@@ -204,6 +204,7 @@ protected void doExecute()\n         fileList.setDir( getLocalRepository().getLocation() );\n \n         FileSet fileSet = new FileSet();\n+        fileSet.setProject( getProject() );\n         fileSet.setDir( fileList.getDir( getProject() ) );\n \n         FileList sourcesFileList = new FileList();",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "PR: MNG-1160\nfix up some deployment repository determination logic, and avoid NPE in the process\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk/maven-artifact-ant@312810 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/d2bfa72aee048340ebb4a08e3edd840b6825af84",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/ccdb73a91917b13e9ba7fa4dc3c0c03b15440914",
        "bug_id": "maven-ant-tasks_10",
        "file": [
            {
                "sha": "f778e731aa7ae1a010428ea867ada3d28e3d84cd",
                "filename": "sample-build-test.pom",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/d2bfa72aee048340ebb4a08e3edd840b6825af84/sample-build-test.pom",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/d2bfa72aee048340ebb4a08e3edd840b6825af84/sample-build-test.pom",
                "status": "added",
                "changes": 6,
                "additions": 6,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/sample-build-test.pom?ref=d2bfa72aee048340ebb4a08e3edd840b6825af84",
                "patch": "@@ -0,0 +1,6 @@\n+<project>\r\n+  <modelVersion>4.0.0</modelVersion>\r\n+  <groupId>org.apache.maven.test</groupId>\r\n+  <artifactId>sample-build-test</artifactId>\r\n+  <version>2.0-beta-4-SNAPSHOT</version>\r\n+</project>\r",
                "deletions": 0
            },
            {
                "sha": "e072640e4ff4919141e506c579427f0c83feffcb",
                "filename": "sample.build.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/d2bfa72aee048340ebb4a08e3edd840b6825af84/sample.build.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/d2bfa72aee048340ebb4a08e3edd840b6825af84/sample.build.xml",
                "status": "modified",
                "changes": 13,
                "additions": 10,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/sample.build.xml?ref=d2bfa72aee048340ebb4a08e3edd840b6825af84",
                "patch": "@@ -70,7 +70,7 @@\n \n   <target name=\"foo\" depends=\"initTaskDefs\">\n     <artifact:dependencies pathId=\"dependency.classpath\" filesetId=\"dependency.fileset\">\n-      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-2\">\n+      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-4\">\n         <exclusion groupId=\"junit\" artifactId=\"junit\"/>\n       </dependency>\n       <dependency groupId=\"plexus\" artifactId=\"plexus-container-default\" version=\"1.0-alpha-6-SNAPSHOT\"/>\n@@ -164,7 +164,7 @@\n     <artifact:remoteRepository id=\"deploy.repository\" url=\"scm:svn:${scm.url}\" layout=\"default\"/>\n \n     <artifact:dependencies pathId=\"dependency.classpath\">\n-      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-2\"/>\n+      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-4\"/>\n       <dependency groupId=\"plexus\" artifactId=\"plexus-container-default\" version=\"1.0-alpha-6-SNAPSHOT\"/>\n       <localRepository refid=\"local.repository\"/>\n     </artifact:dependencies>\n@@ -183,7 +183,7 @@\n     <artifact:localRepository id=\"local.repository.scm\" location=\"${basedir}/target/local-repo-scm\" layout=\"default\"/>\n \n     <artifact:dependencies pathId=\"dependency.classpath.scm\">\n-      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-2\"/>\n+      <dependency groupId=\"org.apache.maven.wagon\" artifactId=\"wagon-provider-test\" version=\"1.0-alpha-4\"/>\n       <dependency groupId=\"plexus\" artifactId=\"plexus-container-default\" version=\"1.0-alpha-6-SNAPSHOT\"/>\n       <localRepository refid=\"local.repository.scm\"/>\n       <remoteRepository refid=\"deploy.repository\"/>\n@@ -202,5 +202,12 @@\n       <pom refid=\"invalid-ref\" />\n     </artifact:dependencies>\n   </target>\n+\n+  <target name=\"test-no-dist-mgmt\" depends=\"initTaskDefs\">\n+    <artifact:deploy file=\"sample-build-test.pom\">\n+      <pom file=\"sample-build-test.pom\" />\n+      <remoteRepository refid=\"deploy.repository\" />\n+    </artifact:deploy>  \n+  </target>\n </project>\n ",
                "deletions": 3
            },
            {
                "sha": "504b2e215ee59f661273dbd5c549923a6c0286ed",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DeployTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/d2bfa72aee048340ebb4a08e3edd840b6825af84/src/main/java/org/apache/maven/artifact/ant/DeployTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/d2bfa72aee048340ebb4a08e3edd840b6825af84/src/main/java/org/apache/maven/artifact/ant/DeployTask.java",
                "status": "modified",
                "changes": 45,
                "additions": 29,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DeployTask.java?ref=d2bfa72aee048340ebb4a08e3edd840b6825af84",
                "patch": "@@ -21,6 +21,7 @@\n import org.apache.maven.artifact.deployer.ArtifactDeploymentException;\n import org.apache.maven.artifact.metadata.ArtifactMetadata;\n import org.apache.maven.artifact.repository.ArtifactRepository;\n+import org.apache.maven.model.DistributionManagement;\n import org.apache.maven.project.MavenProjectBuilder;\n import org.apache.maven.project.artifact.ProjectArtifactMetadata;\n import org.apache.tools.ant.BuildException;\n@@ -54,35 +55,47 @@ public void execute()\n             throw new BuildException( \"A POM element is required to deploy to the repository\" );\n         }\n \n-        if ( remoteRepository == null )\n+        Artifact artifact = createArtifact( pom );\n+\n+        DistributionManagement distributionManagement = pom.getDistributionManagement();\n+\n+        if ( remoteSnapshotRepository == null && remoteRepository == null )\n         {\n-            if ( pom.getDistributionManagement() == null || pom.getDistributionManagement().getRepository() == null )\n+            if ( distributionManagement != null )\n             {\n-                throw new BuildException( \"A distributionManagement element is required in your POM to deploy\" );\n+                if ( distributionManagement.getSnapshotRepository() != null )\n+                {\n+                    remoteSnapshotRepository = createAntRemoteRepositoryBase(\n+                        distributionManagement.getSnapshotRepository() );\n+                }\n+                if ( distributionManagement.getRepository() != null )\n+                {\n+                    remoteRepository = createAntRemoteRepositoryBase( distributionManagement.getRepository() );\n+                }\n             }\n-\n-            remoteRepository = createAntRemoteRepositoryBase( pom.getDistributionManagement().getRepository() );\n         }\n \n         if ( remoteSnapshotRepository == null )\n         {\n-            if ( pom.getDistributionManagement().getSnapshotRepository() != null )\n-            {\n-                remoteSnapshotRepository = createAntRemoteRepositoryBase(\n-                    pom.getDistributionManagement().getSnapshotRepository() );\n-            }\n+            remoteSnapshotRepository = remoteRepository;\n         }\n \n-        // Deploy the POM\n-        Artifact artifact = createArtifact( pom );\n-\n-        ArtifactRepository deploymentRepository = createRemoteArtifactRepository( remoteRepository );\n-\n-        if ( remoteSnapshotRepository != null && artifact.isSnapshot() )\n+        ArtifactRepository deploymentRepository = null;\n+        if ( artifact.isSnapshot() && remoteSnapshotRepository != null )\n         {\n             deploymentRepository = createRemoteArtifactRepository( remoteSnapshotRepository );\n         }\n+        else if ( remoteRepository != null )\n+        {\n+            deploymentRepository = createRemoteArtifactRepository( remoteRepository );\n+        }\n+        else\n+        {\n+            throw new BuildException(\n+                \"A distributionManagement element or remoteRepository element is required to deploy\" );\n+        }\n \n+        // Deploy the POM\n         boolean isPomArtifact = \"pom\".equals( pom.getPackaging() );\n         if ( !isPomArtifact )\n         {",
                "deletions": 16
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "avoid NPE if either of the ids are not specified\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk/maven-artifact-ant@188807 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/b927e5c48bc1c9409d7d8bc84a81e3483b8b4e44",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/aa4fe813b557ea950d2548fad423b59fd1535383",
        "bug_id": "maven-ant-tasks_11",
        "file": [
            {
                "sha": "8e6247e762f3f9c901edf3d81ffa30baf2b80779",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/b927e5c48bc1c9409d7d8bc84a81e3483b8b4e44/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/b927e5c48bc1c9409d7d8bc84a81e3483b8b4e44/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 4,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=b927e5c48bc1c9409d7d8bc84a81e3483b8b4e44",
                "patch": "@@ -100,12 +100,12 @@ public void execute()\n             throw new BuildException( \"Unable to resolve artifact\", e );\n         }\n \n-        if ( getProject().getReference( pathId ) != null )\n+        if ( pathId != null && getProject().getReference( pathId ) != null )\n         {\n             throw new BuildException( \"Reference ID \" + pathId + \" already exists\" );\n         }\n \n-        if ( getProject().getReference( filesetId ) != null )\n+        if ( filesetId != null && getProject().getReference( filesetId ) != null )\n         {\n             throw new BuildException( \"Reference ID \" + filesetId + \" already exists\" );\n         }",
                "deletions": 2
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "[MANTTASKS-192] display an explicit error message when using a remote repository with a refid which has not been defined instead of NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@965226 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/3d77860cc27323afb453ca6faabec8bcb3da5d3d",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/61aca6c2153c5e5256afc03a4f84dc3998f1c8a1",
        "bug_id": "maven-ant-tasks_12",
        "file": [
            {
                "sha": "4708ef4e2391f8b0ee560a1fa5b0060554594e75",
                "filename": "build-tests.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/3d77860cc27323afb453ca6faabec8bcb3da5d3d/build-tests.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/3d77860cc27323afb453ca6faabec8bcb3da5d3d/build-tests.xml",
                "status": "modified",
                "changes": 9,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/build-tests.xml?ref=3d77860cc27323afb453ca6faabec8bcb3da5d3d",
                "patch": "@@ -71,6 +71,7 @@\n         - test-bad-dep\n         - test-invalid-pom-ref\n     \t- test-bad-system-dep\n+    \t- test-bad-repo-refid\n     </echo>\n   </target>\n \n@@ -677,6 +678,14 @@\n     </artifact:dependencies>\n   </target>\n \n+  <target name=\"test-bad-repo-refid\" depends=\"initTaskDefs\">\n+  \t<echo>Expected failure: undefined remoteRepository refid</echo>\n+    <artifact:dependencies>\n+      <remoteRepository refid=\"not-defined\"/>\n+      <dependency groupId=\"commons-logging\" artifactId=\"commons-logging\" version=\"1.1.1\"/>\n+    </artifact:dependencies>\n+  </target>\n+\n   <macrodef name=\"check.file.exists\">\n     <attribute name=\"file\"/>\n     <attribute name=\"type\" default=\"file\"/>",
                "deletions": 0
            },
            {
                "sha": "7361dba7a11b6c0ccbaca08672c8b830451ec95e",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactWithRepositoryTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/3d77860cc27323afb453ca6faabec8bcb3da5d3d/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactWithRepositoryTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/3d77860cc27323afb453ca6faabec8bcb3da5d3d/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactWithRepositoryTask.java",
                "status": "modified",
                "changes": 9,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactWithRepositoryTask.java?ref=3d77860cc27323afb453ca6faabec8bcb3da5d3d",
                "patch": "@@ -132,6 +132,15 @@ private static String statusAsString( RepositoryPolicy policy )\n      */\n     public void addConfiguredRemoteRepository( RemoteRepository remoteRepository )\n     {\n+        if ( remoteRepository.getRefid() != null )\n+        {\n+            // check that the refid points to a repository that is properly defined\n+            String refid = remoteRepository.getRefid();\n+            if ( getProject().getReference( refid ) == null )\n+            {\n+                throw new BuildException( \"Unknown remote repository refid='\" + refid + \"'.\" );\n+            }\n+        }\n         // Validate the url and id parameters before adding the repository\n         if ( remoteRepository.getUrl() == null )\n         {",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "MANTTASKS-73 Fixing missing RemoteRepository sub-element for tasks pom and install-provider\nMANTTASKS-75 NPE if loaded settings.xml does not contain <localRepository>\nMANTTASKS-76 Patches to make this work for 2.0.7\nSubmitted by: Herve Boutemy\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/ant-tasks/trunk@551448 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/dd8c221f948b8d8d34d5d5038c13749bdf0a06b6",
        "bug_id": "maven-ant-tasks_13",
        "file": [
            {
                "sha": "ceca3b136555486c16e0f33f81838309201d219f",
                "filename": "pom.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/pom.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/pom.xml",
                "status": "modified",
                "changes": 10,
                "additions": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/pom.xml?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -82,7 +82,7 @@\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-project</artifactId>\n-      <version>2.0.6</version>\n+      <version>2.0.7</version>\n       <exclusions>\n         <exclusion>\n           <artifactId>junit</artifactId>\n@@ -93,12 +93,12 @@\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-error-diagnostics</artifactId>\n-      <version>2.0.6</version>\n+      <version>2.0.7</version>\n     </dependency>\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-settings</artifactId>\n-      <version>2.0.6</version>\n+      <version>2.0.7</version>\n     </dependency>\n     <dependency>\n       <groupId>org.apache.maven.wagon</groupId>\n@@ -120,7 +120,7 @@\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-artifact-manager</artifactId>\n-      <version>2.0.6</version>\n+      <version>2.0.7</version>\n       <exclusions>\n         <exclusion>\n           <artifactId>junit</artifactId>\n@@ -136,7 +136,7 @@\n     <dependency>\n       <groupId>org.apache.maven</groupId>\n       <artifactId>maven-artifact</artifactId>\n-      <version>2.0.6</version>\n+      <version>2.0.7</version>\n     </dependency>\n     <dependency>\n       <groupId>org.apache.maven.wagon</groupId>",
                "deletions": 5
            },
            {
                "sha": "ec8ff499a17eafc2d988849ab5ba1ae04e14745f",
                "filename": "sample.build.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/sample.build.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/sample.build.xml",
                "status": "modified",
                "changes": 28,
                "additions": 25,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/sample.build.xml?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -39,15 +39,15 @@\n   </target>\n   \n   <target name=\"test-all-deps\" description=\"All dependencies tests\"\n-    depends=\"test-pom,test-no-deps,test-pom-deps,test-deps,test-legacy-pom\">\n+    depends=\"test-pom,test-pom-with-parent,test-no-deps,test-pom-deps,test-deps,test-legacy-pom\">\n     <echo>test-bad-dep and test-invalid-pom-ref must be run manually, since they are intended to fail</echo>\n   </target>\n \n   <target name=\"test-all-pubs\" description=\"All publication tests (install/deploy)\"\n     depends=\"test-deploy-spaces,test-deploy,test-no-dist-mgmt,test-install-attached,test-deploy-attached\"/>\n \n   <target name=\"test-all\" description=\"All tests\"\n-    depends=\"test-all-deps,test-all-pubs\">\n+    depends=\"test-all-deps,test-all-pubs,test-install-provider\">\n     <echo>test-scm not run, since it fails...</echo>\n   </target>\n \n@@ -59,6 +59,11 @@\n     </copy>\n   </target>\n \n+  <target name=\"test-empty-settings\" depends=\"initTaskDefs\">\n+    <artifact:dependencies filesetId=\"runtime.fileset\" settingsFile=\"${basedir}/src/test/settings-empty.xml\">\n+    </artifact:dependencies>\n+  </target>\n+\n   <target name=\"test-bad-dep\" depends=\"initTaskDefs\">\n     <artifact:dependencies pathId=\"dependency.classpath\" filesetId=\"dependency.fileset\">\n       <dependency groupId=\"foo\" artifactId=\"foo\" version=\"1.0-alpha-2\"/>\n@@ -266,5 +271,22 @@\n       <attach file=\"${basedir}/target/sample-build-test.pom.asc\" type=\"pom.asc\"/>\n     </artifact:install>\n   </target>\n-</project>\n \n+  <target name=\"test-install-provider\" depends=\"initTaskDefs\">\n+    <artifact:install-provider groupId=\"it.ant-tasks\" artifactId=\"wagon-foo\" version=\"1.0-beta-2\">\n+      <localRepository refid=\"local.repository\"/>\n+      <remoteRepository url=\"file://${user.dir}/src/test/repo\"/>\n+    </artifact:install-provider>\n+  </target>\n+\n+  <target name=\"test-pom-with-parent\" depends=\"initTaskDefs\">\n+    <artifact:pom file=\"${user.dir}/src/test/pom-with-parent.xml\" id=\"my.maven.project\">\n+      <localRepository refid=\"local.repository\"/>\n+      <remoteRepository url=\"file://${user.dir}/src/test/repo\"/>\n+    </artifact:pom>\n+\n+    <echo>Artifact ID = ${my.maven.project.artifactId}</echo>\n+\n+    <echo>Parent Artifact ID = ${my.maven.project.parent.artifactId}</echo>\n+  </target>\n+</project>",
                "deletions": 3
            },
            {
                "sha": "52d91ddb64a28479e3e6d1bb872135b63856e721",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "status": "modified",
                "changes": 51,
                "additions": 27,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -91,6 +91,11 @@ protected ArtifactRepository createLocalArtifactRepository()\n         return new DefaultArtifactRepository( \"local\", \"file://\" + localRepository.getPath(), repositoryLayout );\n     }\n \n+    /**\n+     * Create a core-Maven ArtifactRepository from a Maven Ant Tasks's RemoteRepository definition.\n+     * @param repository the remote repository as defined in Ant\n+     * @return the corresponding ArtifactRepository\n+     */\n     protected ArtifactRepository createRemoteArtifactRepository( RemoteRepository repository )\n     {\n         ArtifactRepositoryLayout repositoryLayout =\n@@ -177,8 +182,6 @@ protected synchronized Settings getSettings()\n     {\n         if ( settings == null )\n         {\n-            settings = new Settings();\n-\n             File settingsFile = new File( System.getProperty( \"user.home\" ), \".ant/settings.xml\" );\n             if ( !settingsFile.exists() )\n             {\n@@ -205,19 +208,19 @@ protected synchronized Settings getSettings()\n \n             if ( settingsFile.exists() )\n             {\n-                loadSettings(settingsFile);\n+                loadSettings( settingsFile );\n             }\n-\n-            if ( StringUtils.isEmpty( settings.getLocalRepository() ) )\n+            else\n             {\n-                String location = new File( System.getProperty( \"user.home\" ), \".m2/repository\" ).getAbsolutePath();\n-                settings.setLocalRepository( location );\n+                settings = new Settings();\n+                checkSettingsLocalRepository();\n             }\n         }\n         return settings;\n     }\n \n-    private void loadSettings(File settingsFile) {\n+    private void loadSettings( File settingsFile )\n+    {\n         FileReader reader = null;\n         try\n         {\n@@ -227,6 +230,8 @@ private void loadSettings(File settingsFile) {\n             SettingsXpp3Reader modelReader = new SettingsXpp3Reader();\n \n             settings = modelReader.read( reader );\n+\n+            checkSettingsLocalRepository();\n         }\n         catch ( IOException e )\n         {\n@@ -244,10 +249,20 @@ private void loadSettings(File settingsFile) {\n         }\n     }\n     \n-    public void setSettingsFile(File settingsFile) {\n-        if (!settingsFile.exists()) throw new BuildException(\"settingsFile does not exist: \" + settingsFile.getAbsolutePath());\n-        settings = new Settings();\n-        loadSettings(settingsFile);\n+    private void checkSettingsLocalRepository()\n+    {\n+        if ( StringUtils.isEmpty( settings.getLocalRepository() ) )\n+        {\n+            String location = new File( System.getProperty( \"user.home\" ), \".m2/repository\" ).getAbsolutePath();\n+            settings.setLocalRepository( location );\n+        }\n+    }\n+\n+    public void setSettingsFile( File settingsFile )\n+    {\n+        if ( !settingsFile.exists() )\n+            throw new BuildException( \"settingsFile does not exist: \" + settingsFile.getAbsolutePath() );\n+        loadSettings( settingsFile );\n     }\n \n     protected RemoteRepository createAntRemoteRepository( org.apache.maven.model.Repository pomRepository )\n@@ -322,18 +337,6 @@ protected Object lookup( String role,\n         }\n     }\n \n-    protected static RemoteRepository getDefaultRemoteRepository()\n-    {\n-        // TODO: could we utilise the super POM for this?\n-        RemoteRepository remoteRepository = new RemoteRepository();\n-        remoteRepository.setId( \"central\" );\n-        remoteRepository.setUrl( \"http://repo1.maven.org/maven2\" );\n-        RepositoryPolicy snapshots = new RepositoryPolicy();\n-        snapshots.setEnabled( false );\n-        remoteRepository.addSnapshots( snapshots );\n-        return remoteRepository;\n-    }\n-\n     protected synchronized PlexusContainer getContainer()\n     {\n         if ( container == null )",
                "deletions": 24
            },
            {
                "sha": "8559d5f5bc5c790a7530b2a6a7d0e62ccb74a6b4",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 56,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -63,12 +63,10 @@\n  * @version $Id$\n  */\n public class DependenciesTask\n-    extends AbstractArtifactTask\n+    extends AbstractArtifactWithRepositoryTask\n {\n     private List dependencies = new ArrayList();\n \n-    private List remoteRepositories = new ArrayList();\n-\n     private String pathId;\n \n     private String filesetId;\n@@ -134,12 +132,7 @@ protected void doExecute()\n         ArtifactResolutionResult result;\n         Set artifacts;\n \n-        if ( getRemoteRepositories().isEmpty() )\n-        {\n-            addRemoteRepository( getDefaultRemoteRepository() );\n-        }\n-\n-        List remoteArtifactRepositories = createRemoteArtifactRepositories( getRemoteRepositories() );\n+        List remoteArtifactRepositories = createRemoteArtifactRepositories();\n \n         try\n         {\n@@ -196,7 +189,6 @@ protected void doExecute()\n         {\n             throw new BuildException( \"Reference ID \" + pathId + \" already exists\" );\n         }\n-        */\n \n         if ( filesetId != null && getProject().getReference( filesetId ) != null )\n         {\n@@ -207,6 +199,7 @@ protected void doExecute()\n         {\n             throw new BuildException( \"Reference ID \" + sourcesFilesetId + \" already exists\" );\n         }\n+        */\n \n         FileList fileList = new FileList();\n         fileList.setDir( getLocalRepository().getPath() );\n@@ -302,49 +295,6 @@ protected void doExecute()\n         }\n     }\n \n-    private static String statusAsString( RepositoryPolicy policy )\n-    {\n-        return (policy == null) || policy.isEnabled() ? \"enabled\" : \"disabled\";\n-    }\n-\n-    private List createRemoteArtifactRepositories( List remoteRepositories )\n-    {\n-        log( \"Using remote repositories:\", Project.MSG_VERBOSE );\n-        List list = new ArrayList();\n-        for ( Iterator i = remoteRepositories.iterator(); i.hasNext(); )\n-        {\n-            RemoteRepository remoteRepository = (RemoteRepository) i.next();\n-\n-            StringBuffer msg = new StringBuffer();\n-            msg.append( \"  - id=\" + remoteRepository.getId() );\n-            msg.append( \", url=\" + remoteRepository.getUrl() );\n-            msg.append( \", releases=\" + statusAsString( remoteRepository.getReleases() ) );\n-            msg.append( \", snapshots=\" + statusAsString( remoteRepository.getSnapshots() ) );\n-            if ( remoteRepository.getAuthentication() != null )\n-            {\n-                msg.append( \", authentication=\" + remoteRepository.getAuthentication().getUserName() );\n-            }\n-            if ( remoteRepository.getProxy() != null )\n-            {\n-                msg.append( \", proxy=\" + remoteRepository.getProxy().getHost() );\n-            }\n-            getProject().log( msg.toString(), Project.MSG_VERBOSE );\n-\n-            list.add( createRemoteArtifactRepository( remoteRepository ) );\n-        }\n-        return list;\n-    }\n-\n-    public List getRemoteRepositories()\n-    {\n-        return remoteRepositories;\n-    }\n-\n-    public void addRemoteRepository( RemoteRepository remoteRepository )\n-    {\n-        remoteRepositories.add( remoteRepository );\n-    }\n-\n     public List getDependencies()\n     {\n         return dependencies;",
                "deletions": 53
            },
            {
                "sha": "658b49eff4eb9def91a24fe90bd5e71dd34d6b86",
                "filename": "src/main/java/org/apache/maven/artifact/ant/InstallWagonProviderTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/InstallWagonProviderTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/InstallWagonProviderTask.java",
                "status": "modified",
                "changes": 16,
                "additions": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/InstallWagonProviderTask.java?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -23,7 +23,6 @@\n import org.apache.maven.artifact.ArtifactUtils;\n import org.apache.maven.artifact.factory.ArtifactFactory;\n import org.apache.maven.artifact.metadata.ArtifactMetadataSource;\n-import org.apache.maven.artifact.repository.ArtifactRepository;\n import org.apache.maven.artifact.resolver.ArtifactNotFoundException;\n import org.apache.maven.artifact.resolver.ArtifactResolutionException;\n import org.apache.maven.artifact.resolver.ArtifactResolutionResult;\n@@ -34,6 +33,7 @@\n import org.apache.tools.ant.BuildException;\n import org.apache.tools.ant.Project;\n import org.codehaus.plexus.PlexusContainerException;\n+\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n@@ -45,9 +45,9 @@\n  * @version $Id$\n  */\n public class InstallWagonProviderTask\n-    extends AbstractArtifactTask\n+    extends AbstractArtifactWithRepositoryTask\n {\n-\tprivate String groupId =  \"org.apache.maven.wagon\";\n+\tprivate String groupId = \"org.apache.maven.wagon\";\n \t\n     private String artifactId;\n \n@@ -86,12 +86,6 @@ public void setVersion( String version )\n     public void doExecute()\n         throws BuildException\n     {\n-        MavenMetadataSource metadataSource = (MavenMetadataSource) lookup( ArtifactMetadataSource.ROLE );\n-\n-        ArtifactResolver resolver = (ArtifactResolver) lookup( ArtifactResolver.ROLE );\n-        ArtifactRepository artifactRepository = createRemoteArtifactRepository( getDefaultRemoteRepository() );\n-        List remoteRepositories = Collections.singletonList( artifactRepository );\n-\n         VersionRange versionRange;\n         try\n         {\n@@ -110,6 +104,10 @@ public void doExecute()\n         ArtifactResolutionResult result;\n         try\n         {\n+            MavenMetadataSource metadataSource = (MavenMetadataSource) lookup( ArtifactMetadataSource.ROLE );\n+            ArtifactResolver resolver = (ArtifactResolver) lookup( ArtifactResolver.ROLE );\n+            List remoteRepositories = createRemoteArtifactRepositories();\n+\n             result = resolver.resolveTransitively( Collections.singleton( providerArtifact ),\n                                                    createArtifact( createDummyPom() ), createLocalArtifactRepository(),\n                                                    remoteRepositories, metadataSource, null );",
                "deletions": 9
            },
            {
                "sha": "da222c120025807517eda382e950e6efc5784eb7",
                "filename": "src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/9acbe917fbb34221f3cc99ac9e64f8c1b57ca292/src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "status": "modified",
                "changes": 74,
                "additions": 72,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/Pom.java?ref=9acbe917fbb34221f3cc99ac9e64f8c1b57ca292",
                "patch": "@@ -19,24 +19,42 @@\n  * under the License.\n  */\n \n+import org.apache.maven.artifact.Artifact;\n+import org.apache.maven.artifact.factory.ArtifactFactory;\n+import org.apache.maven.artifact.metadata.ArtifactMetadataSource;\n import org.apache.maven.artifact.repository.ArtifactRepository;\n+import org.apache.maven.artifact.resolver.ArtifactNotFoundException;\n+import org.apache.maven.artifact.resolver.ArtifactResolutionException;\n+import org.apache.maven.artifact.resolver.ArtifactResolver;\n import org.apache.maven.model.Build;\n import org.apache.maven.model.CiManagement;\n import org.apache.maven.model.DependencyManagement;\n import org.apache.maven.model.DistributionManagement;\n import org.apache.maven.model.IssueManagement;\n+import org.apache.maven.model.Model;\n import org.apache.maven.model.Organization;\n+import org.apache.maven.model.Parent;\n import org.apache.maven.model.Reporting;\n import org.apache.maven.model.Scm;\n+import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\n import org.apache.maven.project.MavenProject;\n import org.apache.maven.project.MavenProjectBuilder;\n import org.apache.maven.project.ProjectBuildingException;\n+import org.apache.maven.project.artifact.MavenMetadataSource;\n import org.apache.tools.ant.BuildException;\n import org.apache.tools.ant.Project;\n import org.apache.tools.ant.PropertyHelper;\n import org.codehaus.plexus.util.introspection.ReflectionValueExtractor;\n+import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n \n import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.io.Reader;\n+import java.util.Collections;\n+import java.util.List;\n \n /**\n  * A POM typedef.\n@@ -53,7 +71,7 @@\n  * @version $Id$\n  */\n public class Pom\n-    extends AbstractArtifactTask\n+    extends AbstractArtifactWithRepositoryTask\n {\n     private String refid;\n \n@@ -123,21 +141,73 @@ void initialise( MavenProjectBuilder builder, ArtifactRepository localRepository\n         // TODO: should this be in execute() too? Would that work when it is used as a type?\n         if ( file != null )\n         {\n+            checkParentPom();\n+            \n             try\n             {\n                 // TODO: should the profiles be constructed and passed in here? From Ant, or perhaps settings?\n                 mavenProject = builder.build( file, localRepository, null );\n             }\n             catch ( ProjectBuildingException e )\n             {\n-                throw new BuildException( \"Unable to build project: \" + file, e );\n+                throw new BuildException( \"Unable to initialize POM \" + file.getName() + \": \" + e.getMessage(), e );\n             }\n         }\n         else if ( refid != null )\n         {\n             getInstance().initialise( builder, localRepository );\n         }\n     }\n+    \n+    private void checkParentPom()\n+    {\n+        Model model = null;\n+        try\n+        {\n+            InputStream in = new FileInputStream( file );\n+            Reader reader = new InputStreamReader( in, \"UTF-8\" );\n+            model = new MavenXpp3Reader().read( reader );\n+        }\n+        catch ( IOException e )\n+        {\n+            throw new BuildException( \"IO error while reading pom: \" + e.getMessage(), e );\n+        }\n+        catch ( XmlPullParserException e )\n+        {\n+            throw new BuildException( \"Error parsing pom: \" + e.getMessage(), e );\n+        }\n+\n+        if ( model.getParent() != null && model.getParent().getRelativePath() != null )\n+        {\n+            // resolve parent pom\n+            Parent parent = model.getParent();\n+            String groupId = parent.getGroupId();\n+            String artifactId = parent.getArtifactId();\n+            String version = parent.getVersion();\n+\n+            ArtifactFactory factory = (ArtifactFactory) lookup( ArtifactFactory.ROLE );\n+            Artifact parentArtifact = factory.createParentArtifact( groupId, artifactId, version );\n+\n+            try\n+            {\n+                MavenMetadataSource metadataSource = (MavenMetadataSource) lookup( ArtifactMetadataSource.ROLE );\n+                ArtifactResolver resolver = (ArtifactResolver) lookup( ArtifactResolver.ROLE );\n+                List remoteRepositories = createRemoteArtifactRepositories();\n+\n+                resolver.resolveTransitively( Collections.singleton( parentArtifact ),\n+                                              createArtifact( createDummyPom() ), createLocalArtifactRepository(),\n+                                              remoteRepositories, metadataSource, null );\n+            }\n+            catch ( ArtifactResolutionException e )\n+            {\n+                throw new BuildException( \"Error downloading parent pom: \" + e.getMessage(), e );\n+            }\n+            catch ( ArtifactNotFoundException e )\n+            {\n+                throw new BuildException( \"Unable to download parent pom in remote repository: \" + e.getMessage(), e );\n+            }\n+        }\n+    }\n \n     protected MavenProject getMavenProject()\n     {",
                "deletions": 2
            }
        ]
    },
    {
        "repo": "maven-ant-tasks",
        "message": "Resolving issue: MNG-467 (patch from Kenney Westerhof applied, with minor formatting modifications)\nResolving issue: MNG-503 (another patch from Kenney Westerhof applied)\n\no Tracked down the potential NPE when using a list of dependencies in the DependencyTask (it needs a Pom in order to create an originating artifact)...creating a dummy Pom instance when the list of dependencies is supplied, since I assume the originatingArtifact is used for tracking/graphing purposes. This new method, called createDummyPom() is in AbstractArtifactTask, so it's available for use in InstallTask and DeployTask if necessary...\n\nThanks, Kenney!\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk/maven-artifact-ant@191744 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-ant-tasks/commit/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
        "parent": "https://github.com/apache/maven-ant-tasks/commit/c03ec5d5577cd407a98b34388e9d9b959c61b6ee",
        "bug_id": "maven-ant-tasks_14",
        "file": [
            {
                "sha": "d8f9d56ac9dfa6acd84eb898030b9a0a67beabe9",
                "filename": "sample.build.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/sample.build.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/sample.build.xml",
                "status": "modified",
                "changes": 45,
                "additions": 39,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/sample.build.xml?ref=bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
                "patch": "@@ -1,13 +1,46 @@\n-<project name=\"foo\" xmlns:artifact=\"antlib:org.apache.maven.artifact.ant\" default=\"foo\">\n-  <target name=\"test-pom\">\n+<project name=\"foo\" default=\"foo\" xmlns:artifact=\"urn:maven-artifact-ant\">\n+  <!--\n+    You either need to run the the 'initTaskDefs' task below and\n+    define the artifact namespace like above (choose anything you\n+    like except strings that start with 'antlib:'),\n+    and be sure to supply the path to the maven-artifact-ant jars\n+\n+    OR\n+\n+    just define the artifact namespace as follows:\n+\n+      xmlns:artifact=\"antlib:org.apache.maven.artifact.ant\"\n+\n+    and be sure to add the maven-artifact-ant jars to the ant\n+    classpath (either by setting the CLASSPATH environment variable\n+    before calling ant, or place the jars in the $ANT_HOME/lib directory).\n+\n+  -->\n+\n+  <target name=\"initTaskDefs\">\n+    <!-- don't forget to set the value! -->\n+    <property name=\"maven.artifact-ant.lib.dir\" value=\"${user.home}/work/opensource/m2/maven-artifact-ant/target/\"/>\n+    <path id=\"maven.classpath\">\n+      <pathelement location=\"${maven.artifact-ant.lib.dir}/maven-artifact-ant-2.0-SNAPSHOT-dep.jar\"/>\n+      <pathelement location=\"${maven.artifact-ant.lib.dir}maven-artifact-ant-2.0-SNAPSHOT.jar\"/>\n+    </path>\n+\n+    <typedef resource=\"org/apache/maven/artifact/ant/antlib.xml\"\n+      uri=\"urn:maven-artifact-ant\"\n+    >\n+      <classpath refid=\"maven.classpath\"/>\n+    </typedef>\n+  </target>\n+\n+  <target name=\"test-pom\" depends=\"initTaskDefs\">\n     <artifact:pom file=\"pom.xml\" id=\"my.maven.project\"/>\n \n-    <echo>Artifact ID = ${my.maven.project:artifactId}</echo>\n+    <echo>Artifact ID = ${my.maven.project.artifactId}</echo>\n \n-    <echo>Parent Artifact ID = ${my.maven.project:parent.artifactId}</echo>\n+    <echo>Parent Artifact ID = ${my.maven.project.parent.artifactId}</echo>\n   </target>\n \n-  <target name=\"foo\">\n+  <target name=\"foo\" depends=\"initTaskDefs\">\n     <artifact:localRepository id=\"local.repository\" location=\"${basedir}/target/local-repo\" layout=\"default\"/>\n \n     <artifact:remoteRepository id=\"deploy.repository\" url=\"file://${basedir}/target/deployment-repo\" layout=\"legacy\"/>\n@@ -51,7 +84,7 @@\n     </artifact:deploy>\n   </target>\n \n-  <target name=\"test-scm\">\n+  <target name=\"test-scm\" depends=\"initTaskDefs\">\n     <mkdir dir=\"target\" />\n \n     <pathconvert targetos=\"unix\" property=\"repo.path.unix\">",
                "deletions": 6
            },
            {
                "sha": "ec27252e581eb594f11c129f67cb210c84afa5f0",
                "filename": "src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java",
                "status": "modified",
                "changes": 35,
                "additions": 34,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/AbstractArtifactTask.java?ref=bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
                "patch": "@@ -27,11 +27,16 @@\n import org.apache.maven.settings.Server;\n import org.apache.maven.settings.Settings;\n import org.apache.maven.settings.io.xpp3.SettingsXpp3Reader;\n+import org.apache.maven.model.Model;\n import org.apache.maven.profiles.activation.ProfileActivationUtils;\n+import org.apache.maven.project.MavenProject;\n import org.apache.maven.project.MavenProjectBuilder;\n import org.apache.tools.ant.BuildException;\n import org.apache.tools.ant.Project;\n import org.apache.tools.ant.Task;\n+import org.codehaus.classworlds.ClassRealm;\n+import org.codehaus.classworlds.ClassWorld;\n+import org.codehaus.classworlds.DuplicateRealmException;\n import org.codehaus.plexus.PlexusContainerException;\n import org.codehaus.plexus.component.repository.exception.ComponentLifecycleException;\n import org.codehaus.plexus.component.repository.exception.ComponentLookupException;\n@@ -251,14 +256,24 @@ private synchronized Embedder getEmbedder()\n             if ( embedder == null )\n             {\n                 embedder = new Embedder();\n+\n                 try\n                 {\n-                    embedder.start();\n+                    ClassWorld classWorld = new ClassWorld();\n+                    \n+                    ClassRealm classRealm = classWorld.newRealm( \"plexus.core\", getClass().getClassLoader() );\n+                    \n+                    embedder.start( classWorld );\n                 }\n                 catch ( PlexusContainerException e )\n                 {\n                     throw new BuildException( \"Unable to start embedder\", e );\n                 }\n+                catch ( DuplicateRealmException e )\n+                {\n+                    throw new BuildException( \"Unable to create embedder ClassRealm\", e );\n+                }\n+                \n                 getProject().addReference( Embedder.class.getName(), embedder );\n             }\n         }\n@@ -289,6 +304,24 @@ public Pom buildPom( MavenProjectBuilder projectBuilder, ArtifactRepository loca\n         return pom;\n     }\n \n+    protected Pom createDummyPom()\n+    {\n+        Model mavenModel = new Model();\n+        \n+        mavenModel.setGroupId( \"unspecified\" );\n+        mavenModel.setArtifactId( \"unspecified\" );\n+        mavenModel.setVersion( \"0.0\" );\n+        mavenModel.setPackaging( \"jar\" );\n+        \n+        MavenProject mavenProject = new MavenProject( mavenModel );\n+        \n+        Pom pom = new Pom();\n+        \n+        pom.setMavenProject( mavenProject );\n+        \n+        return pom;\n+    }\n+\n     public void addPom( Pom pom )\n     {\n         this.pom = pom;",
                "deletions": 1
            },
            {
                "sha": "c3194c5f21989142d2adf6013a11bd24861518f8",
                "filename": "src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java",
                "status": "modified",
                "changes": 6,
                "additions": 6,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/DependenciesTask.java?ref=bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
                "patch": "@@ -81,6 +81,12 @@ public void execute()\n                 remoteRepositories.add( createAntRemoteRepository( pomRepository ) );\n             }\n         }\n+        else\n+        {\n+            // we have to have some sort of Pom object in order to satisfy the requirements for building the\n+            // originating Artifact below...\n+            pom = createDummyPom();\n+        }\n \n         Set artifacts = metadataSource.createArtifacts( dependencies, null, null );\n ",
                "deletions": 0
            },
            {
                "sha": "138dbd4129744b2903593b046a280f50126a2204",
                "filename": "src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/java/org/apache/maven/artifact/ant/Pom.java",
                "status": "modified",
                "changes": 5,
                "additions": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/java/org/apache/maven/artifact/ant/Pom.java?ref=bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
                "patch": "@@ -91,6 +91,11 @@ protected Pom getInstance()\n         }\n         return instance;\n     }\n+    \n+    public void setMavenProject( MavenProject mavenProject )\n+    {\n+        getInstance().mavenProject = mavenProject;\n+    }\n \n     public File getFile()\n     {",
                "deletions": 0
            },
            {
                "sha": "1365b7f53d9e5106e191f115e047a365ae09cb20",
                "filename": "src/main/resources/META-INF/plexus/components.xml",
                "blob_url": "https://github.com/apache/maven-ant-tasks/blob/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/resources/META-INF/plexus/components.xml",
                "raw_url": "https://github.com/apache/maven-ant-tasks/raw/bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8/src/main/resources/META-INF/plexus/components.xml",
                "status": "modified",
                "changes": 22,
                "additions": 11,
                "contents_url": "https://api.github.com/repos/apache/maven-ant-tasks/contents/src/main/resources/META-INF/plexus/components.xml?ref=bdefaab8c88c037d4cd7c902cb9274c9d07d5ea8",
                "patch": "@@ -229,7 +229,7 @@\n           <role>org.apache.maven.artifact.repository.ArtifactRepositoryFactory</role>\n         </requirement>\n         <requirement>\n-          <role>org.apache.maven.profiless.activation.ProfileActivationCalculator</role>\n+          <role>org.apache.maven.profiles.activation.ProfileActivationCalculator</role>\n         </requirement>\n       </requirements>\n     </component>\n@@ -239,48 +239,48 @@\n      |\n      -->\n     <component>\n-      <role>org.apache.maven.profiless.activation.ProfileActivationCalculator</role>\n-      <implementation>org.apache.maven.profiless.activation.ProfileActivationCalculator</implementation>\n+      <role>org.apache.maven.profiles.activation.ProfileActivationCalculator</role>\n+      <implementation>org.apache.maven.profiles.activation.ProfileActivationCalculator</implementation>\n     </component>\n     <!--\n      |\n      |\n      |\n      -->\n     <component>\n-      <role>org.apache.maven.profiless.activation.ProfileActivator</role>\n+      <role>org.apache.maven.profiles.activation.ProfileActivator</role>\n       <role-hint>always-on</role-hint>\n-      <implementation>org.apache.maven.profiless.activation.AlwaysOnProfileActivator</implementation>\n+      <implementation>org.apache.maven.profiles.activation.AlwaysOnProfileActivator</implementation>\n     </component>\n     <!--\n      |\n      |\n      |\n      -->\n     <component>\n-      <role>org.apache.maven.profiless.activation.ProfileActivator</role>\n+      <role>org.apache.maven.profiles.activation.ProfileActivator</role>\n       <role-hint>jdk-prefix</role-hint>\n-      <implementation>org.apache.maven.profiless.activation.JdkPrefixProfileActivator</implementation>\n+      <implementation>org.apache.maven.profiles.activation.JdkPrefixProfileActivator</implementation>\n     </component>\n     <!--\n      |\n      |\n      |\n      -->\n     <component>\n-      <role>org.apache.maven.profiless.activation.ProfileActivator</role>\n+      <role>org.apache.maven.profiles.activation.ProfileActivator</role>\n       <role-hint>system-property</role-hint>\n-      <implementation>org.apache.maven.profiless.activation.SystemPropertyProfileActivator</implementation>\n+      <implementation>org.apache.maven.profiles.activation.SystemPropertyProfileActivator</implementation>\n     </component>\n     <!--\n      |\n      |\n      |\n      -->\n     <component>\n-      <role>org.apache.maven.profiless.activation.ProfileActivator</role>\n+      <role>org.apache.maven.profiles.activation.ProfileActivator</role>\n       <role-hint>explicit-listing</role-hint>\n-      <implementation>org.apache.maven.profiless.activation.ExplicitListingProfileActivator</implementation>\n+      <implementation>org.apache.maven.profiles.activation.ExplicitListingProfileActivator</implementation>\n     </component>\n     <!--\n      |",
                "deletions": 11
            }
        ]
    }
]