[
    {
        "repo": "httpcomponents-client",
        "commit": "https://github.com/apache/httpcomponents-client/commit/b40661e45ec12fb1c7ef52b1891a9b677331f48d",
        "bug_id": "httpcomponents-client_b40661e",
        "message": "HTTPCLIENT-1498: empty host in redirect location causes NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1591221 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/httpcomponents-client/commit/92b5d6d09d9705bc69b6ccb77de9df7cf97fb6b7",
        "patched_files": [
            "URIUtils.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 1,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/b40661e45ec12fb1c7ef52b1891a9b677331f48d/httpclient/src/main/java/org/apache/http/client/utils/URIUtils.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient/src/main/java/org/apache/http/client/utils/URIUtils.java?ref=b40661e45ec12fb1c7ef52b1891a9b677331f48d",
                "filename": "httpclient/src/main/java/org/apache/http/client/utils/URIUtils.java",
                "deletions": 1,
                "sha": "d485cfe1051ac45a48ca8ba4c19770a2f47b4351",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/b40661e45ec12fb1c7ef52b1891a9b677331f48d/httpclient/src/main/java/org/apache/http/client/utils/URIUtils.java",
                "patch": "@@ -366,7 +366,7 @@ public static HttpHost extractHost(final URI uri) {\n                 }\n             }\n             final String scheme = uri.getScheme();\n-            if (host != null) {\n+            if (!TextUtils.isBlank(host)) {\n                 target = new HttpHost(host, port, scheme);\n             }\n         }",
                "changes": 2
            },
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/b40661e45ec12fb1c7ef52b1891a9b677331f48d/httpclient/src/test/java/org/apache/http/client/utils/TestURIUtils.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient/src/test/java/org/apache/http/client/utils/TestURIUtils.java?ref=b40661e45ec12fb1c7ef52b1891a9b677331f48d",
                "filename": "httpclient/src/test/java/org/apache/http/client/utils/TestURIUtils.java",
                "deletions": 0,
                "sha": "a0fb7eb6198423cd663019b3f7c5b31bf5a46db8",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/b40661e45ec12fb1c7ef52b1891a9b677331f48d/httpclient/src/test/java/org/apache/http/client/utils/TestURIUtils.java",
                "patch": "@@ -229,6 +229,8 @@ public void testExtractHost() throws Exception {\n                 URIUtils.extractHost(new URI(\"http://localhost:8080;sessionid=stuff/abcd\")));\n         Assert.assertEquals(new HttpHost(\"localhost\",-1),\n                 URIUtils.extractHost(new URI(\"http://localhost:;sessionid=stuff/abcd\")));\n+        Assert.assertEquals(null,\n+                URIUtils.extractHost(new URI(\"http://:80/robots.txt\")));\n     }\n \n     @Test",
                "changes": 2
            }
        ],
        "unit_tests": [
            "TestURIUtils.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "httpclient/src/test/java/org/apache/http/client/utils/TestURIUtils.java",
        "buggy_files": [
            "httpclient/src/main/java/org/apache/http/client/utils/URIUtils.java"
        ],
        "fixed": true
    }
]