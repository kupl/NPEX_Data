{
    "commons-jelly_6f4231f": {
        "bug_id": "commons-jelly_6f4231f",
        "commit": "https://github.com/apache/commons-jelly/commit/6f4231f9113b02e5a0e38396b827ca34ee07ffee",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/commons-jelly/blob/6f4231f9113b02e5a0e38396b827ca34ee07ffee/src/java/org/apache/commons/jelly/JellyContext.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/commons-jelly/contents/src/java/org/apache/commons/jelly/JellyContext.java?ref=6f4231f9113b02e5a0e38396b827ca34ee07ffee",
                "deletions": 2,
                "filename": "src/java/org/apache/commons/jelly/JellyContext.java",
                "patch": "@@ -322,9 +322,15 @@ public Map getVariables() {\n      * Sets the Map of variables to use\n      */\n     public void setVariables(Map variables) {\n-        // FIXME: I have seen this fail when the passed Map contains a key, value \n+        // I have seen this fail when the passed Map contains a key, value \n         // pair where the value is null\n-        this.variables.putAll( variables );\n+        for (Iterator iter = variables.entrySet().iterator(); iter.hasNext();) {\n+            Map.Entry element = (Map.Entry) iter.next();\n+            if (element.getValue() != null) {\n+                this.variables.put(element.getKey(), element.getValue());\n+            }\n+        }\n+        //this.variables.putAll( variables );\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/commons-jelly/raw/6f4231f9113b02e5a0e38396b827ca34ee07ffee/src/java/org/apache/commons/jelly/JellyContext.java",
                "sha": "8b008c6d863e359d4e016a387960f96743f13dc1",
                "status": "modified"
            }
        ],
        "message": "Maven exposed issue where a map has a null value and putAll was failing with an NPE\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jelly/trunk@135870 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-jelly/commit/b7fbe8c21fcf7da6405b63670633060e70b93dcd",
        "patched_files": [
            "JellyContext.java"
        ],
        "repo": "commons-jelly",
        "unit_tests": [
            "TestJellyContext.java"
        ]
    }
}