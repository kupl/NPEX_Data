[
    {
        "repo": "commons-dbcp",
        "commit": "https://github.com/apache/commons-dbcp/commit/0f30edc467a2ba03e7f2786e1088df624e0c3cf0",
        "bug_id": "commons-dbcp_0f30edc",
        "message": "[DBCP-555] NPE when creating a SQLExceptionList with a null list.",
        "parent": "https://github.com/apache/commons-dbcp/commit/459b4b84b92cb20499b091a6dd70e795c66eb674",
        "patched_files": [
            "changes.xml",
            "SQLExceptionList.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 6,
                "raw_url": "https://github.com/apache/commons-dbcp/raw/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/changes/changes.xml",
                "contents_url": "https://api.github.com/repos/apache/commons-dbcp/contents/src/changes/changes.xml?ref=0f30edc467a2ba03e7f2786e1088df624e0c3cf0",
                "filename": "src/changes/changes.xml",
                "deletions": 0,
                "sha": "276ce01cb80535af7196b8089a35009c79b14146",
                "blob_url": "https://github.com/apache/commons-dbcp/blob/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/changes/changes.xml",
                "patch": "@@ -60,6 +60,12 @@ The <action> type attribute can be add,update,fix,remove.\n      -->\n \n   <body>\n+    <release version=\"2.7.1\" date=\"2019-MM-DD\" description=\"This is a minor release, including bug fixes and enhancements.\">\n+      <!-- fix -->\n+      <action dev=\"ggregory\" type=\"fix\" issue=\"DBCP-555\" due-to=\"Gary Gregory\">\n+        NPE when creating a SQLExceptionList with a null list.\n+      </action>\n+    </release>\n     <release version=\"2.7.0\" date=\"2019-07-31\" description=\"This is a minor release, including bug fixes and enhancements.\">\n       <!-- add -->\n       <action dev=\"jleroux\" type=\"add\" issue=\"DBCP-539\" due-to=\"Jacques Le Roux\">",
                "changes": 6
            },
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/commons-dbcp/raw/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/main/java/org/apache/commons/dbcp2/SQLExceptionList.java",
                "contents_url": "https://api.github.com/repos/apache/commons-dbcp/contents/src/main/java/org/apache/commons/dbcp2/SQLExceptionList.java?ref=0f30edc467a2ba03e7f2786e1088df624e0c3cf0",
                "filename": "src/main/java/org/apache/commons/dbcp2/SQLExceptionList.java",
                "deletions": 2,
                "sha": "e90360847df119aefc84b5ab222985cccb1ad9cf",
                "blob_url": "https://github.com/apache/commons-dbcp/blob/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/main/java/org/apache/commons/dbcp2/SQLExceptionList.java",
                "patch": "@@ -40,13 +40,14 @@\n      * @param causeList a list of cause exceptions.\n      */\n     public SQLExceptionList(List<? extends Throwable> causeList) {\n-        super(String.format(\"%,d exceptions: %s\", causeList.size(), causeList), causeList.get(0));\n+        super(String.format(\"%,d exceptions: %s\", causeList == null ? 0 : causeList.size(), causeList),\n+                causeList == null ? null : causeList.get(0));\n         this.causeList = causeList;\n     }\n \n     /**\n      * Gets the cause list.\n-     * \n+     *\n      * @return The list of causes.\n      */\n     public List<? extends Throwable> getCauseList() {",
                "changes": 5
            },
            {
                "status": "modified",
                "additions": 7,
                "raw_url": "https://github.com/apache/commons-dbcp/raw/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/test/java/org/apache/commons/dbcp2/TestSQLExceptionList.java",
                "contents_url": "https://api.github.com/repos/apache/commons-dbcp/contents/src/test/java/org/apache/commons/dbcp2/TestSQLExceptionList.java?ref=0f30edc467a2ba03e7f2786e1088df624e0c3cf0",
                "filename": "src/test/java/org/apache/commons/dbcp2/TestSQLExceptionList.java",
                "deletions": 0,
                "sha": "9a5607b83ba7c6f69a9e66f73d4aee4a9d675625",
                "blob_url": "https://github.com/apache/commons-dbcp/blob/0f30edc467a2ba03e7f2786e1088df624e0c3cf0/src/test/java/org/apache/commons/dbcp2/TestSQLExceptionList.java",
                "patch": "@@ -35,4 +35,11 @@ public void testCause() {\n         Assertions.assertEquals(list, sqlExceptionList.getCauseList());\n         sqlExceptionList.printStackTrace();\n     }\n+\n+    @Test\n+    public void testNullCause() {\n+        final SQLExceptionList sqlExceptionList = new SQLExceptionList(null);\n+        Assertions.assertNull(sqlExceptionList.getCause());\n+        Assertions.assertNull(sqlExceptionList.getCauseList());\n+    }\n }",
                "changes": 7
            }
        ],
        "unit_tests": [
            "TestSQLExceptionList.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/dbcp2/TestSQLExceptionList.java",
        "buggy_files": [
            "src/changes/changes.xml",
            "src/main/java/org/apache/commons/dbcp2/SQLExceptionList.java"
        ],
        "fixed": true
    }
]