[{"commit": "https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/commit/a75eaf2251b28f8b30ea725fa2985664417f043e", "parent": "https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/commit/a611338faa113abc61b53efcaf07eb47f0f9cb46", "message": "avoid NPE on failing test\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1052297 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "sling-org-apache-sling-launchpad-integration-tests_1", "file": [{"additions": 9, "raw_url": "https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/raw/a75eaf2251b28f8b30ea725fa2985664417f043e/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/FiltersTest.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-launchpad-integration-tests/blob/a75eaf2251b28f8b30ea725fa2985664417f043e/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/FiltersTest.java", "sha": "2e2554a36ce555e6ad6ecbabac14b953585c08b2", "changes": 12, "status": "modified", "deletions": 3, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-launchpad-integration-tests/contents/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/FiltersTest.java?ref=a75eaf2251b28f8b30ea725fa2985664417f043e", "patch": "@@ -24,8 +24,14 @@\n \n     public void testCounters() throws IOException {\n         HttpMethod get = assertHttpStatus(HTTP_BASE_URL + \"/index.html\", HttpServletResponse.SC_OK);\n-        assertEquals(\"Filter-set header has incorrect value.\", \"1\", get.getResponseHeader(\"FILTER_COUNTER_HTTPSERVICE\").getValue());\n-        assertEquals(\"Filter-set header has incorrect value.\", \"1\", get.getResponseHeader(\"FILTER_COUNTER_SLING\").getValue());\n-        assertEquals(\"Filter-set header has incorrect value.\", \"1\", get.getResponseHeader(\"FILTER_COUNTER_NOPROP\").getValue());\n+        final String [] headers = {\n+            \"FILTER_COUNTER_HTTPSERVICE\",\n+            \"FILTER_COUNTER_SLING\",\n+            \"FILTER_COUNTER_NOPROP\"\n+        };\n+        for(String header : headers) {\n+            assertNotNull(\"Expecting header '\" + header + \"'\", get.getResponseHeader(header));\n+            assertEquals(\"Expecting value 1 for header '\" + header + \"'\", \"1\", get.getResponseHeader(header).getValue());\n+        }\n     }\n }", "filename": "src/main/java/org/apache/sling/launchpad/webapp/integrationtest/FiltersTest.java"}], "repo": "sling-org-apache-sling-launchpad-integration-tests"}]
