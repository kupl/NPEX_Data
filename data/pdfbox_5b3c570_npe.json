[
    {
        "repo": "pdfbox",
        "commit": "https://github.com/apache/pdfbox/commit/5b3c5708af635257d12c51d1c99f274e70d2c2d1",
        "bug_id": "pdfbox_5b3c570",
        "message": "PDFBOX-1719\nNPE while signing PDF - acroform without fields\n\ngit-svn-id: https://svn.apache.org/repos/asf/pdfbox/trunk@1523680 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/pdfbox/commit/af49e1a8a0a23151c743726cae88b0519950f436",
        "patched_files": [
            "PDDocument.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 5,
                "raw_url": "https://github.com/apache/pdfbox/raw/5b3c5708af635257d12c51d1c99f274e70d2c2d1/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java",
                "contents_url": "https://api.github.com/repos/apache/pdfbox/contents/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java?ref=5b3c5708af635257d12c51d1c99f274e70d2c2d1",
                "filename": "pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java",
                "deletions": 0,
                "sha": "f8ee631ab960691aaae4a8b05a7b96a8c929e466",
                "blob_url": "https://github.com/apache/pdfbox/blob/5b3c5708af635257d12c51d1c99f274e70d2c2d1/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java",
                "patch": "@@ -360,6 +360,11 @@ else if (options.getPage() <= 0)\n \n         List<PDField> fields = acroForm.getFields();\n         PDSignatureField signatureField = null;\n+        if(fields == null) \n+        {\n+            fields = new ArrayList();\n+            acroForm.setFields(fields);\n+        }\n         for (PDField pdField : fields)\n         {\n             if (pdField instanceof PDSignatureField)",
                "changes": 5
            }
        ],
        "unit_tests": [
            "TestPDDocument.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java",
        "buggy_files": [
            "pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java"
        ],
        "fixed": true
    }
]