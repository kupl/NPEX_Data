{
    "wookie_b5075de": {
        "bug_id": "wookie_b5075de",
        "commit": "https://github.com/apache/wookie/commit/b5075deffd5c0911176373cdee146409ac940366",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/wookie/blob/b5075deffd5c0911176373cdee146409ac940366/wookie-services/wookie-spi/src/main/java/org/apache/wookie/services/impl/DefaultPreferencesService.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/wookie/contents/wookie-services/wookie-spi/src/main/java/org/apache/wookie/services/impl/DefaultPreferencesService.java?ref=b5075deffd5c0911176373cdee146409ac940366",
                "deletions": 1,
                "filename": "wookie-services/wookie-spi/src/main/java/org/apache/wookie/services/impl/DefaultPreferencesService.java",
                "patch": "@@ -41,7 +41,12 @@ public String getPreference(String token, String name) {\n \t\t\twidgetpreferences = new HashMap<String, IPreference>();\n \t\t\tthis.preferences.put(token, widgetpreferences);\n \t\t}\n-\t\treturn widgetpreferences.get(name).getValue();\n+\t\tIPreference pref = widgetpreferences.get(name);\n+\t\tif (pref != null){\n+\t\t\treturn widgetpreferences.get(name).getValue();\n+\t\t} else {\n+\t\t\treturn null;\n+\t\t}\n \t}\n \n \t@Override",
                "raw_url": "https://github.com/apache/wookie/raw/b5075deffd5c0911176373cdee146409ac940366/wookie-services/wookie-spi/src/main/java/org/apache/wookie/services/impl/DefaultPreferencesService.java",
                "sha": "76063af25f1c8f3f62c7275305ca5245a9b7e83a",
                "status": "modified"
            }
        ],
        "message": "Ensure we don't get an NPE when getting the value of a preference\n\ngit-svn-id: https://svn.apache.org/repos/asf/wookie/trunk@1566367 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/wookie/commit/f6d136c683fceffe3bdaca0cb98d6a6e58a5ca13",
        "repo": "wookie",
        "unit_tests": [
            "DefaultPreferencesServiceTest.java"
        ]
    },
    "wookie_b9b4aa9": {
        "bug_id": "wookie_b9b4aa9",
        "commit": "https://github.com/apache/wookie/commit/b9b4aa90617f90d0e9fd93571a2c8eaad089b6e8",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/wookie/blob/b9b4aa90617f90d0e9fd93571a2c8eaad089b6e8/parser/java/src/org/apache/wookie/w3c/W3CWidgetFactory.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/wookie/contents/parser/java/src/org/apache/wookie/w3c/W3CWidgetFactory.java?ref=b9b4aa90617f90d0e9fd93571a2c8eaad089b6e8",
                "deletions": 1,
                "filename": "parser/java/src/org/apache/wookie/w3c/W3CWidgetFactory.java",
                "patch": "@@ -19,6 +19,7 @@\n import java.net.URL;\n \n import org.apache.commons.compress.archivers.zip.ZipFile;\n+import org.apache.commons.httpclient.Header;\n import org.apache.commons.httpclient.HttpClient;\n import org.apache.commons.httpclient.HttpException;\n import org.apache.commons.httpclient.methods.GetMethod;\n@@ -243,7 +244,9 @@ private File download(URL url, boolean ignoreContentType) throws InvalidContentT\n \t\tGetMethod method = new GetMethod(url.toString());\n \t\tclient.executeMethod(method);\n \t\tif (!ignoreContentType){\n-\t\t\tString type = method.getResponseHeader(\"Content-Type\").getValue();\n+\t\t    Header header = method.getResponseHeader(\"Content-Type\");\n+\t\t    if (header == null) throw new InvalidContentTypeException(\"Problem downloading widget: expected a content type of \"+WIDGET_CONTENT_TYPE+\" but received no content type description.\");\n+\t\t\tString type = header.getValue();\n \t\t\tif (!type.startsWith(WIDGET_CONTENT_TYPE)) throw new InvalidContentTypeException(\"Problem downloading widget: expected a content type of \"+WIDGET_CONTENT_TYPE+\" but received:\"+type);\n \t\t}\n \t\tFile file = File.createTempFile(\"wookie\", null);",
                "raw_url": "https://github.com/apache/wookie/raw/b9b4aa90617f90d0e9fd93571a2c8eaad089b6e8/parser/java/src/org/apache/wookie/w3c/W3CWidgetFactory.java",
                "sha": "84e6152fce19fca807062484d0d3ebc2399e7ff0",
                "status": "modified"
            }
        ],
        "message": "Minor bug fix - missing content-type header for a downloaded widget caused a NPE.  Now throws a more obvious exception message when content-type is not present.\n\ngit-svn-id: https://svn.apache.org/repos/asf/wookie/trunk@1433577 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/wookie/commit/ed306df588d66f1f92d9c5aabd21524d8c9c9487",
        "repo": "wookie",
        "unit_tests": [
            "W3CWidgetFactoryTest.java"
        ]
    }
}