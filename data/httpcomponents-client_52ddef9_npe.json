[
    {
        "repo": "httpcomponents-client",
        "commit": "https://github.com/apache/httpcomponents-client/commit/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e",
        "bug_id": "httpcomponents-client_52ddef9",
        "message": "[HTTPCLIENT-1365] NPE when ManagedHttpClientConnectionFactory.create(ConnectionConfig) is called with null. Contributed by Gary Gregory <ggregory at apache.org>\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1490299 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/httpcomponents-client/commit/531ac65cc9f22873a0954e52520c532516267999",
        "patched_files": [
            "RELEASE_NOTES.txt",
            "ManagedHttpClientConnectionFactory.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/RELEASE_NOTES.txt",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/RELEASE_NOTES.txt?ref=52ddef91faef5529bbb4d3d358dfbf5f2a10c56e",
                "filename": "RELEASE_NOTES.txt",
                "deletions": 0,
                "sha": "6a10ed5c61fd879cf02948647a0ebd8a7f1c2576",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/RELEASE_NOTES.txt",
                "patch": "@@ -1,6 +1,9 @@\n Changes since release 4.3 BETA2\n -------------------\n \n+* [HTTPCLIENT-1365] NPE when ManagedHttpClientConnectionFactory.create(ConnectionConfig) is called with null.\n+  Contributed by Gary Gregory <ggregory at apache.org>\n+\n * [HTTPCLIENT-1362] Better error messages for connect timed out and connection refused \n   exceptions.\n   Contributed by Oleg Kalnichevski <olegk at apache.org>",
                "changes": 3
            },
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/httpclient/src/main/java/org/apache/http/impl/conn/ManagedHttpClientConnectionFactory.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient/src/main/java/org/apache/http/impl/conn/ManagedHttpClientConnectionFactory.java?ref=52ddef91faef5529bbb4d3d358dfbf5f2a10c56e",
                "filename": "httpclient/src/main/java/org/apache/http/impl/conn/ManagedHttpClientConnectionFactory.java",
                "deletions": 2,
                "sha": "332449fbb38657b8dd848d08764a26ce800d510b",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/httpclient/src/main/java/org/apache/http/impl/conn/ManagedHttpClientConnectionFactory.java",
                "patch": "@@ -104,8 +104,8 @@ public ManagedHttpClientConnection create(final ConnectionConfig config) {\n                 log,\n                 headerlog,\n                 wirelog,\n-                config.getBufferSize(),\n-                config.getFragmentSizeHint(),\n+                cconfig.getBufferSize(),\n+                cconfig.getFragmentSizeHint(),\n                 chardecoder,\n                 charencoder,\n                 cconfig.getMessageConstraints(),",
                "changes": 4
            },
            {
                "status": "added",
                "additions": 52,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/httpclient/src/test/java/org/apache/http/impl/conn/TestManagedHttpClientConnectionFactory.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient/src/test/java/org/apache/http/impl/conn/TestManagedHttpClientConnectionFactory.java?ref=52ddef91faef5529bbb4d3d358dfbf5f2a10c56e",
                "filename": "httpclient/src/test/java/org/apache/http/impl/conn/TestManagedHttpClientConnectionFactory.java",
                "deletions": 0,
                "sha": "f09c5bbe9e90d4e35de81d19b939189df78dc1ca",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/52ddef91faef5529bbb4d3d358dfbf5f2a10c56e/httpclient/src/test/java/org/apache/http/impl/conn/TestManagedHttpClientConnectionFactory.java",
                "patch": "@@ -0,0 +1,52 @@\n+/*\n+ * ====================================================================\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+package org.apache.http.impl.conn;\n+\n+import junit.framework.Assert;\n+\n+import org.apache.http.config.ConnectionConfig;\n+import org.apache.http.conn.ManagedHttpClientConnection;\n+import org.junit.Test;\n+\n+public class TestManagedHttpClientConnectionFactory {\n+\n+    @Test\n+    public void testDefaultConnectionConfig() throws Exception {\n+        validateDefault(ManagedHttpClientConnectionFactory.INSTANCE.create(ConnectionConfig.DEFAULT));\n+    }\n+\n+    private void validateDefault(ManagedHttpClientConnection managedHttpClientConnection) {\n+        // Nothing really interesting to check here\n+        Assert.assertNotNull(managedHttpClientConnection.getId());\n+    }\n+\n+    @Test\n+    public void testNullConnectionConfig() throws Exception {\n+        // Should not NPE\n+        validateDefault(ManagedHttpClientConnectionFactory.INSTANCE.create(null));\n+    }\n+}",
                "changes": 52
            }
        ],
        "unit_tests": [
            "TestManagedHttpClientConnectionFactory.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "httpclient/src/test/java/org/apache/http/impl/conn/TestManagedHttpClientConnectionFactory.java",
        "buggy_files": [
            "RELEASE_NOTES.txt",
            "httpclient/src/main/java/org/apache/http/impl/conn/ManagedHttpClientConnectionFactory.java"
        ],
        "fixed": true
    }
]