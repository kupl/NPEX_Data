[
    {
        "commit": "https://github.com/apache/sling-org-apache-sling-adapter/commit/3f4f0f4ec0c27569c4180ac6911f17e9595d467c",
        "file": [
            {
                "patch": "@@ -20,6 +20,7 @@\n \n import org.apache.sling.adapter.internal.AdapterManagerImpl;\n import org.apache.sling.api.adapter.Adaptable;\n+import org.apache.sling.api.adapter.AdapterManager;\n \n /**\n  * The <code>SlingAdaptable</code> class is an (abstract) default\n@@ -34,7 +35,8 @@\n public abstract class SlingAdaptable implements Adaptable {\n \n     public <AdapterType> AdapterType adaptTo(Class<AdapterType> type) {\n-        return AdapterManagerImpl.getInstance().getAdapter(this, type);\n+        final AdapterManager mgr = AdapterManagerImpl.getInstance();\n+        return (mgr == null ? null : mgr.getAdapter(this, type));\n     }\n \n }",
                "additions": 3,
                "raw_url": "https://github.com/apache/sling-org-apache-sling-adapter/raw/3f4f0f4ec0c27569c4180ac6911f17e9595d467c/src/main/java/org/apache/sling/adapter/SlingAdaptable.java",
                "status": "modified",
                "changes": 4,
                "deletions": 1,
                "sha": "c2bf3bf1c77e2b5b84c8241e8339b96bcee475d9",
                "blob_url": "https://github.com/apache/sling-org-apache-sling-adapter/blob/3f4f0f4ec0c27569c4180ac6911f17e9595d467c/src/main/java/org/apache/sling/adapter/SlingAdaptable.java",
                "filename": "src/main/java/org/apache/sling/adapter/SlingAdaptable.java",
                "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-adapter/contents/src/main/java/org/apache/sling/adapter/SlingAdaptable.java?ref=3f4f0f4ec0c27569c4180ac6911f17e9595d467c"
            }
        ],
        "bug_id": "sling-org-apache-sling-adapter_1",
        "parent": "https://github.com/apache/sling-org-apache-sling-adapter/commit/d55d17d1491b79e510f6f29c103e2841e4c4f3ab",
        "message": "SLING-1143 : Prevent NPE when adapter manager service is not running.\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@823465 13f79535-47bb-0310-9956-ffa450edef68",
        "repo": "sling-org-apache-sling-adapter"
    },
    {
        "commit": "https://github.com/apache/sling-org-apache-sling-adapter/commit/76770ecb64c81994e745bec2c8f82f810053c657",
        "file": [
            {
                "patch": "@@ -5,9 +5,9 @@\n  * licenses this file to You under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance with the License.\n  * You may obtain a copy of the License at\n- * \n+ *\n  * http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  * Unless required by applicable law or agreed to in writing, software\n  * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n@@ -16,7 +16,8 @@\n  */\n package org.apache.sling.adapter.internal;\n \n-import static org.apache.sling.api.adapter.AdapterFactory.*;\n+import static org.apache.sling.api.adapter.AdapterFactory.ADAPTABLE_CLASSES;\n+import static org.apache.sling.api.adapter.AdapterFactory.ADAPTER_CLASSES;\n \n import java.io.IOException;\n import java.io.InputStream;\n@@ -202,6 +203,7 @@ protected void activate(ComponentContext ctx) throws InvalidSyntaxException {\n     }\n \n     protected void deactivate(ComponentContext ctx) {\n+        this.bundleContext.removeBundleListener(this);\n         this.adapterTracker.close();\n         this.adapterServices = null;\n         this.adapterBundles = null;",
                "additions": 5,
                "raw_url": "https://github.com/apache/sling-org-apache-sling-adapter/raw/76770ecb64c81994e745bec2c8f82f810053c657/src/main/java/org/apache/sling/adapter/internal/AdapterWebConsolePlugin.java",
                "status": "modified",
                "changes": 8,
                "deletions": 3,
                "sha": "c6b946b7f2962846d2933269eda98d24d4687ffb",
                "blob_url": "https://github.com/apache/sling-org-apache-sling-adapter/blob/76770ecb64c81994e745bec2c8f82f810053c657/src/main/java/org/apache/sling/adapter/internal/AdapterWebConsolePlugin.java",
                "filename": "src/main/java/org/apache/sling/adapter/internal/AdapterWebConsolePlugin.java",
                "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-adapter/contents/src/main/java/org/apache/sling/adapter/internal/AdapterWebConsolePlugin.java?ref=76770ecb64c81994e745bec2c8f82f810053c657"
            }
        ],
        "bug_id": "sling-org-apache-sling-adapter_2",
        "parent": "https://github.com/apache/sling-org-apache-sling-adapter/commit/cb58640e4c2a50932c041a75b9b4059b68735287",
        "message": "Unregister listener to avoid NPEs when this component is already disposed but events are coming in\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1221338 13f79535-47bb-0310-9956-ffa450edef68",
        "repo": "sling-org-apache-sling-adapter"
    }
]