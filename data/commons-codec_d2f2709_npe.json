[
    {
        "repo": "commons-codec",
        "commit": "https://github.com/apache/commons-codec/commit/d2f27093d7d95a07da901902f894d88b4ecc3e95",
        "bug_id": "commons-codec_d2f2709",
        "message": "CODEC-229 StringUtils.newStringxxx(null) should return null, not NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/codec/trunk@1788755 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-codec/commit/1a4d9cc2572d220664f1b7c377cd318cd253052e",
        "patched_files": [
            "changes.xml",
            "StringUtils.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/commons-codec/raw/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/changes/changes.xml",
                "contents_url": "https://api.github.com/repos/apache/commons-codec/contents/src/changes/changes.xml?ref=d2f27093d7d95a07da901902f894d88b4ecc3e95",
                "filename": "src/changes/changes.xml",
                "deletions": 1,
                "sha": "13a91d51a5005d83b666d9aaff5590548a415acd",
                "blob_url": "https://github.com/apache/commons-codec/blob/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/changes/changes.xml",
                "patch": "@@ -42,9 +42,10 @@ The <action> type attribute can be add,update,fix,remove.\n     <author>Apache Commons Developers</author>\n   </properties>\n   <body>\n-    <release version=\"1.11\" date=\"2016-MM-DD\" description=\"Feature and fix release.\">\n+    <release version=\"1.11\" date=\"2017-MM-DD\" description=\"Feature and fix release.\">\n       <!-- The first attribute below should be the issue id; makes it easier to navigate in the IDE outline -->\n \n+      <action issue=\"CODEC-229\" dev=\"sebb\" type=\"fix\">StringUtils.newStringxxx(null) should return null, not NPE</action>\n       <action issue=\"CODEC-220\" dev=\"sebb\" type=\"add\">Fluent interface for DigestUtils</action>\n       <action issue=\"CODEC-222\" dev=\"sebb\" type=\"add\">Fluent interface for HmacUtils</action>\n       <action issue=\"CODEC-225\" dev=\"jochen\" type=\"fix\" due-to=\"Svetlin Zarev\">Fix minor resource leaks</action>",
                "changes": 3
            },
            {
                "status": "modified",
                "additions": 5,
                "raw_url": "https://github.com/apache/commons-codec/raw/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/main/java/org/apache/commons/codec/binary/StringUtils.java",
                "contents_url": "https://api.github.com/repos/apache/commons-codec/contents/src/main/java/org/apache/commons/codec/binary/StringUtils.java?ref=d2f27093d7d95a07da901902f894d88b4ecc3e95",
                "filename": "src/main/java/org/apache/commons/codec/binary/StringUtils.java",
                "deletions": 5,
                "sha": "7bb15e33276ae65bb7c41085ea2938536eff421d",
                "blob_url": "https://github.com/apache/commons-codec/blob/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/main/java/org/apache/commons/codec/binary/StringUtils.java",
                "patch": "@@ -336,7 +336,7 @@ public static String newString(final byte[] bytes, final String charsetName) {\n      * @since As of 1.7, throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n     public static String newStringIso8859_1(final byte[] bytes) {\n-        return new String(bytes, Charsets.ISO_8859_1);\n+        return newString(bytes, Charsets.ISO_8859_1);\n     }\n \n     /**\n@@ -352,7 +352,7 @@ public static String newStringIso8859_1(final byte[] bytes) {\n      * @since As of 1.7, throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n     public static String newStringUsAscii(final byte[] bytes) {\n-        return new String(bytes, Charsets.US_ASCII);\n+        return newString(bytes, Charsets.US_ASCII);\n     }\n \n     /**\n@@ -368,7 +368,7 @@ public static String newStringUsAscii(final byte[] bytes) {\n      * @since As of 1.7, throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n     public static String newStringUtf16(final byte[] bytes) {\n-        return new String(bytes, Charsets.UTF_16);\n+        return newString(bytes, Charsets.UTF_16);\n     }\n \n     /**\n@@ -384,7 +384,7 @@ public static String newStringUtf16(final byte[] bytes) {\n      * @since As of 1.7, throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n     public static String newStringUtf16Be(final byte[] bytes) {\n-        return new String(bytes, Charsets.UTF_16BE);\n+        return newString(bytes, Charsets.UTF_16BE);\n     }\n \n     /**\n@@ -400,7 +400,7 @@ public static String newStringUtf16Be(final byte[] bytes) {\n      * @since As of 1.7, throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n     public static String newStringUtf16Le(final byte[] bytes) {\n-        return new String(bytes, Charsets.UTF_16LE);\n+        return newString(bytes, Charsets.UTF_16LE);\n     }\n \n     /**",
                "changes": 10
            },
            {
                "status": "modified",
                "additions": 10,
                "raw_url": "https://github.com/apache/commons-codec/raw/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/test/java/org/apache/commons/codec/binary/StringUtilsTest.java",
                "contents_url": "https://api.github.com/repos/apache/commons-codec/contents/src/test/java/org/apache/commons/codec/binary/StringUtilsTest.java?ref=d2f27093d7d95a07da901902f894d88b4ecc3e95",
                "filename": "src/test/java/org/apache/commons/codec/binary/StringUtilsTest.java",
                "deletions": 0,
                "sha": "8a6e219315f8a9f49561350ba62dde1e096d2d45",
                "blob_url": "https://github.com/apache/commons-codec/blob/d2f27093d7d95a07da901902f894d88b4ecc3e95/src/test/java/org/apache/commons/codec/binary/StringUtilsTest.java",
                "patch": "@@ -145,6 +145,16 @@ public void testNewStringNullInput() {\n         Assert.assertNull(StringUtils.newString(null, \"UNKNOWN\"));\n     }\n \n+    @Test\n+    public void testNewStringNullInput_CODEC229() {\n+        Assert.assertNull(StringUtils.newStringUtf8(null));\n+        Assert.assertNull(StringUtils.newStringIso8859_1(null));\n+        Assert.assertNull(StringUtils.newStringUsAscii(null));\n+        Assert.assertNull(StringUtils.newStringUtf16(null));\n+        Assert.assertNull(StringUtils.newStringUtf16Be(null));\n+        Assert.assertNull(StringUtils.newStringUtf16Le(null));\n+    }\n+\n     @Test\n     public void testNewStringIso8859_1() throws UnsupportedEncodingException {\n         final String charsetName = \"ISO-8859-1\";",
                "changes": 10
            }
        ],
        "unit_tests": [
            "StringUtilsTest.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/codec/binary/StringUtilsTest.java",
        "buggy_files": [
            "src/changes/changes.xml",
            "src/main/java/org/apache/commons/codec/binary/StringUtils.java"
        ],
        "fixed": true
    }
]