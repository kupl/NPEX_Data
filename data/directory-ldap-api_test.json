{
    "directory-ldap-api_03b6903": {
        "bug_id": "directory-ldap-api_03b6903",
        "commit": "https://github.com/apache/directory-ldap-api/commit/03b6903e48d1700a7de44ca8cd90da624df84895",
        "file": [
            {
                "additions": 84,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/03b6903e48d1700a7de44ca8cd90da624df84895/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifReader.java",
                "changes": 129,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifReader.java?ref=03b6903e48d1700a7de44ca8cd90da624df84895",
                "deletions": 45,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifReader.java",
                "patch": "@@ -19,6 +19,7 @@\n  */\n package org.apache.directory.shared.ldap.ldif;\n \n+\n import java.io.BufferedReader;\n import java.io.Closeable;\n import java.io.DataInputStream;\n@@ -59,6 +60,7 @@\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n+\n /**\n  * <pre>\n  *  &lt;ldif-file&gt; ::= &quot;version:&quot; &lt;fill&gt; &lt;number&gt; &lt;seps&gt; &lt;dn-spec&gt; &lt;sep&gt; \n@@ -181,6 +183,7 @@\n         /** The current position */\n         private int pos;\n \n+\n         /**\n          * Creates a new instance of Position.\n          */\n@@ -189,6 +192,7 @@ public Position()\n             pos = 0;\n         }\n \n+\n         /**\n          * Increment the current position by one\n          *\n@@ -198,6 +202,7 @@ public void inc()\n             pos++;\n         }\n \n+\n         /**\n          * Increment the current position by the given value\n          *\n@@ -259,6 +264,7 @@ public void inc( int val )\n      */\n     protected Exception error;\n \n+\n     /**\n      * Constructors\n      */\n@@ -268,7 +274,7 @@ public LdifReader()\n         position = new Position();\n         version = DEFAULT_VERSION;\n     }\n-    \n+\n \n     private void init( BufferedReader reader ) throws NamingException\n     {\n@@ -284,6 +290,7 @@ private void init( BufferedReader reader ) throws NamingException\n         prefetched = parseEntry();\n     }\n \n+\n     /**\n      * A constructor which takes a file name\n      * \n@@ -311,14 +318,14 @@ public LdifReader( String ldifFileName ) throws NamingException\n         {\n             init( new BufferedReader( new FileReader( file ) ) );\n         }\n-        catch (FileNotFoundException fnfe)\n+        catch ( FileNotFoundException fnfe )\n         {\n             LOG.error( \"File {} cannot be found\", file.getAbsoluteFile() );\n             throw new NamingException( \"Cannot find file \" + file.getAbsoluteFile() );\n         }\n     }\n \n-    \n+\n     /**\n      * A constructor which takes a Reader\n      * \n@@ -332,6 +339,7 @@ public LdifReader( Reader in ) throws NamingException\n         init( new BufferedReader( in ) );\n     }\n \n+\n     /**\n      * A constructor which takes an InputStream\n      * \n@@ -345,6 +353,7 @@ public LdifReader( InputStream in ) throws NamingException\n         init( new BufferedReader( new InputStreamReader( in ) ) );\n     }\n \n+\n     /**\n      * A constructor which takes a File\n      * \n@@ -371,13 +380,14 @@ public LdifReader( File file ) throws NamingException\n         {\n             init( new BufferedReader( new FileReader( file ) ) );\n         }\n-        catch (FileNotFoundException fnfe)\n+        catch ( FileNotFoundException fnfe )\n         {\n             LOG.error( \"File {} cannot be found\", file.getAbsoluteFile() );\n             throw new NamingException( \"Cannot find file \" + file.getAbsoluteFile() );\n         }\n     }\n \n+\n     /**\n      * @return The ldif file version\n      */\n@@ -386,6 +396,7 @@ public int getVersion()\n         return version;\n     }\n \n+\n     /**\n      * @return The maximum size of a file which is used into an attribute value.\n      */\n@@ -394,6 +405,7 @@ public long getSizeLimit()\n         return sizeLimit;\n     }\n \n+\n     /**\n      * Set the maximum file size that can be accepted for an attribute value\n      * \n@@ -405,6 +417,7 @@ public void setSizeLimit( long sizeLimit )\n         this.sizeLimit = sizeLimit;\n     }\n \n+\n     // <fill> ::= ' ' <fill> | \ufffd\n     private static void parseFill( char[] document, Position position )\n     {\n@@ -415,6 +428,7 @@ private static void parseFill( char[] document, Position position )\n         }\n     }\n \n+\n     /**\n      * Parse a number following the rules :\n      * \n@@ -453,6 +467,7 @@ private static String parseNumber( char[] document, Position position )\n         }\n     }\n \n+\n     /**\n      * Parse the changeType\n      * \n@@ -490,6 +505,7 @@ else if ( \"modrdn\".equalsIgnoreCase( modOp ) )\n         return operation;\n     }\n \n+\n     /**\n      * Parse the DN of an entry\n      * \n@@ -527,7 +543,7 @@ else if ( line.charAt( 3 ) == ':' )\n                     {\n                         dn = new String( Base64.decode( trimmedLine.toCharArray() ), \"UTF-8\" );\n                     }\n-                    catch (UnsupportedEncodingException uee)\n+                    catch ( UnsupportedEncodingException uee )\n                     {\n                         // The DN is not base 64 encoded\n                         LOG.error( \"The ldif entry is supposed to have a base 64 encoded DN\" );\n@@ -557,7 +573,7 @@ else if ( line.charAt( 3 ) == ':' )\n         {\n             LdapDnParser.parseInternal( dn, new ArrayList<Rdn>() );\n         }\n-        catch (InvalidNameException ine)\n+        catch ( InvalidNameException ine )\n         {\n             LOG.error( \"The DN {} is not valid\" );\n             throw ine;\n@@ -566,6 +582,7 @@ else if ( line.charAt( 3 ) == ':' )\n         return dn;\n     }\n \n+\n     /**\n      * Parse the value part.\n      * \n@@ -598,6 +615,7 @@ protected static Object parseSimpleValue( String line, int pos )\n         }\n     }\n \n+\n     /**\n      * Parse the value part.\n      * \n@@ -651,7 +669,7 @@ else if ( c == '<' )\n                             }\n                             else\n                             {\n-                                byte[] data = new byte[(int) length];\n+                                byte[] data = new byte[( int ) length];\n                                 DataInputStream inf = null;\n \n                                 try\n@@ -661,15 +679,15 @@ else if ( c == '<' )\n \n                                     return data;\n                                 }\n-                                catch (FileNotFoundException fnfe)\n+                                catch ( FileNotFoundException fnfe )\n                                 {\n                                     // We can't reach this point, the file\n                                     // existence has already been\n                                     // checked\n                                     LOG.error( \"File {} not found\", fileName );\n                                     throw new NamingException( \"Bad URL, file not found\" );\n                                 }\n-                                catch (IOException ioe)\n+                                catch ( IOException ioe )\n                                 {\n                                     LOG.error( \"File {} error reading\", fileName );\n                                     throw new NamingException( \"Bad URL, file can't be read\" );\n@@ -695,7 +713,7 @@ else if ( c == '<' )\n                         throw new NamingException( \"Unsupported URL protocol\" );\n                     }\n                 }\n-                catch (MalformedURLException mue)\n+                catch ( MalformedURLException mue )\n                 {\n                     LOG.error( \"Bad URL {}\", urlName );\n                     throw new NamingException( \"Bad URL\" );\n@@ -712,6 +730,7 @@ else if ( c == '<' )\n         }\n     }\n \n+\n     /**\n      * Parse a control. The grammar is : &lt;control&gt; ::= \"control:\" &lt;fill&gt;\n      * &lt;ldap-oid&gt; &lt;critical-e&gt; &lt;value-spec-e&gt; &lt;sep&gt; &lt;critical-e&gt; ::= &lt;spaces&gt;\n@@ -766,7 +785,7 @@ private Control parseControl( String line ) throws NamingException\n         {\n             oid = new OID( oidString );\n         }\n-        catch (DecoderException de)\n+        catch ( DecoderException de )\n         {\n             LOG.error( \"The OID {} is not valid\", oidString );\n             throw new NamingException( \"Bad control oid\" );\n@@ -832,7 +851,7 @@ else if ( StringTools.isCharASCII( controlValue, criticalPos + 1, '<' ) )\n \n                 for ( int i = 0; i < length - criticalPos - 1; i++ )\n                 {\n-                    value[i] = (byte) controlValue[i + criticalPos + 1];\n+                    value[i] = ( byte ) controlValue[i + criticalPos + 1];\n                 }\n \n                 control.setValue( value );\n@@ -842,6 +861,7 @@ else if ( StringTools.isCharASCII( controlValue, criticalPos + 1, '<' ) )\n         return control;\n     }\n \n+\n     /**\n      * Parse an AttributeType/AttributeValue\n      * \n@@ -866,6 +886,7 @@ public static Attribute parseAttributeValue( String line )\n         }\n     }\n \n+\n     /**\n      * Parse an AttributeType/AttributeValue\n      * \n@@ -893,6 +914,7 @@ public void parseAttributeValue( LdifEntry entry, String line, String lowerLine\n         entry.addAttribute( attributeType, attributeValue );\n     }\n \n+\n     /**\n      * Parse a ModRDN operation\n      * \n@@ -916,8 +938,8 @@ private void parseModRdn( LdifEntry entry, Iterator<String> iter ) throws Naming\n             {\n                 int colonIndex = line.indexOf( ':' );\n                 Object attributeValue = parseValue( line, colonIndex );\n-                entry.setNewRdn( attributeValue instanceof String ? (String) attributeValue : StringTools\n-                        .utf8ToString( (byte[]) attributeValue ) );\n+                entry.setNewRdn( attributeValue instanceof String ? ( String ) attributeValue : StringTools\n+                    .utf8ToString( ( byte[] ) attributeValue ) );\n             }\n             else\n             {\n@@ -958,6 +980,7 @@ private void parseModRdn( LdifEntry entry, Iterator<String> iter ) throws Naming\n         return;\n     }\n \n+\n     /**\n      * Parse a modify change type.\n      * \n@@ -1085,20 +1108,21 @@ else if ( lowerLine.startsWith( \"replace:\" ) )\n \n                 if ( attributeValue instanceof String )\n                 {\n-                    attribute.add( (String)attributeValue );\n+                    attribute.add( ( String ) attributeValue );\n                 }\n                 else\n                 {\n-                    attribute.add( (byte[])attributeValue );\n+                    attribute.add( ( byte[] ) attributeValue );\n                 }\n-                \n+\n                 isEmptyValue = false;\n \n                 state = ATTRVAL_SPEC_OR_SEP;\n             }\n         }\n     }\n \n+\n     /**\n      * Parse a change operation. We have to handle different cases depending on\n      * the operation. 1) Delete : there should *not* be any line after the\n@@ -1167,8 +1191,8 @@ private void parseChange( LdifEntry entry, Iterator<String> iter, ChangeType ope\n                     {\n                         int colonIndex = line.indexOf( ':' );\n                         Object attributeValue = parseValue( line, colonIndex );\n-                        entry.setNewSuperior( attributeValue instanceof String ? (String) attributeValue : StringTools\n-                                .utf8ToString( (byte[]) attributeValue ) );\n+                        entry.setNewSuperior( attributeValue instanceof String ? ( String ) attributeValue\n+                            : StringTools.utf8ToString( ( byte[] ) attributeValue ) );\n                     }\n                     else\n                     {\n@@ -1197,6 +1221,7 @@ private void parseChange( LdifEntry entry, Iterator<String> iter, ChangeType ope\n         }\n     }\n \n+\n     /**\n      * Parse a ldif file. The following rules are processed :\n      * \n@@ -1222,7 +1247,7 @@ private LdifEntry parseEntry() throws NamingException\n         String line = lines.get( 0 );\n \n         String name = parseDn( line );\n-        \n+\n         LdapDN dn = new LdapDN( name );\n \n         // Ok, we have found a DN\n@@ -1352,6 +1377,7 @@ else if ( type == CHANGE )\n         return entry;\n     }\n \n+\n     /**\n      * Parse the version from the ldif input.\n      * \n@@ -1400,7 +1426,7 @@ private int parseVersion() throws NamingException\n             {\n                 ver = Integer.parseInt( versionNumber );\n             }\n-            catch (NumberFormatException nfe)\n+            catch ( NumberFormatException nfe )\n             {\n                 LOG.error( \"The version is not a number\" );\n                 throw new NamingException( \"Ldif parsing error\" );\n@@ -1410,7 +1436,7 @@ private int parseVersion() throws NamingException\n \n             // We have found the version, just discard the line from the list\n             lines.remove( 0 );\n-            \n+\n             // and read the next lines if the current buffer is empty\n             if ( lines.size() == 0 )\n             {\n@@ -1425,6 +1451,7 @@ private int parseVersion() throws NamingException\n         return ver;\n     }\n \n+\n     /**\n      * Reads an entry in a ldif buffer, and returns the resulting lines, without\n      * comments, and unfolded.\n@@ -1444,7 +1471,7 @@ protected void readLines() throws NamingException\n \n         try\n         {\n-            while ( ( line = ( (BufferedReader) reader ).readLine() ) != null )\n+            while ( ( line = ( ( BufferedReader ) reader ).readLine() ) != null )\n             {\n                 if ( line.length() == 0 )\n                 {\n@@ -1503,7 +1530,7 @@ else if ( sb.length() == 0 )\n                 }\n             }\n         }\n-        catch (IOException ioe)\n+        catch ( IOException ioe )\n         {\n             throw new NamingException( \"Error while reading ldif lines\" );\n         }\n@@ -1517,6 +1544,7 @@ else if ( sb.length() == 0 )\n         return;\n     }\n \n+\n     /**\n      * Parse a ldif file (using the default encoding).\n      * \n@@ -1531,6 +1559,7 @@ else if ( sb.length() == 0 )\n         return parseLdifFile( fileName, Charset.forName( StringTools.getDefaultCharsetName() ).toString() );\n     }\n \n+\n     /**\n      * Parse a ldif file, decoding it using the given charset encoding\n      * \n@@ -1557,18 +1586,18 @@ else if ( sb.length() == 0 )\n             LOG.error( \"Cannot parse the file {}, it does not exist\", fileName );\n             throw new NamingException( \"Filename \" + fileName + \" not found.\" );\n         }\n-        \n+\n         BufferedReader reader = null;\n \n         // Open the file and then get a channel from the stream\n         try\n         {\n-            reader = new BufferedReader( new InputStreamReader( new FileInputStream( file ), \n-                Charset.forName( encoding ) ) );\n+            reader = new BufferedReader(\n+                new InputStreamReader( new FileInputStream( file ), Charset.forName( encoding ) ) );\n \n             return parseLdif( reader );\n         }\n-        catch (FileNotFoundException fnfe)\n+        catch ( FileNotFoundException fnfe )\n         {\n             LOG.error( \"Cannot find file {}\", fileName );\n             throw new NamingException( \"Filename \" + fileName + \" not found.\" );\n@@ -1578,7 +1607,7 @@ else if ( sb.length() == 0 )\n             // close the reader\n             try\n             {\n-                reader.close();\n+                close();\n             }\n             catch ( IOException ioe )\n             {\n@@ -1587,6 +1616,7 @@ else if ( sb.length() == 0 )\n         }\n     }\n \n+\n     /**\n      * A method which parses a ldif string and returns a list of entries.\n      * \n@@ -1614,12 +1644,13 @@ else if ( sb.length() == 0 )\n \n             if ( LOG.isDebugEnabled() )\n             {\n-                LOG.debug( \"Parsed {} entries.\", ( entries == null ? Integer.valueOf( 0 ) : Integer.valueOf( entries.size() ) ) );\n+                LOG.debug( \"Parsed {} entries.\", ( entries == null ? Integer.valueOf( 0 ) : Integer.valueOf( entries\n+                    .size() ) ) );\n             }\n \n             return entries;\n         }\n-        catch (NamingException ne)\n+        catch ( NamingException ne )\n         {\n             LOG.error( \"Cannot parse the ldif buffer : {}\", ne.getMessage() );\n             throw new NamingException( \"Error while parsing the ldif buffer\" );\n@@ -1629,16 +1660,17 @@ else if ( sb.length() == 0 )\n             // Close the reader\n             try\n             {\n-                reader.close();\n+                close();\n             }\n             catch ( IOException ioe )\n             {\n                 // Nothing to do\n             }\n-            \n+\n         }\n     }\n \n+\n     // ------------------------------------------------------------------------\n     // Iterator Methods\n     // ------------------------------------------------------------------------\n@@ -1662,7 +1694,7 @@ private LdifEntry nextInternal()\n             {\n                 prefetched = parseEntry();\n             }\n-            catch (NamingException ne)\n+            catch ( NamingException ne )\n             {\n                 error = ne;\n                 throw new NoSuchElementException( ne.getMessage() );\n@@ -1672,15 +1704,15 @@ private LdifEntry nextInternal()\n \n             return entry;\n         }\n-        catch (NamingException ne)\n+        catch ( NamingException ne )\n         {\n             LOG.error( \"Premature termination of LDIF iterator\" );\n             error = ne;\n             return null;\n         }\n     }\n \n-    \n+\n     /**\n      * Gets the next LDIF on the channel.\n      * \n@@ -1703,7 +1735,7 @@ private boolean hasNextInternal()\n         return null != prefetched;\n     }\n \n-    \n+\n     /**\n      * Tests to see if another LDIF is on the input channel.\n      * \n@@ -1727,7 +1759,7 @@ private void removeInternal()\n         throw new UnsupportedOperationException();\n     }\n \n-    \n+\n     /**\n      * Always throws UnsupportedOperationException!\n      * \n@@ -1738,30 +1770,34 @@ public void remove()\n         removeInternal();\n     }\n \n+\n     /**\n      * @return An iterator on the file\n      */\n     public Iterator<LdifEntry> iterator()\n     {\n-        return new Iterator<LdifEntry>() \n+        return new Iterator<LdifEntry>()\n         {\n-            public boolean hasNext() \n+            public boolean hasNext()\n             {\n                 return hasNextInternal();\n             }\n-          \n-            public LdifEntry next() \n+\n+\n+            public LdifEntry next()\n             {\n                 return nextInternal();\n             }\n-          \n-            public void remove() \n+\n+\n+            public void remove()\n             {\n                 throw new UnsupportedOperationException();\n             }\n         };\n     }\n \n+\n     /**\n      * @return True if an error occured during parsing\n      */\n@@ -1770,6 +1806,7 @@ public boolean hasError()\n         return error != null;\n     }\n \n+\n     /**\n      * @return The exception that occurs during an entry parsing\n      */\n@@ -1778,6 +1815,7 @@ public Exception getError()\n         return error;\n     }\n \n+\n     /**\n      * The main entry point of the LdifParser. It reads a buffer and returns a\n      * List of entries.\n@@ -1802,7 +1840,7 @@ public Exception getError()\n         // When done, get the entries one by one.\n         try\n         {\n-            for ( LdifEntry entry:this )\n+            for ( LdifEntry entry : this )\n             {\n                 if ( entry != null )\n                 {\n@@ -1818,6 +1856,7 @@ public Exception getError()\n         return entries;\n     }\n \n+\n     /**\n      * @return True if the ldif file contains entries, fals if it contains\n      *         changes",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/03b6903e48d1700a7de44ca8cd90da624df84895/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifReader.java",
                "sha": "74e4acde6a8cb76996de40c4ae3b71bce0934ad2",
                "status": "modified"
            }
        ],
        "message": "Fixed a potential NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@890287 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/8c92c7d98875be8fa083105a3ae0477ea6adac5f",
        "patched_files": [
            "LdifReader.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdifReaderTest.java"
        ]
    },
    "directory-ldap-api_0e5e10f": {
        "bug_id": "directory-ldap-api_0e5e10f",
        "commit": "https://github.com/apache/directory-ldap-api/commit/0e5e10f65ee0761d1516cf0676fe78fdb7e0ad28",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/0e5e10f65ee0761d1516cf0676fe78fdb7e0ad28/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java?ref=0e5e10f65ee0761d1516cf0676fe78fdb7e0ad28",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "patch": "@@ -605,7 +605,8 @@ public String toString()\n         sb.append( \"            Matched DN : '\" ).append( matchedDN == null ? \"\": matchedDN.toString() ).append( \"'\\n\" );\n         sb.append( \"            Error message : '\" ).append( errorMessage == null ? \"\" : errorMessage.toString() ).append( \"'\\n\" );\n \n-        if ( referrals.size() != 0 )\n+        \n+        if ( ( referrals != null ) && ( referrals.size() != 0 ) )\n         {\n             sb.append( \"            Referrals :\\n\" );\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/0e5e10f65ee0761d1516cf0676fe78fdb7e0ad28/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "sha": "5d2a993c01c8f4a3767390ca039e409fb330eb3d",
                "status": "modified"
            }
        ],
        "message": "Added a test in toString() method to avoid a NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@463686 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/3fc4419e5bd71e74e49bd2e7822d0e136fd3b1e1",
        "patched_files": [
            "LdapResult.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapResultTest.java"
        ]
    },
    "directory-ldap-api_2153a3d": {
        "bug_id": "directory-ldap-api_2153a3d",
        "commit": "https://github.com/apache/directory-ldap-api/commit/2153a3d82872f31a8912ee6ee965e7c49ac4b334",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ByteArrayComparator.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ByteArrayComparator.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/ByteArrayComparator.java",
                "patch": "@@ -45,17 +45,17 @@ public int compare( Object byteArray1, Object byteArray2 )\n         // Handle some basis cases\n         // -------------------------------------------------------------------\n \n-        if ( b1 == null && b2 == null )\n+        if ( ( b1 == null ) && ( b2 == null ) )\n         {\n             return 0;\n         }\n         \n-        if ( b1 != null && b2 == null )\n+        if ( ( b1 != null ) && ( b2 == null ) )\n         {\n             return 1;\n         }\n         \n-        if ( b1 == null && b2 != null )\n+        if ( ( b1 == null ) && ( b2 != null ) )\n         {\n             return -1;\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ByteArrayComparator.java",
                "sha": "29b835032b80157583e2d6c4afedd8cc4b31d11e",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ObjectIdentifierComparator.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ObjectIdentifierComparator.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/ObjectIdentifierComparator.java",
                "patch": "@@ -37,15 +37,15 @@\n \n     public int compare( Object o1, Object o2 )\n     {\n-        if ( o1 == null && o2 == null )\n+        if ( ( o1 == null ) && ( o2 == null ) )\n         {\n             return 0;\n         }\n-        else if ( o1 != null && o2 == null )\n+        else if ( ( o1 != null ) && ( o2 == null ) )\n         {\n             return 1;\n         }\n-        else if ( o1 == null && o2 != null )\n+        else if ( ( o1 == null ) && ( o2 != null ) )\n         {\n             return -1;\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/ObjectIdentifierComparator.java",
                "sha": "7e83b02ddc5c51cad718063f80bf1b511dd60f5e",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "patch": "@@ -4590,7 +4590,11 @@ public static String bidi( String str )\n     public static StringBuilder bidi( char[] array )\n     {\n         StringBuilder sb = new StringBuilder( array == null ? 0 : array.length );\n-        sb.append( array );\n+        \n+        if ( array != null )\n+        {\n+            sb.append( array );\n+        }\n         \n         return sb;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "sha": "f26ccde5cd1e2a2206a26aba0b1985e0528f824b",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "patch": "@@ -54,7 +54,7 @@\n     private List<Pattern> compiledREs;\n     \n     /** The default pattern used to check a TelephoneNumber */\n-    private final String DEFAULT_REGEXP = \"^ *[+]? *((\\\\([0-9- ]+\\\\))|[0-9- ]+)+$\";\n+    private final static String DEFAULT_REGEXP = \"^ *[+]? *((\\\\([0-9- ]+\\\\))|[0-9- ]+)+$\";\n     \n     /** The compiled default pattern */\n     private Pattern defaultPattern =  Pattern.compile( DEFAULT_REGEXP );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "sha": "993a9c97f7c1d06d6cb552eb3f3c5e7c39ea6ec6",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/ArrayUtils.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/ArrayUtils.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/ArrayUtils.java",
                "patch": "@@ -3774,7 +3774,7 @@ else if ( array.length == 0 )\n         final Double[] result = new Double[array.length];\n         for ( int i = 0; i < array.length; i++ )\n         {\n-            result[i] = new Double( array[i] );\n+            result[i] = Double.valueOf( array[i] );\n         }\n         return result;\n     }\n@@ -3881,7 +3881,7 @@ else if ( array.length == 0 )\n         final Float[] result = new Float[array.length];\n         for ( int i = 0; i < array.length; i++ )\n         {\n-            result[i] = new Float( array[i] );\n+            result[i] = Float.valueOf( array[i] );\n         }\n         return result;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/ArrayUtils.java",
                "sha": "662e580150a2a6db38032b031a9aef9672df6d55",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/BooleanUtils.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/BooleanUtils.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/BooleanUtils.java",
                "patch": "@@ -782,7 +782,7 @@ public static boolean toBoolean( String str )\n         // Similar performance for null, 'false', and other strings not length\n         // 2/3/4.\n         // 'true'/'TRUE' match 4 times slower, 'tRUE'/'True' 7 times slower.\n-        if ( str == \"true\" )\n+        if ( \"true\".equals( str ) )\n         {\n             return true;\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/BooleanUtils.java",
                "sha": "07606fba3e405063829b4e3a1e0ef56bdbdd581b",
                "status": "modified"
            },
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/DNUtils.java",
                "changes": 30,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/DNUtils.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 8,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/DNUtils.java",
                "patch": "@@ -256,9 +256,9 @@ public static int parseAlphaASCII( byte[] byteArray, int index )\n         }\n         else\n         {\n-            byte c = byteArray[index++];\n+            byte b = byteArray[index++];\n \n-            if ( ( c > 127 ) || ( StringTools.ALPHA[c] == false ) )\n+            if ( StringTools.isAlpha( b ) == false )\n             {\n                 return -1;\n             }\n@@ -290,7 +290,7 @@ public static int parseAlphaASCII( char[] charArray, int index )\n         {\n             char c = charArray[index++];\n \n-            if ( ( c > 127 ) || ( StringTools.ALPHA[c] == false ) )\n+            if ( StringTools.isAlpha( c ) == false )\n             {\n                 return PARSING_ERROR;\n             }\n@@ -393,9 +393,14 @@ public static boolean isPairChar( char[] charArray, int index )\n      */\n     public static int isPairChar( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return PARSING_ERROR;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return PARSING_ERROR;\n         }\n@@ -501,9 +506,14 @@ public static int isStringChar( char[] charArray, int index )\n      */\n     public static int isStringChar( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return PARSING_ERROR;\n+        }\n+        \n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return PARSING_ERROR;\n         }\n@@ -595,9 +605,14 @@ public static int isQuoteChar( char[] charArray, int index )\n      */\n     public static int isQuoteChar( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return PARSING_ERROR;\n+        }\n+\n         int length = string.length();\n \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return PARSING_ERROR;\n         }\n@@ -717,8 +732,7 @@ public static int parseHexPair( String string, int index )\n      */\n     private static byte getHexPair( String string, int index )\n     {\n-    \treturn (byte)((StringTools.HEX_VALUE[string.charAt( index )] << 4) | \n-    \t\t\t\t(StringTools.HEX_VALUE[string.charAt( index + 1 )]) );\n+    \treturn StringTools.getHexValue( string.charAt( index ), string.charAt( index + 1 ) );\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/DNUtils.java",
                "sha": "006002249205f59b6cfd39c95c7b8302b954dca7",
                "status": "modified"
            },
            {
                "additions": 129,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "changes": 154,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java?ref=2153a3d82872f31a8912ee6ee965e7c49ac4b334",
                "deletions": 25,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "patch": "@@ -82,7 +82,7 @@\n     private static final int UTF8_SIX_BYTES = 0x00FC;\n \n     /** &lt;alpha> ::= [0x41-0x5A] | [0x61-0x7A] */\n-    public static final boolean[] ALPHA =\n+    private static final boolean[] ALPHA =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -103,7 +103,7 @@\n         };\n \n     /** &lt;alpha-lower-case> ::= [0x61-0x7A] */\n-    public static final boolean[] ALPHA_LOWER_CASE =\n+    private static final boolean[] ALPHA_LOWER_CASE =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -124,7 +124,7 @@\n         };\n \n     /** &lt;alpha-upper-case> ::= [0x41-0x5A] */\n-    public static final boolean[] ALPHA_UPPER_CASE =\n+    private static final boolean[] ALPHA_UPPER_CASE =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -145,7 +145,7 @@\n         };\n \n     /** &lt;alpha-digit> | &lt;digit> */\n-    public static final boolean[] ALPHA_DIGIT =\n+    private static final boolean[] ALPHA_DIGIT =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -166,7 +166,7 @@\n         };\n \n     /** &lt;alpha> | &lt;digit> | '-' */\n-    public static final boolean[] CHAR =\n+    private static final boolean[] CHAR =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -187,7 +187,7 @@\n         };\n \n     /** '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' */\n-    public static final boolean[] DIGIT =\n+    private static final boolean[] DIGIT =\n         { \n             false, false, false, false, false, false, false, false, \n             false, false, false, false, false, false, false, false, \n@@ -250,7 +250,7 @@\n \n \n     /** &lt;hex> ::= [0x30-0x39] | [0x41-0x46] | [0x61-0x66] */\n-    public static final byte[] HEX_VALUE =\n+    private static final byte[] HEX_VALUE =\n         { \n             -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, // 00 -> 0F\n             -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, // 10 -> 1F\n@@ -262,7 +262,7 @@\n         };\n \n     /** lowerCase = 'a' .. 'z', '0'..'9', '-' */\n-    public static final char[] LOWER_CASE =\n+    private static final char[] LOWER_CASE =\n         { \n               0,   0,   0,   0,   0,   0,   0,   0, \n               0,   0,   0,   0,   0,   0,   0,   0, \n@@ -291,7 +291,7 @@\n         };\n \n     /** upperCase = 'A' .. 'Z', '0'..'9', '-' */\n-    public static final char[] UPPER_CASE =\n+    private static final char[] UPPER_CASE =\n         { \n               0,   0,   0,   0,   0,   0,   0,   0, \n               0,   0,   0,   0,   0,   0,   0,   0, \n@@ -318,6 +318,7 @@\n               0,   0,   0,   0,   0,   0,   0,   0, \n               0,   0,   0,   0,   0,   0,   0,   0 \n         };\n+    \n     private static final int CHAR_ONE_BYTE_MASK = 0xFFFFFF80;\n \n     private static final int CHAR_TWO_BYTES_MASK = 0xFFFFF800;\n@@ -846,7 +847,6 @@ public static final Pattern getRegex( String ldapRegex ) throws PatternSyntaxExc\n      */\n     public static final List getPaths( String paths, FileFilter filter )\n     {\n-        final int max = paths.length() - 1;\n         int start = 0;\n         int stop = -1;\n         String path = null;\n@@ -858,6 +858,8 @@ public static final List getPaths( String paths, FileFilter filter )\n             return list;\n         }\n \n+        final int max = paths.length() - 1;\n+\n         // Loop spliting string using OS path separator: terminate\n         // when the start index is at the end of the paths string.\n         while ( start < max )\n@@ -1483,12 +1485,16 @@ public static final int areEquals( char[] charArray, int index, char[] charArray\n      */\n     public static final boolean areEquals( String string1, int index, String text )\n     {\n+        if ( ( string1 == null ) || ( text == null ) ) \n+        {\n+            return false;\n+        }\n+        \n         int length1 = string1.length();\n         int length2 = text.length();\n \n-        if ( ( string1 == null ) || ( length1 == 0 ) || ( length1 <= index ) || ( index < 0 )\n-            || ( text == null ) || ( length2 == 0 )\n-            || ( length2 > ( length1 + index ) ) )\n+        if ( ( length1 == 0 ) || ( length1 <= index ) || ( index < 0 )\n+            || ( length2 == 0 ) || ( length2 > ( length1 + index ) ) )\n         {\n             return false;\n         }\n@@ -1625,9 +1631,14 @@ public static final boolean isCharASCII( String string, int index, char car )\n      */\n     public static final boolean isBit( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+        \n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -1650,9 +1661,14 @@ public static final boolean isBit( String string, int index )\n      */\n     public static final char charAt( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return '\\0';\n+        }\n+        \n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return '\\0';\n         }\n@@ -1662,6 +1678,25 @@ public static final char charAt( String string, int index )\n         }\n     }\n \n+    public static byte getHexValue( char c1, char c2 )\n+    {\n+        if ( ( c1 > 127 ) || (c2 > 127 ) || ( c1 < 0 ) | ( c2 < 0 ) )\n+        {\n+            return -1;\n+        }\n+        \n+        return (byte)( ( HEX_VALUE[c1] << 4 ) | HEX_VALUE[c2] );\n+    }\n+\n+    public static byte getHexValue( char c )\n+    {\n+        if ( ( c > 127 ) || ( c < 0 ) )\n+        {\n+            return -1;\n+        }\n+        \n+        return HEX_VALUE[c];\n+    }\n \n     /**\n      * Check if the current character is an Hex Char &lt;hex> ::= [0x30-0x39] |\n@@ -1793,6 +1828,34 @@ public static final boolean isDigit( char car )\n         return ( car >= '0' ) && ( car <= '9' );\n     }\n \n+    /**\n+     * Test if the current byte is an Alpha character : \n+     * &lt;alpha> ::= [0x41-0x5A] | [0x61-0x7A]\n+     * \n+     * @param c The byte to test\n+     * \n+     * @return <code>true</code> if the byte is an Alpha\n+     *         character\n+     */\n+    public static final boolean isAlpha( byte c )\n+    {\n+        return ( ( c > 127 ) || ( ALPHA[c] == false ) );\n+    }\n+\n+    /**\n+     * Test if the current character is an Alpha character : \n+     * &lt;alpha> ::= [0x41-0x5A] | [0x61-0x7A]\n+     * \n+     * @param c The char to test\n+     * \n+     * @return <code>true</code> if the character is an Alpha\n+     *         character\n+     */\n+    public static final boolean isAlpha( char c )\n+    {\n+        return ( ( c > 127 ) || ( ALPHA[c] == false ) );\n+    }\n+\n \n     /**\n      * Test if the current character is an Alpha character : &lt;alpha> ::=\n@@ -1872,9 +1935,14 @@ public static final boolean isAlphaASCII( char[] chars, int index )\n      */\n     public static final boolean isAlphaASCII( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+        \n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -1906,9 +1974,14 @@ public static final boolean isAlphaASCII( String string, int index )\n      */\n     public static final boolean isAlphaLowercaseASCII( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -1940,9 +2013,14 @@ public static final boolean isAlphaLowercaseASCII( String string, int index )\n      */\n     public static final boolean isAlphaUppercaseASCII( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -2019,9 +2097,14 @@ public static final boolean isDigit( char[] chars, int index )\n      */\n     public static final boolean isDigit( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -2065,9 +2148,14 @@ public static final boolean isDigit( char[] chars )\n      */\n     public static final boolean isAlphaDigit( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -2163,9 +2251,14 @@ public static final boolean isAlphaDigitMinus( char[] chars, int index )\n      */\n     public static final boolean isAlphaDigitMinus( String string, int index )\n     {\n+        if ( string == null )\n+        {\n+            return false;\n+        }\n+\n         int length = string.length();\n         \n-        if ( ( string == null ) || ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n+        if ( ( length == 0 ) || ( index < 0 ) || ( index >= length ) )\n         {\n             return false;\n         }\n@@ -2690,6 +2783,7 @@ public static final String upperCase( String str )\n         {\n             return null;\n         }\n+        \n         return str.toUpperCase();\n     }\n \n@@ -2718,6 +2812,7 @@ public static final String lowerCase( String str )\n         {\n             return null;\n         }\n+        \n         return str.toLowerCase();\n     }\n \n@@ -2979,7 +3074,7 @@ public static final String mapToString( Map map, String tabs )\n      */\n     public static final String getDefaultCharsetName()\n     {\n-    \tif (null == defaultCharset) \n+    \tif ( null == defaultCharset ) \n     \t{\n     \t\ttry \n     \t\t{\n@@ -3012,6 +3107,7 @@ public static final String decodeHexString( String str ) throws InvalidNameExcep\n         }\n         \n         char[] chars = str.toCharArray();\n+        \n         if ( chars[0] != '#' )\n         {\n             throw new InvalidNameException( \"Expected string to start with a '#' character.  \" +\n@@ -3043,11 +3139,18 @@ public static final String decodeHexString( String str ) throws InvalidNameExcep\n      */\n     public static final String decodeEscapedHex( String str ) throws InvalidNameException\n     {\n+        if ( str == null )\n+        {\n+            throw new InvalidNameException( \"Expected string to be non-null \" +\n+            \"with valid index.\"  );\n+        }\n+        \n         int length = str.length();\n-        if ( str == null || length == 0 )\n+        \n+        if ( length == 0 )\n         {\n-            throw new InvalidNameException( \"Expected string to be non-empty or non-null \" +\n-                    \"with valid index.\"  );\n+            throw new InvalidNameException( \"Expected string to be non-empty \" +\n+            \"with valid index.\"  );\n         }\n         \n         // create buffer and add everything before start of scan\n@@ -3085,6 +3188,7 @@ public static final String decodeEscapedHex( String str ) throws InvalidNameExce\n     private static int collectEscapedHexBytes( ByteBuffer bb, String str, int index )\n     {\n         int advanceBy = 0;\n+        \n         for ( int ii = index; ii < str.length(); ii += 3, advanceBy += 3 )\n         {\n             // we have the start of a hex escape sequence",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/2153a3d82872f31a8912ee6ee965e7c49ac4b334/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "sha": "22a72f74699870d9730b0b2dae0791317a855254",
                "status": "modified"
            }
        ],
        "message": "commiting on behalf of elecharny: Fixed potential NPE. Modified some static fields to private in StringTools. Added some accessor methods. Basically, cleaned some code to avoid NPE and potential errors\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@491358 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/3e0bbd50d8797b5c47c253e195e971ad3ba7171c",
        "patched_files": [
            "TelephoneNumberSyntaxChecker.java",
            "PrepareString.java",
            "DNUtils.java",
            "StringTools.java",
            "ByteArrayComparator.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "DNUtilsTest.java",
            "TelephoneNumberSyntaxCheckerTest.java",
            "ByteArrayComparatorTest.java",
            "StringToolsTest.java",
            "PrepareStringTest.java"
        ]
    },
    "directory-ldap-api_21d0285": {
        "bug_id": "directory-ldap-api_21d0285",
        "commit": "https://github.com/apache/directory-ldap-api/commit/21d0285d95296be034336d06bb5ea082b523f79c",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/21d0285d95296be034336d06bb5ea082b523f79c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java?ref=21d0285d95296be034336d06bb5ea082b523f79c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "patch": "@@ -117,7 +117,7 @@\n      */\n     public static boolean isLDIFSafe( String str )\n     {\n-        if ( str == null )\n+        if ( StringTools.isEmpty( str ) )\n         {\n             // A null string is LDIF safe\n             return true;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/21d0285d95296be034336d06bb5ea082b523f79c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "sha": "7975be223f8b4e9e3332916e10b3a97f40bd4bf0",
                "status": "modified"
            },
            {
                "additions": 21,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/21d0285d95296be034336d06bb5ea082b523f79c/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "changes": 21,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java?ref=21d0285d95296be034336d06bb5ea082b523f79c",
                "deletions": 0,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "patch": "@@ -73,6 +73,26 @@ private Entry buildEntry()\n     }\n \n     \n+    /**\n+     * Tests the method IsLdifSafe with a null String\n+     */\n+    @Test\n+    public void testIsLdifNullString()\n+    {\n+        assertTrue( LdifUtils.isLDIFSafe( null ) );\n+    }\n+    \n+\n+    /**\n+     * Tests the method IsLdifSafe with an empty String\n+     */\n+    @Test\n+    public void testIsLdifEmptyString()\n+    {\n+        assertTrue( LdifUtils.isLDIFSafe( \"\" ) );\n+    }\n+    \n+\n     /**\n      * Tests the method IsLdifSafe with a String starting with the\n      * char NUL (ASCII code 0)\n@@ -85,6 +105,7 @@ public void testIsLdifSafeStartingWithNUL()\n         assertFalse( LdifUtils.isLDIFSafe( c + testString ) );\n     }\n     \n+\n     /**\n      * Tests the method IsLdifSafe with a String starting with the\n      * char LF (ASCII code 10)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/21d0285d95296be034336d06bb5ea082b523f79c/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "sha": "5f70e3cecf6f66738b5aff53cf7503a0d0dc689e",
                "status": "modified"
            }
        ],
        "message": "Added a fix to the isLDIFSafe method : when the string to check was empty, we got a NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@707841 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/a88fcf17e4dc35073c8c0bafefa40176fc05d4d5",
        "patched_files": [
            "LdifUtils.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdifUtilsTest.java"
        ]
    },
    "directory-ldap-api_29ef7ab": {
        "bug_id": "directory-ldap-api_29ef7ab",
        "commit": "https://github.com/apache/directory-ldap-api/commit/29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756",
        "file": [
            {
                "additions": 44,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "changes": 46,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java?ref=29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756",
                "deletions": 2,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "patch": "@@ -1549,6 +1549,13 @@ public SearchFuture searchAsync( SearchRequest searchRequest ) throws LdapExcept\n             throw new IllegalArgumentException( msg );\n         }\n \n+        if ( searchRequest.getBase() == null )\n+        {\n+            String msg = \"Cannot process a searchRequest which base DN is null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n         // If the session has not been establish, or is closed, we get out immediately\n         checkSession();\n \n@@ -2217,6 +2224,13 @@ public ModifyFuture modifyAsync( ModifyRequest modRequest ) throws LdapException\n             throw new IllegalArgumentException( msg );\n         }\n \n+        if ( modRequest.getName() == null )\n+        {\n+            String msg = \"Cannot process a modifyRequest which DN is null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n         checkSession();\n \n         int newId = messageId.incrementAndGet();\n@@ -2326,7 +2340,7 @@ public void move( String entryDn, String newSuperiorDn ) throws LdapException\n \n         if ( newSuperiorDn == null )\n         {\n-            String msg = \"Cannot process a move to a null Dn\";\n+            String msg = \"Cannot process a move to a null newSuperior\";\n             LOG.debug( msg );\n             throw new IllegalArgumentException( msg );\n         }\n@@ -2357,7 +2371,7 @@ public void move( Dn entryDn, Dn newSuperiorDn ) throws LdapException\n \n         if ( newSuperiorDn == null )\n         {\n-            String msg = \"Cannot process a move to a null Dn\";\n+            String msg = \"Cannot process a move to a null newSuperior\";\n             LOG.debug( msg );\n             throw new IllegalArgumentException( msg );\n         }\n@@ -2522,6 +2536,20 @@ public ModifyDnFuture modifyDnAsync( ModifyDnRequest modDnRequest ) throws LdapE\n             throw new IllegalArgumentException( msg );\n         }\n \n+        if ( modDnRequest.getName() == null )\n+        {\n+            String msg = \"Cannot process a modifyRequest which DN is null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n+        if ( ( modDnRequest.getNewSuperior() == null ) && ( modDnRequest.getNewRdn() == null ) )\n+        {\n+            String msg = \"Cannot process a modifyRequest which new superior and new Rdn are null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n         checkSession();\n \n         int newId = messageId.incrementAndGet();\n@@ -2711,6 +2739,13 @@ public DeleteFuture deleteAsync( DeleteRequest deleteRequest ) throws LdapExcept\n             throw new IllegalArgumentException( msg );\n         }\n \n+        if ( deleteRequest.getName() == null )\n+        {\n+            String msg = \"Cannot process a deleteRequest which DN is null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n         checkSession();\n \n         int newId = messageId.incrementAndGet();\n@@ -2892,6 +2927,13 @@ public CompareFuture compareAsync( CompareRequest compareRequest ) throws LdapEx\n             throw new IllegalArgumentException( msg );\n         }\n \n+        if ( compareRequest.getName() == null )\n+        {\n+            String msg = \"Cannot process a compareRequest which DN is null\";\n+            LOG.debug( msg );\n+            throw new IllegalArgumentException( msg );\n+        }\n+\n         checkSession();\n \n         int newId = messageId.incrementAndGet();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "sha": "4478bc3418d7239f0e7e80ff920d9323e1524ddb",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756/ldap/model/src/main/java/org/apache/directory/api/ldap/model/message/ModifyRequestImpl.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/message/ModifyRequestImpl.java?ref=29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756",
                "deletions": 2,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/message/ModifyRequestImpl.java",
                "patch": "@@ -48,7 +48,7 @@\n     /** Dn of the entry to modify or PDU's <b>object</b> field */\n     private Dn name;\n \n-    /** Sequence of modifications or PDU's <b>modification</b> seqence field */\n+    /** Sequence of modifications or PDU's <b>modification</b> sequence field */\n     private List<Modification> mods = new ArrayList<Modification>();\n \n     /** The associated response */\n@@ -406,7 +406,7 @@ public boolean equals( Object obj )\n             }\n             else\n \n-            if ( !item.equals( ( DefaultModification ) mods.get( i ) ) )\n+            if ( !item.equals( mods.get( i ) ) )\n             {\n                 return false;\n             }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29ef7ab4108cbb6f8dc4a8a30e21860af1ce7756/ldap/model/src/main/java/org/apache/directory/api/ldap/model/message/ModifyRequestImpl.java",
                "sha": "9dd81c9fb39992e1eb690ce7cdd9ccf8107cf871",
                "status": "modified"
            }
        ],
        "message": "o Added some checks in the LdapNetworkConnection API for async operations so that we don't get NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1442292 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/59dfc975067645ef37e59d7ef9ded6e8475e39ce",
        "patched_files": [
            "ModifyRequestImpl.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ModifyRequestImplTest.java"
        ]
    },
    "directory-ldap-api_29f5524": {
        "bug_id": "directory-ldap-api_29f5524",
        "commit": "https://github.com/apache/directory-ldap-api/commit/29f5524c632ddf43e7d03411c30f376cb105a630",
        "file": [
            {
                "additions": 42,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapConnection.java",
                "changes": 43,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapConnection.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 1,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapConnection.java",
                "patch": "@@ -31,7 +31,24 @@\n import org.apache.directory.shared.ldap.model.entry.ModificationOperation;\n import org.apache.directory.shared.ldap.model.entry.Value;\n import org.apache.directory.shared.ldap.model.exception.LdapException;\n-import org.apache.directory.shared.ldap.model.message.*;\n+import org.apache.directory.shared.ldap.model.message.AbandonRequest;\n+import org.apache.directory.shared.ldap.model.message.AddRequest;\n+import org.apache.directory.shared.ldap.model.message.AddResponse;\n+import org.apache.directory.shared.ldap.model.message.BindRequest;\n+import org.apache.directory.shared.ldap.model.message.BindResponse;\n+import org.apache.directory.shared.ldap.model.message.CompareRequest;\n+import org.apache.directory.shared.ldap.model.message.CompareResponse;\n+import org.apache.directory.shared.ldap.model.message.Control;\n+import org.apache.directory.shared.ldap.model.message.DeleteRequest;\n+import org.apache.directory.shared.ldap.model.message.DeleteResponse;\n+import org.apache.directory.shared.ldap.model.message.ExtendedRequest;\n+import org.apache.directory.shared.ldap.model.message.ExtendedResponse;\n+import org.apache.directory.shared.ldap.model.message.ModifyDnRequest;\n+import org.apache.directory.shared.ldap.model.message.ModifyDnResponse;\n+import org.apache.directory.shared.ldap.model.message.ModifyRequest;\n+import org.apache.directory.shared.ldap.model.message.ModifyResponse;\n+import org.apache.directory.shared.ldap.model.message.SearchRequest;\n+import org.apache.directory.shared.ldap.model.message.SearchScope;\n import org.apache.directory.shared.ldap.model.name.Dn;\n import org.apache.directory.shared.ldap.model.name.Rdn;\n import org.apache.directory.shared.ldap.model.schema.SchemaManager;\n@@ -134,6 +151,18 @@\n     BindResponse bind() throws LdapException, IOException;\n \n \n+    /**\n+     * Unauthenticated authentication bind\n+     *\n+     * @param name The name we use to authenticate the user. It must be a\n+     * valid Dn\n+     * @return The BindResponse LdapResponse\n+     * @throws LdapException if some error occurred\n+     * @throws IOException if an I/O exception occurred\n+     */\n+    BindResponse bind( String name ) throws LdapException, IOException;\n+\n+\n     /**\n      * Simple Bind on a server.\n      *\n@@ -147,6 +176,18 @@\n     BindResponse bind( String name, String credentials ) throws LdapException, IOException;\n \n \n+    /**\n+     * Unauthenticated authentication Bind on a server.\n+     *\n+     * @param name The name we use to authenticate the user. It must be a\n+     * valid Dn\n+     * @return The BindResponse LdapResponse\n+     * @throws LdapException if some error occurred\n+     * @throws IOException if an I/O exception occurred\n+     */\n+    BindResponse bind( Dn name ) throws LdapException, IOException;\n+\n+\n     /**\n      * Simple Bind on a server.\n      *",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapConnection.java",
                "sha": "a0e4db3bb18de984906f7165de2dbe4eabec7a1b",
                "status": "modified"
            },
            {
                "additions": 97,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "changes": 97,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 0,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "patch": "@@ -74,6 +74,7 @@\n import org.apache.directory.shared.ldap.model.entry.Modification;\n import org.apache.directory.shared.ldap.model.entry.ModificationOperation;\n import org.apache.directory.shared.ldap.model.entry.Value;\n+import org.apache.directory.shared.ldap.model.exception.LdapAuthenticationException;\n import org.apache.directory.shared.ldap.model.exception.LdapException;\n import org.apache.directory.shared.ldap.model.exception.LdapInvalidDnException;\n import org.apache.directory.shared.ldap.model.exception.LdapNoPermissionException;\n@@ -912,55 +913,151 @@ public BindFuture bindAsync() throws LdapException, IOException\n     }\n \n \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public BindResponse bind( String name ) throws LdapException, IOException\n+    {\n+        LOG.debug( \"Bind request : {}\", name );\n+\n+        // Create the BindRequest\n+        BindRequest bindRequest = createBindRequest( name, StringConstants.EMPTY_BYTES );\n+\n+        return bind( bindRequest );\n+    }\n+\n+\n     /**\n      * {@inheritDoc}\n      */\n     public BindResponse bind( String name, String credentials ) throws LdapException, IOException\n     {\n         LOG.debug( \"Bind request : {}\", name );\n \n+        // The password must not be empty or null\n+        if ( Strings.isEmpty( credentials ) && Strings.isNotEmpty( name ) )\n+        {\n+            LOG.debug( \"The password is missing\" );\n+            throw new LdapAuthenticationException( \"The password is missing\" );\n+        }\n+        \n         // Create the BindRequest\n         BindRequest bindRequest = createBindRequest( name, Strings.getBytesUtf8( credentials ) );\n \n         return bind( bindRequest );\n     }\n \n \n+    /**\n+     * Asynchronous unauthenticated authentication bind\n+     *\n+     * @param name The name we use to authenticate the user. It must be a\n+     * valid Dn\n+     * @return The BindResponse LdapResponse\n+     * @throws LdapException if some error occurred\n+     * @throws IOException if an I/O exception occurred\n+     */\n+    public BindFuture bindAsync( String name ) throws LdapException, IOException\n+    {\n+        LOG.debug( \"Bind request : {}\", name );\n+\n+        // Create the BindRequest\n+        BindRequest bindRequest = createBindRequest( name, StringConstants.EMPTY_BYTES );\n+\n+        return bindAsync( bindRequest );\n+    }\n+\n+\n     /**\n      * {@inheritDoc}\n      */\n     public BindFuture bindAsync( String name, String credentials ) throws LdapException, IOException\n     {\n         LOG.debug( \"Bind request : {}\", name );\n \n+        // The password must not be empty or null\n+        if ( Strings.isEmpty( credentials ) && Strings.isNotEmpty( name ) )\n+        {\n+            LOG.debug( \"The password is missing\" );\n+            throw new LdapAuthenticationException( \"The password is missing\" );\n+        }\n+\n         // Create the BindRequest\n         BindRequest bindRequest = createBindRequest( name, Strings.getBytesUtf8( credentials ) );\n \n         return bindAsync( bindRequest );\n     }\n \n \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public BindResponse bind( Dn name ) throws LdapException, IOException\n+    {\n+        LOG.debug( \"Unauthenticated authentication Bind request : {}\", name );\n+\n+        // Create the BindRequest\n+        BindRequest bindRequest = createBindRequest( name, StringConstants.EMPTY_BYTES, null );\n+\n+        return bind( bindRequest );\n+    }\n+\n+\n     /**\n      * {@inheritDoc}\n      */\n     public BindResponse bind( Dn name, String credentials ) throws LdapException, IOException\n     {\n         LOG.debug( \"Bind request : {}\", name );\n \n+        // The password must not be empty or null\n+        if ( Strings.isEmpty( credentials ) && ( !Dn.EMPTY_DN.equals( name ) ) )\n+        {\n+            LOG.debug( \"The password is missing\" );\n+            throw new LdapAuthenticationException( \"The password is missing\" );\n+        }\n+\n         // Create the BindRequest\n         BindRequest bindRequest = createBindRequest( name, Strings.getBytesUtf8( credentials ), null );\n \n         return bind( bindRequest );\n     }\n \n \n+    /**\n+     * Asynchronous unauthenticated authentication Bind on a server.\n+     *\n+     * @param name The name we use to authenticate the user. It must be a\n+     * valid Dn\n+     * @return The BindResponse LdapResponse\n+     * @throws LdapException if some error occurred\n+     * @throws IOException if an I/O exception occurred\n+     */\n+    public BindFuture bindAsync( Dn name ) throws LdapException, IOException\n+    {\n+        LOG.debug( \"Bind request : {}\", name );\n+\n+        // Create the BindRequest\n+        BindRequest bindRequest = createBindRequest( name, StringConstants.EMPTY_BYTES );\n+\n+        return bindAsync( bindRequest );\n+    }\n+\n+\n     /**\n      * {@inheritDoc}\n      */\n     public BindFuture bindAsync( Dn name, String credentials ) throws LdapException, IOException\n     {\n         LOG.debug( \"Bind request : {}\", name );\n \n+        // The password must not be empty or null\n+        if ( Strings.isEmpty( credentials ) && (! Dn.EMPTY_DN.equals( name ) ) )\n+        {\n+            LOG.debug( \"The password is missing\" );\n+            throw new LdapAuthenticationException( \"The password is missing\" );\n+        }\n+\n         // Create the BindRequest\n         BindRequest bindRequest = createBindRequest( name, Strings.getBytesUtf8( credentials ) );\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "sha": "8754ffde32261bd962c40066cdabfbfa9521606d",
                "status": "modified"
            },
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/codec/core/src/main/java/org/apache/directory/shared/ldap/codec/decorators/BindRequestDecorator.java",
                "changes": 23,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/codec/core/src/main/java/org/apache/directory/shared/ldap/codec/decorators/BindRequestDecorator.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 4,
                "filename": "ldap/codec/core/src/main/java/org/apache/directory/shared/ldap/codec/decorators/BindRequestDecorator.java",
                "patch": "@@ -266,10 +266,17 @@ public void setSaslMechanism( String saslMechanism )\n     public int computeLength()\n     {\n         int bindRequestLength = 1 + 1 + 1; // Initialized with version\n-\n+        \n+        Dn name = getName();\n+        \n         // The name\n-        bindRequestLength += 1 + TLV.getNbBytes( Dn.getNbBytes( getName() ) )\n-            + Dn.getNbBytes( getName() );\n+        if ( name == null )\n+        { \n+            name = Dn.EMPTY_DN;\n+        }\n+\n+        bindRequestLength += 1 + TLV.getNbBytes( Dn.getNbBytes( name ) )\n+            + Dn.getNbBytes( name );\n \n         byte[] credentials = getCredentials();\n \n@@ -347,7 +354,15 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n         Value.encode( buffer, 3 );\n \n         // The name\n-        Value.encode( buffer, Dn.getBytes( getName() ) );\n+        Dn name = getName();\n+        \n+        // The name\n+        if ( name == null )\n+        { \n+            name = Dn.EMPTY_DN;\n+        }\n+\n+        Value.encode( buffer, Dn.getBytes( name ) );\n \n         byte[] credentials = getCredentials();\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/codec/core/src/main/java/org/apache/directory/shared/ldap/codec/decorators/BindRequestDecorator.java",
                "sha": "5b8794ce98e763bf83617fc729bd89d75731001e",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/codec/standalone/src/test/java/org/apache/directory/shared/ldap/codec/LdapDecoderTest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/codec/standalone/src/test/java/org/apache/directory/shared/ldap/codec/LdapDecoderTest.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 1,
                "filename": "ldap/codec/standalone/src/test/java/org/apache/directory/shared/ldap/codec/LdapDecoderTest.java",
                "patch": "@@ -33,8 +33,8 @@\n import org.apache.directory.shared.asn1.ber.Asn1Decoder;\n import org.apache.directory.shared.asn1.ber.tlv.TLVStateEnum;\n import org.apache.directory.shared.ldap.codec.api.LdapDecoder;\n-import org.apache.directory.shared.ldap.codec.api.MessageDecorator;\n import org.apache.directory.shared.ldap.codec.api.LdapMessageContainer;\n+import org.apache.directory.shared.ldap.codec.api.MessageDecorator;\n import org.apache.directory.shared.ldap.codec.decorators.BindRequestDecorator;\n import org.apache.directory.shared.ldap.codec.osgi.AbstractCodecServiceTest;\n import org.apache.directory.shared.ldap.model.message.BindRequest;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/codec/standalone/src/test/java/org/apache/directory/shared/ldap/codec/LdapDecoderTest.java",
                "sha": "d612d5ed0966c193b8b08c50173867193447ed08",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/AddRequestImpl.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/AddRequestImpl.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 1,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/AddRequestImpl.java",
                "patch": "@@ -272,7 +272,7 @@ public String toString()\n     {\n         StringBuilder sb = new StringBuilder();\n \n-        sb.append( \"    Add Request[\" ).append( getMessageId() ).append( \"] :\\n\" );\n+        sb.append( \"    Add Request :\\n\" );\n \n         if ( entry == null )\n         {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/AddRequestImpl.java",
                "sha": "abb8bfd4851b8095d6ea17b4a4faf3f49bc69a80",
                "status": "modified"
            },
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequest.java",
                "changes": 27,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequest.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 16,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequest.java",
                "patch": "@@ -60,8 +60,7 @@\n      * Sets the authentication mechanism to simple or to SASL based\n      * authentication.\n      * \n-     * @param isSimple\n-     *            true if authentication is simple, false otherwise.\n+     * @param isSimple true if authentication is simple, false otherwise.\n      */\n     void setSimple( boolean isSimple );\n \n@@ -70,25 +69,25 @@\n      * Gets the simple credentials associated with a simple authentication\n      * attempt or null if this request uses SASL authentication mechanisms.\n      * \n-     * @return null if the mechanism is SASL or the credentials if it is simple.\n+     * @return null if the mechanism is SASL, or the credentials if it is simple.\n      */\n     byte[] getCredentials();\n \n \n     /**\n      * Sets the simple credentials associated with a simple authentication\n-     * attempt ignored if this request uses SASL authentication mechanisms.\n+     * attempt. Ignored if this request uses SASL authentication mechanisms.\n      * \n-     * @param credentials the credentials if authentication is simple, null otherwise\n+     * @param credentials the credentials if authentication is simple\n      */\n     void setCredentials( String credentials );\n \n \n     /**\n      * Sets the simple credentials associated with a simple authentication\n-     * attempt ignored if this request uses SASL authentication mechanisms.\n+     * attempt. Ignored if this request uses SASL authentication mechanisms.\n      * \n-     * @param credentials the credentials if authentication is simple, null otherwise\n+     * @param credentials the credentials if authentication is simple\n      */\n     void setCredentials( byte[] credentials );\n \n@@ -112,9 +111,7 @@\n      * performed at a lower layer, or when using SASL credentials with a\n      * mechanism that includes the Dn in the credentials.\n      * \n-     * @param name\n-     *            the Dn of the authenticating user - leave null for annonymous\n-     *            user.\n+     * @param name the Dn of the authenticating user - leave null for annonymous user.\n      */\n     void setName( Dn name );\n \n@@ -156,9 +153,8 @@\n      * an type-safe enumeration type for a binary value. If an LDAPv4 comes out\n      * then we shall convert the return type to a type safe enumeration.\n      * \n-     * @param isVersion3\n-     *            if true the client will be exhibiting version 3 bind behavoir,\n-     *            if false is used version 2 behavoir will be exhibited.\n+     * @param isVersion3 if true the client will be exhibiting version 3 bind behavior,\n+     *  If false is used version 2 behavior will be exhibited.\n      */\n     void setVersion3( boolean isVersion3 );\n \n@@ -167,7 +163,7 @@\n      * Gets the SASL mechanism String associated with this BindRequest if the\n      * bind operation is using SASL.\n      * \n-     * @return the SASL mechanism or null if the bind op is simple\n+     * @return the SASL mechanism or null if the bind operation is simple\n      */\n     String getSaslMechanism();\n \n@@ -176,8 +172,7 @@\n      * Sets the SASL mechanism String associated with this BindRequest if the\n      * bind operation is using SASL.\n      * \n-     * @param saslMechanism\n-     *            the SASL mechanism\n+     * @param saslMechanism the SASL mechanism\n      */\n     void setSaslMechanism( String saslMechanism );\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequest.java",
                "sha": "4dc9c243be5487f3e0106f9385687f1bb10a46fb",
                "status": "modified"
            },
            {
                "additions": 16,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequestImpl.java",
                "changes": 92,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequestImpl.java?ref=29f5524c632ddf43e7d03411c30f376cb105a630",
                "deletions": 76,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequestImpl.java",
                "patch": "@@ -35,8 +35,6 @@\n  */\n public class BindRequestImpl extends AbstractAbandonableRequest implements BindRequest\n {\n-    static final long serialVersionUID = 7945504184130380071L;\n-\n     /**\n      * Distinguished name identifying the name of the authenticating subject -\n      * defaults to the empty string\n@@ -80,10 +78,7 @@ public BindRequestImpl()\n     // -----------------------------------------------------------------------\n \n     /**\n-     * Checks to see if the authentication mechanism is simple and not SASL\n-     * based.\n-     * \n-     * @return true if the mechanism is simple false if it is SASL based.\n+     * {@inheritDoc}\n      */\n     public boolean isSimple()\n     {\n@@ -92,10 +87,7 @@ public boolean isSimple()\n \n \n     /**\n-     * Checks to see if the authentication mechanism is simple and not SASL\n-     * based.\n-     * \n-     * @return true if the mechanism is simple false if it is SASL based.\n+     * {@inheritDoc}\n      */\n     public boolean getSimple()\n     {\n@@ -104,11 +96,7 @@ public boolean getSimple()\n \n \n     /**\n-     * Sets the authentication mechanism to simple or to SASL based\n-     * authentication.\n-     * \n-     * @param simple\n-     *            true if authentication is simple, false otherwise.\n+     * {@inheritDoc}\n      */\n     public void setSimple( boolean simple )\n     {\n@@ -117,10 +105,7 @@ public void setSimple( boolean simple )\n \n \n     /**\n-     * Gets the simple credentials associated with a simple authentication\n-     * attempt or null if this request uses SASL authentication mechanisms.\n-     * \n-     * @return null if the mechanism is SASL or the credentials if it is simple.\n+     * {@inheritDoc}\n      */\n     public byte[] getCredentials()\n     {\n@@ -170,9 +155,7 @@ public void setCredentials( byte[] credentials )\n \n \n     /**\n-     * Gets the mechanism if this request uses SASL authentication mechanisms.\n-     * \n-     * @return The mechanism if SASL.\n+     * {@inheritDoc}\n      */\n     public String getSaslMechanism()\n     {\n@@ -181,25 +164,17 @@ public String getSaslMechanism()\n \n \n     /**\n-     * Sets the mechanism associated with a SASL authentication\n-     * \n-     * @param saslMechanism\n-     *            the SASL mechanism\n+     * {@inheritDoc}\n      */\n     public void setSaslMechanism( String saslMechanism )\n     {\n+        this.isSimple = false;\n         this.mechanism = saslMechanism;\n     }\n \n \n     /**\n-     * Gets the distinguished name of the subject in this authentication\n-     * request. This field may take on a null value (a zero length string) for\n-     * the purposes of anonymous binds, when authentication has been performed\n-     * at a lower layer, or when using SASL credentials with a mechanism that\n-     * includes the Dn in the credentials.\n-     * \n-     * @return the Dn of the authenticating user.\n+     * {@inheritDoc}\n      */\n     public Dn getName()\n     {\n@@ -208,15 +183,7 @@ public Dn getName()\n \n \n     /**\n-     * Sets the distinguished name of the subject in this authentication\n-     * request. This field may take on a null value (or a zero length string)\n-     * for the purposes of anonymous binds, when authentication has been\n-     * performed at a lower layer, or when using SASL credentials with a\n-     * mechanism that includes the Dn in the credentials.\n-     * \n-     * @param name\n-     *            the Dn of the authenticating user - leave null for annonymous\n-     *            user.\n+     * {@inheritDoc}\n      */\n     public void setName( Dn name )\n     {\n@@ -225,15 +192,7 @@ public void setName( Dn name )\n \n \n     /**\n-     * Checks to see if the Ldap v3 protocol is used. Normally this would\n-     * extract a version number from the bind request sent by the client\n-     * indicating the version of the protocol to be used in this protocol\n-     * session. The integer is either a 2 or a 3 at the moment. We thought it\n-     * was better to just check if the protocol used is 3 or not rather than use\n-     * an type-safe enumeration type for a binary value. If an LDAPv4 comes out\n-     * then we shall convert the return type to a type safe enumeration.\n-     * \n-     * @return true if client using version 3 false if it is version 2.\n+     * {@inheritDoc}\n      */\n     public boolean isVersion3()\n     {\n@@ -242,15 +201,7 @@ public boolean isVersion3()\n \n \n     /**\n-     * Gets whether or not the Ldap v3 protocol is used. Normally this would\n-     * extract a version number from the bind request sent by the client\n-     * indicating the version of the protocol to be used in this protocol\n-     * session. The integer is either a 2 or a 3 at the moment. We thought it\n-     * was better to just check if the protocol used is 3 or not rather than use\n-     * an type-safe enumeration type for a binary value. If an LDAPv4 comes out\n-     * then we shall convert the return type to a type safe enumeration.\n-     * \n-     * @return true if client using version 3 false if it is version 2.\n+     * {@inheritDoc}\n      */\n     public boolean getVersion3()\n     {\n@@ -259,17 +210,7 @@ public boolean getVersion3()\n \n \n     /**\n-     * Sets whether or not the LDAP v3 or v2 protocol is used. Normally this\n-     * would extract a version number from the bind request sent by the client\n-     * indicating the version of the protocol to be used in this protocol\n-     * session. The integer is either a 2 or a 3 at the moment. We thought it\n-     * was better to just check if the protocol used is 3 or not rather than use\n-     * an type-safe enumeration type for a binary value. If an LDAPv4 comes out\n-     * then we shall convert the return type to a type safe enumeration.\n-     * \n-     * @param version3\n-     *            if true the client will be exhibiting version 3 bind behavoir,\n-     *            if false is used version 2 behavoir will be exhibited.\n+     * {@inheritDoc}\n      */\n     public void setVersion3( boolean version3 )\n     {\n@@ -354,24 +295,23 @@ public boolean equals( Object obj )\n         Dn dn1 = req.getName();\n         Dn dn2 = getName();\n \n-        if ( dn1 == null )\n+        if ( Dn.isNullOrEmpty( dn1) )\n         {\n-            if ( dn2 != null )\n+            if ( !Dn.isNullOrEmpty( dn2 ) )\n             {\n                 return false;\n             }\n         }\n         else\n         {\n-            if ( dn2 == null )\n+            if ( Dn.isNullOrEmpty( dn2 ) )\n             {\n                 return false;\n             }\n             else if ( !dn1.equals( dn2 ) )\n             {\n                 return false;\n             }\n-\n         }\n \n         return Arrays.equals( req.getCredentials(), getCredentials() );\n@@ -409,7 +349,7 @@ public String toString()\n         sb.append( \"    BindRequest\\n\" );\n         sb.append( \"        Version : '\" ).append( isVersion3 ? \"3\" : \"2\" ).append( \"'\\n\" );\n \n-        if ( Strings.isEmpty(name.getNormName()) && isSimple )\n+        if ( ( (name == null ) || Strings.isEmpty(name.getNormName() ) ) && isSimple )\n         {\n             sb.append( \"        Name : anonymous\\n\" );\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/29f5524c632ddf43e7d03411c30f376cb105a630/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/message/BindRequestImpl.java",
                "sha": "df04906cf21efe2be7830cbf7f1b0fd0a7e35abe",
                "status": "modified"
            }
        ],
        "message": "o Added the bind( Dn ) and bind( String ) method in the LdapConnection interface\no Ignored the SASL PLAIN bind test, it's not working in the LdapNeworkConnection\no The testAnonymousBindReques is not anymore ignored, the NPE ha sbeen fixed\no Added a check in the LdapNetworkConnection.bind( username, password ) methods to forbid a call when the password is null but the username is not\no Fixed a NPE in the BindRequestDecorator class\no Updated the BindRequest Javadoc\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1092743 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/803d13eed97bd56fad042efa635cf655632f70d5",
        "patched_files": [
            "LdapDecoder.java",
            "LdapNetworkConnection.java",
            "LdapConnection.java",
            "BindRequest.java",
            "AddRequestImpl.java",
            "BindRequestImpl.java",
            "BindRequestDecorator.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapDecoderTest.java",
            "BindRequestImplTest.java",
            "AddRequestImplTest.java",
            "BindRequestTest.java"
        ]
    },
    "directory-ldap-api_3419be0": {
        "bug_id": "directory-ldap-api_3419be0",
        "commit": "https://github.com/apache/directory-ldap-api/commit/3419be03990bc8eee4a9be70fa06db1a50070dfb",
        "file": [
            {
                "additions": 34,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3419be03990bc8eee4a9be70fa06db1a50070dfb/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "changes": 43,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java?ref=3419be03990bc8eee4a9be70fa06db1a50070dfb",
                "deletions": 9,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "patch": "@@ -288,7 +288,10 @@ public String getOid( String name )\n         {\n             AttributeType attributeType = attributeTypeRegistry.lookup( name );\n             \n-            return attributeType.getOid();\n+            if ( attributeType != null )\n+            {\n+                return attributeType.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -300,7 +303,10 @@ public String getOid( String name )\n         {\n             ObjectClass objectClass = objectClassRegistry.lookup( name );\n             \n-            return objectClass.getOid();\n+            if ( objectClass != null )\n+            {\n+                return objectClass.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -312,7 +318,10 @@ public String getOid( String name )\n         {\n             LdapSyntax ldapSyntax = ldapSyntaxRegistry.lookup( name );\n             \n-            return ldapSyntax.getOid();\n+            if ( ldapSyntax != null )\n+            {\n+                return ldapSyntax.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -324,7 +333,10 @@ public String getOid( String name )\n         {\n             MatchingRule matchingRule = matchingRuleRegistry.lookup( name );\n             \n-            return matchingRule.getOid();\n+            if ( matchingRule != null )\n+            {\n+                return matchingRule.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -336,7 +348,10 @@ public String getOid( String name )\n         {\n             MatchingRuleUse matchingRuleUse = matchingRuleUseRegistry.lookup( name );\n             \n-            return matchingRuleUse.getOid();\n+            if ( matchingRuleUse != null )\n+            {\n+                return matchingRuleUse.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -348,7 +363,10 @@ public String getOid( String name )\n         {\n             NameForm nameForm = nameFormRegistry.lookup( name );\n             \n-            return nameForm.getOid();\n+            if ( nameForm != null )\n+            {\n+                return nameForm.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -360,7 +378,10 @@ public String getOid( String name )\n         {\n             DITContentRule ditContentRule = ditContentRuleRegistry.lookup( name );\n             \n-            return ditContentRule.getOid();\n+            if ( ditContentRule != null )\n+            {\n+                return ditContentRule.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n@@ -372,13 +393,17 @@ public String getOid( String name )\n         {\n             DITStructureRule ditStructureRule = ditStructureRuleRegistry.lookup( name );\n             \n-            return ditStructureRule.getOid();\n+            if ( ditStructureRule != null )\n+            {\n+                return ditStructureRule.getOid();\n+            }\n         }\n         catch ( NamingException ne )\n         {\n             // No more registries to look at...\n-            return null;\n         }\n+        \n+        return null;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3419be03990bc8eee4a9be70fa06db1a50070dfb/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "sha": "e57d42062a79e1868cbc3ec88e86322a6e5116f6",
                "status": "modified"
            }
        ],
        "message": "fixed some potential NPE in the getOid() method\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@883616 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/44598c6e3fc43b4069d9fb85eecd1394513d5907",
        "patched_files": [
            "Registries.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "RegistriesTest.java"
        ]
    },
    "directory-ldap-api_3c6a765": {
        "bug_id": "directory-ldap-api_3c6a765",
        "commit": "https://github.com/apache/directory-ldap-api/commit/3c6a7652e171772dbc0c55042ad10260002002b9",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3c6a7652e171772dbc0c55042ad10260002002b9/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java?ref=3c6a7652e171772dbc0c55042ad10260002002b9",
                "deletions": 1,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "patch": "@@ -32,6 +32,7 @@\n import org.apache.directory.api.ldap.model.message.ResultCodeEnum;\n import org.apache.directory.api.ldap.model.schema.AttributeType;\n import org.apache.directory.api.ldap.model.schema.LdapComparator;\n+import org.apache.directory.api.ldap.model.schema.LdapSyntax;\n import org.apache.directory.api.ldap.model.schema.MatchingRule;\n import org.apache.directory.api.ldap.model.schema.Normalizer;\n import org.apache.directory.api.ldap.model.schema.SyntaxChecker;\n@@ -269,7 +270,9 @@ public Value( AttributeType attributeType, String upValue ) throws LdapInvalidAt\n         if ( !attributeType.isRelaxed() )\n         {\n             // Check the value\n-            if ( attributeType.getSyntax().getSyntaxChecker() != null )\n+            LdapSyntax syntax = attributeType.getSyntax();\n+            \n+            if ( ( syntax != null ) && ( syntax.getSyntaxChecker() != null ) ) \n             {\n                 if ( !attributeType.getSyntax().getSyntaxChecker().isValidSyntax( upValue ) )\n                 {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3c6a7652e171772dbc0c55042ad10260002002b9/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "sha": "7bb5bb4bece49e51716a899d2dc66a5b416dd0ea",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3c6a7652e171772dbc0c55042ad10260002002b9/ldap/model/src/test/java/org/apache/directory/api/ldap/model/entry/AttributeTest.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/test/java/org/apache/directory/api/ldap/model/entry/AttributeTest.java?ref=3c6a7652e171772dbc0c55042ad10260002002b9",
                "deletions": 0,
                "filename": "ldap/model/src/test/java/org/apache/directory/api/ldap/model/entry/AttributeTest.java",
                "patch": "@@ -38,6 +38,7 @@\n \n import org.apache.directory.api.ldap.model.exception.LdapException;\n import org.apache.directory.api.ldap.model.exception.LdapInvalidAttributeValueException;\n+import org.apache.directory.api.ldap.model.schema.AttributeType;\n import org.apache.directory.api.util.Strings;\n import org.junit.BeforeClass;\n import org.junit.Test;\n@@ -1529,4 +1530,15 @@ public void testSerializeAttributeBinaryValue() throws LdapException, IOExceptio\n         assertTrue( dcaSer.contains( password ) );\n         assertFalse( dcaSer.isHumanReadable() );\n     }\n+    \n+    \n+    /**\n+     * test that we properly throw an exception, and not a NPE, when no AttributeType is provided.\n+     */\n+    @Test( expected=IllegalArgumentException.class )\n+    public void testNullAT() throws LdapInvalidAttributeValueException\n+    {\n+        AttributeType attributeType = new AttributeType(\"mail\");\n+        Value stringValue = new Value(attributeType, \"test@test.com\");\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3c6a7652e171772dbc0c55042ad10260002002b9/ldap/model/src/test/java/org/apache/directory/api/ldap/model/entry/AttributeTest.java",
                "sha": "5263347ca7f35e035afc7ff1feb16741032386eb",
                "status": "modified"
            }
        ],
        "message": "Fix for DIRAPI-302. We now throw an IllegalArgumentException instead of\na NPE.",
        "parent": "https://github.com/apache/directory-ldap-api/commit/1aea113c1b34a39c4dad2a71d4bb38074766bb66",
        "patched_files": [
            "Attribute.java",
            "Value.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "AttributeTest.java",
            "ValueTest.java"
        ]
    },
    "directory-ldap-api_3d0191c": {
        "bug_id": "directory-ldap-api_3d0191c",
        "commit": "https://github.com/apache/directory-ldap-api/commit/3d0191ce21588c865c57fb9baee37d4842875772",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractCursor.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractCursor.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractCursor.java",
                "patch": "@@ -42,7 +42,7 @@ public final void setClosureMonitor( ClosureMonitor monitor )\n     {\n         if ( monitor == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_02001 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_02001 ) );\n         }\n         \n         this.monitor = monitor;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractCursor.java",
                "sha": "16ec2f1eed9becbd604bd7f1ecc1627bf4449e9c",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractTupleCursor.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractTupleCursor.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractTupleCursor.java",
                "patch": "@@ -40,8 +40,9 @@ public final void setClosureMonitor( ClosureMonitor monitor )\n     {\n         if ( monitor == null )\n         {\n-            throw new NullPointerException( \"monitor\" );\n+            throw new IllegalArgumentException( \"monitor\" );\n         }\n+        \n         this.monitor = monitor;\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/AbstractTupleCursor.java",
                "sha": "8b6797e92563156252d8adcd2fd16dd904958f0a",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap-convert/src/main/java/org/apache/directory/shared/converter/schema/SchemaToLdif.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-convert/src/main/java/org/apache/directory/shared/converter/schema/SchemaToLdif.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "ldap-convert/src/main/java/org/apache/directory/shared/converter/schema/SchemaToLdif.java",
                "patch": "@@ -118,7 +118,7 @@ private static void generate( Schema schema ) throws Exception\n         if ( schema == null )\n         {\n             log.error( I18n.err( I18n.ERR_06005 ) );\n-            throw new NullPointerException( I18n.err( I18n.ERR_06006 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_06006 ) );\n         }\n \n         InputStream in = schema.getInput();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap-convert/src/main/java/org/apache/directory/shared/converter/schema/SchemaToLdif.java",
                "sha": "a699ca3630f190742b8f5e8381ef4e6d7dd9e94c",
                "status": "modified"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap-ldif/src/main/java/org/apache/directory/shared/ldap/ldif/LdifRevertor.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-ldif/src/main/java/org/apache/directory/shared/ldap/ldif/LdifRevertor.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 5,
                "filename": "ldap-ldif/src/main/java/org/apache/directory/shared/ldap/ldif/LdifRevertor.java",
                "patch": "@@ -25,9 +25,11 @@\n import java.util.List;\n import java.util.Set;\n \n+import javax.naming.NamingException;\n+\n import org.apache.directory.shared.i18n.I18n;\n-import org.apache.directory.shared.ldap.entry.DefaultModification;\n import org.apache.directory.shared.ldap.entry.DefaultEntryAttribute;\n+import org.apache.directory.shared.ldap.entry.DefaultModification;\n import org.apache.directory.shared.ldap.entry.Entry;\n import org.apache.directory.shared.ldap.entry.EntryAttribute;\n import org.apache.directory.shared.ldap.entry.Modification;\n@@ -256,12 +258,12 @@ public static LdifEntry reverseMove( DN newSuperiorDn, DN modifiedDn ) throws Ld\n \n         if ( newSuperiorDn == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_12074 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_12074 ) );\n         }\n \n         if ( modifiedDn == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_12075 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_12075 ) );\n         }\n \n         if ( modifiedDn.size() == 0 )\n@@ -433,12 +435,12 @@ private static LdifEntry generateReverted( DN newSuperior, RDN newRdn, DN newDn,\n \n         if ( newRdn == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_12077 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_12077 ) );\n         }\n \n         if ( parentDn == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_12078 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_12078 ) );\n         }\n \n         if ( parentDn.size() == 0 )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap-ldif/src/main/java/org/apache/directory/shared/ldap/ldif/LdifRevertor.java",
                "sha": "785513d2a40d9ca8cd0e13a0f139566f086b0894",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap-schema-loader/src/main/java/org/apache/directory/shared/ldap/schema/loader/ldif/SchemaEntityFactory.java",
                "changes": 33,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/ldap/schema/loader/ldif/SchemaEntityFactory.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 25,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/ldap/schema/loader/ldif/SchemaEntityFactory.java",
                "patch": "@@ -101,7 +101,7 @@ private String getOid( Entry entry, String objectType ) throws LdapInvalidAttrib\n         {\n             String msg = I18n.err( I18n.ERR_10005, objectType, MetaSchemaConstants.M_OID_AT );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n \n         String oid = mOid.getString();\n@@ -130,7 +130,7 @@ private String getOid( SchemaObject description, String objectType ) throws Ldap\n         {\n             String msg = I18n.err( I18n.ERR_10005, objectType, MetaSchemaConstants.M_OID_AT );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n \n         if ( !OID.isOID( oid ) )\n@@ -153,7 +153,7 @@ private void checkEntry( Entry entry, String schemaEntity )\n         {\n             String msg = I18n.err( I18n.ERR_10007, schemaEntity );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n     }\n \n@@ -167,7 +167,7 @@ private void checkDescription( SchemaObject description, String schemaEntity )\n         {\n             String msg = I18n.err( I18n.ERR_10008, schemaEntity );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n     }\n \n@@ -993,7 +993,7 @@ private String getFqcn( Entry entry, String objectType ) throws LdapInvalidAttri\n         {\n             String msg = I18n.err( I18n.ERR_10028, objectType, MetaSchemaConstants.M_FQCN_AT );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n \n         return mFqcn.getString();\n@@ -1012,30 +1012,13 @@ private String getFqcn( LoadableSchemaObject description, String objectType )\n         {\n             String msg = I18n.err( I18n.ERR_10028, objectType, MetaSchemaConstants.M_FQCN_AT );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n \n         return mFqcn;\n     }\n \n-\n-    /*\n-     * Process the ByteCode attribute\n-     */\n-    //    private EntryAttribute getByteCode( Entry entry, String objectType )\n-    //    {\n-    //        EntryAttribute byteCode = entry.get( MetaSchemaConstants.M_BYTECODE_AT );\n-    //\n-    //        if ( byteCode == null )\n-    //        {\n-    //            String msg = I18n.err( I18n.ERR_10028, objectType, MetaSchemaConstants.M_BYTECODE_AT );\n-    //            LOG.warn( msg );\n-    //            throw new NullPointerException( msg );\n-    //        }\n-    //\n-    //        return byteCode;\n-    //    }\n-\n+    \n     /**\n      * Process the ByteCode attribute\n      */\n@@ -1047,7 +1030,7 @@ private EntryAttribute getByteCode( LoadableSchemaObject description, String obj\n         {\n             String msg = I18n.err( I18n.ERR_10028, objectType, MetaSchemaConstants.M_BYTECODE_AT );\n             LOG.warn( msg );\n-            throw new NullPointerException( msg );\n+            throw new IllegalArgumentException( msg );\n         }\n \n         byte[] bytecode = Base64.decode( byteCodeString.toCharArray() );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap-schema-loader/src/main/java/org/apache/directory/shared/ldap/schema/loader/ldif/SchemaEntityFactory.java",
                "sha": "2a5e5a8b70ae1836a77037657c539b847acf6c92",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACIItem.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACIItem.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACIItem.java",
                "patch": "@@ -61,15 +61,17 @@ protected ACIItem(String identificationTag, int precedence, AuthenticationLevel\n     {\n         if ( identificationTag == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04001 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04001 ) );\n         }\n+        \n         if ( precedence < 0 || precedence > 255 )\n         {\n             throw new IllegalArgumentException( I18n.err( I18n.ERR_04002, precedence ) );\n         }\n+        \n         if ( authenticationLevel == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04003 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04003 ) );\n         }\n \n         this.identificationTag = identificationTag;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACIItem.java",
                "sha": "c94a1f2ec4c8bdc7f3654c942c29815e2a90f218",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACITuple.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACITuple.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACITuple.java",
                "patch": "@@ -81,7 +81,7 @@ public ACITuple(\n     {\n         if ( authenticationLevel == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04003) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04003) );\n         }\n \n         if ( precedence < 0 || precedence > 255 )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ACITuple.java",
                "sha": "46736976e7fe8cfb588ee7d907f133bc6c10d59f",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ProtectedItem.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ProtectedItem.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/aci/ProtectedItem.java",
                "patch": "@@ -623,7 +623,7 @@ public RangeOfValues( ExprNode filter )\n         {\n             if ( filter == null )\n             {\n-                throw new NullPointerException( \"filter\" );\n+                throw new IllegalArgumentException( \"filter\" );\n             }\n \n             this.filter = filter;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/aci/ProtectedItem.java",
                "sha": "96cd636824ed47a7af47707321c12d235fa856a2",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "patch": "@@ -135,7 +135,7 @@ protected Schema getSchema( Entry entry ) throws Exception\n     {\n         if ( entry == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04261 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04261 ) );\n         }\n \n         EntryAttribute objectClasses = entry.get( SchemaConstants.OBJECT_CLASS_AT );\n@@ -162,14 +162,14 @@ protected Schema getSchema( Entry entry ) throws Exception\n \n         if ( entry.get( SchemaConstants.CN_AT ) == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04262 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04262 ) );\n         }\n \n         name = entry.get( SchemaConstants.CN_AT ).getString();\n \n         if ( entry.get( SchemaConstants.CREATORS_NAME_AT ) == null )\n         {\n-            throw new NullPointerException( \"entry must have a valid \" + SchemaConstants.CREATORS_NAME_AT\n+            throw new IllegalArgumentException( \"entry must have a valid \" + SchemaConstants.CREATORS_NAME_AT\n                 + \" attribute\" );\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "sha": "18f11246e1ef58eefe1319bb5b18477b3dc1bb16",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/DefaultSchema.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/DefaultSchema.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/DefaultSchema.java",
                "patch": "@@ -105,7 +105,7 @@ public DefaultSchema( String name, String owner, String[] dependencies, boolean\n     {\n         if ( name == null )\n         {\n-            throw new NullPointerException( I18n.err( I18n.ERR_04266 ) );\n+            throw new IllegalArgumentException( I18n.err( I18n.ERR_04266 ) );\n         }\n         \n         this.name = name;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/DefaultSchema.java",
                "sha": "1c49b381332843277d0d4e92c6d62b4ebeb36d22",
                "status": "modified"
            },
            {
                "additions": 55,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "changes": 55,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java?ref=3d0191ce21588c865c57fb9baee37d4842875772",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "patch": "@@ -31,6 +31,9 @@\n import javax.naming.directory.Attributes;\n import javax.naming.directory.BasicAttribute;\n import javax.naming.directory.BasicAttributes;\n+import javax.naming.directory.InvalidAttributeIdentifierException;\n+import javax.naming.ldap.ExtendedRequest;\n+import javax.naming.ldap.ExtendedResponse;\n \n import org.apache.commons.lang.ArrayUtils;\n import org.apache.directory.shared.i18n.I18n;\n@@ -42,6 +45,7 @@\n import org.apache.directory.shared.ldap.entry.Value;\n import org.apache.directory.shared.ldap.exception.LdapException;\n import org.apache.directory.shared.ldap.exception.LdapInvalidAttributeTypeException;\n+import org.apache.directory.shared.ldap.message.internal.InternalExtendedRequest;\n import org.apache.directory.shared.ldap.name.DN;\n import org.apache.directory.shared.ldap.schema.AttributeType;\n import org.apache.directory.shared.ldap.schema.MatchingRule;\n@@ -1325,4 +1329,55 @@ else if ( value instanceof byte[] )\n             return null;\n         }\n     }\n+    \n+    \n+    public static ExtendedRequest toJndiExtendedRequest( final InternalExtendedRequest request )\n+    {\n+        class JndiExtendedRequest implements ExtendedRequest\n+        {\n+            public ExtendedResponse createExtendedResponse( String id, byte[] berValue, int offset, int length )\n+                throws NamingException\n+            {\n+                return toJndiExtendedResponse( request );\n+            }\n+\n+            public byte[] getEncodedValue()\n+            {\n+                return request.getPayload();\n+            }\n+\n+            public String getID()\n+            {\n+                return request.getOid();\n+            }\n+            \n+        } \n+        \n+        return new JndiExtendedRequest();\n+    }\n+    \n+    \n+    /**\n+     * TODO toJndiExtendedResponse. This is NOT correct ATM\n+     *\n+     * @param request\n+     * @return\n+     */\n+    public static ExtendedResponse toJndiExtendedResponse( final InternalExtendedRequest request )\n+    {\n+        class JndiExtendedResponse implements ExtendedResponse\n+        {\n+            public byte[] getEncodedValue()\n+            {\n+                return request.getEncodedValue();\n+            }\n+\n+            public String getID()\n+            {\n+                return request.getID();\n+            }\n+        } \n+        \n+        return new JndiExtendedResponse();\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/3d0191ce21588c865c57fb9baee37d4842875772/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "sha": "c080eff7eb33443ba0d73a771a7417b9c09ca813",
                "status": "modified"
            }
        ],
        "message": "Replaced the throw new NullPointerException by throw new IllegalArgumentException\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@951408 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/2afacc48ab5812e9139dfaaef5a69bc01fa85d8a",
        "patched_files": [
            "AttributeUtils.java",
            "SchemaToLdif.java",
            "LdifRevertor.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "AttributeUtilsTest.java",
            "TestSchemaToLdif.java",
            "LdifRevertorTest.java"
        ]
    },
    "directory-ldap-api_4102a3f": {
        "bug_id": "directory-ldap-api_4102a3f",
        "commit": "https://github.com/apache/directory-ldap-api/commit/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/LdifSchemaLoader.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/LdifSchemaLoader.java?ref=4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
                "deletions": 0,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/LdifSchemaLoader.java",
                "patch": "@@ -396,6 +396,7 @@ private void loadComparators( Schema schema, Registries registries ) throws Exce\n             LdifEntry entry = reader.next();\n             LdapComparator<?> comparator = \n                 factory.getLdapComparator( entry.getEntry(), registries );\n+            comparator.setOid( entry.get( MetaSchemaConstants.M_OID_AT ).getString() );\n             registries.getComparatorRegistry().register( comparator );\n         }\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/LdifSchemaLoader.java",
                "sha": "c2cbc3831e8590147931b724bcfe386ad87150e8",
                "status": "modified"
            },
            {
                "additions": 37,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/SchemaEntityFactory.java",
                "changes": 44,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/SchemaEntityFactory.java?ref=4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
                "deletions": 7,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/SchemaEntityFactory.java",
                "patch": "@@ -51,6 +51,8 @@\n import org.apache.directory.shared.ldap.schema.registries.Registries;\n import org.apache.directory.shared.ldap.schema.registries.DefaultSchema;\n import org.apache.directory.shared.ldap.util.Base64;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n \n /**\n@@ -61,6 +63,12 @@\n  */\n public class SchemaEntityFactory\n {\n+\t/** Slf4j logger */\n+\tprivate final static Logger LOG = LoggerFactory.getLogger( SchemaEntityFactory.class );\n+\n+\t/** for fast debug checks */\n+\tprivate static final boolean IS_DEBUG = LOG.isDebugEnabled();\n+\t\n     /** Used for looking up the setRegistries(Registries) method */\n     private final static Class<?>[] parameterTypes = new Class[] { Registries.class };\n     \n@@ -202,14 +210,22 @@ public SyntaxChecker getSyntaxChecker( SyntaxCheckerDescription syntaxCheckerDes\n         LdapComparator<?> comparator = null;\n         Class<?> clazz = null;\n          \n-        if ( bytecode == null ) \n+        try\n         {\n-            clazz = Class.forName( className );\n+\t        if ( bytecode == null ) \n+\t        {\n+\t            clazz = Class.forName( className );\n+\t        }\n+\t        else\n+\t        {\n+\t            classLoader.setAttribute( bytecode );\n+\t            clazz = classLoader.loadClass( className );\n+\t        }\n         }\n-        else\n+        catch ( Exception e )\n         {\n-            classLoader.setAttribute( bytecode );\n-            clazz = classLoader.loadClass( className );\n+        \tLOG.error( \"Failed to load class from LDIF bytecode from schemaObject {}\", oid, e );\n+        \tthrow e;\n         }\n         \n         comparator = ( LdapComparator<?> ) clazz.newInstance();\n@@ -258,7 +274,7 @@ public SyntaxChecker getSyntaxChecker( SyntaxCheckerDescription syntaxCheckerDes\n         }\n         \n         String className = entry.get( MetaSchemaConstants.M_FQCN_AT ).get().getString();\n-        return getLdapComparator( entry.get( MetaSchemaConstants.M_OID_AT ).toString(), \n+        return getLdapComparator( entry.get( MetaSchemaConstants.M_OID_AT ).getString(), \n             className, entry.get( MetaSchemaConstants.M_BYTECODE_AT ), targetRegistries );\n     }\n     \n@@ -339,7 +355,21 @@ public Normalizer getNormalizer( Entry entry, Registries targetRegistries )\n      */\n     private void injectRegistries( Object obj, Registries targetRegistries ) throws Exception\n     {\n-        Method method = obj.getClass().getMethod( \"setRegistries\", parameterTypes );\n+        Method method = null;\n+        \n+        try\n+        {\n+        \tmethod = obj.getClass().getMethod( \"setRegistries\", parameterTypes );\n+        }\n+        catch ( NoSuchMethodException e )\n+        {\n+        \tif ( IS_DEBUG )\n+        \t{\n+        \t\tLOG.debug( obj.getClass() + \" has no setRegistries() method.\" );\n+        \t}\n+        \t\n+        \treturn;\n+        }\n         \n         if ( method == null )\n         {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/loader/ldif/SchemaEntityFactory.java",
                "sha": "2b04bb780d459455cb1de338089b3c71b9d0be5f",
                "status": "modified"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaObject.java",
                "changes": 22,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaObject.java?ref=4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaObject.java",
                "patch": "@@ -116,7 +116,11 @@ protected SchemaObject( SchemaObjectType objectType, String oid )\n         isReadOnly = false;\n         extensions = new HashMap<String, List<String>>();\n         names = new ArrayList<String>();\n-        names.add( oid );\n+        \n+        if ( oid != null )\n+        {\n+        \tnames.add( oid );\n+        }\n     }\n     \n     \n@@ -133,7 +137,6 @@ protected SchemaObject( SchemaObjectType objectType )\n         isReadOnly = false;\n         extensions = new HashMap<String, List<String>>();\n         names = new ArrayList<String>();\n-        names.add( oid );\n     }\n     \n     \n@@ -215,7 +218,10 @@ public void addName( String... names )\n         {\n             for ( String name : names )\n             {\n-                this.names.add( name );\n+            \tif ( name != null )\n+            \t{\n+            \t\tthis.names.add( name );\n+            \t}\n             }\n         }\n     }\n@@ -228,13 +234,21 @@ public void addName( String... names )\n      */\n     public void setNames( List<String> names )\n     {\n+    \tif ( names == null )\n+    \t{\n+    \t\treturn;\n+    \t}\n+    \t\n         if ( ! isReadOnly )\n         {\n             this.names = new ArrayList<String>( names.size() );\n             \n             for ( String name:names )\n             {\n-                this.names.add( name );\n+            \tif ( name != null )\n+            \t{\n+            \t\tthis.names.add( name );\n+            \t}\n             }\n         }\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaObject.java",
                "sha": "5c614147dba5a26418729b6d240a77f9c3da67e2",
                "status": "modified"
            },
            {
                "additions": 15,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/comparators/NormalizingComparator.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/comparators/NormalizingComparator.java?ref=4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/comparators/NormalizingComparator.java",
                "patch": "@@ -98,4 +98,19 @@ public int compare( String o1, String o2 )\n \n         return comparator.compare( n1, n2 );\n     }\n+    \n+    \n+    /**\n+     * Makes sure we update the oid property of the contained normalizer and \n+     * comparator.\n+     * \n+     * @param oid the object identifier\n+     */\n+    @Override\n+    public void setOid( String oid )\n+    {\n+    \tsuper.setOid( oid );\n+    \tnormalizer.setOid( oid );\n+    \tcomparator.setOid( oid );\n+    }    \n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/comparators/NormalizingComparator.java",
                "sha": "737b37b3b9c62b723585f07265dbc3eb3704aaae",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaObjectRegistry.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaObjectRegistry.java?ref=4102a3fb2dcb8829927c3b99c4e6bca91fe6857b",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaObjectRegistry.java",
                "patch": "@@ -212,7 +212,7 @@ public void register( T schemaObject ) throws NamingException\n         \n         if ( LOG.isDebugEnabled() )\n         {\n-            LOG.debug( \"registered {} for OID {}\", schemaObject, oid );\n+            LOG.debug( \"registered \" + schemaObject.getName() + \" for OID {}\", oid );\n         }\n         \n         // And register the oid -> schemaObject relation",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/4102a3fb2dcb8829927c3b99c4e6bca91fe6857b/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaObjectRegistry.java",
                "sha": "c876d83b5bae18b1fd11cc60340526dfe6643da2",
                "status": "modified"
            }
        ],
        "message": "fixed bug in hashCode() causing NPE due to inclusion of single null value in list of names (aliases)\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@809205 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/cc15bddc73b6e02dc5409647b902ce0f9e17decd",
        "patched_files": [
            "LdifSchemaLoader.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdifSchemaLoaderTest.java"
        ]
    },
    "directory-ldap-api_41e75f7": {
        "bug_id": "directory-ldap-api_41e75f7",
        "commit": "https://github.com/apache/directory-ldap-api/commit/41e75f7daf23cc2c1a9bf8363a96390b9e402752",
        "file": [
            {
                "additions": 16,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java?ref=41e75f7daf23cc2c1a9bf8363a96390b9e402752",
                "deletions": 2,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "patch": "@@ -388,6 +388,12 @@ public boolean load( Schema... schemas ) throws Exception\n     {\n         boolean loaded = false;\n \n+        // Reset the errors if not null\n+        if ( errors != null )\n+        {\n+            errors.clear();\n+        }\n+\n         // Work on a cloned and relaxed registries\n         Registries clonedRegistries = cloneRegistries();\n         clonedRegistries.setRelaxed();\n@@ -399,7 +405,7 @@ public boolean load( Schema... schemas ) throws Exception\n         }\n \n         // Build the cross references\n-        List<Throwable> errors = clonedRegistries.buildReferences();\n+        errors = clonedRegistries.buildReferences();\n \n         if ( errors.isEmpty() )\n         {\n@@ -409,6 +415,7 @@ public boolean load( Schema... schemas ) throws Exception\n             if ( errors.isEmpty() )\n             {\n                 // We are golden : let's apply the schema in the real registries\n+                registries.setRelaxed();\n \n                 // Load the schemas\n                 for ( Schema schema : schemas )\n@@ -417,7 +424,8 @@ public boolean load( Schema... schemas ) throws Exception\n                 }\n \n                 // Build the cross references\n-                registries.buildReferences();\n+                errors = registries.buildReferences();\n+                registries.setStrict();\n \n                 loaded = true;\n             }\n@@ -451,6 +459,12 @@ public boolean load( String... schemas ) throws Exception\n      */\n     private boolean load( Registries registries, Schema schema ) throws Exception\n     {\n+        if ( schema == null )\n+        {\n+            LOG.info( \"The schema is null\" );\n+            return false;\n+        }\n+\n         // First avoid loading twice the same schema\n         if ( registries.isSchemaLoaded( schema.getSchemaName() ) )\n         {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "sha": "b56ab8be336370edf90668ddd0037c6eefcb3f5b",
                "status": "modified"
            },
            {
                "additions": 227,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "changes": 282,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java?ref=41e75f7daf23cc2c1a9bf8363a96390b9e402752",
                "deletions": 55,
                "filename": "ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "patch": "@@ -21,6 +21,7 @@\n \n \n import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertNull;\n import static org.junit.Assert.assertTrue;\n@@ -31,6 +32,8 @@\n import org.apache.commons.io.FileUtils;\n import org.apache.directory.shared.ldap.schema.SchemaManager;\n import org.apache.directory.shared.ldap.schema.ldif.extractor.SchemaLdifExtractor;\n+import org.apache.directory.shared.ldap.schema.registries.DefaultSchema;\n+import org.apache.directory.shared.ldap.schema.registries.Schema;\n import org.apache.directory.shared.schema.DefaultSchemaManager;\n import org.apache.directory.shared.schema.loader.ldif.LdifSchemaLoader;\n import org.junit.AfterClass;\n@@ -44,19 +47,119 @@\n  *  Server API\n  *     boolean load( Schema... schemas ) throws Exception\n  *     boolean load( String... schemas ) throws Exception\n- *     boolean loadWithDeps( Schema... schemas ) throws Exception\n- *     boolean loadWithDeps( String... schemas ) throws Exception\n  *     boolean loadDisabled( Schema... schemas ) throws Exception\n  *     boolean loadDisabled( String... schemas ) throws Exception\n  *     boolean loadAllEnabled() throws Exception\n  *\n  *  Studio API :\n  *     boolean loadRelaxed( Schema... schemas ) throws Exception\n  *     boolean loadRelaxed( String... schemas ) throws Exception\n- *     boolean loadWithDepsRelaxed( Schema... schemas ) throws Exception\n- *     boolean loadWithDepsRelaxed( String... schemas ) throws Exception\n  *     boolean loadAllEnabledRelaxed() throws Exception \n- *\n+ *     \n+ * We check the resulting number of SchemaObjects in the registries. Those number are :\n+ * \n+ * Apache :\n+ *   AT :  53\n+ *   C  :   8\n+ *   MR :   8\n+ *   N  :   8\n+ *   OC :  17\n+ *   SC :   3\n+ *   S  :   7\n+ *   OID:  85\n+ *   \n+ * ApacheDns :\n+ *   AT :  16\n+ *   OC :  11\n+ *   OID:  27\n+ *   \n+ * ApacheMeta :\n+ *   AT :  31\n+ *   C  :   5\n+ *   MR :   5\n+ *   N  :   7\n+ *   OC :  13\n+ *   SC :   4\n+ *   S  :   5\n+ *   OID:  54\n+ * \n+ * AutoFs :\n+ *   AT :   1\n+ *   OC :   2\n+ *   OID:   3\n+ * \n+ * Collective :\n+ *   AT :  13\n+ *   OID:  13\n+ * \n+ * Corba :\n+ *   AT :   2\n+ *   OC :   3\n+ *   OID:   5\n+ * \n+ * Core :\n+ *   AT :  54\n+ *   OC :  27\n+ *   OID:  81\n+ * \n+ * Cosine :\n+ *   AT :  41\n+ *   OC :  13\n+ *   OID:  54\n+ * \n+ * Dhcp :\n+ *   AT :  39\n+ *   OC :  12\n+ *   OID:  51\n+ * \n+ * InetOrgPerson :\n+ *   AT :   9\n+ *   OC :   1\n+ *   OID:  10\n+ * \n+ * Java :\n+ *   AT :   7\n+ *   OC :   5\n+ *   OID:  12\n+ * \n+ * Krb5Kdc :\n+ *   AT :  15\n+ *   OC :   3\n+ *   OID:  18\n+ * \n+ * Mozilla :\n+ *   AT :  17\n+ *   OC :   1\n+ *   OID:  18\n+ * \n+ * Nis :\n+ *   AT :  27\n+ *   C  :   1\n+ *   MR :   1\n+ *   N  :   1\n+ *   OC :  13\n+ *   SC :   2\n+ *   S  :   2\n+ *   OID:  43\n+ * \n+ * Other :\n+ *   OID:   0\n+ * \n+ * Samba :\n+ *   AT :  37\n+ *   OC :  11\n+ *   OID:  48\n+ * \n+ * System :\n+ *   AT :  38\n+ *   C  :  35\n+ *   MR :  35\n+ *   N  :  35\n+ *   OC :   9\n+ *   SC :  59\n+ *   S  :  59\n+ *   OID: 141\n+ * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  * @version $Rev$, $Date$\n  */\n@@ -111,7 +214,7 @@ public void testLoadSystem() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"system\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 38, schemaManager.getAttributeTypeRegistry().size() );\n@@ -137,7 +240,11 @@ public void testLoadCore() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"core\" );\n+        // Check that we can't load a schema without its dependencies\n+        assertFalse( schemaManager.load( \"core\" ) );\n+\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 92, schemaManager.getAttributeTypeRegistry().size() );\n@@ -164,7 +271,9 @@ public void testLoadApache() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"apache\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"apache\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 145, schemaManager.getAttributeTypeRegistry().size() );\n@@ -192,7 +301,8 @@ public void testLoadApacheMeta() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"apacheMeta\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"apacheMeta\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 69, schemaManager.getAttributeTypeRegistry().size() );\n@@ -219,7 +329,9 @@ public void testLoadJava() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"Java\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"Java\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 99, schemaManager.getAttributeTypeRegistry().size() );\n@@ -240,31 +352,32 @@ public void testLoadJava() throws Exception\n \n     /**\n      * test loading the \"other\" schema, which depends on \"system\", \"core\",\n-     * \"apache\" and \"apacheMeta\"\n+     * \"apache\" and \"apacheMeta\". As we don't have any cross dependencies\n+     * with any of this other schemas, we can only load core and system\n      */\n     @Test\n     public void testLoadOther() throws Exception\n     {\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"other\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"other\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n-        assertEquals( 176, schemaManager.getAttributeTypeRegistry().size() );\n-        assertEquals( 48, schemaManager.getComparatorRegistry().size() );\n-        assertEquals( 48, schemaManager.getMatchingRuleRegistry().size() );\n-        assertEquals( 50, schemaManager.getNormalizerRegistry().size() );\n-        assertEquals( 66, schemaManager.getObjectClassRegistry().size() );\n-        assertEquals( 66, schemaManager.getSyntaxCheckerRegistry().size() );\n-        assertEquals( 71, schemaManager.getLdapSyntaxRegistry().size() );\n-        assertEquals( 361, schemaManager.getOidRegistry().size() );\n+        assertEquals( 92, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 36, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 222, schemaManager.getOidRegistry().size() );\n \n-        assertEquals( 5, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apache\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apacheMeta\" ) );\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"other\" ) );\n     }\n \n@@ -278,7 +391,9 @@ public void testLoadCosine() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"cosine\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"cosine\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 133, schemaManager.getAttributeTypeRegistry().size() );\n@@ -307,7 +422,10 @@ public void testLoadInetOrgPerson() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"InetOrgPerson\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"cosine\" ) );\n+        assertTrue( schemaManager.load( \"InetOrgPerson\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n@@ -336,7 +454,9 @@ public void testLoadCollective() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"Collective\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"Collective\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 105, schemaManager.getAttributeTypeRegistry().size() );\n@@ -364,7 +484,9 @@ public void testLoadKrb5Kdc() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"Krb5Kdc\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"Krb5Kdc\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 107, schemaManager.getAttributeTypeRegistry().size() );\n@@ -393,22 +515,26 @@ public void testLoadNis() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"nis\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\" ) );\n+        assertTrue( schemaManager.load( \"cosine\" ) );\n+        assertTrue( schemaManager.load( \"nis\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n-        assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n-        assertEquals( 0, schemaManager.getComparatorRegistry().size() );\n-        assertEquals( 0, schemaManager.getMatchingRuleRegistry().size() );\n-        assertEquals( 0, schemaManager.getNormalizerRegistry().size() );\n-        assertEquals( 0, schemaManager.getObjectClassRegistry().size() );\n-        assertEquals( 0, schemaManager.getSyntaxCheckerRegistry().size() );\n-        assertEquals( 0, schemaManager.getLdapSyntaxRegistry().size() );\n-        assertEquals( 0, schemaManager.getOidRegistry().size() );\n-\n-        assertEquals( 0, schemaManager.getRegistries().getLoadedSchemas().size() );\n-        assertNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n-        assertNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n-        assertNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertEquals( 133, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 49, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 276, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"nis\" ) );\n     }\n \n \n@@ -421,19 +547,22 @@ public void testLoadWrongSchema() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"bad\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"bad\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n-        assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n-        assertEquals( 0, schemaManager.getComparatorRegistry().size() );\n-        assertEquals( 0, schemaManager.getMatchingRuleRegistry().size() );\n-        assertEquals( 0, schemaManager.getNormalizerRegistry().size() );\n-        assertEquals( 0, schemaManager.getObjectClassRegistry().size() );\n-        assertEquals( 0, schemaManager.getSyntaxCheckerRegistry().size() );\n-        assertEquals( 0, schemaManager.getLdapSyntaxRegistry().size() );\n-        assertEquals( 0, schemaManager.getOidRegistry().size() );\n-\n-        assertEquals( 0, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertEquals( 38, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 9, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 141, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 1, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"bad\" ) );\n     }\n \n \n@@ -446,7 +575,8 @@ public void testLoadCoreAndInetOrgPerson() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"core\", \"InetOrgPerson\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\", \"cosine\", \"InetOrgPerson\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n@@ -475,7 +605,8 @@ public void testLoadCoreInetOrgPersonAndBad() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"core\", \"bad\", \"InetOrgPerson\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\", \"bad\", \"cosine\", \"InetOrgPerson\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n@@ -504,7 +635,8 @@ public void testLoadCoreInetOrgPersonAndNis() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"core\", \"nis\", \"InetOrgPerson\" );\n+        assertTrue( schemaManager.load( \"system\" ) );\n+        assertTrue( schemaManager.load( \"core\", \"nis\", \"cosine\", \"InetOrgPerson\" ) );\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n@@ -522,4 +654,44 @@ public void testLoadCoreInetOrgPersonAndNis() throws Exception\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n     }\n+\n+\n+    //---------------------------------------------------------------------------\n+    // Test the load( Schema... ) method\n+    //---------------------------------------------------------------------------\n+    /**\n+     * test loading the \"InetOrgPerson\", \"core\" and an empty schema. The empty schema\n+     * should be present in the registries, as it's a vaid schema\n+     */\n+    @Test\n+    public void testLoadSchemasWithDepsCoreInetOrgPersonAndBad() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        Schema system = loader.getSchema( \"system\" );\n+        Schema core = loader.getSchema( \"core\" );\n+        Schema empty = new DefaultSchema( \"empty\" );\n+        Schema cosine = loader.getSchema( \"cosine\" );\n+        Schema inetOrgPerson = loader.getSchema( \"InetOrgPerson\" );\n+\n+        assertTrue( schemaManager.load( system, core, empty, cosine, inetOrgPerson ) );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 286, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 5, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"empty\" ) );\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "sha": "ba267b259ae89c03a517f2be2beb7c3635fb3001",
                "status": "modified"
            },
            {
                "additions": 517,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "changes": 517,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java?ref=41e75f7daf23cc2c1a9bf8363a96390b9e402752",
                "deletions": 0,
                "filename": "ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "patch": "@@ -0,0 +1,517 @@\n+/*\n+ *  Licensed to the Apache Software Foundation (ASF) under one\n+ *  or more contributor license agreements.  See the NOTICE file\n+ *  distributed with this work for additional information\n+ *  regarding copyright ownership.  The ASF licenses this file\n+ *  to you under the Apache License, Version 2.0 (the\n+ *  \"License\"); you may not use this file except in compliance\n+ *  with the License.  You may obtain a copy of the License at\n+ *  \n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *  \n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License. \n+ *  \n+ */\n+package org.apache.directory.server.schema;\n+\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertNull;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.io.File;\n+import java.io.IOException;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.apache.directory.shared.ldap.schema.SchemaManager;\n+import org.apache.directory.shared.ldap.schema.ldif.extractor.SchemaLdifExtractor;\n+import org.apache.directory.shared.schema.DefaultSchemaManager;\n+import org.apache.directory.shared.schema.loader.ldif.LdifSchemaLoader;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+\n+/**\n+ * A test class for SchemaManager loadWithDeps() method. We test those methods here :\n+ * \n+ *  Server API\n+ *     boolean loadWithDeps( Schema... schemas ) throws Exception\n+ *     boolean loadWithDeps( String... schemas ) throws Exception\n+ *\n+ *  Studio API :\n+ *     boolean loadWithDepsRelaxed( Schema... schemas ) throws Exception\n+ *     boolean loadWithDepsRelaxed( String... schemas ) throws Exception\n+ *\n+ * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n+ * @version $Rev$, $Date$\n+ */\n+public class SchemaManagerLoadWithDepsTest\n+{\n+    // A directory in which the ldif files will be stored\n+    private static String workingDirectory;\n+\n+    // The schema repository\n+    private static File schemaRepository;\n+\n+\n+    @BeforeClass\n+    public static void setup() throws Exception\n+    {\n+        workingDirectory = System.getProperty( \"workingDirectory\" );\n+\n+        if ( workingDirectory == null )\n+        {\n+            String path = SchemaManagerLoadWithDepsTest.class.getResource( \"\" ).getPath();\n+            int targetPos = path.indexOf( \"target\" );\n+            workingDirectory = path.substring( 0, targetPos + 6 );\n+        }\n+\n+        schemaRepository = new File( workingDirectory, \"schema\" );\n+\n+        // Cleanup the target directory\n+        FileUtils.deleteDirectory( schemaRepository );\n+\n+        SchemaLdifExtractor extractor = new SchemaLdifExtractor( new File( workingDirectory ) );\n+        extractor.extractOrCopy();\n+    }\n+\n+\n+    @AfterClass\n+    public static void cleanup() throws IOException\n+    {\n+        // Cleanup the target directory\n+        FileUtils.deleteDirectory( schemaRepository );\n+    }\n+\n+\n+    //-------------------------------------------------------------------------\n+    // Test the load( String... schemaName) method\n+    //-------------------------------------------------------------------------\n+    /**\n+     * test loading the \"system\" schema \n+     */\n+    @Test\n+    public void testLoadSystem() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"system\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 38, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 9, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 141, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 1, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"core\" schema, which depends on \"system\"\n+     */\n+    @Test\n+    public void testLoadCore() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"core\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 92, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 36, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 222, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 2, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"apache\" schema, which depends on \"system\" and \"core\"\n+     */\n+    @Test\n+    public void testLoadApache() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"apache\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 145, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 43, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 43, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 43, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 53, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 62, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 66, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 307, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apache\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"apacheMeta\" schema, which depends on \"system\"\n+     */\n+    @Test\n+    public void testLoadApacheMeta() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"apacheMeta\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 69, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 40, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 40, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 42, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 22, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 63, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 64, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 195, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 2, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apachemeta\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"java\" schema, which depends on \"system\" and \"core\"\n+     */\n+    @Test\n+    public void testLoadJava() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"Java\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 99, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 41, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 234, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"Java\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"other\" schema, which depends on \"system\", \"core\",\n+     * \"apache\" and \"apacheMeta\"\n+     */\n+    @Test\n+    public void testLoadOther() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"other\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 176, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 48, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 48, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 50, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 66, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 66, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 71, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 361, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 5, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apache\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"apacheMeta\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"other\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"cosine\" schema, which depends on \"system\" and \"core\"\n+     */\n+    @Test\n+    public void testLoadCosine() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"cosine\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 133, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 49, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 276, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"InetOrgPerson\" schema, which depends on \"system\", \"core\"\n+     * and \"cosine\"\n+     */\n+    @Test\n+    public void testLoadInetOrgPerson() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"InetOrgPerson\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 286, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"Collective\" schema, which depends on \"system\" and \"core\"\n+     */\n+    @Test\n+    public void testLoadCollective() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"Collective\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 105, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 36, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 235, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"collective\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"Krb5Kdc\" schema, which depends on \"system\" and \"core\"\n+     */\n+    @Test\n+    public void testLoadKrb5Kdc() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"Krb5Kdc\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 107, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 39, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 240, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 3, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"Krb5Kdc\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"nis\" schema, which depends on \"system\", \"core\" and \"cosine\",\n+     * but is disabled\n+     */\n+    @Test\n+    public void testLoadNis() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"nis\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 0, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 0, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 0, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 0, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 0, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 0, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 0, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 0, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+    }\n+\n+\n+    /**\n+     * Test loading a wrong schema\n+     */\n+    @Test\n+    public void testLoadWrongSchema() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"bad\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 0, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 0, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 0, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 0, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 0, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 0, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 0, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 0, schemaManager.getRegistries().getLoadedSchemas().size() );\n+    }\n+\n+\n+    /**\n+     * test loading the \"InetOrgPerson\" and \"core\" schema, which depends on \"system\" and \"cosine\"\n+     */\n+    @Test\n+    public void testLoadCoreAndInetOrgPerson() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"core\", \"InetOrgPerson\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 286, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"InetOrgPerson\", \"core\" and a bad schema\n+     */\n+    @Test\n+    public void testLoadCoreInetOrgPersonAndBad() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"core\", \"bad\", \"InetOrgPerson\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 286, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+    }\n+\n+\n+    /**\n+     * test loading the \"InetOrgPerson\", \"core\" and a disabled schema\n+     */\n+    @Test\n+    public void testLoadCoreInetOrgPersonAndNis() throws Exception\n+    {\n+        LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n+        SchemaManager schemaManager = new DefaultSchemaManager( loader );\n+\n+        schemaManager.loadWithDeps( \"core\", \"nis\", \"InetOrgPerson\" );\n+\n+        assertTrue( schemaManager.getErrors().isEmpty() );\n+        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 286, schemaManager.getOidRegistry().size() );\n+\n+        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+    }\n+}",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/41e75f7daf23cc2c1a9bf8363a96390b9e402752/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "sha": "1056b8c93378be12647266904bd00512ae816e5d",
                "status": "added"
            }
        ],
        "message": "o Fixed the load( schema...) method which was throwing a NPE\no Split the load tests class in two and added some more tests\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@887566 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/cc761603ad6c834d3bfd2c2494af4e0b0034d672",
        "patched_files": [
            "DefaultSchemaManager.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "SchemaManagerLoadWithDepsTest.java",
            "SchemaManagerLoadTest.java"
        ]
    },
    "directory-ldap-api_47fc5b7": {
        "bug_id": "directory-ldap-api_47fc5b7",
        "commit": "https://github.com/apache/directory-ldap-api/commit/47fc5b70c14caec98bf60821fa876cc83924d85a",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/47fc5b70c14caec98bf60821fa876cc83924d85a/ldap/src/main/java/org/apache/directory/shared/ldap/message/ModifyDnRequestImpl.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/ModifyDnRequestImpl.java?ref=47fc5b70c14caec98bf60821fa876cc83924d85a",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/ModifyDnRequestImpl.java",
                "patch": "@@ -328,7 +328,10 @@ public String toString()\n \n         sb.append( \"    ModifyDN Response\\n\" );\n         sb.append( \"        Entry : '\" ).append( name ).append( \"'\\n\" );\n-        sb.append( \"        New RDN : '\" ).append( newRdn.toString() ).append( \"'\\n\" );\n+        if( newRdn != null )\n+        {\n+            sb.append( \"        New RDN : '\" ).append( newRdn.toString() ).append( \"'\\n\" );\n+        }\n         sb.append( \"        Delete old RDN : \" ).append( deleteOldRdn ).append( \"\\n\" );\n \n         if ( newSuperior != null )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/47fc5b70c14caec98bf60821fa876cc83924d85a/ldap/src/main/java/org/apache/directory/shared/ldap/message/ModifyDnRequestImpl.java",
                "sha": "30af7372ae9f9a1a82718f4fc388d99706b28341",
                "status": "modified"
            }
        ],
        "message": "fixed a NPE in toString() method\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@917172 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/cde147bedf627cca64d716b27133e69595aa2fd1",
        "patched_files": [
            "ModifyDnRequestImpl.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ModifyDnRequestImplTest.java"
        ]
    },
    "directory-ldap-api_486eae3": {
        "bug_id": "directory-ldap-api_486eae3",
        "commit": "https://github.com/apache/directory-ldap-api/commit/486eae3ec6644c2239d83c6a00ec9405324c0de1",
        "file": [
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/486eae3ec6644c2239d83c6a00ec9405324c0de1/ldap-schema-manager/src/test/java/org/apache/directory/shared/ldap/schema/loader/ldif/MatchingRuleTest.java",
                "changes": 21,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-manager/src/test/java/org/apache/directory/shared/ldap/schema/loader/ldif/MatchingRuleTest.java?ref=486eae3ec6644c2239d83c6a00ec9405324c0de1",
                "deletions": 4,
                "filename": "ldap-schema-manager/src/test/java/org/apache/directory/shared/ldap/schema/loader/ldif/MatchingRuleTest.java",
                "patch": "@@ -198,17 +198,30 @@ public void testGeneralizedTimeStringMatch() throws Exception\n     {\n         MatchingRule mr1 = schemaManager.lookupMatchingRuleRegistry( \"generalizedTimeMatch\" );\n         assertEquals( GeneralizedTimeNormalizer.class.getName(), mr1.getNormalizer().getClass().getName() );\n-        assertEquals( \"20100314150000.000Z\", mr1.getNormalizer().normalize( \"2010031415Z\" ) );\n+        \n+        String normalized = mr1.getNormalizer().normalize( \"2010031415Z\" );\n+        assertTrue( \"20100314150000.000Z\".equals( normalized ) || \"20100314153000.000Z\".equals( normalized ) || \"20100314154500.000Z\".equals( normalized ) );\n         assertEquals( \"20100314133102.003Z\", mr1.getNormalizer().normalize( \"20100314150102.003+0130\" ) );\n         assertEquals( GeneralizedTimeComparator.class.getName(), mr1.getLdapComparator().getClass().getName() );\n-        assertEquals( 0, mr1.getLdapComparator().compare( \"2010031415Z\", \"20100314150000.000+0000\" ) );\n+\n+        // Deal with +HH:30 and +HH:45 TZ\n+        int compare1 = mr1.getLdapComparator().compare( \"2010031415Z\", \"20100314150000.000+0000\" );\n+        int compare2 = mr1.getLdapComparator().compare( \"2010031415Z\", \"20100314153000.000+0000\" );\n+        int compare3 = mr1.getLdapComparator().compare( \"2010031415Z\", \"20100314154500.000+0000\" );\n+        assertTrue( ( compare1 == 0 ) || ( compare2 == 0 ) || ( compare3 == 0 ) );\n \n         MatchingRule mr2 = schemaManager.lookupMatchingRuleRegistry( \"generalizedTimeOrderingMatch\" );\n         assertEquals( GeneralizedTimeNormalizer.class.getName(), mr2.getNormalizer().getClass().getName() );\n-        assertEquals( \"20100314150000.000Z\", mr2.getNormalizer().normalize( \"2010031415Z\" ) );\n+        normalized = mr2.getNormalizer().normalize( \"2010031415Z\" );\n+        assertTrue( \"20100314150000.000Z\".equals( normalized ) || \"20100314153000.000Z\".equals( normalized ) || \"20100314154500.000Z\".equals( normalized ) );\n         assertEquals( \"20100314133102.003Z\", mr2.getNormalizer().normalize( \"20100314150102.003+0130\" ) );\n         assertEquals( GeneralizedTimeComparator.class.getName(), mr2.getLdapComparator().getClass().getName() );\n-        assertEquals( 0, mr2.getLdapComparator().compare( \"2010031415Z\", \"20100314150000.000+0000\" ) );\n+\n+        // Deal with +HH:30 and +HH:45 TZ\n+        compare1 = mr2.getLdapComparator().compare( \"2010031415Z\", \"20100314150000.000+0000\" );\n+        compare2 = mr2.getLdapComparator().compare( \"2010031415Z\", \"20100314153000.000+0000\" );\n+        compare3 = mr2.getLdapComparator().compare( \"2010031415Z\", \"20100314154500.000+0000\" );\n+        assertTrue( ( compare1 == 0 ) || ( compare2 == 0 ) || ( compare3 == 0 ) );\n         assertTrue( mr2.getLdapComparator().compare( \"2010031415Z\", \"2010031414Z\" ) > 0 );\n         assertTrue( mr2.getLdapComparator().compare( \"2010031415Z\", \"2010031416Z\" ) < 0 );\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/486eae3ec6644c2239d83c6a00ec9405324c0de1/ldap-schema-manager/src/test/java/org/apache/directory/shared/ldap/schema/loader/ldif/MatchingRuleTest.java",
                "sha": "90628f5e036a07d1faea46c0971926e141590073",
                "status": "modified"
            }
        ],
        "message": "Fixed the test to make it work on all the TZ (including IST which is +5:30 and NPE which is +5:45)\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@956333 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/7e2290b8fddbec559cdf93c0f5dd187b30f1170a",
        "patched_files": [
            "MatchingRule.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "MatchingRuleTest.java"
        ]
    },
    "directory-ldap-api_563ff71": {
        "bug_id": "directory-ldap-api_563ff71",
        "commit": "https://github.com/apache/directory-ldap-api/commit/563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/AbstractValue.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/AbstractValue.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/AbstractValue.java",
                "patch": "@@ -111,20 +111,20 @@ public final boolean isNormalized()\n     /**\n      * Normalize the value\n      */\n+    @SuppressWarnings(value = \"unchecked\")\n     public void normalize( Normalizer normalizer ) throws NamingException\n     {\n-        //noinspection unchecked\n         normValue = ( T ) normalizer.normalize( value );\n     }\n     \n     \n     /**\n      * Clone the value.\n      */\n-    public Value clone() throws CloneNotSupportedException\n+    public Value<?> clone() throws CloneNotSupportedException\n     {\n         // Simply clone the object\n-        return ( Value ) super.clone();\n+        return (Value<?>)super.clone();\n     }\n     \n     ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/AbstractValue.java",
                "sha": "d56fa589c58ef3f34e72081ac6a18639b724c2ad",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttribute.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttribute.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttribute.java",
                "patch": "@@ -77,7 +77,7 @@\n      * @param val a new value to be added which may be null\n      * @return true if a value was added, otherwise false\n      */\n-    boolean add( Value val );\n+    boolean add( Value<?> val );\n     \n     \n     /**\n@@ -124,7 +124,7 @@\n      * \n      * @return a deep clone of this attribute\n      */\n-    Object clone();\n+    ServerAttribute clone();\n \n    \n     /**\n@@ -133,7 +133,7 @@\n      * @param val the value which may be null\n      * @return true if this attribute contains the value, otherwise false\n      */\n-    boolean contains( Value val );\n+    boolean contains( Value<?> val );\n     \n \n     /**\n@@ -166,7 +166,7 @@\n      * @return a value of this attribute\n      * @throws NamingException If the attribute has no value.\n      */\n-    Value get() throws NamingException;\n+    Value<?> get() throws NamingException;\n \n \n     /**\n@@ -182,7 +182,7 @@\n      * @return an enumeration of all values of the attribute\n      * @throws NamingException If any <code>NamingException</code> occurs.\n      */\n-    Iterator<Value> getAll() throws NamingException;\n+    Iterator<Value<?>> getAll() throws NamingException;\n \n \n     /**\n@@ -222,7 +222,7 @@\n      * @param val the value to be removed\n      * @return true if the value is removed, otherwise false\n      */\n-    boolean remove( Value val );\n+    boolean remove( Value<?> val );\n     \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttribute.java",
                "sha": "2653d3a423bcbf29d7910e4c90f8274f201e462a",
                "status": "modified"
            },
            {
                "additions": 39,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttributeImpl.java",
                "changes": 73,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttributeImpl.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 34,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttributeImpl.java",
                "patch": "@@ -58,10 +58,10 @@\n     private OID oid;\n \n     /** In case we have only one value, just use this container */\n-    private Value value;\n+    private Value<?> value;\n     \n     /** the list of attribute values, if unordered */\n-    private List<Value> values;\n+    private List<Value<?>> values;\n     \n     /** A size to handle the number of values, as one of them can be null */\n     private int size;\n@@ -123,7 +123,7 @@ public ServerAttributeImpl( OID oid ) throws NamingException\n      * @param val the attribute's value\n      * @throws NamingException if the id is invalid\n      */\n-    public ServerAttributeImpl( String id, Value val ) throws NamingException\n+    public ServerAttributeImpl( String id, Value<?> val ) throws NamingException\n     {\n         if ( StringTools.isEmpty( id ) )\n         {\n@@ -146,7 +146,7 @@ public ServerAttributeImpl( String id, Value val ) throws NamingException\n      * @param val the attribute's value\n      * @throws NamingException if the oid is invalid\n      */\n-    public ServerAttributeImpl( OID oid, Value val ) throws NamingException\n+    public ServerAttributeImpl( OID oid, Value<?> val ) throws NamingException\n     {\n         if ( oid == null )\n         {\n@@ -292,13 +292,13 @@ else if ( attribute instanceof ServerAttributeImpl )\n                     \n                 default :\n                     value = null;\n-                    values = new ArrayList<Value>( copy.size() );\n+                    values = new ArrayList<Value<?>>( copy.size() );\n                     \n-                    Iterator<Value> vals = copy.getAll();\n+                    Iterator<Value<?>> vals = copy.getAll();\n                     \n                     while ( vals.hasNext() )\n                     {\n-                        Value val = vals.next();\n+                        Value<?> val = vals.next();\n                         values.add( val );\n                     }\n                     \n@@ -345,7 +345,7 @@ else if ( val instanceof byte[] )\n                     break;\n                     \n                 default :   \n-                    NamingEnumeration vals = attribute.getAll();\n+                    NamingEnumeration<?> vals = attribute.getAll();\n                     \n                     while ( vals.hasMoreElements() )\n                     {\n@@ -386,15 +386,19 @@ else if ( val instanceof byte[] )\n      * @param value the value to clone\n      * @return the value that was cloned\n      */\n-    private Value getClonedValue( Value value )\n+    private Value<?> getClonedValue( Value<?> value )\n     {\n+        if ( value == null )\n+        {\n+            return new StringValue( null );\n+        }\n         try\n         {\n-            return (Value)value.clone();\n+            return value.clone();\n         }\n         catch ( CloneNotSupportedException csne )\n         {\n-            return null;\n+            return new StringValue( null );\n         }\n     }\n     \n@@ -407,11 +411,11 @@ private Value getClonedValue( Value value )\n      * \n      * @return the Iterator wrapped as a NamingEnumberation.\n      */\n-    public Iterator<Value> getAll()\n+    public Iterator<Value<?>> getAll()\n     {\n         if ( size < 2 )\n         {\n-            return new Iterator<Value>()\n+            return new Iterator<Value<?>>()\n             {\n                 private boolean more = (value != null);\n                     \n@@ -420,7 +424,7 @@ public boolean hasNext()\n                     return more;\n                 }\n                 \n-                public Value next() \n+                public Value<?> next() \n                 {\n                     more = false;\n                     return value;\n@@ -445,7 +449,7 @@ public void remove()\n      * \n      * @return the first value or null.\n      */\n-    public Value get()\n+    public Value<?> get()\n     {\n         switch ( size )\n         {\n@@ -500,7 +504,7 @@ public OID getOid()\n      * @param val the value to test for\n      * @return true if val is in the list backing store, false otherwise\n      */\n-    public boolean contains( Value val )\n+    public boolean contains( Value<?> val )\n     {\n         switch ( size )\n         {\n@@ -511,7 +515,7 @@ public boolean contains( Value val )\n                 return AttributeUtils.equals( value, val );\n                 \n             default :\n-                for ( Value value:values )\n+                for ( Value<?> value:values )\n                 {\n                     if ( AttributeUtils.equals( value, val ) )\n                     {\n@@ -556,7 +560,7 @@ public boolean contains( byte[] val )\n      * @return true if val is added to the list backing store, false if it\n      *         already existed there.\n      */\n-    public boolean add( Value val )\n+    public boolean add( Value<?> val )\n     {\n         if ( contains( val ) )\n         {\n@@ -576,21 +580,23 @@ public boolean add( Value val )\n                 \n             case 1 :\n                 // We can't store different kind of Values in the attribute\n-                // The null value is an exception\n-                if ( ( value != null) && ( val != null ) && \n+                // The null value is an exception, as it is not associated\n+                // with a StringValue or a BinaryValue\n+                if ( ( value.getValue() != null) && ( val.getValue() != null ) && \n                      ( value.getClass() != val.getClass() ) )\n                 {\n                     return false;\n                 }\n \n-                if ( value != null && value.equals( val ) )\n+                // value is never null.\n+                if ( value.equals( val ) )\n                 {\n                     // Don't add two times the same value\n                     return true;\n                 }\n                 else\n                 {\n-                    values = new ArrayList<Value>();\n+                    values = new ArrayList<Value<?>>();\n                     values.add( value );\n                     values.add( val );\n                     value = null;\n@@ -599,16 +605,15 @@ public boolean add( Value val )\n                 }\n                 \n             default :\n-                Value firstValue = values.get( 0 );\n+                Value<?> firstValue = values.get( 0 );\n             \n                 if ( firstValue.getValue() == null )\n                 {\n                     firstValue = values.get( 1 );\n                 }\n                 \n                 // We can't store different kind of Values in the attribute\n-                // The null value is an exception\n-                if ( ( val != null ) && ( val.getValue() != null ) &&\n+                if ( ( val.getValue() != null ) &&\n                      ( firstValue.getValue().getClass() != val.getClass() ) )\n                 {\n                     return false;\n@@ -664,7 +669,7 @@ public boolean add( byte[] val )\n      * @return true if val is remove from the list backing store, false if\n      *         never existed there.\n      */\n-    public boolean remove( Value val )\n+    public boolean remove( Value<?> val )\n     {\n         if ( contains( val) )\n         {\n@@ -752,7 +757,7 @@ public void clear()\n      * @return a copy of this attribute using the same parent lock and id\n      *         containing references to all the values of the original.\n      */\n-    public Object clone()\n+    public ServerAttribute clone()\n     {\n         try\n         {\n@@ -763,15 +768,15 @@ public Object clone()\n             \n             if ( size < 2 )\n             {\n-                clone.value = (Value)value.clone();\n+                clone.value = value.clone();\n             }\n             else\n             {\n-                clone.values = new ArrayList<Value>( values.size() );\n+                clone.values = new ArrayList<Value<?>>( values.size() );\n                 \n-                for ( Value value:values )\n+                for ( Value<?> value:values )\n                 {\n-                    Value newValue = (Value)value.clone();\n+                    Value<?> newValue = value.clone();\n                     clone.values.add( newValue );\n                 }\n             }\n@@ -833,11 +838,11 @@ public boolean equals( Object obj )\n                 return ( value.equals( attr.get() ) );\n             \n             default :\n-                Iterator<Value> vals = getAll();\n+                Iterator<Value<?>> vals = getAll();\n                 \n                 while ( vals.hasNext() )\n                 {\n-                    Value val = vals.next();\n+                    Value<?> val = vals.next();\n                     \n                     if ( !attr.contains( val ) )\n                     {\n@@ -909,7 +914,7 @@ public String toString()\n             default :\n                 boolean isFirst = true;\n             \n-                for ( Value value:values )\n+                for ( Value<?> value:values )\n                 {\n                     if ( !isFirst )\n                     {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerAttributeImpl.java",
                "sha": "9dd3a4f7d3f62130a83c3340cd55b819fd421b70",
                "status": "modified"
            },
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntry.java",
                "changes": 19,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntry.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntry.java",
                "patch": "@@ -71,7 +71,22 @@\n      * \n      * @return a deep copy of this <code>Attributes</code> instance\n      */\n-    Object clone();\n+    ServerEntry clone();\n+\n+\n+    /**\n+     * Places a non-null attribute in the attribute collection. If there is\n+     * already an attribute with the same OID as the new attribute, the old one\n+     * is removed from the collection and is returned by this method. If there\n+     * was no attribute with the same OID the return value is <code>null</code>.\n+     * \n+     * This method clone the attribute.\n+     * \n+     * @param attribute the attribute to be copied\n+     * @return the old attribute with the same OID, if exists; otherwise\n+     *         <code>null</code>\n+     */\n+    ServerAttribute copy( ServerAttribute attr );\n \n \n     /**\n@@ -150,7 +165,7 @@\n      *         <code>null</code>\n      * @throws NamingException If the oid is null.\n      */\n-    ServerAttribute put( OID oid, Value val ) throws NamingException;\n+    ServerAttribute put( OID oid, Value<?> val ) throws NamingException;\n     \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntry.java",
                "sha": "10bd83796833272c54ff3e273e1931913bdac157",
                "status": "modified"
            },
            {
                "additions": 25,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntryImpl.java",
                "changes": 27,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntryImpl.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntryImpl.java",
                "patch": "@@ -106,7 +106,7 @@ public void clear()\n      * \n      * @return a deep copy of this <code>Attributes</code> instance\n      */\n-    public Object clone()\n+    public ServerEntry clone()\n     {\n         try\n         {\n@@ -137,6 +137,29 @@ public Object clone()\n     }\n \n \n+    /**\n+     * Places a non-null attribute in the attribute collection. If there is\n+     * already an attribute with the same OID as the new attribute, the old one\n+     * is removed from the collection and is returned by this method. If there\n+     * was no attribute with the same OID the return value is <code>null</code>.\n+     * \n+     * This method clone the attribute.\n+     * \n+     * @param attribute the attribute to be copied\n+     * @return the old attribute with the same OID, if exists; otherwise\n+     *         <code>null</code>\n+     */\n+    public ServerAttribute copy( ServerAttribute attr )\n+    {\n+        if ( attr == null )\n+        {\n+            return null;\n+        }\n+        \n+        return put( attr.clone() );\n+    }\n+    \n+    \n     /**\n      * Returns the attribute with the specified OID. The return value\n      * is <code>null</code> if no match is found.\n@@ -390,7 +413,7 @@ public ServerAttribute put( ServerAttribute attr )\n      *         <code>null</code>\n      * @throws NamingException If the oid is null.\n      */\n-    public ServerAttribute put( OID oid, Value val ) throws NamingException\n+    public ServerAttribute put( OID oid, Value<?> val ) throws NamingException\n     {\n         return put( new ServerAttributeImpl( oid, val ) );\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/ServerEntryImpl.java",
                "sha": "4fe459b1bad88fd6bb9291ba9fc91dfd2f2f6382",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/Value.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/common/Value.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/common/Value.java",
                "patch": "@@ -88,5 +88,5 @@\n      * @return A non-null copy of the Value.\n      * @throws CloneNotSupportedException if the clone operation is not supported\n      */\n-    Object clone() throws CloneNotSupportedException;\n+    Value<?> clone() throws CloneNotSupportedException;\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/main/java/org/apache/directory/shared/ldap/common/Value.java",
                "sha": "72843cb04e1b5efb354040d60b9feb001de27261",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/BinaryValueTest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/common/BinaryValueTest.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 1,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/common/BinaryValueTest.java",
                "patch": "@@ -70,7 +70,7 @@\n         \n         BinaryValue value = new BinaryValue( bytes );\n         \n-        Value clone = (Value)value.clone();\n+        Value<?> clone = value.clone();\n         \n         assertTrue( clone instanceof BinaryValue );\n         assertTrue( clone.getValue() instanceof byte[] );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/BinaryValueTest.java",
                "sha": "839f9c1011c84c68edcb6c4c4794de9a76bc89e8",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerAttributeImplTest.java",
                "changes": 16,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerAttributeImplTest.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 8,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerAttributeImplTest.java",
                "patch": "@@ -115,7 +115,7 @@\n         assertEquals( 2, attr.size() );\n         assertEquals( \"test1\", attr.get().getValue() );\n         \n-        Iterator<Value> vals = attr.getAll();\n+        Iterator<Value<?>> vals = attr.getAll();\n         int i = 1;\n         \n         while ( vals.hasNext() )\n@@ -140,7 +140,7 @@\n         assertEquals( 2, attr.size() );\n         assertTrue( Arrays.equals( b1, (byte[])attr.get().getValue() ) );\n         \n-        Iterator<Value> vals = attr.getAll();\n+        Iterator<Value<?>> vals = attr.getAll();\n         int i = 1;\n         \n         while ( vals.hasNext() )\n@@ -280,7 +280,7 @@\n     {\n         ServerAttribute attr1 = new ServerAttributeImpl( \"test\", \"test1\" );\n         \n-        Value v = attr1.get();\n+        Value<?> v = attr1.get();\n         assertEquals( \"test1\", v.getValue() );\n \n         attr1.add( \"test2\" );\n@@ -369,12 +369,12 @@ public Object normalize( Object value ) throws NamingException\n         String[] expectedLC = new String[]{ \"test1\", \"test2\", null };\n         String[] expectedUC = new String[]{ \"TEST1\", \"TEST2\", null };\n         \n-        Iterator<Value> iter = attr.getAll();\n+        Iterator<Value<?>> iter = attr.getAll();\n         int i = 0;\n         \n         while ( iter.hasNext() )\n         {\n-            Value v = iter.next();\n+            Value<?> v = iter.next();\n             assertEquals( expectedLC[i], v.getNormValue() );\n             assertEquals( expectedUC[i], v.getValue() );\n             \n@@ -485,7 +485,7 @@ public Object normalize( Object value ) throws NamingException\n         \n         assertNotSame( clone, attr );\n         assertEquals( 3, clone.size() );\n-        Value v = clone.get();\n+        Value<?> v = clone.get();\n         assertEquals( \"TEST1\", v.getValue() );\n         assertEquals( \"test1\", v.getNormValue() );\n         assertEquals( oid, clone.getOid() );\n@@ -501,14 +501,14 @@ public Object normalize( Object value ) throws NamingException\n         attr.add(  \"test2\" );\n         attr.add( (String)null );\n         \n-        Iterator<Value> iter = attr.getAll();\n+        Iterator<Value<?>> iter = attr.getAll();\n         assertNotNull( iter );\n         \n         int i = 0;\n         \n         while ( iter.hasNext() )\n         {\n-            Value v = iter.next();\n+            Value<?> v = iter.next();\n             \n             assertNotNull( v );\n             i++;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerAttributeImplTest.java",
                "sha": "16a6c91293374e60adea2c701007f3a15e9a9948",
                "status": "modified"
            },
            {
                "additions": 113,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerEntryTest.java",
                "changes": 117,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerEntryTest.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 4,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerEntryTest.java",
                "patch": "@@ -30,13 +30,9 @@\n import org.apache.directory.shared.ldap.name.LdapDN;\n import org.apache.directory.shared.ldap.util.StringTools;\n import org.junit.Test;\n-import static org.junit.Assert.assertTrue;\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.fail;\n import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertNull;\n import static org.junit.Assert.assertNotNull;\n-import static org.junit.Assert.assertNotSame;\n \n /**\n  * A class to test ServerEntry\n@@ -210,4 +206,117 @@\n         \n         assertEquals( dn, entry2.getDN() );\n     }\n+    \n+\n+\n+\n+    /**\n+     * Test the getOIDs method\n+     */\n+    @Test public void testGetOIDs() throws InvalidNameException, DecoderException, NamingException\n+    {\n+        LdapDN dn = new LdapDN( \"dc=example, dc=org\" );\n+        \n+        ServerEntry entry = new ServerEntryImpl( dn );\n+        \n+        OID oid1 = new OID( \"1.2.3\" ); \n+        OID oid2 = new OID( \"1.2.4\" ); \n+        OID oid3 = new OID( \"1.2.5\" );\n+        \n+        OID[] expectedOIDs = new OID[]{ oid1, oid2, oid3 };\n+        \n+        ServerAttribute attr1 = new ServerAttributeImpl( oid1, oid1.toString() );\n+        ServerAttribute attr2 = new ServerAttributeImpl( oid2, oid2.toString() );\n+\n+        entry.put( attr1 );\n+        entry.put( attr2 );\n+        entry.put( oid3, oid3.toString() );\n+        \n+        Iterator<OID> iterOids = entry.getOIDs();\n+        int i = 0;\n+        \n+        while ( iterOids.hasNext() )\n+        {\n+            OID oid = iterOids.next();\n+            assertEquals( expectedOIDs[i], oid );\n+            i++;\n+        }\n+    }\n+\n+    \n+    /**\n+     * Test the clear method\n+     */\n+    @Test public void testClear() throws InvalidNameException, DecoderException, NamingException\n+    {\n+        LdapDN dn = new LdapDN( \"dc=example, dc=org\" );\n+        \n+        ServerEntry entry = new ServerEntryImpl( dn );\n+        \n+        OID oid1 = new OID( \"1.2.3\" ); \n+        OID oid2 = new OID( \"1.2.4\" ); \n+        OID oid3 = new OID( \"1.2.5\" );\n+        \n+        entry.put( oid1, oid1.toString() );\n+        entry.put( oid2, oid2.toString() );\n+        entry.put( oid3, oid3.toString() );\n+     \n+        assertEquals( 3, entry.size() );\n+\n+        // Now, clear the entry\n+        entry.clear();\n+        \n+        assertEquals( 0, entry.size() );\n+        assertNull( entry.remove( oid2 ) );\n+    }\n+\n+    /**\n+     * Test the clone method\n+     */\n+    @Test public void testClone() throws InvalidNameException, DecoderException, NamingException\n+    {\n+        LdapDN dn = new LdapDN( \"dc=example, dc=org\" );\n+        \n+        ServerEntry entry = new ServerEntryImpl( dn );\n+        \n+        OID oid1 = new OID( \"1.2.3\" ); \n+        OID oid2 = new OID( \"1.2.4\" ); \n+        OID oid3 = new OID( \"1.2.5\" );\n+        \n+        // Create three attributes : two StringValues and one BinaryValue\n+        ServerAttribute attr1 = new ServerAttributeImpl( oid1, oid1.toString() );\n+        ServerAttribute attr2 = new ServerAttributeImpl( oid2, StringTools.getBytesUtf8( \"test\" ) );\n+        ServerAttribute attr3 = new ServerAttributeImpl( oid3, oid2.toString() );\n+        \n+        entry.put( attr1 );\n+        entry.put( attr2 );\n+        entry.put( attr3 );\n+     \n+        assertEquals( 3, entry.size() );\n+\n+        // Now, clone the entry\n+        ServerEntry clone = (ServerEntry)entry.clone();\n+        \n+        assertEquals( 3, clone.size() );\n+        assertEquals( attr1, clone.get( oid1 ) );\n+        assertEquals( attr2, clone.get( oid2 ) );\n+        assertEquals( attr3, clone.get( oid3 ) );\n+        \n+        // Modify the inital attribute\n+        entry.remove( oid1 );\n+        assertNull( entry.get( oid1 ) );\n+        assertEquals( attr1, clone.get( oid1 ) );\n+        \n+        // modify the clone\n+        clone.remove( oid3 );\n+        assertNull( clone.get( oid3 ) );\n+        assertEquals( attr3, entry.get( oid3 ) );\n+        \n+        // Modify an attribute : the clone should not change\n+        ServerAttribute attr = entry.get( oid2 );\n+        ServerAttribute clonedAttr = (ServerAttribute)attr.clone();\n+        attr.clear();\n+        \n+        assertEquals( clonedAttr, clone.get( oid2 ) );\n+    }    \n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/ServerEntryTest.java",
                "sha": "32ddebce0ef9ab472d57c4e8ce5a07a7389a46a1",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/StringValueTest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/common/StringValueTest.java?ref=563ff71ce683b7b9c45f7e49e05a6f449c83b29f",
                "deletions": 1,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/common/StringValueTest.java",
                "patch": "@@ -63,7 +63,7 @@\n     {\n         StringValue value = new StringValue( \"Test1\" );\n         \n-        Value clone = (Value)value.clone();\n+        Value<?> clone = value.clone();\n         \n         assertTrue( clone instanceof StringValue );\n         assertTrue( clone.getValue() instanceof String );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/563ff71ce683b7b9c45f7e49e05a6f449c83b29f/ldap/src/test/java/org/apache/directory/shared/ldap/common/StringValueTest.java",
                "sha": "2168f6302cb0a836ddbf502dbd20bcc14c595116",
                "status": "modified"
            }
        ],
        "message": "- Removed warnings by adding <?> to Value\n- Removed a warning using @SuppressWarnings unchecked\n- Added some tests in ServerEntryTest\n- Fixed some potential NPE is ServerAttributeImpl getClonedValue() method\n- Fixed some bad code in ServerAttributeImpl.add() method : we were testing the value nullity, not the content of the value nullity.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@581271 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/e6af6f292aaa684c820525baa1a56c7374211940",
        "patched_files": [
            "ServerAttribute.java",
            "Value.java",
            "AbstractValue.java",
            "ServerAttributeImpl.java",
            "ServerEntry.java",
            "BinaryValue.java",
            "StringValue.java",
            "ServerEntryImpl.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ServerEntryTest.java",
            "StringValueTest.java",
            "BinaryValueTest.java",
            "ServerAttributeImplTest.java",
            "ValueTest.java"
        ]
    },
    "directory-ldap-api_5ee0bab": {
        "bug_id": "directory-ldap-api_5ee0bab",
        "commit": "https://github.com/apache/directory-ldap-api/commit/5ee0bab39fdf1edabb55bb11c8cc626958399546",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "patch": "@@ -345,7 +345,7 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n                 LdapURL referral = referralIterator.next();\n \n                 // Ecode the current referral\n-                Value.encode( buffer, referral.getBytes() );\n+                Value.encode( buffer, referral.getBytesReference() );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "sha": "320580c910e8ee93b5f450b3715ed15fec18271c",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "patch": "@@ -187,7 +187,7 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n             while ( replicatedContextIterator.hasNext() )\n             {\n                 LdapURL url = replicatedContextIterator.next();\n-                Value.encode( bb, url.getBytes() );\n+                Value.encode( bb, url.getBytesReference() );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "sha": "86cdb6056f1c13c1b0a0eb99e63ef37643adb079",
                "status": "modified"
            },
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "changes": 21,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "patch": "@@ -1410,13 +1410,30 @@ public int getNbBytes()\n     }\n     \n     /**\n-     * @return the bytes representing this LdapURL\n+     * @return a reference on the interned bytes representing this LdapURL\n      */\n-    public byte[] getBytes()\n+    public byte[] getBytesReference()\n     {\n         return bytes;\n     }\n     \n+    /**\n+     * @return a copy of the bytes representing this LdapURL\n+     */\n+    public byte[] getBytesCopy()\n+    {\n+        if ( bytes != null )\n+        {\n+            byte[] copy = new byte[bytes.length];\n+            System.arraycopy( bytes, 0, copy, 0, bytes.length );\n+            return copy;\n+        }\n+        else\n+        {\n+            return null;\n+        }\n+    }\n+    \n     /**\n      * @return the LdapURL as a String\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "sha": "22a0a7ce2630b26a7fbdff740aac7580fe8323a3",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Modification.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Modification.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/Modification.java",
                "patch": "@@ -19,8 +19,6 @@\n  */\n package org.apache.directory.shared.ldap.entry;\n \n-import java.io.Serializable;\n-\n \n /**\n  * An internal interface for a ModificationItem. The name has been\n@@ -29,7 +27,7 @@\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  * @version $Rev$, $Date$\n  */\n-public interface Modification extends Cloneable, Serializable\n+public interface Modification extends Cloneable\n {\n     /**\n      *  @return the operation",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Modification.java",
                "sha": "d4c1e5008414ba9b844f7699e8a7836cfd136992",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/entry/client/ClientBinaryValue.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/client/ClientBinaryValue.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/client/ClientBinaryValue.java",
                "patch": "@@ -79,7 +79,7 @@ public ClientBinaryValue( byte[] wrapped )\n         }\r\n         else\r\n         {\r\n-            wrapped = null;\r\n+            this.wrapped = null;\r\n         }\r\n         \r\n         normalized = false;\r\n@@ -228,8 +228,10 @@ public int compareTo( Value<byte[]> value )\n             return ByteArrayComparator.INSTANCE.compare( getNormalizedValue(), binaryValue.getNormalizedValue() );\r\n         }\r\n         \r\n-        throw new NotImplementedException( \"I don't really know how to compare anything other \" +\r\n-                \"than ServerBinaryValues at this point in time.\" );\r\n+        String message = \"I don't really know how to compare anything other \" +\r\n+            \"than ServerBinaryValues at this point in time.\"; \r\n+        LOG.error( message );\r\n+        throw new NotImplementedException( message );\r\n     }\r\n \r\n \r",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/entry/client/ClientBinaryValue.java",
                "sha": "b5f64fe0cf27a88ac17a99fc2be9d3b05ce1e23e",
                "status": "modified"
            },
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/schema/RegexNormalizer.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/RegexNormalizer.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 7,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/RegexNormalizer.java",
                "patch": "@@ -47,20 +47,24 @@\n      * @param regexes\n      *            the set of regular expressions used to transform values\n      */\n-    public RegexNormalizer(Pattern[] regexes)\n+    public RegexNormalizer( Pattern[] regexes )\n     {\n         if ( regexes != null )\n         {\n             this.regexes = new Pattern[ regexes.length ];\n             System.arraycopy( regexes, 0, this.regexes, 0, regexes.length );\n-        } else {\n-            this.regexes = null;\n-        }\n-        matchers = new Matcher[regexes.length];\n \n-        for ( int i = 0; i < regexes.length; i++ )\n+            matchers = new Matcher[regexes.length];\n+\n+            for ( int i = 0; i < regexes.length; i++ )\n+            {\n+                matchers[i] = regexes[i].matcher( \"\" );\n+            }\n+        } \n+        else \n         {\n-            matchers[i] = regexes[i].matcher( \"\" );\n+            this.regexes = null;\n+            matchers = new Matcher[0];\n         }\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/schema/RegexNormalizer.java",
                "sha": "4a45956356ec437581951d8e478393aeba3bb89b",
                "status": "modified"
            },
            {
                "additions": 15,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java?ref=5ee0bab39fdf1edabb55bb11c8cc626958399546",
                "deletions": 22,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "patch": "@@ -2004,7 +2004,7 @@ public static final boolean isAlphaASCII( byte[] bytes, int index )\n         }\n         else\n         {\n-            byte c = bytes[index++];\n+            byte c = bytes[index];\n \n             if ( ( ( c | 0x7F ) != 0x7F ) || ( ALPHA[c] == false ) )\n             {\n@@ -2035,7 +2035,7 @@ public static final boolean isAlphaASCII( char[] chars, int index )\n         }\n         else\n         {\n-            char c = chars[index++];\n+            char c = chars[index];\n \n             if ( ( c > 127 ) || ( ALPHA[c] == false ) )\n             {\n@@ -2073,7 +2073,7 @@ public static final boolean isAlphaASCII( String string, int index )\n         }\n         else\n         {\n-            char c = string.charAt( index++ );\n+            char c = string.charAt( index );\n \n             if ( ( c > 127 ) || ( ALPHA[c] == false ) )\n             {\n@@ -2111,7 +2111,7 @@ public static final boolean isAlphaLowercaseASCII( String string, int index )\n         }\n         else\n         {\n-            char c = string.charAt( index++ );\n+            char c = string.charAt( index );\n \n             if ( ( c > 127 ) || ( ALPHA_LOWER_CASE[c] == false ) )\n             {\n@@ -2149,7 +2149,7 @@ public static final boolean isAlphaUppercaseASCII( String string, int index )\n         }\n         else\n         {\n-            char c = string.charAt( index++ );\n+            char c = string.charAt( index );\n \n             if ( ( c > 127 ) || ( ALPHA_UPPER_CASE[c] == false ) )\n             {\n@@ -2278,7 +2278,7 @@ public static final boolean isAlphaDigit( String string, int index )\n         }\n         else\n         {\n-            char c = string.charAt( index++ );\n+            char c = string.charAt( index );\n \n             if ( ( c > 127 ) || ( ALPHA_DIGIT[c] == false ) )\n             {\n@@ -2308,7 +2308,7 @@ public static final boolean isAlphaDigitMinus( byte[] bytes, int index )\n         }\n         else\n         {\n-            byte c = bytes[index++];\n+            byte c = bytes[index];\n \n             if ( ( ( c | 0x7F ) != 0x7F ) || ( CHAR[c] == false ) )\n             {\n@@ -2338,7 +2338,7 @@ public static final boolean isAlphaDigitMinus( char[] chars, int index )\n         }\n         else\n         {\n-            char c = chars[index++];\n+            char c = chars[index];\n \n             if ( ( c > 127 ) || ( CHAR[c] == false ) )\n             {\n@@ -2375,7 +2375,7 @@ public static final boolean isAlphaDigitMinus( String string, int index )\n         }\n         else\n         {\n-            char c = string.charAt( index++ );\n+            char c = string.charAt( index );\n \n             if ( ( c > 127 ) || ( CHAR[c] == false ) )\n             {\n@@ -3246,9 +3246,7 @@ public static final String mapToString( Map<?,?> map )\n         StringBuffer sb = new StringBuffer();\n         boolean isFirst = true;\n \n-        Iterator<?> iter = map.keySet().iterator();\n-\n-        while ( iter.hasNext() )\n+        for ( Map.Entry<?, ?> entry:map.entrySet() )\n         {\n             if ( isFirst )\n             {\n@@ -3259,9 +3257,8 @@ public static final String mapToString( Map<?,?> map )\n                 sb.append( \", \" );\n             }\n \n-            Object key = iter.next();\n-            sb.append( key );\n-            sb.append( \" = '\" ).append( map.get( key ) ).append( \"'\" );\n+            sb.append( entry.getKey() );\n+            sb.append( \" = '\" ).append( entry.getValue() ).append( \"'\" );\n         }\n \n         return sb.toString();\n@@ -3285,16 +3282,12 @@ public static final String mapToString( Map<?,?> map, String tabs )\n \n         StringBuffer sb = new StringBuffer();\n \n-        Iterator<?> iter = map.keySet().iterator();\n-\n-        while ( iter.hasNext() )\n+        for ( Map.Entry<?, ?> entry:map.entrySet() )\n         {\n-            Object key = iter.next();\n             sb.append( tabs );\n-            sb.append( key );\n-            Object value = map.get( key );\n+            sb.append( entry.getKey() );\n \n-            sb.append( \" = '\" ).append( value.toString() ).append( \"'\\n\" );\n+            sb.append( \" = '\" ).append( entry.getValue().toString() ).append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/5ee0bab39fdf1edabb55bb11c8cc626958399546/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "sha": "e40b0b2b113e174143ceef3cc8bf7f3bc26f9696",
                "status": "modified"
            }
        ],
        "message": "Using FindBugs, and fixed :\no Potential NPE\no Removed useless incrementations\no Added a method in LdapURL to return a copy of the bytes\no Improved the use of Map iterators\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@637403 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/fb481b547053dd327b7dabd53d698e216386db1c",
        "patched_files": [
            "StringTools.java",
            "LdapResult.java",
            "GracefulDisconnect.java",
            "ClientBinaryValue.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ClientBinaryValueTest.java",
            "LdapResultTest.java",
            "StringToolsTest.java",
            "GracefulDisconnectTest.java"
        ]
    },
    "directory-ldap-api_660bc19": {
        "bug_id": "directory-ldap-api_660bc19",
        "commit": "https://github.com/apache/directory-ldap-api/commit/660bc1952d2be58639a5c3403458f633c8698ead",
        "file": [
            {
                "additions": 20,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/660bc1952d2be58639a5c3403458f633c8698ead/ldap/src/main/java/org/apache/directory/shared/ldap/schema/LdapSyntax.java",
                "changes": 27,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/LdapSyntax.java?ref=660bc1952d2be58639a5c3403458f633c8698ead",
                "deletions": 7,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/LdapSyntax.java",
                "patch": "@@ -145,7 +145,7 @@ public void setHumanReadable( boolean humanReadable )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.isHumanReadable = humanReadable;\n@@ -176,7 +176,7 @@ public void setSyntaxChecker( SyntaxChecker syntaxChecker )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.syntaxChecker = syntaxChecker;\n@@ -195,7 +195,7 @@ public void updateSyntaxChecker( SyntaxChecker newSyntaxChecker )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         this.syntaxChecker = newSyntaxChecker;\n     }\n \n@@ -236,12 +236,13 @@ public void addToRegistries( List<Throwable> errors, Registries registries ) thr\n             }\n         }\n     }\n-    \n-    \n+\n+\n     /**\n      * {@inheritDoc}\n      */\n-    @SuppressWarnings(\"PMD.CollapsibleIfStatements\") // Used because of comments\n+    @SuppressWarnings(\"PMD.CollapsibleIfStatements\")\n+    // Used because of comments\n     public void removeFromRegistries( List<Throwable> errors, Registries registries ) throws LdapException\n     {\n         if ( registries != null )\n@@ -303,7 +304,19 @@ public boolean equals( Object o )\n         }\n \n         // Check the SyntaxChecker (not a equals)\n-        return syntaxChecker.getOid().equals( that.syntaxChecker.getOid() );\n+        if ( syntaxChecker != null )\n+        {\n+            if ( that.syntaxChecker == null )\n+            {\n+                return false;\n+            }\n+\n+            return syntaxChecker.getOid().equals( that.syntaxChecker.getOid() );\n+        }\n+        else\n+        {\n+            return that.syntaxChecker == null;\n+        }\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/660bc1952d2be58639a5c3403458f633c8698ead/ldap/src/main/java/org/apache/directory/shared/ldap/schema/LdapSyntax.java",
                "sha": "66e39473d15e5ec6cdb31d1419c07e32aef9ffaa",
                "status": "modified"
            },
            {
                "additions": 25,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/660bc1952d2be58639a5c3403458f633c8698ead/ldap/src/main/java/org/apache/directory/shared/ldap/schema/MatchingRule.java",
                "changes": 34,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/MatchingRule.java?ref=660bc1952d2be58639a5c3403458f633c8698ead",
                "deletions": 9,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/MatchingRule.java",
                "patch": "@@ -252,7 +252,7 @@ public void setSyntaxOid( String oid )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.ldapSyntaxOid = oid;\n@@ -271,7 +271,7 @@ public void setSyntax( LdapSyntax ldapSyntax )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.ldapSyntax = ldapSyntax;\n@@ -291,7 +291,7 @@ public void updateSyntax( LdapSyntax ldapSyntax )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         this.ldapSyntax = ldapSyntax;\n         this.ldapSyntaxOid = ldapSyntax.getOid();\n     }\n@@ -321,7 +321,7 @@ public void setLdapComparator( LdapComparator<?> ldapComparator )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.ldapComparator = ( LdapComparator<? super Object> ) ldapComparator;\n@@ -340,7 +340,7 @@ public void updateLdapComparator( LdapComparator<?> ldapComparator )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         this.ldapComparator = ( LdapComparator<? super Object> ) ldapComparator;\n     }\n \n@@ -369,7 +369,7 @@ public void setNormalizer( Normalizer normalizer )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         if ( !isReadOnly )\n         {\n             this.normalizer = normalizer;\n@@ -388,7 +388,7 @@ public void updateNormalizer( Normalizer normalizer )\n         {\n             throw new UnsupportedOperationException( I18n.err( I18n.ERR_04441, getName() ) );\n         }\n-        \n+\n         this.normalizer = normalizer;\n     }\n \n@@ -474,13 +474,29 @@ public boolean equals( Object o )\n             }\n         }\n \n-        // Check the Syntax\n+        // Check the Syntax OID\n         if ( !compareOid( ldapSyntaxOid, that.ldapSyntaxOid ) )\n         {\n             return false;\n         }\n \n-        return ldapSyntax.equals( that.ldapSyntax );\n+        // Check the Syntax\n+        if ( ldapSyntax != null )\n+        {\n+            if ( !ldapSyntax.equals( that.ldapSyntax ) )\n+            {\n+                return false;\n+            }\n+        }\n+        else\n+        {\n+            if ( that.ldapSyntax != null )\n+            {\n+                return false;\n+            }\n+        }\n+\n+        return true;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/660bc1952d2be58639a5c3403458f633c8698ead/ldap/src/main/java/org/apache/directory/shared/ldap/schema/MatchingRule.java",
                "sha": "5b05b4a37b3e913a6064e24b32819641e72b8033",
                "status": "modified"
            }
        ],
        "message": "Fixed a few NPEs.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1005803 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/f2c8f68172ad679562aff8401e863f5ad09d09b2",
        "patched_files": [
            "MatchingRule.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "MatchingRuleTest.java"
        ]
    },
    "directory-ldap-api_70588ac": {
        "bug_id": "directory-ldap-api_70588ac",
        "commit": "https://github.com/apache/directory-ldap-api/commit/70588acbe8aac80edc7d012d944b0be80cb25ee1",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/70588acbe8aac80edc7d012d944b0be80cb25ee1/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java?ref=70588acbe8aac80edc7d012d944b0be80cb25ee1",
                "deletions": 1,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "patch": "@@ -686,7 +686,11 @@ public boolean connect() throws LdapException\n                 \n                     if ( !isSecured )\n                     {\n-                        Throwable cause = ( Throwable ) connectionFuture.getSession().getAttribute( EXCEPTION_KEY );\n+                        Throwable cause = connectionFuture.getException();\n+                        if ( cause == null && connectionFuture.getSession() != null )\n+                        {\n+                            cause = ( Throwable ) connectionFuture.getSession().getAttribute( EXCEPTION_KEY );\n+                        }\n                         throw new LdapTlsHandshakeException( I18n.err( I18n.ERR_04120_TLS_HANDSHAKE_ERROR ), cause );\n                     }\n                 }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/70588acbe8aac80edc7d012d944b0be80cb25ee1/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "sha": "95a466d15298dd54dbddbbb557101f2f2d89bbba",
                "status": "modified"
            }
        ],
        "message": "DIRAPI-339: Fix NullPointerException",
        "parent": "https://github.com/apache/directory-ldap-api/commit/2f74af7cb06317f5818106cf58b1521cfbccc830",
        "patched_files": [
            "LdapNetworkConnection.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapNetworkConnectionTest.java"
        ]
    },
    "directory-ldap-api_71b1fb8": {
        "bug_id": "directory-ldap-api_71b1fb8",
        "commit": "https://github.com/apache/directory-ldap-api/commit/71b1fb81bada4c855ba35bd142f303a38854144c",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java?ref=71b1fb81bada4c855ba35bd142f303a38854144c",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "patch": "@@ -700,7 +700,7 @@ public static Entry reverseModify( LdapDN dn, List<ModificationItemImpl> forward\n                                        Attributes modifiedEntry ) throws NamingException\n     {\n         // First, protect the original entry by cloning it : we will modify it\n-        Attributes clonedEntry = (Attributes)modifiedEntry.clone();\n+        Attributes clonedEntry = ( Attributes ) modifiedEntry.clone();\n \n         Entry entry = new Entry();\n         entry.setChangeType( ChangeType.Modify );\n@@ -786,7 +786,8 @@ public static Entry reverseModify( LdapDN dn, List<ModificationItemImpl> forward\n         // Special case if we don't have any reverse modifications\n         if ( reverseModifications.size() == 0 )\n         {\n-            return null;\n+            throw new IllegalArgumentException( \"Could not deduce reverse modifications from provided modifications: \"\n+                    + forwardModifications );\n         }\n \n         // Now, push the reversed list into the entry",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifUtils.java",
                "sha": "5a6221ba803caf45b2a5d0781ac8250d0b2e33e9",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java?ref=71b1fb81bada4c855ba35bd142f303a38854144c",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "patch": "@@ -1606,16 +1606,16 @@ public static LdapDN normalize( LdapDN dn, Map<String, OidNormalizer> oidsMap )\n      * @throws InvalidNameException If the DN is invalid.\n      * @throws NamingException If something went wrong.\n      */\n-    public void normalize( Map<String, OidNormalizer> oidsMap ) throws InvalidNameException, NamingException\n+    public LdapDN normalize( Map<String, OidNormalizer> oidsMap ) throws InvalidNameException, NamingException\n     {\n         if ( ( oidsMap == null ) || ( oidsMap.size() == 0 ) )\n         {\n-            return;\n+            return this;\n         }\n \n         if ( size() == 0 )\n         {\n-            return;\n+            return this;\n         }\n \n         Enumeration<Rdn> localRdns = getAllRdn();\n@@ -1632,6 +1632,7 @@ public void normalize( Map<String, OidNormalizer> oidsMap ) throws InvalidNameEx\n \n         normalizeInternal();\n         normalized = true;\n+        return this;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "sha": "26dcac7c02e5a5bb4728598b4f1414b098f90ad1",
                "status": "modified"
            },
            {
                "additions": 140,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "changes": 140,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java?ref=71b1fb81bada4c855ba35bd142f303a38854144c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "patch": "@@ -0,0 +1,140 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *  http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.directory.shared.ldap.util;\r\n+\r\n+\r\n+import javax.naming.directory.Attribute;\r\n+import javax.naming.directory.DirContext;\r\n+import javax.naming.NamingEnumeration;\r\n+import javax.naming.NamingException;\r\n+\r\n+\r\n+/**\r\n+ * A read only wrapper around an Attributes object.\r\n+ *\r\n+ * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\r\n+ * @version $Rev$, $Date$\r\n+ */\r\n+public class ImmutableAttributeWrapper implements Attribute\r\n+{\r\n+    private final Attribute wrapped;\r\n+\r\n+\r\n+    public ImmutableAttributeWrapper( Attribute wrapped )\r\n+    {\r\n+        this.wrapped = wrapped;\r\n+    }\r\n+\r\n+\r\n+    public NamingEnumeration<?> getAll() throws NamingException\r\n+    {\r\n+        return wrapped.getAll();\r\n+    }\r\n+\r\n+\r\n+    public Object get() throws NamingException\r\n+    {\r\n+        return wrapped.get();\r\n+    }\r\n+\r\n+\r\n+    public int size()\r\n+    {\r\n+        return wrapped.size();\r\n+    }\r\n+\r\n+\r\n+    public String getID()\r\n+    {\r\n+        return wrapped.getID();\r\n+    }\r\n+\r\n+\r\n+    public boolean contains( Object attrVal )\r\n+    {\r\n+        return wrapped.contains( attrVal );\r\n+    }\r\n+\r\n+\r\n+    public boolean add( Object attrVal )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Value addition not supported for immutable attribute\" );\r\n+    }\r\n+\r\n+\r\n+    public boolean remove( Object attrval )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Value removal not supported for immutable attribute\" );\r\n+    }\r\n+\r\n+\r\n+    public void clear()\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Clearing all values not supported for immutable attribute\" );\r\n+    }\r\n+\r\n+\r\n+    public DirContext getAttributeSyntaxDefinition() throws NamingException\r\n+    {\r\n+        return wrapped.getAttributeSyntaxDefinition();\r\n+    }\r\n+\r\n+\r\n+    public DirContext getAttributeDefinition() throws NamingException\r\n+    {\r\n+        return wrapped.getAttributeDefinition();\r\n+    }\r\n+\r\n+\r\n+    @SuppressWarnings ( { \"CloneDoesntCallSuperClone\" } )\r\n+    public Object clone()\r\n+    {\r\n+        throw new IllegalStateException( \"Now why would you ever want to clone an immutable object?\" );\r\n+    }\r\n+\r\n+\r\n+    public boolean isOrdered()\r\n+    {\r\n+        return wrapped.isOrdered();\r\n+    }\r\n+\r\n+\r\n+    public Object get( int ix ) throws NamingException\r\n+    {\r\n+        return wrapped.get( ix );\r\n+    }\r\n+\r\n+\r\n+    public Object remove( int ix )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Value removal not supported for immutable attribute\" );\r\n+    }\r\n+\r\n+\r\n+    public void add( int ix, Object attrVal )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Value addition not supported for immutable attribute\" );\r\n+    }\r\n+\r\n+\r\n+    public Object set( int ix, Object attrVal )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Value alteration is not supported for immutable attribute\" );\r\n+    }\r\n+}\r",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "sha": "a8b82a077eee4e400bae083f70ca5c18df961ad1",
                "status": "added"
            },
            {
                "additions": 140,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "changes": 140,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java?ref=71b1fb81bada4c855ba35bd142f303a38854144c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "patch": "@@ -0,0 +1,140 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *  http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.apache.directory.shared.ldap.util;\r\n+\r\n+\r\n+import javax.naming.NamingEnumeration;\r\n+import javax.naming.NamingException;\r\n+import javax.naming.directory.Attribute;\r\n+import javax.naming.directory.Attributes;\r\n+\r\n+\r\n+/**\r\n+ * Document me!\r\n+ *\r\n+ * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\r\n+ * @version $Rev$, $Date$\r\n+ */\r\n+public class ImmutableAttributesWrapper implements Attributes\r\n+{\r\n+    private final Attributes wrapped;\r\n+\r\n+\r\n+    public ImmutableAttributesWrapper( Attributes wrapped )\r\n+    {\r\n+        this.wrapped = wrapped;\r\n+    }\r\n+\r\n+\r\n+    public boolean isCaseIgnored()\r\n+    {\r\n+        return wrapped.isCaseIgnored();\r\n+    }\r\n+\r\n+\r\n+    public int size()\r\n+    {\r\n+        return wrapped.size();\r\n+    }\r\n+\r\n+\r\n+    public Attribute get( String attrID )\r\n+    {\r\n+        return new ImmutableAttributeWrapper( wrapped.get( attrID ) );\r\n+    }\r\n+\r\n+\r\n+    public NamingEnumeration<? extends Attribute> getAll()\r\n+    {\r\n+        return new ImmutableEnumeration( wrapped.getAll() );\r\n+    }\r\n+\r\n+\r\n+    public NamingEnumeration<String> getIDs()\r\n+    {\r\n+        return wrapped.getIDs();\r\n+    }\r\n+\r\n+\r\n+    public Attribute put( String attrID, Object val )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Putting attributes not supported by immutable attributes\" );\r\n+    }\r\n+\r\n+\r\n+    public Attribute put( Attribute attr )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Putting attributes not supported by immutable attributes\" );\r\n+    }\r\n+\r\n+\r\n+    public Attribute remove( String attrID )\r\n+    {\r\n+        throw new UnsupportedOperationException( \"Removing attributes not supported by immutable attributes\" );\r\n+    }\r\n+\r\n+\r\n+    @SuppressWarnings ( { \"CloneDoesntCallSuperClone\" } )\r\n+    public Object clone()\r\n+    {\r\n+        throw new IllegalStateException( \"Now why would you want to clone() an immutable object in the first place.\" );\r\n+    }\r\n+\r\n+\r\n+    class ImmutableEnumeration implements NamingEnumeration\r\n+    {\r\n+        private NamingEnumeration wrappedEnum;\r\n+\r\n+\r\n+        public ImmutableEnumeration( NamingEnumeration<? extends Attribute> all )\r\n+        {\r\n+            wrappedEnum = all;\r\n+        }\r\n+\r\n+\r\n+        public Attribute next() throws NamingException\r\n+        {\r\n+            return new ImmutableAttributeWrapper( ( Attribute ) wrappedEnum.next() );\r\n+        }\r\n+\r\n+\r\n+        public boolean hasMore() throws NamingException\r\n+        {\r\n+            return wrappedEnum.hasMore();\r\n+        }\r\n+\r\n+\r\n+        public void close() throws NamingException\r\n+        {\r\n+            wrappedEnum.close();\r\n+        }\r\n+\r\n+\r\n+        public boolean hasMoreElements()\r\n+        {\r\n+            return wrappedEnum.hasMoreElements();\r\n+        }\r\n+\r\n+\r\n+        public Attribute nextElement()\r\n+        {\r\n+            return new ImmutableAttributeWrapper( ( Attribute ) wrappedEnum.nextElement() );\r\n+        }\r\n+    }\r\n+}\r",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/71b1fb81bada4c855ba35bd142f303a38854144c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "sha": "a723158ffed233950119ca01130899616db8dc06",
                "status": "added"
            }
        ],
        "message": "changes ...\n\n o fixed problem which hid NPE in LdifUtils\n o added a couple wrappers around an Attributes object for immutibility\n o made normalize() method return 'this' so I can chain ops\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@601651 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/88dcf854fc046bf41947579cabb54143061ee65a",
        "patched_files": [
            "LdapDN.java",
            "LdifUtils.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapDNTest.java",
            "LdifUtilsTest.java"
        ]
    },
    "directory-ldap-api_739133b": {
        "bug_id": "directory-ldap-api_739133b",
        "commit": "https://github.com/apache/directory-ldap-api/commit/739133be9b2acc64ad2ccacd9fd208dc267f62cd",
        "file": [
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/739133be9b2acc64ad2ccacd9fd208dc267f62cd/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java?ref=739133be9b2acc64ad2ccacd9fd208dc267f62cd",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "patch": "@@ -1229,6 +1229,11 @@ public static void applyModification( Attributes entry, ModificationItem modific\n                     // We just have to remove the values from the original\n                     // entry, if they exist.\n                     modifiedAttr = entry.get( modificationId ) ;\n+                    \n+                    if ( modifiedAttr == null )\n+                    {\n+                        break;\n+                    }\n \n                     NamingEnumeration<?> values = modAttr.getAll();\n                     \n@@ -1239,6 +1244,12 @@ public static void applyModification( Attributes entry, ModificationItem modific\n                         // normalized before.\n                         modifiedAttr.remove( values.nextElement() );\n                     }\n+                    \n+                    if ( modifiedAttr.size() == 0 )\n+                    {\n+                        // If this was the last value, remove the attribute\n+                        entry.remove( modifiedAttr.getID() );\n+                    }\n                 }\n \n                 break;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/739133be9b2acc64ad2ccacd9fd208dc267f62cd/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "sha": "eb6d7f79becd99bf3a18e5cdf2fe48dcf59c0042",
                "status": "modified"
            },
            {
                "additions": 288,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/739133be9b2acc64ad2ccacd9fd208dc267f62cd/ldap/src/test/java/org/apache/directory/shared/ldap/util/AttributeUtilsTest.java",
                "changes": 288,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/util/AttributeUtilsTest.java?ref=739133be9b2acc64ad2ccacd9fd208dc267f62cd",
                "deletions": 0,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/util/AttributeUtilsTest.java",
                "patch": "@@ -0,0 +1,288 @@\n+/*\n+ *  Licensed to the Apache Software Foundation (ASF) under one\n+ *  or more contributor license agreements.  See the NOTICE file\n+ *  distributed with this work for additional information\n+ *  regarding copyright ownership.  The ASF licenses this file\n+ *  to you under the Apache License, Version 2.0 (the\n+ *  \"License\"); you may not use this file except in compliance\n+ *  with the License.  You may obtain a copy of the License at\n+ *  \n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *  \n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License. \n+ *  \n+ */\n+package org.apache.directory.shared.ldap.util;\n+\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+import javax.naming.NamingEnumeration;\n+import javax.naming.NamingException;\n+import javax.naming.directory.Attribute;\n+import javax.naming.directory.Attributes;\n+import javax.naming.directory.DirContext;\n+import javax.naming.directory.ModificationItem;\n+\n+import org.apache.directory.shared.ldap.message.AttributeImpl;\n+import org.apache.directory.shared.ldap.message.AttributesImpl;\n+import org.apache.directory.shared.ldap.message.ModificationItemImpl;\n+\n+import org.junit.Test;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.assertNull;\n+\n+/**\n+ * A test case for the AttributeUtils methods \n+ *\n+ * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n+ * @version $Rev$\n+ */\n+public class AttributeUtilsTest\n+{\n+    /**\n+     * Test a addModification applied to an empty entry\n+     */\n+    @Test\n+    public void testApplyAddModificationToEmptyEntry() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        ModificationItem modification = new ModificationItemImpl(DirContext.ADD_ATTRIBUTE, attr );\n+        AttributeUtils.applyModification( entry, modification );\n+        assertNotNull( entry.get(  \"cn\" ) );\n+        assertEquals( 1, entry.size() );\n+        assertEquals( attr, entry.get( \"cn\" ) );\n+    }\n+\n+\n+    /**\n+     * Test a addModification applied to an entry \n+     */\n+    @Test\n+    public void testApplyAddModificationToEntry() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        entry.put( \"dc\", \"apache\" );\n+        assertEquals( 1, entry.size() );\n+\n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        ModificationItem modification = new ModificationItemImpl(DirContext.ADD_ATTRIBUTE, attr );\n+        AttributeUtils.applyModification( entry, modification );\n+        assertNotNull( entry.get(  \"cn\" ) );\n+        assertEquals( 2, entry.size() );\n+        assertEquals( attr, entry.get( \"cn\" ) );\n+    }\n+\n+\n+    /**\n+     * Test a addModification applied to an entry with the same attribute\n+     * but with another value \n+     */\n+    @Test\n+    public void testApplyAddModificationToEntryWithValues() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        entry.put( \"cn\", \"apache\" );\n+        assertEquals( 1, entry.size() );\n+\n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        ModificationItem modification = new ModificationItemImpl(DirContext.ADD_ATTRIBUTE, attr );\n+        AttributeUtils.applyModification( entry, modification );\n+        assertNotNull( entry.get(  \"cn\" ) );\n+        assertEquals( 1, entry.size() );\n+        \n+        NamingEnumeration<?> values = entry.get( \"cn\" ).getAll();\n+        \n+        assertTrue( values.hasMoreElements() );\n+        \n+        Set<String> expectedValues = new HashSet<String>();\n+        expectedValues.add( \"apache\" );\n+        expectedValues.add( \"test\" );\n+        \n+        while ( values.hasMoreElements() )\n+        {\n+            String value = (String)values.nextElement();\n+            \n+            assertTrue( expectedValues.contains( value ) );\n+            \n+            expectedValues.remove( value );\n+        }\n+        \n+        assertEquals( 0, expectedValues.size() );\n+    }\n+\n+\n+    /**\n+     * Test a addModification applied to an entry with the same attribute\n+     * and the same value \n+     */\n+    @Test\n+    public void testApplyAddModificationToEntryWithSameValue() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute cn = new AttributeImpl( \"cn\" );\n+        cn.add( \"test\" );\n+        cn.add( \"apache\" );\n+        entry.put( cn );\n+        \n+        assertEquals( 1, entry.size() );\n+\n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        ModificationItem modification = new ModificationItemImpl(DirContext.ADD_ATTRIBUTE, attr );\n+        AttributeUtils.applyModification( entry, modification );\n+        assertNotNull( entry.get(  \"cn\" ) );\n+        assertEquals( 1, entry.size() );\n+        \n+        NamingEnumeration<?> values = entry.get( \"cn\" ).getAll();\n+        \n+        assertTrue( values.hasMoreElements() );\n+        \n+        Set<String> expectedValues = new HashSet<String>();\n+        expectedValues.add( \"apache\" );\n+        expectedValues.add( \"test\" );\n+        \n+        while ( values.hasMoreElements() )\n+        {\n+            String value = (String)values.nextElement();\n+            \n+            assertTrue( expectedValues.contains( value ) );\n+            \n+            expectedValues.remove( value );\n+        }\n+        \n+        assertEquals( 0, expectedValues.size() );\n+    }\n+\n+    \n+    /**\n+     * Test the deletion of an attribute into an empty entry\n+     */\n+    @Test\n+    public void testApplyRemoveModificationFromEmptyEntry() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        ModificationItem modification = new ModificationItemImpl(DirContext.REMOVE_ATTRIBUTE, attr );\n+        AttributeUtils.applyModification( entry, modification );\n+        assertNull( entry.get( \"cn\" ) );\n+        assertEquals( 0, entry.size() );\n+    }\n+\n+\n+    /**\n+     * Test the deletion of an attribute into an entry which does not contain the attribute\n+     */\n+    @Test\n+    public void testApplyRemoveModificationFromEntryAttributeNotPresent() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute dc = new AttributeImpl( \"dc\", \"apache\" );\n+        entry.put( dc );\n+        \n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        \n+        ModificationItem modification = new ModificationItemImpl(DirContext.REMOVE_ATTRIBUTE, attr );\n+        \n+        AttributeUtils.applyModification( entry, modification );\n+        \n+        assertNull( entry.get( \"cn\" ) );\n+        assertNotNull( entry.get( \"dc\" ) );\n+        assertEquals( 1, entry.size() );\n+        assertEquals( dc, entry.get( \"dc\" ) );\n+    }\n+\n+\n+    /**\n+     * Test the deletion of an attribute into an entry which contains the attribute\n+     * but without the value to be deleted\n+     */\n+    @Test\n+    public void testApplyRemoveModificationFromEntryAttributeNotSameValue() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute cn = new AttributeImpl( \"cn\", \"apache\" );\n+        entry.put( cn );\n+        \n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        \n+        ModificationItem modification = new ModificationItemImpl(DirContext.REMOVE_ATTRIBUTE, attr );\n+        \n+        AttributeUtils.applyModification( entry, modification );\n+        \n+        assertNotNull( entry.get( \"cn\" ) );\n+        assertEquals( 1, entry.size() );\n+        assertEquals( cn, entry.get( \"cn\" ) );\n+    }\n+\n+\n+    /**\n+     * Test the deletion of an attribute into an entry which contains the attribute.\n+     * \n+     * The entry should not contain the attribute after the operation\n+     */\n+    @Test\n+    public void testApplyRemoveModificationFromEntrySameAttributeSameValue() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute cn = new AttributeImpl( \"cn\", \"test\" );\n+        entry.put( cn );\n+        \n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        \n+        ModificationItem modification = new ModificationItemImpl(DirContext.REMOVE_ATTRIBUTE, attr );\n+        \n+        AttributeUtils.applyModification( entry, modification );\n+        \n+        assertNull( entry.get( \"cn\" ) );\n+        assertEquals( 0, entry.size() );\n+    }\n+\n+\n+    /**\n+     * Test the deletion of an attribute into an entry which contains the attribute\n+     * with more than one value\n+     * \n+     * The entry should contain the attribute after the operation, but with one less value\n+     */\n+    @Test\n+    public void testApplyRemoveModificationFromEntrySameAttributeValues() throws NamingException\n+    {\n+        Attributes entry = new AttributesImpl();\n+        Attribute cn = new AttributeImpl( \"cn\", \"test\" );\n+        cn.add( \"apache\" );\n+        entry.put( cn );\n+        \n+        Attribute attr = new AttributeImpl( \"cn\", \"test\" );\n+        \n+        ModificationItem modification = new ModificationItemImpl(DirContext.REMOVE_ATTRIBUTE, attr );\n+        \n+        AttributeUtils.applyModification( entry, modification );\n+        \n+        assertNotNull( entry.get( \"cn\" ) );\n+        assertEquals( 1, entry.size() );\n+        \n+        Attribute modifiedAttr = entry.get( \"cn\" );\n+        \n+        NamingEnumeration<?> values = modifiedAttr.getAll();\n+        \n+        assertTrue( values.hasMoreElements() );\n+        \n+        boolean isFirst = true;\n+        \n+        while ( values.hasMoreElements() )\n+        {\n+            assertTrue( isFirst );\n+            \n+            isFirst = false;\n+            assertEquals( \"apache\", values.nextElement() );\n+        }\n+    }\n+}",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/739133be9b2acc64ad2ccacd9fd208dc267f62cd/ldap/src/test/java/org/apache/directory/shared/ldap/util/AttributeUtilsTest.java",
                "sha": "a2853991498303f97b3a3fa8828acbb16f918f4a",
                "status": "added"
            }
        ],
        "message": "Fixed a NPE\nFixed a bug when we romve the last value of an attribute : the attribute must be deleted\nAdded some tests for the applyModification() method\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@593967 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/32709d019bd6ae2b1db0e3ac7691e2264fbc051e",
        "patched_files": [
            "AttributeUtils.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "AttributeUtilsTest.java"
        ]
    },
    "directory-ldap-api_7a2745f": {
        "bug_id": "directory-ldap-api_7a2745f",
        "commit": "https://github.com/apache/directory-ldap-api/commit/7a2745f9b3206549efa0903e3e24468bb422792d",
        "file": [
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7a2745f9b3206549efa0903e3e24468bb422792d/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java?ref=7a2745f9b3206549efa0903e3e24468bb422792d",
                "deletions": 1,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "patch": "@@ -38,6 +38,7 @@\n import org.apache.directory.shared.ldap.schema.EntityFactory;\n import org.apache.directory.shared.ldap.schema.LdapComparator;\n import org.apache.directory.shared.ldap.schema.LdapSyntax;\n+import org.apache.directory.shared.ldap.schema.LoadableSchemaObject;\n import org.apache.directory.shared.ldap.schema.MatchingRule;\n import org.apache.directory.shared.ldap.schema.Normalizer;\n import org.apache.directory.shared.ldap.schema.ObjectClass;\n@@ -1377,8 +1378,17 @@ public boolean add( SchemaObject schemaObject ) throws Exception\n         // First, clear the errors\n         errors.clear();\n \n+        SchemaObject copy = null;\n+\n         // Clone the schemaObject\n-        SchemaObject copy = schemaObject.copy();\n+        if ( !( schemaObject instanceof LoadableSchemaObject ) )\n+        {\n+            copy = schemaObject.copy();\n+        }\n+        else\n+        {\n+            copy = schemaObject;\n+        }\n \n         if ( registries.isRelaxed() )\n         {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7a2745f9b3206549efa0903e3e24468bb422792d/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "sha": "cf48f0b7ea1b2f653e7463d19f4546486a54f293",
                "status": "modified"
            },
            {
                "additions": 34,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7a2745f9b3206549efa0903e3e24468bb422792d/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerAddTest.java",
                "changes": 36,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerAddTest.java?ref=7a2745f9b3206549efa0903e3e24468bb422792d",
                "deletions": 2,
                "filename": "ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerAddTest.java",
                "patch": "@@ -22,7 +22,9 @@\n \n import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.fail;\n \n import java.io.File;\n import java.io.IOException;\n@@ -34,8 +36,10 @@\n import org.apache.commons.io.FileUtils;\n import org.apache.directory.shared.ldap.exception.LdapSchemaViolationException;\n import org.apache.directory.shared.ldap.schema.AttributeType;\n+import org.apache.directory.shared.ldap.schema.LdapComparator;\n import org.apache.directory.shared.ldap.schema.SchemaManager;\n import org.apache.directory.shared.ldap.schema.UsageEnum;\n+import org.apache.directory.shared.ldap.schema.comparators.BooleanComparator;\n import org.apache.directory.shared.ldap.schema.ldif.extractor.SchemaLdifExtractor;\n import org.apache.directory.shared.schema.DefaultSchemaManager;\n import org.apache.directory.shared.schema.loader.ldif.LdifSchemaLoader;\n@@ -56,7 +60,7 @@\n     private static String workingDirectory;\n \n     // The schema repository\n-    private static File schemaRepository;\n+    private static File   schemaRepository;\n \n \n     @BeforeClass\n@@ -566,10 +570,38 @@ public void testAddAttributeTypeSupBadSup() throws Exception\n         assertEquals( goidSize, schemaManager.getOidRegistry().size() );\n     }\n \n+\n     //=========================================================================\n     // Comparator addition tests\n     //-------------------------------------------------------------------------\n-    // TODO\n+    @Test\n+    public void testAddNewComparator() throws Exception\n+    {\n+        SchemaManager schemaManager = loadSystem();\n+        int ctrSize = schemaManager.getComparatorRegistry().size();\n+        int goidSize = schemaManager.getOidRegistry().size();\n+\n+        LdapComparator<?> lc = new BooleanComparator( \"0.0.0\" );\n+\n+        assertTrue( schemaManager.add( lc ) );\n+\n+        List<Throwable> errors = schemaManager.getErrors();\n+        assertEquals( 0, errors.size() );\n+\n+        assertEquals( ctrSize + 1, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( goidSize, schemaManager.getOidRegistry().size() );\n+\n+        try\n+        {\n+            LdapComparator<?> added = schemaManager.lookupComparatorRegistry( \"0.0.0\" );\n+\n+            assertNotNull( added );\n+        }\n+        catch ( NamingException ne )\n+        {\n+            fail();\n+        }\n+    }\n \n     //=========================================================================\n     // DITContentRule addition tests",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7a2745f9b3206549efa0903e3e24468bb422792d/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerAddTest.java",
                "sha": "874625860f6af411c2659f9f2a8cea54228f0a41",
                "status": "modified"
            }
        ],
        "message": "o Injected Kiran's first test for comparator\no Fixed a NPE in the add method when we are adding some LoadableSchemaObjects\no Added some more check in the test\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@888472 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/bd03c66120e3c27e2bdd559a9c6f4bc703d63a08",
        "patched_files": [
            "DefaultSchemaManager.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "SchemaManagerAddTest.java"
        ]
    },
    "directory-ldap-api_7d0fa50": {
        "bug_id": "directory-ldap-api_7d0fa50",
        "commit": "https://github.com/apache/directory-ldap-api/commit/7d0fa503a8681ed3bb7e0d7ae57b953f848c0bf8",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7d0fa503a8681ed3bb7e0d7ae57b953f848c0bf8/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/ListCursor.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/ListCursor.java?ref=7d0fa503a8681ed3bb7e0d7ae57b953f848c0bf8",
                "deletions": 10,
                "filename": "cursor/src/main/java/org/apache/directory/shared/ldap/cursor/ListCursor.java",
                "patch": "@@ -67,6 +67,10 @@\n      */\n     public ListCursor( Comparator<E> comparator, int start, List<E> list, int end )\n     {\n+    \tif ( list == null )\n+    \t{\n+    \t\tlist = Collections.emptyList();\n+    \t}\n         if ( ( start < 0  )|| ( start > list.size() ) )\n         {\n             throw new IllegalArgumentException( I18n.err( I18n.ERR_02005, start ) );\n@@ -85,16 +89,7 @@ public ListCursor( Comparator<E> comparator, int start, List<E> list, int end )\n         }\n \n         this.comparator = comparator;\n-\n-        if ( list != null )\n-        {\n-            this.list = list;\n-        }\n-        else\n-        {\n-            this.list = Collections.emptyList();\n-        }\n-\n+        this.list = list;\n         this.start = start;\n         this.end = end;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7d0fa503a8681ed3bb7e0d7ae57b953f848c0bf8/cursor/src/main/java/org/apache/directory/shared/ldap/cursor/ListCursor.java",
                "sha": "6f7452c1ea4d249f509c07e0b9564ab83a75e4d0",
                "status": "modified"
            }
        ],
        "message": "Avoid NPE\n\nFrom FireBug report\nRCN: Nullcheck of value previously dereferenced (RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE)\nA value is checked here to see whether it is null, but this value can't be null because it was previously dereferenced and if it were null a null pointer exception would have occurred at the earlier dereference. Essentially, this code and the previous dereference disagree as to whether this value is allowed to be null. Either the check is redundant or the previous dereference is erroneous.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@944577 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/a6368dbb8e7d52446f8aa674824601c3888880d7",
        "patched_files": [
            "ListCursor.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ListCursorTest.java"
        ]
    },
    "directory-ldap-api_7ec5854": {
        "bug_id": "directory-ldap-api_7ec5854",
        "commit": "https://github.com/apache/directory-ldap-api/commit/7ec58541dc847a81dc6179d626eb9212b1cd30a2",
        "file": [
            {
                "additions": 145,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "changes": 159,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 14,
                "filename": "ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "patch": "@@ -21,6 +21,8 @@\n \n \n import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.HashSet;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n@@ -109,6 +111,9 @@\n \n     /** the normalized name for the schema modification attributes */\n     private LdapDN schemaModificationAttributesDN;\n+    \n+    /** A Map containing all the schema being dependent from a schema */\n+    private Map<String, Set<String>> schemaDependences = new HashMap<String, Set<String>>();\n \n     /** A flag indicating that the SchemaManager is relaxed or not */\n     private boolean isRelaxed = STRICT;\n@@ -128,7 +133,7 @@ public DefaultSchemaManager( SchemaLoader loader ) throws Exception\n         // Default to the the root (one schemaManager for all the entries\n         namingContext = LdapDN.EMPTY_LDAPDN;\n         this.schemaLoader = loader;\n-        errors = null;\n+        errors = new ArrayList<Throwable>();\n         registries = new Registries( this );\n         factory = new SchemaEntityFactory();\n         isRelaxed = STRICT;\n@@ -145,7 +150,7 @@ public DefaultSchemaManager( SchemaLoader loader, LdapDN namingContext ) throws\n     {\n         this.namingContext = namingContext;\n         this.schemaLoader = loader;\n-        errors = null;\n+        errors = new ArrayList<Throwable>();\n         registries = new Registries( this );\n         factory = new SchemaEntityFactory();\n         isRelaxed = STRICT;\n@@ -188,7 +193,16 @@ private Registries cloneRegistries() throws Exception\n \n         for ( String schemaName : schemas )\n         {\n-            schemaArray[n++] = schemaLoader.getSchema( schemaName );\n+            Schema schema = schemaLoader.getSchema( schemaName );\n+            \n+            if ( schema != null )\n+            {\n+                schemaArray[n++] = schema;\n+            }\n+            else\n+            {\n+                throw new LdapOperationNotSupportedException( \"Cannot load the unknown schema \" + schemaName, ResultCodeEnum.UNWILLING_TO_PERFORM );\n+            }\n         }\n \n         return schemaArray;\n@@ -234,9 +248,25 @@ private void deleteSchemaObjects( Schema schema, Registries registries ) throws\n         {\n             registries.delete( errors, schemaObject );\n         }\n+    }\n \n-        // TODO Add some listener handling at this point\n-        //notifyListenerOrRegistries( schema, registries );\n+    \n+    /**\n+     * Tells if there are schemaObjects for a given schema from the registries\n+     */\n+    private boolean hasSchemaObjects( Schema schema, Registries registries ) throws Exception\n+    {\n+        Map<String, Set<SchemaObjectWrapper>> schemaObjects = registries.getObjectBySchemaName();\n+        Set<SchemaObjectWrapper> content = schemaObjects.get( StringTools.toLowerCase( schema.getSchemaName() ) );\n+\n+        if ( ( content == null ) || content.isEmpty() )\n+        {\n+            return false;\n+        }\n+        else\n+        {\n+            return true;\n+        }\n     }\n \n \n@@ -490,6 +520,11 @@ public boolean isDisabledAccepted()\n      */\n     public boolean load( Schema... schemas ) throws Exception\n     {\n+        if ( schemas.length == 0 )\n+        {\n+            return true;\n+        }\n+        \n         boolean loaded = false;\n \n         // Reset the errors if not null\n@@ -525,6 +560,28 @@ public boolean load( Schema... schemas ) throws Exception\n                 for ( Schema schema : schemas )\n                 {\n                     load( registries, schema );\n+                    \n+                    // Update the schema dependences if needed\n+                    \n+                    if ( schema.getDependencies() != null )\n+                    {\n+                        for ( String dep : schema.getDependencies() )\n+                        {\n+                            Set<String> deps = schemaDependences.get( dep );\n+                            \n+                            if ( deps == null )\n+                            {\n+                                deps = new HashSet<String>();\n+                                deps.add( schema.getSchemaName() );\n+                            }\n+                            \n+                            // Replace the dependences\n+                            schemaDependences.put( dep, deps );\n+                        }\n+                    }\n+                    \n+                    // add the schema to the schemaLoader\n+                    schemaLoader.addSchema( schema );\n                 }\n \n                 // Build the cross references\n@@ -547,6 +604,11 @@ public boolean load( Schema... schemas ) throws Exception\n      */\n     public boolean load( String... schemaNames ) throws Exception\n     {\n+        if ( schemaNames.length == 0 )\n+        {\n+            return true;\n+        }\n+        \n         Schema[] schemas = toArray( schemaNames );\n \n         return load( schemas );\n@@ -581,10 +643,9 @@ private boolean load( Registries registries, Schema schema ) throws Exception\n         {\n             if ( registries.isDisabledAccepted() )\n             {\n-                LOG.info( \"Loading {} schema: \\n{}\", schema.getSchemaName(), schema );\n+                LOG.info( \"Loading {} disbaled schema: \\n{}\", schema.getSchemaName(), schema );\n \n                 registries.schemaLoaded( schema );\n-\n                 addSchemaObjects( schema, registries );\n             }\n             else\n@@ -594,7 +655,7 @@ private boolean load( Registries registries, Schema schema ) throws Exception\n         }\n         else\n         {\n-            LOG.info( \"Loading {} schema: \\n{}\", schema.getSchemaName(), schema );\n+            LOG.info( \"Loading {} enabled schema: \\n{}\", schema.getSchemaName(), schema );\n \n             registries.schemaLoaded( schema );\n             addSchemaObjects( schema, registries );\n@@ -1087,20 +1148,81 @@ public void setRegistries( Registries registries )\n     /**\n      * {@inheritDoc}\n      */\n-    public boolean unload( Schema... schemas )\n+    public boolean unload( Schema... schemas ) throws Exception\n     {\n-        // TODO Auto-generated method stub\n-        return false;\n+        boolean unloaded = false;\n+\n+        // Reset the errors if not null\n+        if ( errors != null )\n+        {\n+            errors.clear();\n+        }\n+        \n+        // Work on a cloned and relaxed registries\n+        Registries clonedRegistries = cloneRegistries();\n+        clonedRegistries.setRelaxed();\n+\n+        // Load the schemas\n+        for ( Schema schema : schemas )\n+        {\n+            unload( clonedRegistries, schema );\n+        }\n+\n+        // Build the cross references\n+        errors = clonedRegistries.buildReferences();\n+\n+        if ( errors.isEmpty() )\n+        {\n+            // Ok no errors. Check the registries now\n+            errors = clonedRegistries.checkRefInteg();\n+\n+            if ( errors.isEmpty() )\n+            {\n+                // We are golden : let's apply the schema in the real registries\n+                registries.setRelaxed();\n+\n+                // Load the schemas\n+                for ( Schema schema : schemas )\n+                {\n+                    unload( registries, schema );\n+                    \n+                    // Update the schema dependences\n+                    for ( String dep : schema.getDependencies() )\n+                    {\n+                        Set<String> deps = schemaDependences.get( dep );\n+                        \n+                        if ( deps != null )\n+                        {\n+                            deps.remove( schema.getSchemaName() );\n+                        }\n+                    }\n+                    \n+                    schemaLoader.removeSchema( schema );\n+                }\n+\n+                // Build the cross references\n+                errors = registries.buildReferences();\n+                registries.setStrict();\n+\n+                unloaded = true;\n+            }\n+        }\n+\n+        // clear the cloned registries\n+        clonedRegistries.clear();\n+\n+        return unloaded;\n     }\n \n \n     /**\n      * {@inheritDoc}\n      */\n-    public boolean unload( String... schemas )\n+    public boolean unload( String... schemaNames ) throws Exception\n     {\n-        // TODO Auto-generated method stub\n-        return false;\n+        Schema[] schemas = toArray( schemaNames );\n+\n+        return unload( schemas );\n     }\n \n \n@@ -1855,6 +1977,15 @@ public boolean isStrict()\n         return !isRelaxed;\n     }\n \n+    \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public Set<String> listDependentSchemaNames( String schemaName )\n+    {\n+        return schemaDependences.get( schemaName );\n+    }\n+\n \n     /**\n      * Change the SchemaManager to a relaxed mode, where invalid SchemaObjects",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/main/java/org/apache/directory/shared/schema/DefaultSchemaManager.java",
                "sha": "778b4e80d9641c1141921eff8aaac1fa29f617ec",
                "status": "modified"
            },
            {
                "additions": 28,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 9,
                "filename": "ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "patch": "@@ -25,11 +25,13 @@\n import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertNull;\n import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.fail;\n \n import java.io.File;\n import java.io.IOException;\n \n import org.apache.commons.io.FileUtils;\n+import org.apache.directory.shared.ldap.exception.LdapOperationNotSupportedException;\n import org.apache.directory.shared.ldap.schema.SchemaManager;\n import org.apache.directory.shared.ldap.schema.ldif.extractor.SchemaLdifExtractor;\n import org.apache.directory.shared.ldap.schema.registries.DefaultSchema;\n@@ -548,7 +550,15 @@ public void testLoadWrongSchema() throws Exception\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n         assertTrue( schemaManager.load( \"system\" ) );\n-        assertTrue( schemaManager.load( \"bad\" ) );\n+        try\n+        {\n+            schemaManager.loadWithDeps( \"bad\" );\n+            fail();\n+        }\n+        catch ( LdapOperationNotSupportedException lonse )\n+        {\n+            // expected\n+        }\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 38, schemaManager.getAttributeTypeRegistry().size() );\n@@ -606,23 +616,32 @@ public void testLoadCoreInetOrgPersonAndBad() throws Exception\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n         assertTrue( schemaManager.load( \"system\" ) );\n-        assertTrue( schemaManager.load( \"core\", \"bad\", \"cosine\", \"InetOrgPerson\" ) );\n+\n+        try\n+        {\n+            assertFalse( schemaManager.load( \"core\", \"bad\", \"cosine\", \"InetOrgPerson\" ) );\n+            fail();\n+        }\n+        catch ( LdapOperationNotSupportedException lonse )\n+        {\n+            // expected\n+        }\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n-        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 38, schemaManager.getAttributeTypeRegistry().size() );\n         assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n         assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n         assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n-        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 9, schemaManager.getObjectClassRegistry().size() );\n         assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n         assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n-        assertEquals( 286, schemaManager.getGlobalOidRegistry().size() );\n+        assertEquals( 141, schemaManager.getGlobalOidRegistry().size() );\n \n-        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertEquals( 1, schemaManager.getRegistries().getLoadedSchemas().size() );\n         assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadTest.java",
                "sha": "e61fb03c9931b4a11f4f87901118d608048d74b5",
                "status": "modified"
            },
            {
                "additions": 34,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "changes": 49,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 15,
                "filename": "ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "patch": "@@ -24,11 +24,13 @@\n import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertNull;\n import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.fail;\n \n import java.io.File;\n import java.io.IOException;\n \n import org.apache.commons.io.FileUtils;\n+import org.apache.directory.shared.ldap.exception.LdapOperationNotSupportedException;\n import org.apache.directory.shared.ldap.schema.SchemaManager;\n import org.apache.directory.shared.ldap.schema.ldif.extractor.SchemaLdifExtractor;\n import org.apache.directory.shared.ldap.schema.registries.DefaultSchema;\n@@ -415,7 +417,15 @@ public void testLoadWrongSchema() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"bad\" );\n+        try\n+        {\n+            schemaManager.loadWithDeps( \"bad\" );\n+            fail();\n+        }\n+        catch ( LdapOperationNotSupportedException lonse )\n+        {\n+            // expected\n+        }\n \n         assertTrue( schemaManager.getErrors().isEmpty() );\n         assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n@@ -469,23 +479,32 @@ public void testLoadCoreInetOrgPersonAndBad() throws Exception\n         LdifSchemaLoader loader = new LdifSchemaLoader( schemaRepository );\n         SchemaManager schemaManager = new DefaultSchemaManager( loader );\n \n-        schemaManager.loadWithDeps( \"core\", \"bad\", \"InetOrgPerson\" );\n+        try\n+        {\n+            schemaManager.loadWithDeps( \"core\", \"bad\", \"InetOrgPerson\" );\n+            fail();\n+        }\n+        catch ( LdapOperationNotSupportedException lonse )\n+        {\n+            // expected\n+        }\n \n+        // No SchemaObject should be loaded as we had an error\n         assertTrue( schemaManager.getErrors().isEmpty() );\n-        assertEquals( 142, schemaManager.getAttributeTypeRegistry().size() );\n-        assertEquals( 35, schemaManager.getComparatorRegistry().size() );\n-        assertEquals( 35, schemaManager.getMatchingRuleRegistry().size() );\n-        assertEquals( 35, schemaManager.getNormalizerRegistry().size() );\n-        assertEquals( 50, schemaManager.getObjectClassRegistry().size() );\n-        assertEquals( 59, schemaManager.getSyntaxCheckerRegistry().size() );\n-        assertEquals( 59, schemaManager.getLdapSyntaxRegistry().size() );\n-        assertEquals( 286, schemaManager.getGlobalOidRegistry().size() );\n+        assertEquals( 0, schemaManager.getAttributeTypeRegistry().size() );\n+        assertEquals( 0, schemaManager.getComparatorRegistry().size() );\n+        assertEquals( 0, schemaManager.getMatchingRuleRegistry().size() );\n+        assertEquals( 0, schemaManager.getNormalizerRegistry().size() );\n+        assertEquals( 0, schemaManager.getObjectClassRegistry().size() );\n+        assertEquals( 0, schemaManager.getSyntaxCheckerRegistry().size() );\n+        assertEquals( 0, schemaManager.getLdapSyntaxRegistry().size() );\n+        assertEquals( 0, schemaManager.getGlobalOidRegistry().size() );\n \n-        assertEquals( 4, schemaManager.getRegistries().getLoadedSchemas().size() );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n-        assertNotNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n+        assertEquals( 0, schemaManager.getRegistries().getLoadedSchemas().size() );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"system\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"core\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"cosine\" ) );\n+        assertNull( schemaManager.getRegistries().getLoadedSchema( \"InetOrgPerson\" ) );\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap-schema-loader/src/test/java/org/apache/directory/server/schema/SchemaManagerLoadWithDepsTest.java",
                "sha": "0cdc1fc7d8faf12b5a9c3f020b24587119ea2f19",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaManager.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaManager.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaManager.java",
                "patch": "@@ -22,6 +22,7 @@\n \n import java.util.List;\n import java.util.Map;\n+import java.util.Set;\n \n import javax.naming.NamingException;\n \n@@ -240,7 +241,7 @@\n      * @param schemas The list of Schema to unload\n      * @return True if all the schemas have been unloaded\n      */\n-    boolean unload( Schema... schemas );\n+    boolean unload( Schema... schemas ) throws Exception;\n \n \n     /**\n@@ -249,7 +250,7 @@\n      * @param schemas The list of Schema to unload\n      * @return True if all the schemas have been unloaded\n      */\n-    boolean unload( String... schemas );\n+    boolean unload( String... schemas ) throws Exception;\n \n \n     //---------------------------------------------------------------------------------\n@@ -792,4 +793,13 @@\n      * @return true if the schema is laoded\n      */\n     boolean isSchemaLoaded( String schemaName );\n+    \n+    \n+    /**\n+     * Get the list of Schema names which has the given schema name as a dependence\n+     *\n+     * @param schemaName The Schema name for which we want to get the list of dependent schemas\n+     * @return The list of dependent schemas\n+     */\n+    Set<String> listDependentSchemaNames( String schemaName );\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/SchemaManager.java",
                "sha": "84196ebd815deed9a966cad7943110516717cf96",
                "status": "modified"
            },
            {
                "additions": 38,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "changes": 39,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "patch": "@@ -87,6 +87,25 @@ protected final void notifyListenerOrRegistries( Schema schema, Registries regis\n      * {@inheritDoc}\n      */\n     public final Collection<Schema> getAllEnabled() throws Exception\n+    {\n+        Collection<Schema> enabledSchemas = new ArrayList<Schema>();\n+        \n+        for ( Schema schema : schemaMap.values() )\n+        {\n+            if ( schema.isEnabled() )\n+            {\n+                enabledSchemas.add( schema );\n+            }\n+        }\n+        \n+        return enabledSchemas;\n+    }\n+\n+\n+    /**\n+     * {@inheritDoc}\n+     */\n+    public final Collection<Schema> getAllSchemas() throws Exception\n     {\n         return schemaMap.values();\n     }\n@@ -97,7 +116,25 @@ protected final void notifyListenerOrRegistries( Schema schema, Registries regis\n      */\n     public Schema getSchema( String schemaName )\n     {\n-        return this.schemaMap.get( StringTools.toLowerCase( schemaName ) );\n+        return schemaMap.get( StringTools.toLowerCase( schemaName ) );\n+    }\n+    \n+    \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public void addSchema( Schema schema )\n+    {\n+        schemaMap.put( schema.getSchemaName(), schema );\n+    }\n+    \n+    \n+    /**\n+     * {@inheritDoc}\n+     */\n+    public void removeSchema( Schema schema )\n+    {\n+        schemaMap.remove( schema.getSchemaName() );\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/AbstractSchemaLoader.java",
                "sha": "0b1497fc0f8b1740942e7fcd7ae2f0deab3b10e4",
                "status": "modified"
            },
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaLoader.java",
                "changes": 19,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaLoader.java?ref=7ec58541dc847a81dc6179d626eb9212b1cd30a2",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaLoader.java",
                "patch": "@@ -312,7 +312,26 @@\n      */\n     Collection<Schema> getAllEnabled() throws Exception;\n \n+    \n+    /**\n+     * @return the list of all schemas\n+     * @throws Exception TODO\n+     */\n+    Collection<Schema> getAllSchemas() throws Exception;\n \n+    \n+    /**\n+     * Add a new schema to the schema's list\n+     */\n+    public void addSchema( Schema schema );\n+\n+    \n+    /**\n+     * Remove a schema from the schema's list\n+     */\n+    public void removeSchema( Schema schema );\n+\n+    \n     /**\n      * TODO : get rid of this here !\n      * @dao the DAO",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7ec58541dc847a81dc6179d626eb9212b1cd30a2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/SchemaLoader.java",
                "sha": "367c4430d0838877530218a1a67de0549ff72bf5",
                "status": "modified"
            }
        ],
        "message": "o Implemented the unload() methods in SchemaManager\no Update the dependencies hen a schema is added or removed\no Fixed some potential NPE\no If a schema does not exist while trying to load/unload it, trhow an exception now\no Added a removeSchema() method in SchemaLoader\no Fix the schemaLoader tests\no Return only the enabled schema in getAllEnabled() method\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@892548 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/3622ff360f22d22313a4f32898ddae9f32accd23",
        "patched_files": [
            "DefaultSchemaManager.java",
            "SchemaManager.java",
            "AbstractSchemaLoader.java",
            "SchemaLoader.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "SchemaManagerLoadWithDepsTest.java",
            "SchemaManagerLoadTest.java"
        ]
    },
    "directory-ldap-api_7f0a024": {
        "bug_id": "directory-ldap-api_7f0a024",
        "commit": "https://github.com/apache/directory-ldap-api/commit/7f0a024a88d4c26040c40944cd3e86056e4b29fc",
        "file": [
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7f0a024a88d4c26040c40944cd3e86056e4b29fc/integ/src/test/java/org/apache/directory/shared/ldap/model/name/DnTest.java",
                "changes": 38,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/integ/src/test/java/org/apache/directory/shared/ldap/model/name/DnTest.java?ref=7f0a024a88d4c26040c40944cd3e86056e4b29fc",
                "deletions": 19,
                "filename": "integ/src/test/java/org/apache/directory/shared/ldap/model/name/DnTest.java",
                "patch": "@@ -221,7 +221,7 @@ public void testAddAllWithMultivaluedAttribute() throws LdapException\n         Dn target = new Dn();\n \n         assertTrue( Dn.isValid( \"cn=Kate Bush+sn=Bush,ou=system\" ) );\n-        target = target.addAll( dn );\n+        target = target.add( dn );\n         assertEquals( \"cn=Kate Bush+sn=Bush,ou=system\", target.toString() );\n         assertEquals( \"cn=Kate Bush+sn=Bush,ou=system\", target.getName() );\n     }\n@@ -733,7 +733,7 @@ public void testDnAddAll() throws LdapException\n     {\n         Dn dn = new Dn( \"a = b\" );\n         Dn dn2 = new Dn( \"c = d\" );\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"c = d,a = b\", dn.getName() );\n     }\n \n@@ -748,7 +748,7 @@ public void testDnAddAllAddedNameEmpty() throws LdapException\n     {\n         Dn dn = new Dn( \"a = b\" );\n         Dn dn2 = new Dn();\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"a=b\", dn.getNormName() );\n         assertEquals( \"a = b\", dn.getName() );\n     }\n@@ -764,7 +764,7 @@ public void testDnAddAllNameEmpty() throws LdapException\n     {\n         Dn dn = new Dn();\n         Dn dn2 = new Dn( \"a = b\" );\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"a = b\", dn.getName() );\n     }\n \n@@ -779,7 +779,7 @@ public void testDnAt0AddAll() throws LdapException\n     {\n         Dn dn = new Dn( \"a = b\" );\n         Dn dn2 = new Dn( \"c = d\" );\n-        dn = dn2.addAll( dn );\n+        dn = dn2.add( dn );\n         assertEquals( \"a = b,c = d\", dn.getName() );\n     }\n \n@@ -794,7 +794,7 @@ public void testDnAt1AddAll() throws LdapException\n     {\n         Dn dn = new Dn( \"a = b\" );\n         Dn dn2 = new Dn( \"c = d\" );\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"c = d,a = b\", dn.getName() );\n     }\n \n@@ -809,7 +809,7 @@ public void testDnAddAllAt0AddedNameEmpty() throws LdapException\n     {\n         Dn dn = new Dn( \"a = b\" );\n         Dn dn2 = new Dn();\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"a=b\", dn.getNormName() );\n         assertEquals( \"a = b\", dn.getName() );\n     }\n@@ -825,7 +825,7 @@ public void testDnAddAllAt0NameEmpty() throws LdapException\n     {\n         Dn dn = new Dn();\n         Dn dn2 = new Dn( \"a = b\" );\n-        dn = dn.addAll( dn2 );\n+        dn = dn.add( dn2 );\n         assertEquals( \"a = b\", dn.getName() );\n     }\n \n@@ -1677,7 +1677,7 @@ public void testAddAllName0() throws Exception\n     {\n         Dn name = new Dn();\n         Dn name0 = new Dn( \"cn=HomeDir,cn=John,ou=Marketing,ou=East\" );\n-        assertTrue( name0.equals( name.addAll( name0 ) ) );\n+        assertTrue( name0.equals( name.add( name0 ) ) );\n     }\n \n \n@@ -1693,7 +1693,7 @@ public void testAddAllNameExisting0() throws Exception\n         Dn name1 = new Dn( \"ou=Marketing,ou=East\" );\n         Dn name2 = new Dn( \"cn=HomeDir,cn=John\" );\n         Dn nameAdded = new Dn( \"cn=HomeDir,cn=John, ou=Marketing,ou=East\" );\n-        assertTrue( nameAdded.equals( name1.addAll( name2 ) ) );\n+        assertTrue( nameAdded.equals( name1.add( name2 ) ) );\n     }\n \n \n@@ -1711,9 +1711,9 @@ public void testAddAllName1() throws Exception\n         Dn name1 = new Dn( \"cn=HomeDir,cn=John\" );\n         Dn name2 = new Dn( \"cn=HomeDir,cn=John,ou=Marketing,ou=East\" );\n \n-        name = name.addAll( name0 );\n+        name = name.add( name0 );\n         assertTrue( name0.equals( name ) );\n-        assertTrue( name2.equals( name.addAll( name1 ) ) );\n+        assertTrue( name2.equals( name.add( name1 ) ) );\n     }\n \n \n@@ -1731,9 +1731,9 @@ public void testAddAllintName0() throws Exception\n         Dn name1 = new Dn( \"cn=HomeDir,cn=John\" );\n         Dn name2 = new Dn( \"cn=HomeDir,cn=John,ou=Marketing,ou=East\" );\n \n-        name = name.addAll( name0 );\n+        name = name.add( name0 );\n         assertTrue( name0.equals( name ) );\n-        assertTrue( name2.equals( name.addAll( name1 ) ) );\n+        assertTrue( name2.equals( name.add( name1 ) ) );\n     }\n \n \n@@ -2113,7 +2113,7 @@ public void testAddAllName() throws LdapException, InvalidNameException\n         Dn aName = new Dn( \"cn=four,cn=three,cn=two,cn=one\" );\n \n         assertSame( jName, jName.addAll( new LdapName( \"cn=seven,cn=six\" ) ) );\n-        assertNotSame( aName, aName.addAll( new Dn( \"cn=seven,cn=six\" ) ) );\n+        assertNotSame( aName, aName.add( new Dn( \"cn=seven,cn=six\" ) ) );\n         assertNotSame( jName.toString(), aName.toString() );\n     }\n \n@@ -2128,15 +2128,15 @@ public void testAddAllIntName() throws LdapException, InvalidNameException\n         Dn aName = new Dn( \"cn=four,cn=three,cn=two,cn=one\" );\n \n         assertSame( jName, jName.addAll( 0, new LdapName( \"cn=zero,cn=zero.5\" ) ) );\n-        assertNotSame( aName, aName.addAll( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n+        assertNotSame( aName, aName.add( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n         assertNotSame( jName.toString(), aName.toString() );\n \n         assertSame( jName, jName.addAll( 2, new LdapName( \"cn=zero,cn=zero.5\" ) ) );\n-        assertNotSame( aName, aName.addAll( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n+        assertNotSame( aName, aName.add( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n         assertNotSame( jName.toString(), aName.toString() );\n \n         assertSame( jName, jName.addAll( jName.size(), new LdapName( \"cn=zero,cn=zero.5\" ) ) );\n-        assertNotSame( aName, aName.addAll( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n+        assertNotSame( aName, aName.add( new Dn( \"cn=zero,cn=zero.5\" ) ) );\n         assertNotSame( jName.toString(), aName.toString() );\n     }\n \n@@ -2918,7 +2918,7 @@ public void testNormalize() throws Exception\n \n         Dn anotherDn = new Dn( \"ou=x,ou=users\" );\n \n-        dn = dn.addAll( anotherDn );\n+        dn = dn.add( anotherDn );\n         assertTrue( dn.isSchemaAware() );\n \n         dn.applySchemaManager( schemaManager );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7f0a024a88d4c26040c40944cd3e86056e4b29fc/integ/src/test/java/org/apache/directory/shared/ldap/model/name/DnTest.java",
                "sha": "7c3e91431cf2d723c444771e41595681b56e04e3",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/7f0a024a88d4c26040c40944cd3e86056e4b29fc/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Dn.java",
                "changes": 28,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Dn.java?ref=7f0a024a88d4c26040c40944cd3e86056e4b29fc",
                "deletions": 20,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Dn.java",
                "patch": "@@ -701,14 +701,12 @@ public Rdn getRdn( int posn )\n      */\n     public Rdn getRdn()\n     {\n-        if ( rdns.size() == 0 )\n-        {\n-            return null;\n-        }\n-        else\n+        if ( isNullOrEmpty( this ) )\n         {\n-            return rdns.get( 0 ).clone();\n+            return Rdn.EMPTY_RDN;\n         }\n+        \n+        return rdns.get( 0 ).clone();\n     }\n \n \n@@ -891,7 +889,7 @@ public Dn getAncestorOf( Dn descendant ) throws LdapInvalidDnException\n     /**\n      * {@inheritDoc}\n      */\n-    public Dn addAll( Dn suffix ) throws LdapInvalidDnException\n+    public Dn add( Dn suffix ) throws LdapInvalidDnException\n     {\n         if ( ( suffix == null ) || ( suffix.size() == 0 ) )\n         {\n@@ -979,14 +977,9 @@ public Dn add( Rdn newRdn )  throws LdapInvalidDnException\n      */\n     public Dn getParent()\n     {\n-        if ( isEmpty() )\n+        if ( isNullOrEmpty( this ) )\n         {\n-            return null;\n-        }\n-\n-        if ( rdns.size() == 0 )\n-        {\n-            return EMPTY_DN;\n+            return this;\n         }\n         \n         int posn = rdns.size() - 1;\n@@ -1299,12 +1292,7 @@ public boolean isSchemaAware()\n      */\n     public static boolean isNullOrEmpty( Dn dn )\n     {\n-        if ( dn != null )\n-        {\n-            return dn.isEmpty();\n-        }\n-\n-        return true;\n+        return ( dn == null ) || dn.isEmpty();\n     }\n     \n     ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/7f0a024a88d4c26040c40944cd3e86056e4b29fc/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Dn.java",
                "sha": "a5676c3fb64c3d8a409174974f8d0bce68cfb048",
                "status": "modified"
            }
        ],
        "message": "o Renamed the addAll( Dn ) method to add( Dn )\no Fixed some potential NPE\no Minor other refactorings\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1085318 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/4aa638b7bd2e7b25751caf7a368b5214ac7e75a1",
        "patched_files": [
            "Dn.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "DnTest.java"
        ]
    },
    "directory-ldap-api_8038459": {
        "bug_id": "directory-ldap-api_8038459",
        "commit": "https://github.com/apache/directory-ldap-api/commit/803845945f641008680715745c7c5d5744e9bac6",
        "file": [
            {
                "additions": 95,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/803845945f641008680715745c7c5d5744e9bac6/integ/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "changes": 97,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/integ/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java?ref=803845945f641008680715745c7c5d5744e9bac6",
                "deletions": 2,
                "filename": "integ/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "patch": "@@ -24,7 +24,10 @@\n import static org.junit.Assert.assertTrue;\n import static org.junit.Assert.fail;\n \n+import java.util.Arrays;\n+\n import org.apache.directory.shared.ldap.model.exception.LdapException;\n+import org.apache.directory.shared.ldap.model.exception.LdapInvalidDnException;\n import org.apache.directory.shared.ldap.model.schema.SchemaManager;\n import org.apache.directory.shared.ldap.schemamanager.impl.DefaultSchemaManager;\n import org.junit.BeforeClass;\n@@ -179,7 +182,7 @@ public void testAvaSimpleNorm() throws LdapException\n      * Compares two equals atavs\n      */\n     @Test\n-    public void testCompareToEquals() throws LdapException\n+    public void testEqualsSameAva() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"cn\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"cn\", \"b\" );\n@@ -192,13 +195,26 @@ public void testCompareToEquals() throws LdapException\n      * Compares two equals atavs but with a type in different case\n      */\n     @Test\n-    public void testCompareToEqualsCase() throws LdapException\n+    public void testEqualsUpperCaseAT() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"cn\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"CN\", \"b\" );\n \n         assertTrue( atav1.equals( atav2 ) );\n     }\n+\n+\n+    /**\n+     * Compares two equals atavs but with a type in different case\n+     */\n+    @Test\n+    public void testEqualsSameValues() throws LdapException\n+    {\n+        Ava atav1 = new Ava( schemaManager, \"cn\", \"  B  a\" );\n+        Ava atav2 = new Ava( schemaManager, \"CN\", \"b a\" );\n+\n+        assertTrue( atav1.equals( atav2 ) );\n+    }\n     \n     \n     /**\n@@ -309,4 +325,81 @@ public void testAvaValuesSchemaAware() throws LdapException\n         \n         assertEquals( null, errors );\n     }\n+    \n+    \n+    @Test\n+    public void testCompareToSameAva() throws LdapInvalidDnException\n+    {\n+        Ava atav1 = new Ava( schemaManager, \"cn\", \"b\" );\n+        Ava atav2 = new Ava( schemaManager, \"cn\", \"b\" );\n+        Ava atav3 = new Ava( schemaManager, \"commonName\", \"b\" );\n+        Ava atav4 = new Ava( schemaManager, \"2.5.4.3\", \"  B  \" );\n+\n+        // 1 with others\n+        assertEquals( 0, atav1.compareTo( atav1 ) );\n+        assertEquals( 0, atav1.compareTo( atav2 ) );\n+        assertEquals( 0, atav1.compareTo( atav3 ) );\n+        assertEquals( 0, atav1.compareTo( atav4 ) );\n+        \n+        // 2 with others\n+        assertEquals( 0, atav2.compareTo( atav1 ) );\n+        assertEquals( 0, atav2.compareTo( atav2 ) );\n+        assertEquals( 0, atav2.compareTo( atav3 ) );\n+        assertEquals( 0, atav2.compareTo( atav4 ) );\n+        \n+        // 3 with others\n+        assertEquals( 0, atav3.compareTo( atav1 ) );\n+        assertEquals( 0, atav3.compareTo( atav2 ) );\n+        assertEquals( 0, atav3.compareTo( atav3 ) );\n+        assertEquals( 0, atav3.compareTo( atav4 ) );\n+        \n+        // 4 with others\n+        assertEquals( 0, atav4.compareTo( atav1 ) );\n+        assertEquals( 0, atav4.compareTo( atav2 ) );\n+        assertEquals( 0, atav4.compareTo( atav3 ) );\n+        assertEquals( 0, atav4.compareTo( atav4 ) );\n+    }\n+    \n+    \n+    @Test\n+    public void testCompareAvaOrder() throws LdapInvalidDnException\n+    {\n+        Ava atav1 = new Ava( schemaManager, \"cn\", \"  B  \" );\n+        Ava atav2 = new Ava( schemaManager, \"sn\", \"  c\" );\n+        \n+        // atav1 should be before atav2\n+        assertEquals( -1, atav1.compareTo( atav2 ) );\n+        assertEquals( 1, atav2.compareTo( atav1 ) );\n+\n+        Ava atav3 = new Ava( schemaManager, \"2.5.4.3\", \"A \" );\n+        \n+        // Atav1 shoud be after atav3\n+        assertEquals( 1, atav1.compareTo( atav3 ) );\n+        assertEquals( -1, atav3.compareTo( atav1 ) );\n+    }\n+    \n+    \n+    @Test\n+    public void testSortAva() throws LdapInvalidDnException\n+    {\n+        Ava atav1 = new Ava( schemaManager, \"cn\", \"  B  \" );\n+        Ava atav2 = new Ava( schemaManager, \"sn\", \"  c\" );\n+        Ava atav3 = new Ava( schemaManager, \"2.5.4.3\", \"A \" );\n+        Ava atav4 = new Ava( schemaManager, \"2.5.4.11\", \" C  \" );\n+        Ava atav5 = new Ava( schemaManager, \"ou\", \"B \" );\n+        Ava atav6 = new Ava( schemaManager, \"ou\", \"D \" );\n+        Ava atav7 = new Ava( schemaManager, \"CN\", \" \" );\n+\n+        Ava[] avas = new Ava[] { atav1, atav2, atav3, atav4, atav5, atav6, atav7 };\n+        \n+        Arrays.sort( avas );\n+        \n+        assertEquals( atav5, avas[0] );\n+        assertEquals( atav4, avas[1] );\n+        assertEquals( atav6, avas[2] );\n+        assertEquals( atav7, avas[3] );\n+        assertEquals( atav3, avas[4] );\n+        assertEquals( atav1, avas[5] );\n+        assertEquals( atav2, avas[6] );\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/803845945f641008680715745c7c5d5744e9bac6/integ/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "sha": "f147c62e6ffd352f7a6ba7e5d0f4505abf5c20d9",
                "status": "modified"
            },
            {
                "additions": 165,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/803845945f641008680715745c7c5d5744e9bac6/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Ava.java",
                "changes": 168,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Ava.java?ref=803845945f641008680715745c7c5d5744e9bac6",
                "deletions": 3,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Ava.java",
                "patch": "@@ -24,6 +24,7 @@\n import java.io.IOException;\n import java.io.ObjectInput;\n import java.io.ObjectOutput;\n+import java.util.Arrays;\n \n import org.apache.directory.shared.i18n.I18n;\n import org.apache.directory.shared.ldap.model.entry.BinaryValue;\n@@ -34,6 +35,7 @@\n import org.apache.directory.shared.ldap.model.exception.LdapInvalidDnException;\n import org.apache.directory.shared.ldap.model.message.ResultCodeEnum;\n import org.apache.directory.shared.ldap.model.schema.AttributeType;\n+import org.apache.directory.shared.ldap.model.schema.LdapComparator;\n import org.apache.directory.shared.ldap.model.schema.MatchingRule;\n import org.apache.directory.shared.ldap.model.schema.SchemaManager;\n import org.apache.directory.shared.util.Strings;\n@@ -54,7 +56,7 @@\n  *\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class Ava implements Externalizable, Cloneable\n+public class Ava implements Externalizable, Cloneable, Comparable<Ava>\n {\n     /**\n      * Declares the Serial Version Uid.\n@@ -153,6 +155,8 @@ public Ava( SchemaManager schemaManager, String upType, byte[] upValue ) throws\n     {\n         if ( schemaManager != null )\n         {\n+            this.schemaManager = schemaManager;\n+            \n             try\n             {\n                 attributeType = schemaManager.lookupAttributeTypeRegistry( upType );\n@@ -215,6 +219,8 @@ public Ava( SchemaManager schemaManager, String upType, String upValue ) throws\n     {\n         if ( schemaManager != null )\n         {\n+            this.schemaManager = schemaManager;\n+\n             try\n             {\n                 attributeType = schemaManager.lookupAttributeTypeRegistry( upType );\n@@ -904,8 +910,18 @@ public boolean equals( Object obj )\n                     return equalityMatchingRule.getLdapComparator().compare( normValue.getValue(),\n                         instance.normValue.getValue() ) == 0;\n                 }\n-\n-                return false;\n+                else\n+                {\n+                    // No Equality MR, use a direct comparison\n+                    if ( normValue instanceof BinaryValue )\n+                    {\n+                        return Arrays.equals( normValue.getBytes(), instance.normValue.getBytes() );\n+                    }\n+                    else\n+                    {\n+                        return normValue.getString().equals( instance.normValue.getString() );\n+                    }\n+                }\n             }\n             else\n             {\n@@ -1134,6 +1150,152 @@ public AttributeType getAttributeType()\n     {\n         return attributeType;\n     }\n+    \n+    \n+    private int compareValues( Ava that )\n+    {\n+        int comp = 0;\n+        \n+        if ( normValue.getNormValue() instanceof String )\n+        {\n+            comp = ((String)normValue.getNormValue()).compareTo( ((String)that.normValue.getNormValue()) );\n+            \n+            return comp;\n+        }\n+        else\n+        {\n+            byte[] bytes1 = (byte[])normValue.getNormValue();\n+            byte[] bytes2 = (byte[])that.normValue.getNormValue();\n+            \n+            for ( int pos = 0; pos < bytes1.length; pos++ )\n+            {\n+                int v1 = ( bytes1[pos] & 0x00FF );\n+                int v2 = ( bytes2[pos] & 0x00FF );\n+                \n+                if ( v1 > v2 )\n+                {\n+                    return 1;\n+                }\n+                else if ( v2 > v1 )\n+                {\n+                    return -1;\n+                }\n+            }\n+            \n+            return 0;\n+        }\n+        \n+    }\n+\n+\n+    /**\n+     * @see Comparable#compareTo(Object)\n+     */\n+    public int compareTo( Ava that )\n+    {\n+        if ( that == null )\n+        {\n+            return 1;\n+        }\n+        \n+        int comp = 0;\n+        \n+        if ( schemaManager == null )\n+        {\n+            // Compare the ATs\n+            comp = normType.compareTo( that.normType );\n+            \n+            if ( comp != 0 )\n+            {\n+                return comp;\n+            }\n+            \n+            // and compare the values\n+            if ( normValue == null )\n+            {\n+                if ( that.normValue == null )\n+                {\n+                    return 0;\n+                }\n+                else\n+                {\n+                    return -1;\n+                }\n+            }\n+            else\n+            {\n+                if ( that.normValue == null )\n+                {\n+                    return 1;\n+                }\n+                else\n+                {\n+                    if ( normValue instanceof StringValue )\n+                    {\n+                        comp = ((StringValue)normValue).compareTo( (StringValue)that.normValue );\n+                        \n+                        return comp;\n+                    }\n+                    else\n+                    {\n+                        comp = ((BinaryValue)normValue).compareTo( (BinaryValue)that.normValue );\n+                        \n+                        return comp;\n+                    }\n+                }\n+            }\n+        }\n+        else\n+        {\n+            if ( that.schemaManager == null )\n+            {\n+                // Problem : we will apply the current Ava SchemaManager to the given Ava\n+                try\n+                {\n+                    that.apply( schemaManager );\n+                }\n+                catch ( LdapInvalidDnException lide )\n+                {\n+                    return 1;\n+                }\n+            }\n+            \n+            // First compare the AT OID\n+            comp = attributeType.getOid().compareTo( that.attributeType.getOid() );\n+            \n+            if ( comp != 0 )\n+            {\n+                return comp;\n+            }\n+            \n+            // Now, compare the two values using the ordering matchingRule comparator, if any\n+            MatchingRule orderingMR = attributeType.getOrdering();\n+            \n+            if ( orderingMR != null )\n+            {\n+                LdapComparator<Object> comparator = (LdapComparator<Object>)orderingMR.getLdapComparator();\n+                \n+                if ( comparator != null )\n+                {\n+                    comp = comparator.compare( normValue.getNormValue(), that.normValue.getNormValue() );\n+                    \n+                    return comp;\n+                }\n+                else\n+                {\n+                    comp = compareValues( that );\n+                    \n+                    return comp;\n+                }\n+            }\n+            else\n+            {\n+                comp = compareValues( that );\n+                \n+                return comp;\n+            }\n+        }\n+    }\n \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/803845945f641008680715745c7c5d5744e9bac6/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/name/Ava.java",
                "sha": "634c766f3443729babf0c954b3deb73c3d1022ad",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/803845945f641008680715745c7c5d5744e9bac6/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java?ref=803845945f641008680715745c7c5d5744e9bac6",
                "deletions": 6,
                "filename": "ldap/model/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "patch": "@@ -159,7 +159,7 @@ public void testLdapRDNSimple() throws LdapException\n      * Compares two equals atavs\n      */\n     @Test\n-    public void testCompareToEquals() throws LdapException\n+    public void testEqualsAttributeEquals() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"a\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"a\", \"b\" );\n@@ -172,7 +172,7 @@ public void testCompareToEquals() throws LdapException\n      * Compares two equals atavs but with a type in different case\n      */\n     @Test\n-    public void testCompareToEqualsCase() throws LdapException\n+    public void testEqualsAttributeIdSameCase() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"a\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"A\", \"b\" );\n@@ -186,7 +186,7 @@ public void testCompareToEqualsCase() throws LdapException\n      * superior\n      */\n     @Test\n-    public void testCompareAtav1TypeSuperior() throws LdapException\n+    public void testEqualsAtav1TypeSuperior() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"b\", \"b\" );\n \n@@ -201,7 +201,7 @@ public void testCompareAtav1TypeSuperior() throws LdapException\n      * superior\n      */\n     @Test\n-    public void testCompareAtav2TypeSuperior() throws LdapException\n+    public void testEqualsAtav2TypeSuperior() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"a\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"b\", \"b\" );\n@@ -215,7 +215,7 @@ public void testCompareAtav2TypeSuperior() throws LdapException\n      * superior\n      */\n     @Test\n-    public void testCompareAtav1ValueSuperior() throws LdapException\n+    public void testEqualsAtav1ValueSuperior() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"a\", \"b\" );\n         Ava atav2 = new Ava( schemaManager, \"a\", \"a\" );\n@@ -229,7 +229,7 @@ public void testCompareAtav1ValueSuperior() throws LdapException\n      * superior\n      */\n     @Test\n-    public void testCompareAtav2ValueSuperior() throws LdapException\n+    public void testEqualsAtav2ValueSuperior() throws LdapException\n     {\n         Ava atav1 = new Ava( schemaManager, \"a\", \"a\" );\n         Ava atav2 = new Ava( schemaManager, \"a\", \"b\" );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/803845945f641008680715745c7c5d5744e9bac6/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/name/AvaTest.java",
                "sha": "07c51e573553397139be72c4b5a96f2c8a44eb64",
                "status": "modified"
            }
        ],
        "message": "o The Ava class now implements the Comparable interface\no Added tests for the compareTo method\no Fixed some potential NPE with Schema aware operations\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1294174 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/8f9228e46aaebe8716f5b51645225021654f2c0d",
        "patched_files": [
            "Ava.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "AvaTest.java"
        ]
    },
    "directory-ldap-api_8a23f17": {
        "bug_id": "directory-ldap-api_8a23f17",
        "commit": "https://github.com/apache/directory-ldap-api/commit/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
        "file": [
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap-client-api/src/main/java/org/apache/directory/shared/ldap/client/api/LdapConnection.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap-client-api/src/main/java/org/apache/directory/shared/ldap/client/api/LdapConnection.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap-client-api/src/main/java/org/apache/directory/shared/ldap/client/api/LdapConnection.java",
                "patch": "@@ -79,7 +79,6 @@\n import org.apache.directory.shared.ldap.client.api.messages.SearchResultDone;\n import org.apache.directory.shared.ldap.client.api.messages.SearchResultEntry;\n import org.apache.directory.shared.ldap.client.api.messages.SearchResultReference;\n-import org.apache.directory.shared.ldap.client.api.messages.future.BindFuture;\n import org.apache.directory.shared.ldap.client.api.messages.future.ResponseFuture;\n import org.apache.directory.shared.ldap.client.api.protocol.LdapProtocolCodecFactory;\n import org.apache.directory.shared.ldap.codec.ControlCodec;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap-client-api/src/main/java/org/apache/directory/shared/ldap/client/api/LdapConnection.java",
                "sha": "25cb1c25c58c39bcff6ae57121452b425ce9e8dc",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/controls/replication/syncStateValue/SyncStateValueControlGrammar.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/controls/replication/syncStateValue/SyncStateValueControlGrammar.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/controls/replication/syncStateValue/SyncStateValueControlGrammar.java",
                "patch": "@@ -29,12 +29,9 @@\n import org.apache.directory.shared.asn1.ber.tlv.UniversalTag;\n import org.apache.directory.shared.asn1.ber.tlv.Value;\n import org.apache.directory.shared.asn1.codec.DecoderException;\n-import org.apache.directory.shared.asn1.util.BooleanDecoder;\n-import org.apache.directory.shared.asn1.util.BooleanDecoderException;\n import org.apache.directory.shared.asn1.util.IntegerDecoder;\n import org.apache.directory.shared.asn1.util.IntegerDecoderException;\n import org.apache.directory.shared.ldap.message.control.replication.SyncStateTypeEnum;\n-import org.apache.directory.shared.ldap.message.control.replication.SynchronizationModeEnum;\n import org.apache.directory.shared.ldap.util.StringTools;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/controls/replication/syncStateValue/SyncStateValueControlGrammar.java",
                "sha": "2cb7e2a210a602d2e49386f08141675011d8a5c4",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequestCodec.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequestCodec.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequestCodec.java",
                "patch": "@@ -36,10 +36,8 @@\n import org.apache.directory.shared.ldap.entry.Modification;\n import org.apache.directory.shared.ldap.entry.ModificationOperation;\n import org.apache.directory.shared.ldap.entry.client.ClientModification;\n-import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n import org.apache.directory.shared.ldap.entry.client.DefaultClientAttribute;\n import org.apache.directory.shared.ldap.name.LdapDN;\n-import org.apache.directory.shared.ldap.util.StringTools;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequestCodec.java",
                "sha": "8c1fc3c9de5837ba0d7b4a1fa7d4a7e5bad40b05",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntryCodec.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntryCodec.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntryCodec.java",
                "patch": "@@ -36,7 +36,6 @@\n import org.apache.directory.shared.ldap.codec.LdapMessageCodec;\n import org.apache.directory.shared.ldap.entry.Entry;\n import org.apache.directory.shared.ldap.entry.EntryAttribute;\n-import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n import org.apache.directory.shared.ldap.entry.client.DefaultClientAttribute;\n import org.apache.directory.shared.ldap.entry.client.DefaultClientEntry;\n import org.apache.directory.shared.ldap.name.LdapDN;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntryCodec.java",
                "sha": "d0204c77b89c56032ced033504aef1d7da8a3cdb",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "patch": "@@ -26,7 +26,6 @@\n import org.apache.directory.shared.ldap.entry.Value;\n import org.apache.directory.shared.ldap.entry.client.ClientBinaryValue;\n import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n-import org.apache.directory.shared.ldap.util.StringTools;\n \n \n /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "sha": "ce4b52770aabf3c1f9e035a651bb01a8fb5d279e",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "patch": "@@ -20,12 +20,7 @@\n package org.apache.directory.shared.ldap.filter;\n \n \n-import java.util.Arrays;\n-\n import org.apache.directory.shared.ldap.entry.Value;\n-import org.apache.directory.shared.ldap.entry.client.ClientBinaryValue;\n-import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n-import org.apache.directory.shared.ldap.util.StringTools;\n \n \n /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "sha": "fced5e2bf7d5c4801e315606e4f9fe9fd3499494",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "patch": "@@ -22,8 +22,6 @@\n \n import org.apache.directory.shared.ldap.constants.SchemaConstants;\n import org.apache.directory.shared.ldap.entry.Value;\n-import org.apache.directory.shared.ldap.entry.client.ClientBinaryValue;\n-import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n \n \n /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "sha": "d7096bea0901ff3f3bac38a15f03e852edccad09",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "patch": "@@ -26,7 +26,6 @@\n \n import javax.naming.NamingException;\n \n-import org.apache.directory.shared.ldap.entry.Value;\n import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n import org.apache.directory.shared.ldap.schema.Normalizer;\n import org.apache.directory.shared.ldap.util.StringTools;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "sha": "fff1cc6b25c27dd6115404c4f4db3af7c5c9ac27",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifEntry.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifEntry.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifEntry.java",
                "patch": "@@ -45,7 +45,6 @@\n import org.apache.directory.shared.ldap.entry.client.DefaultClientEntry;\n import org.apache.directory.shared.ldap.name.LdapDN;\n import org.apache.directory.shared.ldap.name.Rdn;\n-import org.apache.directory.shared.ldap.util.DNUtils;\n import org.apache.directory.shared.ldap.util.StringTools;\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/ldif/LdifEntry.java",
                "sha": "a7ec563777289d74381fd37763553e261bc4fefe",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 8,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "patch": "@@ -149,8 +149,6 @@\n      * \n      * Note : there is no Generic available classes in commons-collection...\n      */\n-    @SuppressWarnings(\n-        { \"unchecked\" })\n     private MultiMap atavTypes = new MultiValueMap();\n \n     /**\n@@ -297,8 +295,6 @@ public Rdn( String upType, String upValue ) throws InvalidNameException\n      * @param rdn\n      *            The non-null Rdn to be copied.\n      */\n-    @SuppressWarnings(\n-        { \"unchecked\" })\n     public Rdn( Rdn rdn )\n     {\n         nbAtavs = rdn.getNbAtavs();\n@@ -425,8 +421,6 @@ public Rdn normalize( Map<String, OidNormalizer> oidsMap ) throws InvalidNameExc\n     // WARNING : The protection level is left unspecified intentionally.\n     // We need this method to be visible from the DnParser class, but not\n     // from outside this package.\n-    @SuppressWarnings(\n-        { \"unchecked\" })\n     /* Unspecified protection */void addAttributeTypeAndValue( String upType, String type, Value<?> upValue,\n         Value<?> value ) throws InvalidNameException\n     {\n@@ -480,8 +474,6 @@ public Rdn normalize( Map<String, OidNormalizer> oidsMap ) throws InvalidNameExc\n     // WARNING : The protection level is left unspecified intentionnaly.\n     // We need this method to be visible from the DnParser class, but not\n     // from outside this package.\n-    @SuppressWarnings(\n-        { \"unchecked\" })\n     /* Unspecified protection */void addAttributeTypeAndValue( AVA value )\n     {\n         String normalizedType = value.getNormType();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "sha": "79fb985e14468d3d2969483517806167e86e4234",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "patch": "@@ -19,10 +19,10 @@\n package org.apache.directory.shared.ldap.util;\n \n \n-import javax.naming.directory.Attribute;\n-import javax.naming.directory.DirContext;\n import javax.naming.NamingEnumeration;\n import javax.naming.NamingException;\n+import javax.naming.directory.Attribute;\n+import javax.naming.directory.DirContext;\n \n \n /**\n@@ -102,7 +102,6 @@ public DirContext getAttributeDefinition() throws NamingException\n     }\n \n \n-    @SuppressWarnings ( { \"CloneDoesntCallSuperClone\" } )\n     public Object clone()\n     {\n         throw new IllegalStateException( \"Now why would you ever want to clone an immutable object?\" );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributeWrapper.java",
                "sha": "99167dc66c8e8f8ba7df85cc7312d2930186d45f",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "patch": "@@ -90,7 +90,6 @@ public Attribute remove( String attrID )\n     }\n \n \n-    @SuppressWarnings ( { \"CloneDoesntCallSuperClone\" } )\n     public Object clone()\n     {\n         throw new IllegalStateException( \"Now why would you want to clone() an immutable object in the first place.\" );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/main/java/org/apache/directory/shared/ldap/util/ImmutableAttributesWrapper.java",
                "sha": "7f93613f47eed3ee9170e94703bea9d191764525",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterCloneTest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterCloneTest.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 2,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterCloneTest.java",
                "patch": "@@ -27,8 +27,6 @@\n \n import java.text.ParseException;\n \n-import org.apache.directory.shared.ldap.entry.client.ClientBinaryValue;\n-import org.apache.directory.shared.ldap.util.StringTools;\n import org.junit.Test;\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterCloneTest.java",
                "sha": "7888783f06b37459aa3f39b2beafc253464961a7",
                "status": "modified"
            },
            {
                "additions": 13,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterParserTest.java",
                "changes": 47,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterParserTest.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 34,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterParserTest.java",
                "patch": "@@ -20,23 +20,17 @@\n package org.apache.directory.shared.ldap.filter;\n \n \n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNull;\n+import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.fail;\n+\n import java.io.UnsupportedEncodingException;\n import java.text.ParseException;\n \n-import org.apache.directory.shared.ldap.entry.client.ClientBinaryValue;\n import org.apache.directory.shared.ldap.entry.client.ClientStringValue;\n-import org.apache.directory.shared.ldap.filter.BranchNode;\n-import org.apache.directory.shared.ldap.filter.ExtensibleNode;\n-import org.apache.directory.shared.ldap.filter.PresenceNode;\n-import org.apache.directory.shared.ldap.filter.SimpleNode;\n-import org.apache.directory.shared.ldap.filter.SubstringNode;\n-import org.apache.directory.shared.ldap.util.StringTools;\n import org.junit.Test;\n-import static org.junit.Assert.assertTrue;\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.fail;\n-import static org.junit.Assert.assertNull;\n \n \n /**\n@@ -723,7 +717,6 @@ public void testSubstringStarAnyStar() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testTwoByteUTF8Raw() throws ParseException\n     {\n@@ -732,7 +725,7 @@ public void testTwoByteUTF8Raw() throws ParseException\n \n         try\n         {\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n             String str = \"(cn=\\\\C2\\\\A2)\";\n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n \n@@ -749,7 +742,6 @@ public void testTwoByteUTF8Raw() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testTwoByteUTF8Escaped() throws ParseException\n     {\n@@ -759,7 +751,7 @@ public void testTwoByteUTF8Escaped() throws ParseException\n         try\n         {\n             String str = \"(cn=\\\\C2\\\\A2)\";\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n \n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n \n@@ -776,7 +768,6 @@ public void testTwoByteUTF8Escaped() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testThreeByteUTF8Raw() throws ParseException\n     {\n@@ -785,7 +776,7 @@ public void testThreeByteUTF8Raw() throws ParseException\n \n         try\n         {\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n             String str = \"(cn=\\\\E2\\\\89\\\\A0)\";\n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n \n@@ -802,7 +793,6 @@ public void testThreeByteUTF8Raw() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testThreeByteUTF8Escaped() throws ParseException\n     {\n@@ -812,7 +802,7 @@ public void testThreeByteUTF8Escaped() throws ParseException\n         try\n         {\n             String str = \"(cn=\\\\E2\\\\89\\\\A0aa)\";\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n \n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n \n@@ -829,7 +819,6 @@ public void testThreeByteUTF8Escaped() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testThreeByteJapaneseUTF8Raw() throws ParseException\n     {\n@@ -838,7 +827,7 @@ public void testThreeByteJapaneseUTF8Raw() throws ParseException\n \n         try\n         {\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n             String str = \"(cn=\\\\E3\\\\81\\\\99)\";\n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n \n@@ -855,7 +844,6 @@ public void testThreeByteJapaneseUTF8Raw() throws ParseException\n     }\n \n \n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testThreeByteJapaneseUTF8Escaped() throws ParseException\n     {\n@@ -865,7 +853,7 @@ public void testThreeByteJapaneseUTF8Escaped() throws ParseException\n         try\n         {\n             String str = \"(cn=\\\\E3\\\\81\\\\99)\";\n-            String s = new String( bytes, \"UTF-8\" );\n+            new String( bytes, \"UTF-8\" );\n \n             SimpleNode<?> node = ( SimpleNode<?> ) FilterParser.parse( str );\n             assertEquals( \"cn\", node.getAttribute() );\n@@ -1055,19 +1043,10 @@ public void testPerf() throws ParseException\n     */\n \n \n-\n-\n-    @SuppressWarnings(\"unchecked\")\n     @Test\n     public void testBinaryValueEscaped() throws ParseException\n     {\n-        byte[] bytes =\n-            {   0x29, 0x4C, 0x04, (byte)0xB5, \n-                (byte)0xD4, (byte)0xED, 0x38, 0x46, \n-                (byte)0x87, (byte)0xEE, 0x77, 0x58, \n-                0x5C, 0x32, (byte)0xAD, (byte)0x91 }; \n-\n         String str = \"(objectguid=\\\\29\\\\4C\\\\04\\\\B5\\\\D4\\\\ED\\\\38\\\\46\\\\87\\\\EE\\\\77\\\\58\\\\5C\\\\32\\\\AD\\\\91)\";\n-        SimpleNode<String> node = ( SimpleNode<String> ) FilterParser.parse( str );\n+        FilterParser.parse( str );\n     }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/filter/FilterParserTest.java",
                "sha": "d881972dda9e74f60ccd09ec6aef92a36a4c33ba",
                "status": "modified"
            },
            {
                "additions": 13,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "changes": 38,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 25,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "patch": "@@ -19,29 +19,29 @@\n  */\n package org.apache.directory.shared.ldap.ldif;\n \n-import org.apache.directory.shared.ldap.entry.Entry;\n-import org.apache.directory.shared.ldap.entry.EntryAttribute;\n-import org.apache.directory.shared.ldap.entry.client.DefaultClientAttribute;\n-import org.apache.directory.shared.ldap.entry.client.DefaultClientEntry;\n-import org.apache.directory.shared.ldap.name.LdapDN;\n-import org.apache.directory.shared.ldap.name.Rdn;\n-import org.apache.directory.shared.ldap.util.StringTools;\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.assertTrue;\n import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.assertNull;\n+import static org.junit.Assert.assertFalse;\n import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertNull;\n+import static org.junit.Assert.assertTrue;\n import static org.junit.Assert.fail;\n \n-import org.junit.Test;\n+import java.util.List;\n \n import javax.naming.NamingException;\n import javax.naming.directory.Attribute;\n import javax.naming.directory.Attributes;\n import javax.naming.directory.BasicAttribute;\n import javax.naming.directory.BasicAttributes;\n \n-import java.util.List;\n+import org.apache.directory.shared.ldap.entry.Entry;\n+import org.apache.directory.shared.ldap.entry.EntryAttribute;\n+import org.apache.directory.shared.ldap.entry.client.DefaultClientAttribute;\n+import org.apache.directory.shared.ldap.entry.client.DefaultClientEntry;\n+import org.apache.directory.shared.ldap.name.LdapDN;\n+import org.apache.directory.shared.ldap.name.Rdn;\n+import org.apache.directory.shared.ldap.util.StringTools;\n+import org.junit.Test;\n \n \n /**\n@@ -336,18 +336,6 @@ public void testConvertToLdifAttrWithNullValues() throws NamingException\n     @Test\n     public void testConvertToLdif() throws NamingException\n     {\n-        String expected = \n-            \"dn:: Y249U2Fhcm\\n\" +\n-            \" Jyw7xja2VuLCBk\\n\" +\n-            \" Yz1leGFtcGxlLC\\n\" +\n-            \" BkYz1jb20=\\n\" +\n-            \"changeType: Add\\n\" +\n-            \"sn: test\\n\" +\n-            \"cn:: U2FhcmJyw7\\n xja2Vu\\n\" +\n-            \"objectClass: to\\n p\\n\" +\n-            \"objectClass: pe\\n rson\\n\" +\n-            \"objectClass: in\\n etorgPerson\\n\\n\";\n-        \n         LdifEntry entry = new LdifEntry();\n         entry.setDn( \"cn=Saarbr\\u00FCcken, dc=example, dc=com\" );\n         entry.setChangeType( ChangeType.Add );\n@@ -360,7 +348,7 @@ public void testConvertToLdif() throws NamingException\n         entry.addAttribute( \"cn\", \"Saarbr\\u00FCcken\" );\n         entry.addAttribute( \"sn\", \"test\" );\n \n-        String ldif = LdifUtils.convertToLdif( entry, 15 );\n+        LdifUtils.convertToLdif( entry, 15 );\n         //Attributes result = LdifUtils.convertFromLdif( ldif );\n         //assertEquals( entry, result );\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/ldif/LdifUtilsTest.java",
                "sha": "434e26007a244bf6000219c817c15f17b275708e",
                "status": "modified"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/name/LdapDNTest.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/name/LdapDNTest.java?ref=8a23f170ac05b369721015cd4fdfbc0bf2a45e4c",
                "deletions": 7,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/name/LdapDNTest.java",
                "patch": "@@ -3574,19 +3574,19 @@ public void testNormalizeAsciiComposite() throws Exception\n         // The second ATAV\n         for ( AVA ava : rdn )\n         {\n-            if ( \"example\".equals( atav.getNormValue().get() ) )\n+            if ( \"example\".equals( ava.getNormValue().get() ) )\n             {\n                 // Skip the first one\n                 continue;\n             }\n             \n-            assertEquals( \"2.5.4.11=test\", atav.getNormName() );\n-            assertEquals( \"2.5.4.11\", atav.getNormType() );\n-            assertEquals( \"test\", atav.getNormValue().get() );\n+            assertEquals( \"2.5.4.11=test\", ava.getNormName() );\n+            assertEquals( \"2.5.4.11\", ava.getNormType() );\n+            assertEquals( \"test\", ava.getNormValue().get() );\n             \n-            assertEquals( \"ou\", atav.getUpType() );\n-            assertEquals( \"TEST\", atav.getUpValue().get() );\n-            assertEquals( \"  ou =  TEST \", atav.getUpName() );\n+            assertEquals( \"ou\", ava.getUpType() );\n+            assertEquals( \"TEST\", ava.getUpValue().get() );\n+            assertEquals( \" ou = TEST \", ava.getUpName() );\n         }\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/8a23f170ac05b369721015cd4fdfbc0bf2a45e4c/ldap/src/test/java/org/apache/directory/shared/ldap/name/LdapDNTest.java",
                "sha": "6e896dafb38574d61ac81b81a782e1af6f6b9bc2",
                "status": "modified"
            }
        ],
        "message": "Many fixes :\no potential NPE\no unused imports removal\no useless @SuppressWarnings removal\no unused variable removal\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@896304 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/abc425b91abaefb306836b490b5c7030a6d642df",
        "patched_files": [
            "FilterParser.java",
            "ImmutableAttributesWrapper.java",
            "LdapConnection.java",
            "ExtensibleNode.java",
            "AbstractExprNode.java",
            "SyncStateValueControlGrammar.java",
            "LdifUtils.java",
            "LdapDN.java",
            "SimpleNode.java",
            "ImmutableAttributeWrapper.java",
            "SearchResultEntryCodec.java",
            "Rdn.java",
            "LdifEntry.java",
            "ModifyRequestCodec.java",
            "SubstringNode.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapDNTest.java",
            "FilterCloneTest.java",
            "FilterParserTest.java",
            "RdnTest.java",
            "LdifUtilsTest.java"
        ]
    },
    "directory-ldap-api_98d78cc": {
        "bug_id": "directory-ldap-api_98d78cc",
        "commit": "https://github.com/apache/directory-ldap-api/commit/98d78cc91432f051010b08841703dc61f45be66b",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/98d78cc91432f051010b08841703dc61f45be66b/ldap/src/main/java/org/apache/directory/shared/ldap/message/ExtendedResponseImpl.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/ExtendedResponseImpl.java?ref=98d78cc91432f051010b08841703dc61f45be66b",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/ExtendedResponseImpl.java",
                "patch": "@@ -237,7 +237,7 @@ public boolean equals( Object obj )\n      */\n     public String getResponseName()\n     {\n-        return responseName;\n+        return ( ( responseName == null ) ? \"\" : responseName.toString() );\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/98d78cc91432f051010b08841703dc61f45be66b/ldap/src/main/java/org/apache/directory/shared/ldap/message/ExtendedResponseImpl.java",
                "sha": "de617192f08a52ae0cc13fced9f0eb8463b27a33",
                "status": "modified"
            }
        ],
        "message": "Fixed a potential NPE when the responseName is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-codec-merge@986992 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/6fae394c6db1b3b5ff290eff9962128bd9bf2183",
        "patched_files": [
            "ExtendedResponseImpl.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ExtendedResponseImplTest.java"
        ]
    },
    "directory-ldap-api_a3a63d8": {
        "bug_id": "directory-ldap-api_a3a63d8",
        "commit": "https://github.com/apache/directory-ldap-api/commit/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AcceptAllSyntaxChecker.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AcceptAllSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AcceptAllSyntaxChecker.java",
                "patch": "@@ -31,8 +31,7 @@\n     /**\n      * Creates a SyntaxChecker which accepts all values.\n      * \n-     * @param oid\n-     *            the oid of the Syntax this checker is associated with\n+     * @param oid the oid of the Syntax this checker is associated with\n      */\n     public AcceptAllSyntaxChecker(String oid)\n     {\n@@ -45,7 +44,7 @@ public AcceptAllSyntaxChecker(String oid)\n      * \n      * @see SyntaxChecker#isValidSyntax(Object)\n      */\n-    public boolean isValidSyntax( Object a_value )\n+    public boolean isValidSyntax( Object value )\n     {\n         return true;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AcceptAllSyntaxChecker.java",
                "sha": "2e3af113dcc7edb0db11c4f243ad0bf33fe109b6",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeDescriptionSyntaxChecker.java",
                "patch": "@@ -86,6 +86,18 @@ public AttributeTypeDescriptionSyntaxChecker()\n     {\n         super( SC_OID );\n     }\n+    \n+    /**\n+     * \n+     * Creates a new instance of AttributeTypeDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected AttributeTypeDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeDescriptionSyntaxChecker.java",
                "sha": "320b96f4eb9d03bec334ac9b42017195f7807c09",
                "status": "modified"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeUsageSyntaxChecker.java",
                "changes": 19,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeUsageSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeUsageSyntaxChecker.java",
                "patch": "@@ -38,11 +38,28 @@\n {\n     /** The Apache OID for meta syntax checker */\n     private static final String SC_OID = \"1.3.6.1.4.1.18060.0.4.0.0.3\";\n-    \n+\n+    /**\n+     * \n+     * Creates a new instance of AttributeTypeUsageSyntaxChecker.\n+     *\n+     */\n     public AttributeTypeUsageSyntaxChecker()\n     {\n         super( SC_OID );\n     }\n+\n+    /**\n+     * \n+     * Creates a new instance of AttributeTypeUsageSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected AttributeTypeUsageSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n     \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/AttributeTypeUsageSyntaxChecker.java",
                "sha": "3348ccd25e637c21ecdcf2786e837817ffdf0bb0",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BinarySyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BinarySyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BinarySyntaxChecker.java",
                "patch": "@@ -40,6 +40,18 @@ public BinarySyntaxChecker()\n         super( SC_OID );\n     }\n \n+    /**\n+     * \n+     * Creates a new instance of BinarySyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected BinarySyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /**\n      * @see org.apache.directory.shared.ldap.schema.syntax.SyntaxChecker#isValidSyntax(Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BinarySyntaxChecker.java",
                "sha": "6187a16e4a4057c22bc4de1c36e187f6b19c110b",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BitStringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BitStringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BitStringSyntaxChecker.java",
                "patch": "@@ -51,6 +51,18 @@ public BitStringSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of BitStringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected BitStringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /**\n      * A shared and static method used to check that the string is a BitString.\n      * A BitString is a string of bits, between quots and followed by a 'B' :",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BitStringSyntaxChecker.java",
                "sha": "042ba5bec24749f0be5da2c8ff487cc419c242e7",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BooleanSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BooleanSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BooleanSyntaxChecker.java",
                "patch": "@@ -49,6 +49,18 @@ public BooleanSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of BooleanSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected BooleanSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/BooleanSyntaxChecker.java",
                "sha": "93ddd27f8a9ae727c0c403feb95df60ee17617bb",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/CountrySyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/CountrySyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/CountrySyntaxChecker.java",
                "patch": "@@ -96,6 +96,18 @@ public CountrySyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of CountrySyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected CountrySyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/CountrySyntaxChecker.java",
                "sha": "b28419663e647147a495b74a48d6d4b5ad0bc30d",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITContentRuleDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITContentRuleDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITContentRuleDescriptionSyntaxChecker.java",
                "patch": "@@ -67,6 +67,18 @@ public DITContentRuleDescriptionSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of DITContentRuleDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected DITContentRuleDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITContentRuleDescriptionSyntaxChecker.java",
                "sha": "9f89d760bd42cf768a99e16ea4b5b791b9257709",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITStructureRuleDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITStructureRuleDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITStructureRuleDescriptionSyntaxChecker.java",
                "patch": "@@ -68,6 +68,18 @@ public DITStructureRuleDescriptionSyntaxChecker()\n         super( SC_OID );\n     }\n \n+    /**\n+     * \n+     * Creates a new instance of DITStructureRuleDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected DITStructureRuleDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DITStructureRuleDescriptionSyntaxChecker.java",
                "sha": "a1a6799ddc46ef5a5b14360603cdb9970ea312a9",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DNSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DNSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DNSyntaxChecker.java",
                "patch": "@@ -46,6 +46,18 @@ public DNSyntaxChecker()\n         super( SC_OID );\n     }\n \n+    /**\n+     * \n+     * Creates a new instance of DNSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected DNSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DNSyntaxChecker.java",
                "sha": "7437b884c4f3c102c7225507cdd2d968f215c4ca",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DeliveryMethodSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DeliveryMethodSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DeliveryMethodSyntaxChecker.java",
                "patch": "@@ -79,6 +79,18 @@ public DeliveryMethodSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of DeliveryMethodSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected DeliveryMethodSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /**\n      * \n      * Check if the string contains a delivery method which has ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DeliveryMethodSyntaxChecker.java",
                "sha": "85b74e5da371538893f811228dfe23a09e2e531b",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DirectoryStringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DirectoryStringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DirectoryStringSyntaxChecker.java",
                "patch": "@@ -49,6 +49,18 @@ public DirectoryStringSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of DirectoryStringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected DirectoryStringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/DirectoryStringSyntaxChecker.java",
                "sha": "21411284a957a1a4bfbaa2ebabaf07e23c84067e",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/FacsimileTelephoneNumberSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/FacsimileTelephoneNumberSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/FacsimileTelephoneNumberSyntaxChecker.java",
                "patch": "@@ -86,6 +86,18 @@ public FacsimileTelephoneNumberSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of FacsimileTelephoneNumberSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected FacsimileTelephoneNumberSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/FacsimileTelephoneNumberSyntaxChecker.java",
                "sha": "5e7764f5fc9670a369c6a1f0c18de4e3b827c5df",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/GeneralizedTimeSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/GeneralizedTimeSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/GeneralizedTimeSyntaxChecker.java",
                "patch": "@@ -95,6 +95,18 @@ public GeneralizedTimeSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of GeneralizedTimeSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected GeneralizedTimeSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/GeneralizedTimeSyntaxChecker.java",
                "sha": "1f13c4ed82766245464c2fd94fad0c53c1834598",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/Ia5StringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/Ia5StringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/Ia5StringSyntaxChecker.java",
                "patch": "@@ -48,6 +48,18 @@ public Ia5StringSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of Ia5StringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected Ia5StringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/Ia5StringSyntaxChecker.java",
                "sha": "0962d262f36c210642eb60cad5c4d0fe449db84c",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/IntegerSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/IntegerSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/IntegerSyntaxChecker.java",
                "patch": "@@ -56,6 +56,18 @@ public IntegerSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of IntegerSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected IntegerSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/IntegerSyntaxChecker.java",
                "sha": "aeb78e08046f6b72b7a9b62ded1dc5bcb93786fa",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/JpegSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/JpegSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/JpegSyntaxChecker.java",
                "patch": "@@ -52,6 +52,18 @@ public JpegSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of JpegSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected JpegSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/JpegSyntaxChecker.java",
                "sha": "e84b65a4db0633d5b54f18f6b6a79e4b27ca1bed",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/LdapSyntaxDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/LdapSyntaxDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/LdapSyntaxDescriptionSyntaxChecker.java",
                "patch": "@@ -60,6 +60,18 @@ public LdapSyntaxDescriptionSyntaxChecker()\n         super( SC_OID );\n     }\n \n+    /**\n+     * \n+     * Creates a new instance of LdapSyntaxDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected LdapSyntaxDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/LdapSyntaxDescriptionSyntaxChecker.java",
                "sha": "a1108142c9dbbf1996feabfd010add7efb8b7fa9",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleDescriptionSyntaxChecker.java",
                "patch": "@@ -68,6 +68,18 @@ public MatchingRuleDescriptionSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of MatchingRuleDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected MatchingRuleDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleDescriptionSyntaxChecker.java",
                "sha": "3f4f4dea6e1c40341d9ba2156daf1df779503ae4",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleUseDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleUseDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleUseDescriptionSyntaxChecker.java",
                "patch": "@@ -65,6 +65,18 @@ public MatchingRuleUseDescriptionSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of MatchingRuleUseDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected MatchingRuleUseDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/MatchingRuleUseDescriptionSyntaxChecker.java",
                "sha": "ff1c99fb274f5f76d922d45a31d3b29d602e19af",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameAndOptionalUIDSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameAndOptionalUIDSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameAndOptionalUIDSyntaxChecker.java",
                "patch": "@@ -55,6 +55,18 @@ public NameAndOptionalUIDSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of NameAndOptionalUIDSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected NameAndOptionalUIDSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameAndOptionalUIDSyntaxChecker.java",
                "sha": "77892cc0da1ecd9c45227dcb0e565e19cd8d9c99",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameFormDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameFormDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameFormDescriptionSyntaxChecker.java",
                "patch": "@@ -66,6 +66,18 @@ public NameFormDescriptionSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of NameFormDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected NameFormDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NameFormDescriptionSyntaxChecker.java",
                "sha": "fd972c5beb4ce22aa5d68dd368d85a32d76a7458",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumberSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumberSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumberSyntaxChecker.java",
                "patch": "@@ -51,6 +51,18 @@ public NumberSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of NumberSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected NumberSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumberSyntaxChecker.java",
                "sha": "b00be917666fa4e6cc480b8c708230ad1fe22aa4",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericOidSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericOidSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericOidSyntaxChecker.java",
                "patch": "@@ -57,6 +57,18 @@ public NumericOidSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of NumericOidSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected NumericOidSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericOidSyntaxChecker.java",
                "sha": "aa655216424131f09928294dad755353b36339a9",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericStringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericStringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericStringSyntaxChecker.java",
                "patch": "@@ -55,6 +55,18 @@ public NumericStringSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of NumericStringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected NumericStringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/NumericStringSyntaxChecker.java",
                "sha": "f2a339e16abd7594fbab431136cacc8fd104224b",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassDescriptionSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassDescriptionSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassDescriptionSyntaxChecker.java",
                "patch": "@@ -72,6 +72,18 @@ public ObjectClassDescriptionSyntaxChecker()\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of ObjectClassDescriptionSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected ObjectClassDescriptionSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassDescriptionSyntaxChecker.java",
                "sha": "ffe087b821a8753c234fb98e4a16ab5c21cde8b4",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassTypeSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassTypeSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassTypeSyntaxChecker.java",
                "patch": "@@ -46,6 +46,18 @@ public ObjectClassTypeSyntaxChecker()\n     }\n \n     \n+    /**\n+     * \n+     * Creates a new instance of ObjectClassTypeSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected ObjectClassTypeSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/ObjectClassTypeSyntaxChecker.java",
                "sha": "3e2e56b8aa0c95784d8cf6fc1730d84a732cbd15",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OctetStringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OctetStringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OctetStringSyntaxChecker.java",
                "patch": "@@ -48,6 +48,18 @@ public OctetStringSyntaxChecker()\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of OctetStringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected OctetStringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OctetStringSyntaxChecker.java",
                "sha": "7b8b4e8dee7d83226d503875e143e4ad70a70100",
                "status": "modified"
            },
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidLenSyntaxChecker.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidLenSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidLenSyntaxChecker.java",
                "patch": "@@ -49,11 +49,28 @@\n     /** The Syntax OID */\n     private static final String SC_OID = \"1.3.6.1.4.1.18060.0.4.0.0.5\";\n     \n+    /**\n+     * \n+     * Creates a new instance of OidLenSyntaxChecker.\n+     *\n+     */\n     public OidLenSyntaxChecker()\n     {\n         super( SC_OID );\n     }\n     \n+    /**\n+     * \n+     * Creates a new instance of OidLenSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected OidLenSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidLenSyntaxChecker.java",
                "sha": "2981531344a4772cd226e560e4b1c3defd389fdb",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidSyntaxChecker.java",
                "patch": "@@ -62,6 +62,18 @@ public OidSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of OidSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected OidSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/OidSyntaxChecker.java",
                "sha": "7c23f545e4457d0210c9150f780e0f8ee400ede0",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/PrintableStringSyntaxChecker.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/PrintableStringSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/PrintableStringSyntaxChecker.java",
                "patch": "@@ -91,6 +91,18 @@ public PrintableStringSyntaxChecker()\n     }\n     \n     \n+    /**\n+     * \n+     * Creates a new instance of PrintableStringSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected PrintableStringSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+    }\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/PrintableStringSyntaxChecker.java",
                "sha": "188ccf80da5010496ad55b332e0b9f3acd154eb4",
                "status": "modified"
            },
            {
                "additions": 57,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/RegexSyntaxChecker.java",
                "changes": 61,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/RegexSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/RegexSyntaxChecker.java",
                "patch": "@@ -19,6 +19,9 @@\n  */\n package org.apache.directory.shared.ldap.schema.syntax;\n \n+import java.util.ArrayList;\n+import java.util.List;\n+\n \n /**\n  * A SyntaxChecker implemented using Perl5 regular expressions to constrain\n@@ -30,7 +33,7 @@\n public class RegexSyntaxChecker extends AbstractSyntaxChecker\n {\n     /** the set of regular expressions */\n-    private final String[] expressions;\n+    private List<String> expressions;\n \n \n     /**\n@@ -45,10 +48,36 @@\n     public RegexSyntaxChecker( String oid, String[] matchExprArray )\n     {\n         super( oid );\n-        expressions = matchExprArray;\n+        \n+        if ( ( matchExprArray != null ) && ( matchExprArray.length != 0 ) )\n+        {\n+            expressions = new ArrayList<String>( matchExprArray.length );\n+            \n+            for ( String regexp:matchExprArray )\n+            {\n+                expressions.add( regexp );\n+            }\n+        }\n+        else\n+        {\n+            expressions = new ArrayList<String>();\n+        }\n     }\n \n \n+    /**\n+     * \n+     * Creates a new instance of RegexSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n+     */\n+    protected RegexSyntaxChecker( String oid )\n+    {\n+        super( oid );\n+        expressions = new ArrayList<String>();\n+    }\n+    \n     /**\n      * @see org.apache.directory.shared.ldap.schema.syntax.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */\n@@ -61,9 +90,9 @@ public boolean isValidSyntax( Object value )\n         {\n             str = ( String ) value;\n \n-            for ( int i = 0; i < expressions.length; i++ )\n+            for ( String regexp:expressions )\n             {\n-                match = match && str.matches( expressions[i] );\n+                match = match && str.matches( regexp );\n \n                 if ( !match )\n                 {\n@@ -74,4 +103,28 @@ public boolean isValidSyntax( Object value )\n \n         return match;\n     }\n+\n+    /**\n+     * Get the list of regexp stored into this SyntaxChecker\n+     * \n+     * @return AN array containing all the stored regexp\n+     */\n+    public String[] getExpressions()\n+    {\n+        return (String[])expressions.toArray();\n+    }\n+\n+    /**\n+     * Add a list of regexp to be applied by this SyntaxChecker\n+     * \n+     * @param expressions The regexp list to add\n+     */\n+    public void setExpressions( String[] expressions )\n+    {\n+        for ( String regexp:expressions )\n+        {\n+            this.expressions.add( regexp );\n+        }\n+\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/RegexSyntaxChecker.java",
                "sha": "124ad41b957fd60267fefeb7a6206afdc0b820b2",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/SyntaxChecker.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/SyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/SyntaxChecker.java",
                "patch": "@@ -37,7 +37,7 @@\n      * \n      * @return the object identifier of the Syntax this SyntaxChecker validates\n      */\n-    abstract String getSyntaxOid();\n+    String getSyntaxOid();\n \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/SyntaxChecker.java",
                "sha": "cdac1d38eeee89f08fbbe1291a40a691970d8d11",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "patch": "@@ -45,7 +45,7 @@\n public class TelephoneNumberSyntaxChecker extends AbstractSyntaxChecker\n {\n     /** The Syntax OID, according to RFC 4517, par. 3.3.31 */\n-    private static final String OID = \"1.3.6.1.4.1.1466.115.121.1.50\";\n+    private static final String SC_OID = \"1.3.6.1.4.1.1466.115.121.1.50\";\n     \n     /** Other regexps to extend the initial one */\n     private List<String> regexps;\n@@ -67,11 +67,13 @@\n      */\n     public TelephoneNumberSyntaxChecker()\n     {\n-        super( OID );\n+        super( SC_OID );\n     }\n \n     /**\n      * Creates a new instance of TelephoneNumberSyntaxChecker.\n+     * \n+     * @param The OID to associate with this SyntaxChecker\n      */\n     protected TelephoneNumberSyntaxChecker( String oid )\n     {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/TelephoneNumberSyntaxChecker.java",
                "sha": "b871076af23ec20b6977b1aa3e92d1239f734bec",
                "status": "modified"
            },
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/UtcTimeSyntaxChecker.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/UtcTimeSyntaxChecker.java?ref=a3a63d887c7a9b8319728af8f8e8d0598e96bb0c",
                "deletions": 25,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/UtcTimeSyntaxChecker.java",
                "patch": "@@ -22,11 +22,6 @@\n \n import java.util.regex.Pattern;\n \n-import javax.naming.NamingException;\n-\n-\n-import org.apache.directory.shared.ldap.exception.LdapInvalidAttributeValueException;\n-import org.apache.directory.shared.ldap.message.ResultCodeEnum;\n import org.apache.directory.shared.ldap.util.StringTools;\n \n \n@@ -63,10 +58,10 @@\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  * @version $Rev$\n  */\n-public class UtcTimeSyntaxChecker implements SyntaxChecker\n+public class UtcTimeSyntaxChecker extends AbstractSyntaxChecker\n {\n     /** The Syntax OID, according to RFC 4517, par. 3.3.34 */\n-    public static final String OID = \"1.3.6.1.4.1.1466.115.121.1.53\";\n+    private static final String SC_OID = \"1.3.6.1.4.1.1466.115.121.1.53\";\n     \n     /** The GeneralizedDate pattern matching */\n     private static final String UTC_TIME_PATTERN = \n@@ -90,30 +85,22 @@\n      */\n     public UtcTimeSyntaxChecker()\n     {\n+        super( SC_OID );\n     }\n     \n     \n-    /* (non-Javadoc)\n-     * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#assertSyntax(java.lang.Object)\n-     */\n-    public void assertSyntax( Object value ) throws NamingException\n-    {\n-        if ( ! isValidSyntax( value ) )\n-        {\n-            throw new LdapInvalidAttributeValueException( ResultCodeEnum.INVALID_ATTRIBUTE_SYNTAX );\n-        }\n-    }\n-\n-\n-    /* (non-Javadoc)\n-     * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#getSyntaxOid()\n+    /**\n+     * \n+     * Creates a new instance of UtcTimeSyntaxChecker.\n+     * \n+     * @param the oid to associate with this new SyntaxChecker\n+     *\n      */\n-    public String getSyntaxOid()\n+    protected UtcTimeSyntaxChecker( String oid )\n     {\n-        return OID;\n+        super( oid );\n     }\n-\n-\n+    \n     /* (non-Javadoc)\n      * @see org.apache.directory.shared.ldap.schema.SyntaxChecker#isValidSyntax(java.lang.Object)\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a3a63d887c7a9b8319728af8f8e8d0598e96bb0c/ldap/src/main/java/org/apache/directory/shared/ldap/schema/syntax/UtcTimeSyntaxChecker.java",
                "sha": "162ba53727255a9e994718c1b95707e4702d36ff",
                "status": "modified"
            }
        ],
        "message": "- Added a protected constructor which takes a String (oid) parameter. This is needed if one want to \ncreate a subclass of a SyntaxChecker\n- Added some protection againsta potential NPE in RegexpSC\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@488616 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/92e86250cf4efb90441a41c1ade7cbcadcd32466",
        "patched_files": [
            "CountrySyntaxChecker.java",
            "TelephoneNumberSyntaxChecker.java",
            "DITContentRuleDescriptionSyntaxChecker.java",
            "DirectoryStringSyntaxChecker.java",
            "LdapSyntaxDescriptionSyntaxChecker.java",
            "AttributeTypeDescriptionSyntaxChecker.java",
            "DITStructureRuleDescriptionSyntaxChecker.java",
            "FacsimileTelephoneNumberSyntaxChecker.java",
            "DeliveryMethodSyntaxChecker.java",
            "MatchingRuleUseDescriptionSyntaxChecker.java",
            "NameAndOptionalUIDSyntaxChecker.java",
            "BooleanSyntaxChecker.java",
            "JpegSyntaxChecker.java",
            "UtcTimeSyntaxChecker.java",
            "IntegerSyntaxChecker.java",
            "GeneralizedTimeSyntaxChecker.java",
            "MatchingRuleDescriptionSyntaxChecker.java",
            "NumericStringSyntaxChecker.java",
            "PrintableStringSyntaxChecker.java",
            "OctetStringSyntaxChecker.java",
            "BitStringSyntaxChecker.java",
            "DNSyntaxChecker.java",
            "ObjectClassDescriptionSyntaxChecker.java",
            "ObjectClassTypeSyntaxChecker.java",
            "Ia5StringSyntaxChecker.java",
            "NameFormDescriptionSyntaxChecker.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "DITStructureRuleDescriptionSyntaxCheckerTest.java",
            "MatchingRuleDescriptionSyntaxCheckerTest.java",
            "DNSyntaxCheckerTest.java",
            "NameFormDescriptionSyntaxCheckerTest.java",
            "OctetStringSyntaxCheckerTest.java",
            "DITContentRuleDescriptionSyntaxCheckerTest.java",
            "UtcTimeSyntaxCheckerTest.java",
            "ObjectClassTypeSyntaxCheckerTest.java",
            "FacsimileTelephoneNumberSyntaxCheckerTest.java",
            "NameAndOptionalUIDSyntaxCheckerTest.java",
            "MatchingRuleUseDescriptionSyntaxCheckerTest.java",
            "DeliveryMethodSyntaxCheckerTest.java",
            "AttributeTypeDescriptionSyntaxCheckerTest.java",
            "NumericStringSyntaxCheckerTest.java",
            "DirectoryStringSyntaxCheckerTest.java",
            "ObjectClassDescriptionSyntaxCheckerTest.java",
            "PrintableStringSyntaxCheckerTest.java",
            "Ia5StringSyntaxCheckerTest.java",
            "IntegerSyntaxCheckerTest.java",
            "BooleanSyntaxCheckerTest.java",
            "TelephoneNumberSyntaxCheckerTest.java",
            "LdapSyntaxDescriptionSyntaxCheckerTest.java",
            "BitStringSyntaxCheckerTest.java",
            "CountrySyntaxCheckerTest.java",
            "GeneralizedTimeSyntaxCheckerTest.java",
            "JpegSyntaxCheckerTest.java"
        ]
    },
    "directory-ldap-api_a7f4362": {
        "bug_id": "directory-ldap-api_a7f4362",
        "commit": "https://github.com/apache/directory-ldap-api/commit/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/Dsmlv2ResponseGrammar.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/Dsmlv2ResponseGrammar.java?ref=a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e",
                "deletions": 2,
                "filename": "dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/Dsmlv2ResponseGrammar.java",
                "patch": "@@ -1621,11 +1621,11 @@ public void action( Dsmlv2Container container ) throws XmlPullParserException\n             if ( attributeValue != null )\n             {\n                 searchResponse = new SearchResponse(\n-                    ParserUtils.parseAndVerifyRequestID( attributeValue, xpp ), null );\n+                    ParserUtils.parseAndVerifyRequestID( attributeValue, xpp ) );\n             }\n             else\n             {\n-                searchResponse = new SearchResponse( -1, null );\n+                searchResponse = new SearchResponse();\n             }\n \n             container.getBatchResponse().addResponse( new SearchResponseDsml(",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/Dsmlv2ResponseGrammar.java",
                "sha": "e31a5c0aa24aae49cd3eade3c9fa172ec12c3d4a",
                "status": "modified"
            },
            {
                "additions": 39,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponse.java",
                "changes": 42,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponse.java?ref=a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e",
                "deletions": 3,
                "filename": "dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponse.java",
                "patch": "@@ -44,15 +44,23 @@\n     private SearchResultDoneDsml searchResultDone;\n \n \n+    /**\n+     * Creates a new instance of SearchResponse.\n+     */\n+    public SearchResponse()\n+    {\n+        super( -1, null );\n+    }\n+\n+\n     /**\n      * Creates a new instance of SearchResponse.\n      *\n      * @param messageId the response eliciting this Request\n-     * @param type the message type of the response\n      */\n-    public SearchResponse( int messageId, MessageTypeEnum type )\n+    public SearchResponse( int messageId )\n     {\n-        super( messageId, type );\n+        super( messageId, null );\n     }\n \n \n@@ -70,6 +78,20 @@ public boolean addSearchResultEntry( SearchResultEntryDsml searchResultEntry )\n     }\n \n \n+    /**\n+     * Removes a Search Result Entry\n+     *\n+     * @param searchResultEntry\n+     *      the Search Result Entry to remove\n+     * @return\n+     *      true (as per the general contract of the Collection.remove method)\n+     */\n+    public boolean removeSearchResultEntry( SearchResultEntryDsml searchResultEntry )\n+    {\n+        return searchResultEntryList.remove( searchResultEntry );\n+    }\n+\n+\n     /**\n      * Gets the Current Search Result Entry\n      * \n@@ -115,6 +137,20 @@ public boolean addSearchResultReference( SearchResultReferenceDsml searchResultR\n     }\n \n \n+    /**\n+     * Removes a Search Result Reference\n+     *\n+     * @param searchResultReference\n+     *      the Search Result Reference to remove\n+     * @return\n+     *      true (as per the general contract of the Collection.remove method)\n+     */\n+    public boolean removeSearchResultReference( SearchResultReferenceDsml searchResultReference )\n+    {\n+        return searchResultReferenceList.remove( searchResultReference );\n+    }\n+\n+\n     /**\n      * Gets the current Search Result Reference\n      *",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponse.java",
                "sha": "2bdbf46b8c5b847eba87b8b1f68b98a494ecb1b7",
                "status": "modified"
            },
            {
                "additions": 24,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponseDsml.java",
                "changes": 26,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponseDsml.java?ref=a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e",
                "deletions": 2,
                "filename": "dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponseDsml.java",
                "patch": "@@ -55,7 +55,7 @@\n      */\n     public SearchResponseDsml( LdapApiService codec )\n     {\n-        super( codec, null );\n+        super( codec, new SearchResponse() );\n     }\n \n \n@@ -112,8 +112,30 @@ else if ( response instanceof SearchResultDone )\n      * @return\n      *      true if this list contained the specified element.\n      */\n-    public boolean removeResponse( DsmlDecorator<Response> response )\n+    public boolean removeResponse( DsmlDecorator<? extends Response> response )\n     {\n+        if ( response instanceof SearchResultEntry )\n+        {\n+            ( ( SearchResponse ) getDecorated() ).removeSearchResultEntry(\n+                ( SearchResultEntryDsml ) response );\n+        }\n+        else if ( response instanceof SearchResultReference )\n+        {\n+            ( ( SearchResponse ) getDecorated() ).removeSearchResultReference(\n+                ( SearchResultReferenceDsml ) response );\n+        }\n+        else if ( response instanceof SearchResultDone )\n+        {\n+            if ( response.equals( ( ( SearchResponse ) getDecorated() ).getSearchResultDone() ) )\n+            {\n+                ( ( SearchResponse ) getDecorated() ).setSearchResultDone( null );\n+            }\n+        }\n+        else\n+        {\n+            throw new IllegalArgumentException( \"Unidentified search resp type\" );\n+        }\n+\n         return responses.remove( response );\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/a7f4362bdb8ef0e09a35f6f5e08ce7878459c57e/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResponseDsml.java",
                "sha": "67b803370c559b6adc31f7c7df87347961ba5ad9",
                "status": "modified"
            }
        ],
        "message": "Fix for a NPE raised in Studio when exporting entries to DSML, DIRSTUDIO-765 (Can not export DSML).\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1240225 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/2cc63efd4989ea054c8b24cd68faf41e1627dc2a",
        "patched_files": [
            "SearchResponse.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "SearchResponseTest.java"
        ]
    },
    "directory-ldap-api_aa91a90": {
        "bug_id": "directory-ldap-api_aa91a90",
        "commit": "https://github.com/apache/directory-ldap-api/commit/aa91a9034314b4b54919a3bb1942ff7600e46377",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/aa91a9034314b4b54919a3bb1942ff7600e46377/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java?ref=aa91a9034314b4b54919a3bb1942ff7600e46377",
                "deletions": 2,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "patch": "@@ -1994,9 +1994,9 @@ private boolean isNoticeOfDisconnect( Message message )\n     {\n         if ( message instanceof ExtendedResponse )\n         {\n-            ExtendedResponse response = ( ExtendedResponse ) message;\n+            String responseName = ( ( ExtendedResponse ) message ).getResponseName();\n \n-            if ( response.getResponseName().equals( NoticeOfDisconnect.EXTENSION_OID ) )\n+            if ( NoticeOfDisconnect.EXTENSION_OID.equals( responseName ) )\n             {\n                 return true;\n             }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/aa91a9034314b4b54919a3bb1942ff7600e46377/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "sha": "ee765c72ca7dcac3acc4cbf4b909085e84155c48",
                "status": "modified"
            }
        ],
        "message": "Fixed a potential NPE (DIRAPI-268)\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-value@1796564 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/01ab748e62534821c2bd842aae907a576a15b2a9",
        "patched_files": [
            "LdapNetworkConnection.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapNetworkConnectionTest.java"
        ]
    },
    "directory-ldap-api_bac761a": {
        "bug_id": "directory-ldap-api_bac761a",
        "commit": "https://github.com/apache/directory-ldap-api/commit/bac761a26957c150414d071aec341493b5301b5e",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "patch": "@@ -265,7 +265,7 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n         }\n \n         // The control type\n-        Value.encode( buffer, controlType.getBytes() );\n+        Value.encode( buffer, getControlType().getBytes() );\n \n         // The control criticality, if true\n         if ( criticality )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "sha": "584247de0eb8e4bf659d712faa5eea24f3e45ff1",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "patch": "@@ -111,7 +111,14 @@ public LdapMessage()\n      */\n     public Control getControls( int i )\n     {\n-        return controls.get( i );\n+        if ( controls != null )\n+        {\n+            return controls.get( i );\n+        }\n+        else\n+        {\n+            return null;\n+        }\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "sha": "58e90a38e610179792582d3d381ec729e841e33b",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageContainer.java",
                "patch": "@@ -21,7 +21,6 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n import org.apache.directory.shared.ldap.message.spi.BinaryAttributeDetector;\n \n \n@@ -32,7 +31,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class LdapMessageContainer extends AbstractContainer implements IAsn1Container\n+public class LdapMessageContainer extends AbstractContainer\n {\n     // ~ Instance fields\n     // ----------------------------------------------------------------------------",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageContainer.java",
                "sha": "eef15f0f9f06e2e68458c08a3c9b80ef6189b772",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageGrammar.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageGrammar.java",
                "patch": "@@ -116,7 +116,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class LdapMessageGrammar extends AbstractGrammar implements IGrammar\n+public class LdapMessageGrammar extends AbstractGrammar\n {\n     // ~ Static fields/initializers\n     // -----------------------------------------------------------------\n@@ -592,12 +592,12 @@ public void action( IAsn1Container container ) throws DecoderException\n                     }\n                     else\n                     {\n-                        LdapDN dn = LdapDN.EMPTY_LDAPDN;\n                         byte[] dnBytes = tlv.getValue().getData();\n \n                         try\n                         {\n-                            dn = new LdapDN( dnBytes );\n+                            LdapDN dn = new LdapDN( dnBytes );\n+                            bindRequestMessage.setName( dn );\n                         }\n                         catch ( InvalidNameException ine )\n                         {\n@@ -610,8 +610,6 @@ public void action( IAsn1Container container ) throws DecoderException\n                         \n                             throw new ResponseCarryingException( msg, response, ResultCodeEnum.INVALID_DN_SYNTAX, LdapDN.EMPTY_LDAPDN, ine );\n                         }\n-\n-                        bindRequestMessage.setName( dn );\n                     }\n \n                     if ( IS_DEBUG )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessageGrammar.java",
                "sha": "da6adebe1d4961aac066d403de90d912700855c6",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectContainer.java",
                "patch": "@@ -21,15 +21,14 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * A container for the GracefulDisconnect codec.\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class GracefulDisconnectContainer extends AbstractContainer implements IAsn1Container\n+public class GracefulDisconnectContainer extends AbstractContainer\n {\n     /** GracefulShutdown */\n     private GracefulDisconnect gracefulDisconnect;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectContainer.java",
                "sha": "bc552b22a54bdcd37d3c0c958bcbe6195ac5193f",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectGrammar.java",
                "patch": "@@ -59,7 +59,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class GracefulDisconnectGrammar extends AbstractGrammar implements IGrammar\n+public class GracefulDisconnectGrammar extends AbstractGrammar\n {\n     /** The logger */\n     static final Logger log = LoggerFactory.getLogger( GracefulDisconnectGrammar.class );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnectGrammar.java",
                "sha": "3116c98dd694db3c1e40687f09b041f7e85df2fe",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownContainer.java",
                "patch": "@@ -21,15 +21,14 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * A container for the GracefulShutdown codec.\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class GracefulShutdownContainer extends AbstractContainer implements IAsn1Container\n+public class GracefulShutdownContainer extends AbstractContainer\n {\n     /** GracefulShutdown */\n     private GracefulShutdown gracefulShutdown;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownContainer.java",
                "sha": "bd931df74a0217c0e9703d585cee775a6967a721",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownGrammar.java",
                "patch": "@@ -50,7 +50,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class GracefulShutdownGrammar extends AbstractGrammar implements IGrammar\n+public class GracefulShutdownGrammar extends AbstractGrammar\n {\n     /** The logger */\n     static final Logger log = LoggerFactory.getLogger( GracefulShutdownGrammar.class );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdownGrammar.java",
                "sha": "ac93ddcfccc7695e5ac171f8b1ab19b9c0c4c21b",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureContainer.java",
                "patch": "@@ -22,15 +22,14 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * A container for the StoredProcedure codec\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class StoredProcedureContainer extends AbstractContainer implements IAsn1Container\n+public class StoredProcedureContainer extends AbstractContainer\n {\n     // ~ Instance fields\n     // ----------------------------------------------------------------------------",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureContainer.java",
                "sha": "598d8bd7e1c60f0212c224d25799171e11157c0d",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureGrammar.java",
                "patch": "@@ -40,7 +40,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class StoredProcedureGrammar extends AbstractGrammar implements IGrammar\n+public class StoredProcedureGrammar extends AbstractGrammar\n {\n     //~ Static fields/initializers -----------------------------------------------------------------\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/StoredProcedureGrammar.java",
                "sha": "e8c67cd49ffdfb4abcf4adfee7d54ba7d90662c8",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlContainer.java",
                "patch": "@@ -21,13 +21,12 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class EntryChangeControlContainer extends AbstractContainer implements IAsn1Container\n+public class EntryChangeControlContainer extends AbstractContainer\n {\n     /** EntryChangeControl */\n     private EntryChangeControlCodec control;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlContainer.java",
                "sha": "4e85cec8b04ea57a22dedcd74973003d37e69a02",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlGrammar.java",
                "patch": "@@ -44,7 +44,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class EntryChangeControlGrammar extends AbstractGrammar implements IGrammar\n+public class EntryChangeControlGrammar extends AbstractGrammar\n {\n     /** The logger */\n     static final Logger log = LoggerFactory.getLogger( EntryChangeControlGrammar.class );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControlGrammar.java",
                "sha": "a8c10063dceb9b4bb96c84dca062bfb2296fbcb3",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlContainer.java",
                "patch": "@@ -21,13 +21,12 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class PSearchControlContainer extends AbstractContainer implements IAsn1Container\n+public class PSearchControlContainer extends AbstractContainer\n {\n     /** PSearchControl */\n     private PSearchControlCodec control;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlContainer.java",
                "sha": "7e2c65f578c685a5db57fe5adfcafadbcaf6ed80",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlGrammar.java",
                "patch": "@@ -57,7 +57,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class PSearchControlGrammar extends AbstractGrammar implements IGrammar\n+public class PSearchControlGrammar extends AbstractGrammar\n {\n     /** The logger */\n     static final Logger log = LoggerFactory.getLogger( PSearchControlGrammar.class );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/PSearchControlGrammar.java",
                "sha": "87d95496de7a721d5e0312ddd1a05cb127e86aa4",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlContainer.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlContainer.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlContainer.java",
                "patch": "@@ -21,13 +21,12 @@\n \n \n import org.apache.directory.shared.asn1.ber.AbstractContainer;\n-import org.apache.directory.shared.asn1.ber.IAsn1Container;\n \n \n /**\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class SubEntryControlContainer extends AbstractContainer implements IAsn1Container\n+public class SubEntryControlContainer extends AbstractContainer\n {\n     /** PSearchControl */\n     private SubEntryControlCodec control;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlContainer.java",
                "sha": "fc2502ab01b1253c7dfc31c947384bd32ded5c03",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlGrammar.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlGrammar.java",
                "patch": "@@ -42,7 +42,7 @@\n  * \n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n-public class SubEntryControlGrammar extends AbstractGrammar implements IGrammar\n+public class SubEntryControlGrammar extends AbstractGrammar\n {\n     /** The logger */\n     static final Logger log = LoggerFactory.getLogger( SubEntryControlGrammar.class );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/SubEntryControlGrammar.java",
                "sha": "95044c66516b002eea99878fe69c24feb910953e",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 8,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "patch": "@@ -330,13 +330,8 @@ public LdapURL(byte[] bytes) throws LdapURLEncodingException\n \n         string = StringTools.utf8ToString( bytes );\n \n-        if ( bytes != null )\n-        {\n-            this.bytes = new byte[ bytes.length ];\n-            System.arraycopy( bytes, 0, this.bytes, 0, bytes.length );\n-        } else {\n-            this.bytes = null;\n-        }\n+        this.bytes = new byte[ bytes.length ];\n+        System.arraycopy( bytes, 0, this.bytes, 0, bytes.length );\n \n         parse( string.toCharArray() );\n     }\n@@ -676,7 +671,7 @@ public static String getString( final byte[] data, String charset )\n     {\n         if ( bytes == null )\n         {\n-            return null;\n+            return StringTools.EMPTY_BYTES;\n         }\n \n         ByteArrayOutputStream buffer = new ByteArrayOutputStream();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/codec/util/LdapURL.java",
                "sha": "fffe1e9dcec2b36d55b5c0df1174528672b3e2be",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapAuthenticationNotSupportedException.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapAuthenticationNotSupportedException.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapAuthenticationNotSupportedException.java",
                "patch": "@@ -116,11 +116,7 @@ private void checkResultCode()\n         switch ( resultCode )\n         {\n             case INAPPROPRIATE_AUTHENTICATION :\n-                break;\n-                \n             case CONFIDENTIALITY_REQUIRED :\n-                break;\n-                \n             case AUTH_METHOD_NOT_SUPPORTED :\n                 break;\n                 ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapAuthenticationNotSupportedException.java",
                "sha": "3f591e7c62a15cebb05174fff32e45711d652cae",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapInvalidAttributeValueException.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapInvalidAttributeValueException.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapInvalidAttributeValueException.java",
                "patch": "@@ -60,8 +60,6 @@ public LdapInvalidAttributeValueException(ResultCodeEnum resultCode)\n         switch ( resultCode )\n         {\n             case CONSTRAINT_VIOLATION :\n-                break;\n-                \n             case INVALID_ATTRIBUTE_SYNTAX :\n                 break;\n                 ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapInvalidAttributeValueException.java",
                "sha": "5d1b0cb22d36e5ad17b8e451cd9a88d4a62d8569",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapSchemaViolationException.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapSchemaViolationException.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 7,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapSchemaViolationException.java",
                "patch": "@@ -61,15 +61,8 @@ public LdapSchemaViolationException(ResultCodeEnum resultCode)\n         switch ( resultCode )\n         {\n             case OBJECT_CLASS_VIOLATION :\n-\n-                break;\n-\n             case NOT_ALLOWED_ON_RDN :\n-\n-                break;\n-\n             case OBJECT_CLASS_MODS_PROHIBITED :\n-\n                 break;\n \n             default:",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/exception/LdapSchemaViolationException.java",
                "sha": "529b2ec70b4e7af7d66fc3cf0d3a0c6b08b5106a",
                "status": "modified"
            },
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "changes": 23,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "patch": "@@ -42,6 +42,27 @@ protected AbstractExprNode()\n     {\n     }\n \n+    \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        if ( annotations != null )\n+        {\n+            for ( String key:annotations.keySet() )\n+            {\n+                Object value = annotations.get( key );\n+                \n+                h = h*17 + key.hashCode();\n+                h = h*17 + ( value == null ? 0 : value.hashCode() );\n+            }\n+        }\n+        \n+        return h;\n+    }\n \n     /**\n      * @see org.apache.directory.shared.ldap.filter.ExprNode#get(java.lang.Object)\n@@ -71,7 +92,7 @@ public void set( String key, Object value )\n         annotations.put( key, value );\n     }\n \n-\n+    \n     /**\n      * Gets the annotations as a Map.\n      * ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AbstractExprNode.java",
                "sha": "7e42e637aadbfdb2a33513a10120f937d959a650",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AndNode.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AndNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/AndNode.java",
                "patch": "@@ -151,9 +151,9 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + AssertionEnum.AND.hashCode();\n-        hash = hash*31 + ( annotations == null ? 0 : annotations.hashCode() );\n+        int hash = 37;\n+        hash = hash*17 + AssertionEnum.AND.hashCode();\n+        hash = hash*17 + ( annotations == null ? 0 : annotations.hashCode() );\n         return hash;\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AndNode.java",
                "sha": "84d78f26d837889ca3b8852e00bf0f85ecebb78a",
                "status": "modified"
            },
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ApproximateNode.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ApproximateNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/ApproximateNode.java",
                "patch": "@@ -52,6 +52,15 @@ public ApproximateNode( String attribute, String value )\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        return super.hashCode();\n+    }\n+\n+    \n     /**\n      * @see Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ApproximateNode.java",
                "sha": "63e1be9ad1a8bc937c4542323cd9fabedd36942f",
                "status": "modified"
            },
            {
                "additions": 16,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AssertionNode.java",
                "changes": 20,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AssertionNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/AssertionNode.java",
                "patch": "@@ -32,9 +32,6 @@\n  */\n public class AssertionNode extends AbstractExprNode\n {\n-    /** Setting scan count to max */\n-    private static final Long MAX = Long.MAX_VALUE;\n-\n     /** The assertion or predicate to apply */\n     private final Assertion assertion;\n \n@@ -75,7 +72,7 @@ public AssertionNode( Assertion assertion, String desc )\n          * candidate for use in an enumeration so we set the scan count to the\n          * maximum value.\n          */\n-        set( \"count\", MAX );\n+        set( \"count\", Long.MAX_VALUE );\n     }\n \n \n@@ -114,6 +111,21 @@ public StringBuilder printRefinementToBuffer( StringBuilder buf ) throws Unsuppo\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        h = h*17 + ( assertion != null ? assertion.hashCode() : 0 );\n+        h = h*17 + ( desc != null ? desc.hashCode() : 0 );\n+        \n+        return h;\n+    }\n+\n+\n     /**\n      * @see org.apache.directory.shared.ldap.filter.ExprNode#accept(\n      *      org.apache.directory.shared.ldap.filter.FilterVisitor)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/AssertionNode.java",
                "sha": "473860c592e64f9acfe021408a4a520350cbe85f",
                "status": "modified"
            },
            {
                "additions": 23,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/BranchNode.java",
                "changes": 23,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/BranchNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/BranchNode.java",
                "patch": "@@ -175,6 +175,29 @@ public final Object accept( FilterVisitor visitor )\n         }\n     }\n     \n+    \n+    /**\n+     * (non-Javadoc)\n+     * \n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        \n+        if ( children != null )\n+        {\n+            for ( ExprNode child:children )\n+            {\n+                h = h*17 + child.hashCode();\n+            }\n+        }\n+        \n+        return h;\n+    }\n+    \n     /*\n      * (non-Javadoc)\n      * ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/BranchNode.java",
                "sha": "0f3d037e813e5e28bdc83f1233339cda72e6df0d",
                "status": "modified"
            },
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/EqualityNode.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/EqualityNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/EqualityNode.java",
                "patch": "@@ -52,6 +52,15 @@ public EqualityNode( String attribute, String value )\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        return super.hashCode();\n+    }\n+\n+    \n     /**\n      * @see Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/EqualityNode.java",
                "sha": "dce29087443dcc541560466c74863a713aa0d577",
                "status": "modified"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "patch": "@@ -20,6 +20,8 @@\n package org.apache.directory.shared.ldap.filter;\n \n \n+import java.util.Arrays;\n+\n import org.apache.directory.shared.ldap.util.StringTools;\n \n \n@@ -168,6 +170,22 @@ public StringBuilder printRefinementToBuffer( StringBuilder buf ) throws Unsuppo\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        h = h*17 + ( dnAttributes ? 1 : 0 );\n+        h = h*17 + matchingRuleId.hashCode();\n+        h = h*17 + Arrays.hashCode( value );\n+        \n+        return h;\n+    }\n+\n+\n     /**\n      * @see java.lang.Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ExtensibleNode.java",
                "sha": "262d8dc186e7006cf1d0bdd59bc05553768a62ab",
                "status": "modified"
            },
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/GreaterEqNode.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/GreaterEqNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/GreaterEqNode.java",
                "patch": "@@ -52,6 +52,15 @@ public GreaterEqNode( String attribute, String value )\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        return super.hashCode();\n+    }\n+\n+    \n     /**\n      * @see Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/GreaterEqNode.java",
                "sha": "b3ebce845072405e11616fad17694cae7e4a0fcf",
                "status": "modified"
            },
            {
                "additions": 14,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LeafNode.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LeafNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/LeafNode.java",
                "patch": "@@ -77,6 +77,20 @@ public void setAttribute( String attribute )\n         this.attribute = attribute;\n     }\n \n+    \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        h = h*17 + attribute.hashCode();\n+        \n+        return h;\n+    }\n+\n \n     /*\n      * (non-Javadoc)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LeafNode.java",
                "sha": "f8eb66c2c99754b13e59fc8e914c9c7ea3d1139b",
                "status": "modified"
            },
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LessEqNode.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LessEqNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/LessEqNode.java",
                "patch": "@@ -51,7 +51,16 @@ public LessEqNode( String attribute, String value )\n         super( attribute, value );\n     }\n \n+    \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        return super.hashCode();\n+    }\n \n+    \n     /**\n      * @see Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/LessEqNode.java",
                "sha": "fd2c3b6adfbc6e1310aea1c20bef853055831a87",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/NotNode.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/NotNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/NotNode.java",
                "patch": "@@ -201,9 +201,9 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + AssertionEnum.NOT.hashCode();\n-        hash = hash*31 + ( annotations == null ? 0 : annotations.hashCode() );\n+        int hash = 37;\n+        hash = hash*17 + AssertionEnum.NOT.hashCode();\n+        hash = hash*17 + ( annotations == null ? 0 : annotations.hashCode() );\n         return hash;\n     }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/NotNode.java",
                "sha": "0cd21ae5693cbaadd08871c5e659fcc43e7a8009",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/OrNode.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/OrNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/OrNode.java",
                "patch": "@@ -153,9 +153,9 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + AssertionEnum.OR.hashCode();\n-        hash = hash*31 + ( annotations == null ? 0 : annotations.hashCode() );\n+        int hash = 37;\n+        hash = hash*17 + AssertionEnum.OR.hashCode();\n+        hash = hash*17 + ( annotations == null ? 0 : annotations.hashCode() );\n         return hash;\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/OrNode.java",
                "sha": "6a65f77d436471126d5fd882ccbbdc2bf79c13a8",
                "status": "modified"
            },
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ScopeNode.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ScopeNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/ScopeNode.java",
                "patch": "@@ -132,6 +132,23 @@ public Object accept( FilterVisitor visitor )\n         }\n     }\n     \n+\n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        h = h*17 + ( aliasDerefAliases != null ? aliasDerefAliases.hashCode() : 0 );\n+        h = h*17 + ( baseDn != null ? baseDn.hashCode() : 0 );\n+        h = h*17 + scope;\n+        \n+        return h;\n+    }\n+\n+\n     /**\n      * @see Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/ScopeNode.java",
                "sha": "7eaf0c9ff013d9cb92003150bc07fa4457f09723",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "patch": "@@ -125,10 +125,10 @@ public StringBuilder printRefinementToBuffer( StringBuilder buf ) throws Unsuppo\n      */\n     public int hashCode()\n     {\n-    \tint h = 31;\n-    \th += value.hashCode()*13;\n-    \th += getAttribute().hashCode()*13;\n-    \th += this.getClass().hashCode()*13;\n+    \tint h = 37;\n+    \t\n+    \th = h*17 + super.hashCode();\n+    \th = h*17 + ( value == null ? 0 : value.hashCode() );\n     \t\n     \treturn h;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SimpleNode.java",
                "sha": "bac6a59e6d963152fc9241368b63a4ac43801241",
                "status": "modified"
            },
            {
                "additions": 27,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "changes": 30,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "patch": "@@ -39,13 +39,13 @@\n  */\n public class SubstringNode extends LeafNode\n {\n-    /** The initial fragment before any wildcards */\n+    /** The initial fragment before any wildcard */\n     private String initialPattern;\n \n-    /** The end fragment after wildcards */\n+    /** The end fragment after wildcard */\n     private String finalPattern;\n \n-    /** List of fragments between wildcards */\n+    /** List of fragments between wildcard */\n     private List<String> anyPattern;\n \n     /**\n@@ -230,6 +230,30 @@ public final Pattern getRegex( Normalizer normalizer ) throws PatternSyntaxExcep\n     }\n \n \n+    /**\n+     * @see Object#hashCode()\n+     */\n+    public int hashCode()\n+    {\n+        int h = 37;\n+        \n+        h = h*17 + super.hashCode();\n+        h = h*17 + ( initialPattern != null ? initialPattern.hashCode() : 0 );\n+        \n+        if ( anyPattern != null )\n+        {\n+            for ( String pattern:anyPattern )\n+            {\n+                h = h*17 + pattern.hashCode();\n+            }\n+        }\n+        \n+        h = h*17 + ( finalPattern != null ? finalPattern.hashCode() : 0 );\n+        \n+        return h;\n+    }\n+\n+\n     /**\n      * @see java.lang.Object#toString()\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/filter/SubstringNode.java",
                "sha": "75505eb4dfeb1160c35910cccfe483016226a48e",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbandonRequestImpl.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbandonRequestImpl.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/AbandonRequestImpl.java",
                "patch": "@@ -110,9 +110,9 @@ public boolean equals( Object obj )\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + abandonId;\n-        hash = hash*31 + super.hashCode();\n+        int hash = 37;\n+        hash = hash*17 + abandonId;\n+        hash = hash*17 + super.hashCode();\n         \n         return hash;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbandonRequestImpl.java",
                "sha": "f76418d9570bebd6b48e71526bd43fe9f128ba99",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractMessage.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractMessage.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractMessage.java",
                "patch": "@@ -232,11 +232,11 @@ public boolean equals( Object obj )\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + id;\n-        hash = hash*31 + ( type == null ? 0 : type.hashCode() );\n-        hash = hash*31 + ( parameters == null ? 0 : parameters.hashCode() );\n-        hash = hash*31 + ( controls == null ? 0 : controls.hashCode() );\n+        int hash = 37;\n+        hash = hash*17 + id;\n+        hash = hash*17 + ( type == null ? 0 : type.hashCode() );\n+        hash = hash*17 + ( parameters == null ? 0 : parameters.hashCode() );\n+        hash = hash*17 + ( controls == null ? 0 : controls.hashCode() );\n         \n         return hash;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractMessage.java",
                "sha": "84a5ef91be5be01c758c6e65df11a6cf1e594c59",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractRequest.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractRequest.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractRequest.java",
                "patch": "@@ -68,9 +68,9 @@ public boolean hasResponse()\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + (hasResponse ? 0 : 1 );\n-        hash = hash*31 + super.hashCode();\n+        int hash = 37;\n+        hash = hash*17 + (hasResponse ? 0 : 1 );\n+        hash = hash*17 + super.hashCode();\n         \n         return hash;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AbstractRequest.java",
                "sha": "ee4ccd39f4197b4edef00b9610663d161925f4d0",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AddRequestImpl.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/AddRequestImpl.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/AddRequestImpl.java",
                "patch": "@@ -221,11 +221,11 @@ else if ( !attributes.equals( req.getAttributes() ) )\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + ( attributes == null ? 0 : attributes.hashCode() );\n-        hash = hash*31 + ( entry == null ? 0 : entry.hashCode() );\n-        hash = hash*31 + ( response == null ? 0 : response.hashCode() );\n-        hash = hash*31 + super.hashCode();\n+        int hash = 37;\n+        hash = hash*17 + ( attributes == null ? 0 : attributes.hashCode() );\n+        hash = hash*17 + ( entry == null ? 0 : entry.hashCode() );\n+        hash = hash*17 + ( response == null ? 0 : response.hashCode() );\n+        hash = hash*17 + super.hashCode();\n         \n         return hash;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AddRequestImpl.java",
                "sha": "69cc3b2450589c9638a170c70a2a5c14bd4ace92",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AttributeImpl.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/AttributeImpl.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/AttributeImpl.java",
                "patch": "@@ -696,21 +696,21 @@ public Object set( int index, Object attrVal )\n      */\n     public int hashCode()\n     {\n-        int hash = 17;\n+        int hash = 37;\n         \n-        hash += hash*37 + StringTools.toLowerCase( getID() ).hashCode();\n+        hash += hash*17 + StringTools.toLowerCase( getID() ).hashCode();\n         \n         if ( ( list != null ) && ( list.size() != 0 ) )\n         {\n             for ( Object value:list )\n             {\n                 if ( value instanceof byte[] )\n                 {\n-                    hash += hash*37 + Arrays.hashCode( (byte[])value );\n+                    hash += hash*17 + Arrays.hashCode( (byte[])value );\n                 }\n                 else \n                 {\n-                    hash += hash*37 + value.hashCode();\n+                    hash += hash*17 + value.hashCode();\n                 }\n             }\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/AttributeImpl.java",
                "sha": "92bfbcb76b1ef3832ffe40df9548bccee5bdd998",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/BindRequestImpl.java",
                "changes": 16,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/message/BindRequestImpl.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 8,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/message/BindRequestImpl.java",
                "patch": "@@ -371,14 +371,14 @@ else if ( !dn1.equals( dn2 ) )\n      */\n     public int hashCode()\n     {\n-        int hash = 7;\n-        hash = hash*31 + ( credentials == null ? 0 : hCredentials );\n-        hash = hash*31 + ( isSimple ? 0 : 1 );\n-        hash = hash*31 + ( isVersion3 ? 0 : 1 );\n-        hash = hash*31 + ( mechanism == null ? 0 : mechanism.hashCode() );\n-        hash = hash*31 + ( name == null ? 0 : name.hashCode() );\n-        hash = hash*31 + ( response == null ? 0 : response.hashCode() );\n-        hash = hash*31 + super.hashCode();\n+        int hash = 37;\n+        hash = hash*17 + ( credentials == null ? 0 : hCredentials );\n+        hash = hash*17 + ( isSimple ? 0 : 1 );\n+        hash = hash*17 + ( isVersion3 ? 0 : 1 );\n+        hash = hash*17 + ( mechanism == null ? 0 : mechanism.hashCode() );\n+        hash = hash*17 + ( name == null ? 0 : name.hashCode() );\n+        hash = hash*17 + ( response == null ? 0 : response.hashCode() );\n+        hash = hash*17 + super.hashCode();\n         \n         return hash;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/message/BindRequestImpl.java",
                "sha": "5a054397151e8def8a9f18b9cf5390286cf24032",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/AttributeTypeAndValue.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/AttributeTypeAndValue.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/AttributeTypeAndValue.java",
                "patch": "@@ -619,10 +619,10 @@ else if ( c == '#' )\n      */\n     public int hashCode()\n     {\n-        int result = 17;\n+        int result = 37;\n \n-        result = result * 37 + ( normType != null ? normType.hashCode() : 0 );\n-        result = result * 37 + ( value != null ? value.hashCode() : 0 );\n+        result = result*17 + ( normType != null ? normType.hashCode() : 0 );\n+        result = result*17 + ( value != null ? value.hashCode() : 0 );\n \n         return result;\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/AttributeTypeAndValue.java",
                "sha": "4ced5a97e1f253e69cb422a9c0f217957f6fa264",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "patch": "@@ -485,13 +485,13 @@ private String getUpNameSuffix( int posn )\n      */\n     public int hashCode()\n     {\n-        int result = 17;\n+        int result = 37;\n \n         if ( ( rdns != null ) && ( rdns.size() != 0 ) )\n         {\n             for ( Rdn rdn : rdns )\n             {\n-                result = result * 37 + rdn.hashCode();\n+                result = result * 17 + rdn.hashCode();\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "sha": "1479e9e54164eee2c043af543b149d3c2d11b386",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "patch": "@@ -1245,7 +1245,7 @@ public static String escapeValue( byte[] attrValue )\n     */\n    public int hashCode()\n    {\n-       int result = 17;\n+       int result = 37;\n \n        switch ( nbAtavs )\n        {\n@@ -1255,15 +1255,15 @@ public int hashCode()\n \n            case 1:\n                // We have a single AttributeTypeAndValue\n-               result = result * 37 + atav.hashCode();\n+               result = result * 17 + atav.hashCode();\n                break;\n \n            default:\n                // We have more than one AttributeTypeAndValue\n \n                for ( AttributeTypeAndValue ata:atavs )\n                {\n-                   result = result * 37 + ata.hashCode();\n+                   result = result * 17 + ata.hashCode();\n                }\n        }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "sha": "5a1db24fbc66924467cc746a9b8c1cb1c1344f08",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/ActionTime.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/ActionTime.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/ActionTime.java",
                "patch": "@@ -69,10 +69,10 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( name == null ) ? 0 : name.hashCode() );\n-        return result;\n+        int h = 37;\n+        h = h * 17 + ( ( name == null ) ? 0 : name.hashCode() );\n+        \n+        return h;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/ActionTime.java",
                "sha": "50ff89e5a5849411ff220ad0913befbc81b92b91",
                "status": "modified"
            },
            {
                "additions": 23,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/LdapOperation.java",
                "changes": 34,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/LdapOperation.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 11,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/LdapOperation.java",
                "patch": "@@ -73,10 +73,11 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( name == null ) ? 0 : name.hashCode() );\n-        return result;\n+        int h = 37;\n+\n+        h = h*17 + ( ( name == null ) ? 0 : name.hashCode() );\n+        \n+        return h;\n     }\n \n \n@@ -86,20 +87,31 @@ public int hashCode()\n     public boolean equals( Object obj )\n     {\n         if ( this == obj )\n+        {\n             return true;\n-        if ( obj == null )\n-            return false;\n-        if ( getClass() != obj.getClass() )\n+        }\n+        \n+        if ( ! ( obj  instanceof LdapOperation ) )\n+        {\n             return false;\n+        }\n+\n         final LdapOperation other = ( LdapOperation ) obj;\n+\n         if ( name == null )\n         {\n             if ( other.name != null )\n+            {\n                 return false;\n+            }\n+            else\n+            { \n+                return true;\n+            }\n+        }\n+        else \n+        {\n+            return name.equals( other.name );\n         }\n-        else if ( !name.equals( other.name ) )\n-            return false;\n-        return true;\n     }\n-    \n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/LdapOperation.java",
                "sha": "88f431f1637820889bacd2874c7db4fda0775182",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/SearchScope.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/SearchScope.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/SearchScope.java",
                "patch": "@@ -64,10 +64,11 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( name == null ) ? 0 : name.hashCode() );\n-        return result;\n+        int h = 37;\n+        \n+        h = h*17 + ( ( name == null ) ? 0 : name.hashCode() );\n+        \n+        return h;\n     }\n \n     /* (non-Javadoc)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/SearchScope.java",
                "sha": "8b5f6b5768e5b2662e7f3bb93f0e627750274165",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureLanguageSchemeOption.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureLanguageSchemeOption.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureLanguageSchemeOption.java",
                "patch": "@@ -55,10 +55,11 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( language == null ) ? 0 : language.hashCode() );\n-        return result;\n+        int h = 37;\n+        \n+        h = h*17 + ( ( language == null ) ? 0 : language.hashCode() );\n+        \n+        return h;\n     }\n \n     /* (non-Javadoc)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureLanguageSchemeOption.java",
                "sha": "1240294f58ef5a3c42c79dcce983523f6bda2db9",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureParameter.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureParameter.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 4,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureParameter.java",
                "patch": "@@ -102,10 +102,11 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( name == null ) ? 0 : name.hashCode() );\n-        return result;\n+        int h = 37;\n+        \n+        h = h*17 + ( ( name == null ) ? 0 : name.hashCode() );\n+        \n+        return h;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureParameter.java",
                "sha": "5ffe41c324b2ecd893c2a8fdbe2d85f0c092e0cd",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureSearchContextOption.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureSearchContextOption.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureSearchContextOption.java",
                "patch": "@@ -67,11 +67,12 @@ public String toString()\n      */\n     public int hashCode()\n     {\n-        final int PRIME = 31;\n-        int result = 1;\n-        result = PRIME * result + ( ( baseObject == null ) ? 0 : baseObject.hashCode() );\n-        result = PRIME * result + ( ( searchScope == null ) ? 0 : searchScope.hashCode() );\n-        return result;\n+        int h = 37;\n+        \n+        h = h*17 + ( ( baseObject == null ) ? 0 : baseObject.hashCode() );\n+        h = h*17 + ( ( searchScope == null ) ? 0 : searchScope.hashCode() );\n+        \n+        return h;\n     }\n \n     /* (non-Javadoc)",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/StoredProcedureSearchContextOption.java",
                "sha": "3807fd62c155957c5bbb697eb58d8e598be3b716",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/TriggerSpecification.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/TriggerSpecification.java?ref=bac761a26957c150414d071aec341493b5301b5e",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/trigger/TriggerSpecification.java",
                "patch": "@@ -101,12 +101,12 @@ public String getName() {\n \n \t\t@Override\n \t\tpublic int hashCode() {\n-\t\t\tfinal int PRIME = 31;\n-\t\t\tint result = 1;\n-\t\t\tresult = PRIME * result + ((name == null) ? 0 : name.hashCode());\n-\t\t\tresult = PRIME * result + ((options == null) ? 0 : options.hashCode());\n-\t\t\tresult = PRIME * result + ((parameters == null) ? 0 : parameters.hashCode());\n-\t\t\treturn result;\n+\t\t\tint h = 37;\n+\t\t\t\n+\t\t\th = h*17 + ((name == null) ? 0 : name.hashCode());\n+\t\t\th = h*17 + ((options == null) ? 0 : options.hashCode());\n+\t\t\th = h*17 + ((parameters == null) ? 0 : parameters.hashCode());\n+\t\t\treturn h;\n \t\t}\n \n \t\t@Override",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bac761a26957c150414d071aec341493b5301b5e/ldap/src/main/java/org/apache/directory/shared/ldap/trigger/TriggerSpecification.java",
                "sha": "2a4d89b5a063f1c25edcc4bf0138fd8bd78ee30d",
                "status": "modified"
            }
        ],
        "message": "Fixed some potential problems and bad code detected by Felix :\n- bad hashCode() or equals() methods\n- useless interface implementation\n- potential NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@606816 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/ffe0a9e429ee7388bbb8bd3c9acec5bc49589ce9",
        "patched_files": [
            "Rdn.java",
            "LdapMessage.java",
            "AddRequestImpl.java",
            "AttributeImpl.java",
            "AbstractMessage.java",
            "BindRequestImpl.java",
            "LdapDN.java",
            "AttributeTypeAndValue.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "RdnTest.java",
            "LdapMessageTest.java",
            "AttributeImplTest.java",
            "LdapDNTest.java",
            "BindRequestImplTest.java",
            "AddRequestImplTest.java",
            "AttributeTypeAndValueTest.java",
            "AbstractMessageTest.java"
        ]
    },
    "directory-ldap-api_bbed4f1": {
        "bug_id": "directory-ldap-api_bbed4f1",
        "commit": "https://github.com/apache/directory-ldap-api/commit/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponse.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponse.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 3,
                "filename": "ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponse.java",
                "patch": "@@ -45,14 +45,14 @@\n     /**\n      * @return The number of possible attempts on the password before it's locked\n      */\n-    int getGraceAuthNsRemaining();\n+    int getGraceAuthNRemaining();\n \n \n     /**\n      * Sets the number of remaining wrong authentication for this password\n-     * @param graceAuthNsRemaining The number of remaining attempts\n+     * @param graceAuthNRemaining The number of remaining attempts\n      */\n-    void setGraceAuthNsRemaining( int graceAuthNsRemaining );\n+    void setGraceAuthNRemaining( int graceAuthNRemaining );\n \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponse.java",
                "sha": "0b077d5d87b4ab7f03abac86cf08627380ac6b30",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponseImpl.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponseImpl.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 5,
                "filename": "ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponseImpl.java",
                "patch": "@@ -32,7 +32,7 @@\n     private int timeBeforeExpiration = -1;\n \n     /** number of remaining grace authentications */\n-    private int graceAuthNsRemaining = -1;\n+    private int graceAuthNRemaining = -1;\n \n     /** number representing the password policy error */\n     private PasswordPolicyErrorEnum ppolicyError;\n@@ -59,18 +59,18 @@ public void setTimeBeforeExpiration( int timeBeforeExpiration )\n     /**\n      * {@inheritDoc}\n      */\n-    public int getGraceAuthNsRemaining()\n+    public int getGraceAuthNRemaining()\n     {\n-        return graceAuthNsRemaining;\n+        return graceAuthNRemaining;\n     }\n \n \n     /**\n      * {@inheritDoc}\n      */\n-    public void setGraceAuthNsRemaining( int graceAuthNsRemaining )\n+    public void setGraceAuthNRemaining( int graceAuthNRemaining )\n     {\n-        this.graceAuthNsRemaining = graceAuthNsRemaining;\n+        this.graceAuthNRemaining = graceAuthNRemaining;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec-api/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyResponseImpl.java",
                "sha": "90f4881188d2f088471cf58d80a92a39bdffb679",
                "status": "modified"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyDecorator.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyDecorator.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 7,
                "filename": "ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyDecorator.java",
                "patch": "@@ -113,9 +113,9 @@ public int computeLength()\n             timeBeforeExpirationTagLength = TLV.getNbBytes( getResponse().getTimeBeforeExpiration() );\n             warningLength = 1 + TLV.getNbBytes( timeBeforeExpirationTagLength ) + timeBeforeExpirationTagLength;\n         }\n-        else if ( getResponse().getGraceAuthNsRemaining() >= 0 )\n+        else if ( getResponse().getGraceAuthNRemaining() >= 0 )\n         {\n-            graceAuthNsRemainingTagLength = TLV.getNbBytes( getResponse().getGraceAuthNsRemaining() );\n+            graceAuthNsRemainingTagLength = TLV.getNbBytes( getResponse().getGraceAuthNRemaining() );\n             warningLength = 1 + TLV.getNbBytes( graceAuthNsRemainingTagLength ) + graceAuthNsRemainingTagLength;\n         }\n \n@@ -151,7 +151,7 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n             throw new EncoderException( I18n.err( I18n.ERR_04023 ) );\n         }\n \n-        if ( ( getResponse().getTimeBeforeExpiration() < 0 ) && ( getResponse().getGraceAuthNsRemaining() < 0 ) && (\n+        if ( ( getResponse().getTimeBeforeExpiration() < 0 ) && ( getResponse().getGraceAuthNRemaining() < 0 ) && (\n             getResponse().getPasswordPolicyError() == null ) )\n         {\n             return buffer;\n@@ -174,11 +174,11 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n                     buffer.put( TLV.getBytes( timeBeforeExpirationTagLength ) );\n                     buffer.put( BerValue.getBytes( getResponse().getTimeBeforeExpiration() ) );\n                 }\n-                else if ( getResponse().getGraceAuthNsRemaining() >= 0 )\n+                else if ( getResponse().getGraceAuthNRemaining() >= 0 )\n                 {\n                     buffer.put( ( byte ) PasswordPolicyTags.GRACE_AUTHNS_REMAINING_TAG.getValue() );\n                     buffer.put( TLV.getBytes( graceAuthNsRemainingTagLength ) );\n-                    buffer.put( BerValue.getBytes( getResponse().getGraceAuthNsRemaining() ) );\n+                    buffer.put( BerValue.getBytes( getResponse().getGraceAuthNRemaining() ) );\n                 }\n             }\n \n@@ -207,9 +207,9 @@ public String toString()\n             sb.append( \"   timeBeforeExpiration          : '\" ).append( getResponse().getTimeBeforeExpiration() )\n                 .append( '\\n' );\n         }\n-        else if ( hasResponse() && getResponse().getGraceAuthNsRemaining() >= 0 )\n+        else if ( hasResponse() && getResponse().getGraceAuthNRemaining() >= 0 )\n         {\n-            sb.append( \"   graceAuthNsRemaining          : '\" ).append( getResponse().getGraceAuthNsRemaining() )\n+            sb.append( \"   graceAuthNsRemaining          : '\" ).append( getResponse().getGraceAuthNRemaining() )\n                 .append( '\\n' );\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyDecorator.java",
                "sha": "4bf6504e2a7e7d850f5c8016d1377a9296873964",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyGrammar.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyGrammar.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 1,
                "filename": "ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyGrammar.java",
                "patch": "@@ -103,7 +103,7 @@ private PasswordPolicyGrammar()\n             .getValue()] = new GrammarTransition(\n             PasswordPolicyStates.PPOLICY_WARNING_TAG_STATE, PasswordPolicyStates.PPOLICY_GRACE_AUTHNS_REMAINING_STATE,\n             PasswordPolicyTags.GRACE_AUTHNS_REMAINING_TAG.getValue(),\n-            new StoreGraceAuthsRemaining() );\n+            new StoreGraceAuthNRemaining() );\n \n         // PasswordPolicyResponseValue ::= SEQUENCE {\n         //              ...",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/PasswordPolicyGrammar.java",
                "sha": "107c0463a78f751a54ebaad46cd4875ad38216ea",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/StoreGraceAuthNRemaining.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/StoreGraceAuthNRemaining.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 3,
                "filename": "ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/StoreGraceAuthNRemaining.java",
                "patch": "@@ -30,13 +30,13 @@\n  * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n  */\n @SuppressWarnings(\"rawtypes\")\n-public class StoreGraceAuthsRemaining extends AbstractReadInteger\n+public class StoreGraceAuthNRemaining extends AbstractReadInteger\n {\n \n     /**\n      * Instantiates a new StoreCusec action.\n      */\n-    public StoreGraceAuthsRemaining()\n+    public StoreGraceAuthNRemaining()\n     {\n         super( \"PPolicy graceAuthnsRemains\" );\n     }\n@@ -50,7 +50,7 @@ protected void setIntegerValue( int value, Asn1Container container )\n     {\n         PasswordPolicyContainer ppolicyContainer = ( PasswordPolicyContainer ) container;\n \n-        ppolicyContainer.getPasswordPolicyResponseControl().getResponse().setGraceAuthNsRemaining( value );\n+        ppolicyContainer.getPasswordPolicyResponseControl().getResponse().setGraceAuthNRemaining( value );\n \n         ppolicyContainer.setGrammarEndAllowed( true );\n     }",
                "previous_filename": "ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/StoreGraceAuthsRemaining.java",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/main/java/org/apache/directory/api/ldap/extras/controls/ppolicy_impl/StoreGraceAuthNRemaining.java",
                "sha": "74d1a6e524b3e4cebafdd83ec8e692844143b256",
                "status": "renamed"
            },
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/test/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyTest.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/extras/codec/src/test/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyTest.java?ref=bbed4f1fe3362fbcd42a4d57632f3e44fc82574e",
                "deletions": 15,
                "filename": "ldap/extras/codec/src/test/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyTest.java",
                "patch": "@@ -28,7 +28,6 @@\n import java.nio.ByteBuffer;\n \n import org.apache.directory.api.ldap.extras.AbstractCodecServiceTest;\n-import org.apache.directory.api.ldap.extras.controls.ppolicy.PasswordPolicy;\n import org.apache.directory.api.ldap.extras.controls.ppolicy_impl.PasswordPolicyDecorator;\n import org.apache.directory.api.util.Strings;\n import org.junit.Test;\n@@ -49,9 +48,13 @@ public void testDecodeRespWithExpiryWarningAndError() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x08,\n-                  ( byte ) 0xA0, 0x03, // timeBeforeExpiration\n-                    ( byte ) 0x80, 0x01, 0x01,\n-                  ( byte ) 0x81, 0x01, 0x01 // ppolicyError\n+                ( byte ) 0xA0, 0x03, // timeBeforeExpiration\n+                ( byte ) 0x80,\n+                0x01,\n+                0x01,\n+                ( byte ) 0x81,\n+                0x01,\n+                0x01 // ppolicyError\n         } );\n \n         bb.flip();\n@@ -77,9 +80,13 @@ public void testDecodeRespWithGraceAuthWarningAndError() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x08,\n-                  ( byte ) 0xA0, 0x03, // warning\n-                    ( byte ) 0x81, 0x01, 0x01, // graceAuthNsRemaining\n-                  ( byte ) 0x81, 0x01, 0x01 // error\n+                ( byte ) 0xA0, 0x03, // warning\n+                ( byte ) 0x81,\n+                0x01,\n+                0x01, // graceAuthNsRemaining\n+                ( byte ) 0x81,\n+                0x01,\n+                0x01 // error\n         } );\n \n         bb.flip();\n@@ -88,7 +95,7 @@ public void testDecodeRespWithGraceAuthWarningAndError() throws Exception\n         PasswordPolicy passwordPolicy = ( PasswordPolicy ) control.decode( bb.array() );\n \n         assertTrue( passwordPolicy.hasResponse() );\n-        assertEquals( 1, passwordPolicy.getResponse().getGraceAuthNsRemaining() );\n+        assertEquals( 1, passwordPolicy.getResponse().getGraceAuthNRemaining() );\n         assertEquals( 1, passwordPolicy.getResponse().getPasswordPolicyError().getValue() );\n \n         ByteBuffer encoded = ( ( PasswordPolicyDecorator ) passwordPolicy ).encode(\n@@ -105,8 +112,8 @@ public void testDecodeRespWithTimeBeforeExpiryWarningOnly() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x05,\n-                  ( byte ) 0xA0, 0x03,\n-                    ( byte ) 0x80, 0x01, 0x01 //  timeBeforeExpiration\n+                ( byte ) 0xA0, 0x03,\n+                ( byte ) 0x80, 0x01, 0x01 //  timeBeforeExpiration\n         } );\n \n         bb.flip();\n@@ -131,8 +138,8 @@ public void testDecodeRespWithGraceAuthWarningOnly() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x05,\n-                  ( byte ) 0xA0, 0x03,\n-                    ( byte ) 0x81, 0x01, 0x01 //  graceAuthNsRemaining\n+                ( byte ) 0xA0, 0x03,\n+                ( byte ) 0x81, 0x01, 0x01 //  graceAuthNsRemaining\n         } );\n \n         bb.flip();\n@@ -141,7 +148,7 @@ public void testDecodeRespWithGraceAuthWarningOnly() throws Exception\n         PasswordPolicy passwordPolicy = ( PasswordPolicy ) control.decode( bb.array() );\n \n         assertTrue( passwordPolicy.hasResponse() );\n-        assertEquals( 1, passwordPolicy.getResponse().getGraceAuthNsRemaining() );\n+        assertEquals( 1, passwordPolicy.getResponse().getGraceAuthNRemaining() );\n \n         ByteBuffer encoded = ( ( PasswordPolicyDecorator ) passwordPolicy ).encode(\n             ByteBuffer.allocate( ( ( PasswordPolicyDecorator ) passwordPolicy ).computeLength() ) );\n@@ -157,7 +164,7 @@ public void testDecodeRespWithErrorOnly() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x03,\n-                  ( byte ) 0x81, 0x01, 0x01 //  error\n+                ( byte ) 0x81, 0x01, 0x01 //  error\n         } );\n \n         bb.flip();\n@@ -182,7 +189,7 @@ public void testDecodeRespWithoutWarningAndError() throws Exception\n         bb.put( new byte[]\n             {\n                 0x30, 0x00\n-            } );\n+        } );\n \n         bb.flip();\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bbed4f1fe3362fbcd42a4d57632f3e44fc82574e/ldap/extras/codec/src/test/java/org/apache/directory/api/ldap/extras/controls/ppolicy/PasswordPolicyTest.java",
                "sha": "cbc78b3b23cb3d4a21ca53e4c2e268701a47e677",
                "status": "modified"
            }
        ],
        "message": "o Fixed a NPE if the pwdGraceAuthNLimit is set to 0 with an expired pwdAge \no Added some more protections against NPE in PP code\no Added some tests for PP\no Renamed a class (type)\no Renamed two methods (typoes too, I guess)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1467813 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/ba5f774816a21a26849c36818cec601527dafcee",
        "patched_files": [
            "StoreGraceAuthNRemaining.java",
            "PasswordPolicyResponse.java",
            "PasswordPolicyResponseImpl.java",
            "PasswordPolicy.java",
            "PasswordPolicyDecorator.java",
            "PasswordPolicyGrammar.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "PasswordPolicyTest.java"
        ]
    },
    "directory-ldap-api_bc38342": {
        "bug_id": "directory-ldap-api_bc38342",
        "commit": "https://github.com/apache/directory-ldap-api/commit/bc38342b9897770229c1e9a3a8c78ade59373d4f",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bc38342b9897770229c1e9a3a8c78ade59373d4f/ldap/model/src/main/java/org/apache/directory/api/ldap/model/filter/UndefinedNode.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/filter/UndefinedNode.java?ref=bc38342b9897770229c1e9a3a8c78ade59373d4f",
                "deletions": 1,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/filter/UndefinedNode.java",
                "patch": "@@ -29,7 +29,7 @@\n public final class UndefinedNode extends AbstractExprNode\n {\n     /** A static instance of this node */\n-    public static final ExprNode UNDEFINED_NODE = new UndefinedNode();\n+    public static final UndefinedNode UNDEFINED_NODE = new UndefinedNode();\n \n \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bc38342b9897770229c1e9a3a8c78ade59373d4f/ldap/model/src/main/java/org/apache/directory/api/ldap/model/filter/UndefinedNode.java",
                "sha": "487f280458f6a63fc35d1b03139af7ff824e6f4e",
                "status": "modified"
            }
        ],
        "message": "o fixed a NPE when an expression node contains zero count (DIRSERVER-1922)\no added a test to verify the fix\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1546397 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/48c34b6c1d0baae0917644b3e0d5775197aaafa3",
        "patched_files": [
            "UndefinedNode.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "UndefinedNodeTest.java"
        ]
    },
    "directory-ldap-api_bd74f69": {
        "bug_id": "directory-ldap-api_bd74f69",
        "commit": "https://github.com/apache/directory-ldap-api/commit/bd74f69981957176b0cef555da359862b2c53a19",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/bd74f69981957176b0cef555da359862b2c53a19/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java?ref=bd74f69981957176b0cef555da359862b2c53a19",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "patch": "@@ -271,7 +271,7 @@ public String toNormName()\n \n            String newNormName = sb.toString();\n \n-           if ( normName != newNormName )\n+           if ( ( normName ==  null ) || !normName.equals( newNormName ) )\n            {\n                bytes = StringTools.getBytesUtf8( newNormName );\n                normName = newNormName;\n@@ -441,7 +441,7 @@ public int hashCode()\n    {\n        int result = 17;\n \n-       if ( ( rdns != null ) || ( rdns.size() == 0 ) )\n+       if ( ( rdns != null ) && ( rdns.size() == 0 ) )\n        {\n            for ( Rdn rdn:rdns )\n            {\n@@ -588,6 +588,7 @@ else if ( name instanceof LdapDN )\n                {\n                    e.printStackTrace();\n                    log.error( \"Failed to parse RDN for name \" + name.toString(), e );\n+                   return false;\n                }\n \n                if ( nameRdn.compareTo( ldapRdn ) != 0 )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/bd74f69981957176b0cef555da359862b2c53a19/ldap/src/main/java/org/apache/directory/shared/ldap/name/LdapDN.java",
                "sha": "3721c98c25630af06e0c0437318cdc2c132123f3",
                "status": "modified"
            }
        ],
        "message": "Fixed some potential NPE in 3 methods.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@491287 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/15814d019b14dfc8cd2ceb49c26bd3f1f62df76c",
        "patched_files": [
            "LdapDN.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapDNTest.java"
        ]
    },
    "directory-ldap-api_c26c197": {
        "bug_id": "directory-ldap-api_c26c197",
        "commit": "https://github.com/apache/directory-ldap-api/commit/c26c197059527fcbce14941c160df6ed3b78f7b1",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c26c197059527fcbce14941c160df6ed3b78f7b1/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/DefaultAttribute.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/DefaultAttribute.java?ref=c26c197059527fcbce14941c160df6ed3b78f7b1",
                "deletions": 2,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/DefaultAttribute.java",
                "patch": "@@ -495,7 +495,7 @@ private Value createBinaryValue( AttributeType attributeType, byte[] value )\n     {\n         Value value = get();\n \n-        if ( !isHR && ( value != null ) )\n+        if ( !isHumanReadable() && ( value != null ) )\n         {\n             return value.getBytes();\n         }\n@@ -514,7 +514,7 @@ public String getString() throws LdapInvalidAttributeValueException\n     {\n         Value value = get();\n \n-        if ( isHR && ( value != null ) )\n+        if ( isHumanReadable() && ( value != null ) )\n         {\n             return value.getValue();\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c26c197059527fcbce14941c160df6ed3b78f7b1/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/DefaultAttribute.java",
                "sha": "b1b0557f6f68eb6b07b4961439e2f39444773db7",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c26c197059527fcbce14941c160df6ed3b78f7b1/ldap/model/src/main/java/org/apache/directory/api/ldap/model/name/Dn.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/name/Dn.java?ref=c26c197059527fcbce14941c160df6ed3b78f7b1",
                "deletions": 0,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/name/Dn.java",
                "patch": "@@ -1082,6 +1082,11 @@ else if ( obj instanceof Dn )\n         // Shortcut if the Dn is normalized\n         if ( isSchemaAware() )\n         {\n+            if ( normName == null )\n+            {\n+                // equals() should never NPE\n+                return other.normName == null;\n+            }\n             return normName.equals( other.normName );\n         }\n         ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c26c197059527fcbce14941c160df6ed3b78f7b1/ldap/model/src/main/java/org/apache/directory/api/ldap/model/name/Dn.java",
                "sha": "c5a0f8a551be872348a27bd2731f053510c1cde8",
                "status": "modified"
            }
        ],
        "message": "A couple of NPE fixes",
        "parent": "https://github.com/apache/directory-ldap-api/commit/73d8c2dc10240f7035fc20ba7d99508990b78c8f",
        "patched_files": [
            "Dn.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "DnTest.java"
        ]
    },
    "directory-ldap-api_c5c4388": {
        "bug_id": "directory-ldap-api_c5c4388",
        "commit": "https://github.com/apache/directory-ldap-api/commit/c5c4388990395d6eeff361eb42764f51e17d26c3",
        "file": [
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c5c4388990395d6eeff361eb42764f51e17d26c3/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java?ref=c5c4388990395d6eeff361eb42764f51e17d26c3",
                "deletions": 2,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "patch": "@@ -35,6 +35,7 @@\n import org.apache.directory.api.ldap.model.schema.MatchingRule;\n import org.apache.directory.api.ldap.model.schema.Normalizer;\n import org.apache.directory.api.ldap.model.schema.SyntaxChecker;\n+import org.apache.directory.api.ldap.model.schema.comparators.StringComparator;\n import org.apache.directory.api.ldap.model.schema.normalizers.NoOpNormalizer;\n import org.apache.directory.api.util.Serialize;\n import org.apache.directory.api.util.Strings;\n@@ -94,6 +95,9 @@\n     /** Two flags used to tell if the value is HR or not in serialization */\n     private boolean isHR = true;\n     \n+    /** A default comparator if we don't have an EQUALITY MR */\n+    private static StringComparator stringComparator = new StringComparator( null );\n+    \n     // -----------------------------------------------------------------------\n     // Constructors\n     // -----------------------------------------------------------------------\n@@ -167,7 +171,7 @@ public Value( AttributeType attributeType, byte[] upValue ) throws LdapInvalidAt\n \n         this.attributeType = attributeType;\n         \n-        if ( !attributeType.isRelaxed() )\n+        if ( ( attributeType != null ) && !attributeType.isRelaxed() )\n         {\n             // Check the value\n             SyntaxChecker syntaxChecker = attributeType.getSyntax().getSyntaxChecker();\n@@ -1335,7 +1339,8 @@ else if ( other.bytes.length == 0 )\n                     \n                     if ( other.attributeType.getEquality() == null )\n                     {\n-                        return false;\n+                        // No equality ? Default to comparing using a String comparator\n+                        return stringComparator.compare( normValue, other.normValue ) == 0;\n                     }\n                     \n                     Normalizer normalizer = other.attributeType.getEquality().getNormalizer();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c5c4388990395d6eeff361eb42764f51e17d26c3/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/Value.java",
                "sha": "38fc7f095722261597b32485709d6675ab1860dd",
                "status": "modified"
            }
        ],
        "message": "o Added a default Comparator for when we don't have an Equality MathcingRule\no Added a test for a potential NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-value@1745846 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/994075b13579e0c83047f9cf006ce8f518cec5b7",
        "patched_files": [
            "Value.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ValueTest.java"
        ]
    },
    "directory-ldap-api_c6c5f27": {
        "bug_id": "directory-ldap-api_c6c5f27",
        "commit": "https://github.com/apache/directory-ldap-api/commit/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/AttributeValueAssertion.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/AttributeValueAssertion.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/AttributeValueAssertion.java",
                "patch": "@@ -19,6 +19,8 @@\n  */\n package org.apache.directory.shared.ldap.codec;\n \n+import org.apache.directory.shared.ldap.util.StringTools;\n+\n \n /**\n  * A class to store an attribute value assertion. \n@@ -101,12 +103,13 @@ public void setAttributeDesc( String attributeDesc )\n      */\n     public String toString( String tabs )\n     {\n-\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( tabs ).append( \"AttributeValueAssertion\\n\" );\n-        sb.append( tabs ).append( \"    Assertion description : '\" ).append( attributeDesc.toString() ).append( \"'\\n\" );\n-        sb.append( tabs ).append( \"    Assertion value : '\" ).append( assertionValue.toString() ).append( \"'\\n\" );\n+        sb.append( tabs ).append( \"    Assertion description : '\" );\n+        sb.append( attributeDesc != null ? attributeDesc : \"null\" );\n+        sb.append( \"'\\n\" );\n+        sb.append( tabs ).append( \"    Assertion value : '\" ).append( StringTools.dumpObject( assertionValue ) ).append( \"'\\n\" );\n \n         return sb.toString();\n     }\n@@ -121,10 +124,9 @@ public String toString( String tabs )\n      */\n     public String toStringRFC2254( int filterType )\n     {\n-\n         StringBuffer sb = new StringBuffer();\n \n-        sb.append( attributeDesc.toString() );\n+        sb.append( attributeDesc );\n \n         switch ( filterType )\n         {\n@@ -145,7 +147,7 @@ public String toStringRFC2254( int filterType )\n                 break;\n         }\n \n-        sb.append( assertionValue.toString() );\n+        sb.append( StringTools.dumpObject( assertionValue ) );\n \n         return sb.toString();\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/AttributeValueAssertion.java",
                "sha": "ff3ed1816efffe2b87c51e7c207aea0d124c8c06",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "patch": "@@ -296,7 +296,7 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Control\\n\" );\n-        sb.append( \"        Control type : '\" ).append( controlType != null ? controlType.toString() : \"null\" ).append(\n+        sb.append( \"        Control type : '\" ).append( controlType ).append(\n             \"'\\n\" );\n         sb.append( \"        Criticality : '\" ).append( criticality ).append( \"'\\n\" );\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/Control.java",
                "sha": "258224cf912beb5957f5ff1385e46acacae26ca2",
                "status": "modified"
            },
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "changes": 24,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 14,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "patch": "@@ -50,7 +50,7 @@\n import java.nio.ByteBuffer;\n \n import java.util.ArrayList;\n-import java.util.Iterator;\n+import java.util.List;\n \n \n /**\n@@ -71,7 +71,7 @@\n     private Asn1Object protocolOp;\n \n     /** The controls */\n-    private ArrayList<Control> controls;\n+    private List<Control> controls;\n \n     /** The current control */\n     private transient Control currentControl;\n@@ -118,7 +118,7 @@ public Control getControls( int i )\n      * \n      * @return The Control Objects\n      */\n-    public ArrayList getControls()\n+    public List<Control> getControls()\n     {\n         return controls;\n     }\n@@ -562,12 +562,10 @@ public int computeLength()\n             // + Length(L3) + L3\n             controlsSequenceLength = 0;\n \n-            Iterator controlIterator = controls.iterator();\n-\n             // We may have more than one control. ControlsLength is L4.\n-            while ( controlIterator.hasNext() )\n+            for ( Control control:controls )\n             {\n-                controlsSequenceLength += ( ( Control ) controlIterator.next() ).computeLength();\n+                controlsSequenceLength += control.computeLength();\n             }\n \n             // Computes the controls length\n@@ -640,11 +638,9 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n             bb.put( TLV.getBytes( controlsLength ) );\n \n             // Encode each control\n-            Iterator controlIterator = controls.iterator();\n-\n-            while ( controlIterator.hasNext() )\n+            for ( Control control:controls )\n             {\n-                ( ( Control ) controlIterator.next() ).encode( bb );\n+                control.encode( bb );\n             }\n         }\n \n@@ -663,13 +659,13 @@ public String toString()\n \n         sb.append( \"LdapMessage\\n\" );\n         sb.append( \"    message Id : \" ).append( messageId ).append( '\\n' );\n-        sb.append( protocolOp.toString() );\n+        sb.append( protocolOp );\n \n         if ( controls != null )\n         {\n-            for ( int i = 0; i < controls.size(); i++ )\n+            for ( Control control:controls )\n             {\n-                sb.append( ( ( Control ) controls.get( i ) ).toString() );\n+                sb.append( control );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapMessage.java",
                "sha": "9b4a79e5e8b28c75369922b10c2d47ebf22cfbcb",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResponse.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResponse.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResponse.java",
                "patch": "@@ -127,6 +127,6 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n      */\n     public String toString()\n     {\n-        return ldapResult.toString();\n+        return ( ldapResult != null ? ldapResult.toString() : \"\" );\n     }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResponse.java",
                "sha": "343defb20a1859fc39d65bfcc027053cc620b384",
                "status": "modified"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "patch": "@@ -615,14 +615,16 @@ public String toString()\n         if ( ( referrals != null ) && ( referrals.size() != 0 ) )\n         {\n             sb.append( \"            Referrals :\\n\" );\n+            int i = 0;\n \n-            for ( int i = 0; i < referrals.size(); i++ )\n+            for ( LdapURL referral:referrals )\n             {\n \n-                LdapURL referral = ( LdapURL ) referrals.get( i );\n-\n-                sb.append( \"                Referral[\" ).append( i ).append( \"] :\" ).append( referral == null ? \"\" : referral.toString() )\n-                    .append( '\\n' );\n+                sb.append( \"                Referral[\" ).\n+                    append( i++ ).\n+                    append( \"] :\" ).\n+                    append( referral ).\n+                    append( '\\n' );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/LdapResult.java",
                "sha": "52e9fd916bf0bc7dada6b6faa38b41db294f31b6",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/TwixTransformer.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/TwixTransformer.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/TwixTransformer.java",
                "patch": "@@ -29,7 +29,6 @@\n import javax.naming.directory.Attribute;\n import javax.naming.directory.BasicAttribute;\n import javax.naming.directory.ModificationItem;\n-import javax.naming.ldap.Control;\n \n import org.apache.directory.shared.asn1.Asn1Object;\n import org.apache.directory.shared.asn1.codec.DecoderException;\n@@ -751,7 +750,7 @@ public Message transform( Object obj )\n         }\n \n         // Transform the controls, too\n-        ArrayList twixControls = twixMessage.getControls();\n+        List twixControls = twixMessage.getControls();\n \n         if ( twixControls != null )\n         {\n@@ -1237,9 +1236,10 @@ public Object transform( Message msg )\n     private void transformControls( LdapMessage twixMessage, Message msg )\n     {\n         Iterator list = msg.getControls().values().iterator();\n+        \n         while ( list.hasNext() )\n         {\n-            Control control = ( Control ) list.next();\n+            javax.naming.ldap.Control control = ( javax.naming.ldap.Control ) list.next();\n             org.apache.directory.shared.ldap.codec.Control twixControl = new org.apache.directory.shared.ldap.codec.Control();\n             twixMessage.addControl( twixControl );\n             twixControl.setCriticality( control.isCritical() );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/TwixTransformer.java",
                "sha": "615e50da7cd92356903d7ad6b4edb7be3545d236",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/add/AddRequest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/add/AddRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/add/AddRequest.java",
                "patch": "@@ -441,7 +441,7 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Add Request\\n\" );\n-        sb.append( \"        Entry : '\" ).append( entry.toString() ).append( \"'\\n\" );\n+        sb.append( \"        Entry : '\" ).append( entry ).append( \"'\\n\" );\n         sb.append( \"        Attributes\\n\" );\n \n         if ( ( attributes == null ) || ( attributes.size() == 0 ) )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/add/AddRequest.java",
                "sha": "d49ef45272aea62a3669a1a93affcf073688477b",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindRequest.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindRequest.java",
                "patch": "@@ -262,22 +262,21 @@ public String toString()\n         sb.append( \"    BindRequest\\n\" );\n         sb.append( \"        Version : '\" ).append( version ).append( \"'\\n\" );\n \n-        if ( StringTools.isEmpty( name.toString() ) )\n+        if ( ( null == name ) || StringTools.isEmpty( name.toString() ) )\n         {\n             sb.append( \"        Name : anonymous\\n\" );\n         }\n         else\n         {\n-            sb.append( \"        Name : '\" ).append( name.toString() ).append( \"'\\n\" );\n+            sb.append( \"        Name : '\" ).append( name ).append( \"'\\n\" );\n \n             if ( authentication instanceof SimpleAuthentication )\n             {\n-                sb.append( \"        Simple authentication : '\" ).append(\n-                    ( ( SimpleAuthentication ) authentication ).toString() ).append( \"'\\n\" );\n+                sb.append( \"        Simple authentication : '\" ).append( authentication ).append( \"'\\n\" );\n             }\n             else\n             {\n-                sb.append( ( ( SaslCredentials ) authentication ).toString() );\n+                sb.append( authentication );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindRequest.java",
                "sha": "4988403288b3947bfb5e56c518f9134328c2f7de",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindResponse.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindResponse.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindResponse.java",
                "patch": "@@ -27,6 +27,7 @@\n import org.apache.directory.shared.asn1.codec.EncoderException;\n import org.apache.directory.shared.ldap.codec.LdapConstants;\n import org.apache.directory.shared.ldap.codec.LdapResponse;\n+import org.apache.directory.shared.ldap.util.StringTools;\n \n \n /**\n@@ -186,7 +187,9 @@ public String toString()\n \n         if ( serverSaslCreds != null )\n         {\n-            sb.append( \"        Server sasl credentials : '\" ).append( serverSaslCreds.toString() ).append( \"'\\n\" );\n+            sb.append( \"        Server sasl credentials : '\" ).\n+                append( StringTools.dumpBytes( serverSaslCreds ) ).\n+                append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/BindResponse.java",
                "sha": "d39907b383563c1113b59b3765a85e6c17b30844",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/SaslCredentials.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/SaslCredentials.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/SaslCredentials.java",
                "patch": "@@ -208,11 +208,13 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"        Sasl credentials\\n\" );\n-        sb.append( \"            Mechanism :'\" ).append( mechanism.toString() ).append( \"'\\n\" );\n+        sb.append( \"            Mechanism :'\" ).append( mechanism ).append( \"'\\n\" );\n \n         if ( credentials != null )\n         {\n-            sb.append( \"            Credentials :'\" ).append( credentials.toString() ).append( \"'\\n\" );\n+            sb.append( \"            Credentials :'\" ).\n+                append( StringTools.dumpBytes(  credentials ) ).\n+                append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/bind/SaslCredentials.java",
                "sha": "e43d870b51a8c70fd4a9d07e6f33358c6726c71a",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/compare/CompareRequest.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/compare/CompareRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/compare/CompareRequest.java",
                "patch": "@@ -274,9 +274,9 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Compare request\\n\" );\n-        sb.append( \"        Entry : '\" ).append( entry.toString() ).append( \"'\\n\" );\n-        sb.append( \"        Attribute description : '\" ).append( attributeDesc.toString() ).append( \"'\\n\" );\n-        sb.append( \"        Attribute value : '\" ).append( assertionValue.toString() ).append( \"'\\n\" );\n+        sb.append( \"        Entry : '\" ).append( entry ).append( \"'\\n\" );\n+        sb.append( \"        Attribute description : '\" ).append( attributeDesc ).append( \"'\\n\" );\n+        sb.append( \"        Attribute value : '\" ).append( StringTools.dumpObject( assertionValue )  ).append( \"'\\n\" );\n \n         return sb.toString();\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/compare/CompareRequest.java",
                "sha": "630c808de96e1595ad720ba788f140d48c8c31d1",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/del/DelRequest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/del/DelRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/del/DelRequest.java",
                "patch": "@@ -157,7 +157,7 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Del request\\n\" );\n-        sb.append( \"        Entry : '\" ).append( entry.toString() ).append( \"'\\n\" );\n+        sb.append( \"        Entry : '\" ).append( entry ).append( \"'\\n\" );\n \n         return sb.toString();\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/del/DelRequest.java",
                "sha": "20e1c3a501bb1378a07f8315883054ed6c39efad",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedRequest.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedRequest.java",
                "patch": "@@ -227,11 +227,13 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Extended request\\n\" );\n-        sb.append( \"        Request name : '\" ).append( requestName.toString() ).append( \"'\\n\" );\n+        sb.append( \"        Request name : '\" ).append( requestName ).append( \"'\\n\" );\n \n         if ( requestValue != null )\n         {\n-            sb.append( \"        Request value : '\" ).append( requestValue.toString() ).append( \"'\\n\" );\n+            sb.append( \"        Request value : '\" ).\n+                append( StringTools.dumpBytes( requestValue ) ).\n+                append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedRequest.java",
                "sha": "5f6f454018f7cfddfa9a6670014389dd5e205bb1",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedResponse.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedResponse.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedResponse.java",
                "patch": "@@ -264,12 +264,12 @@ public String toString()\n \n         if ( responseName != null )\n         {\n-            sb.append( \"        Response name :'\" ).append( responseName.toString() ).append( \"'\\n\" );\n+            sb.append( \"        Response name :'\" ).append( responseName ).append( \"'\\n\" );\n         }\n \n         if ( response != null )\n         {\n-            sb.append( \"        Response :'\" ).append( response.toString() ).append( \"'\\n\" );\n+            sb.append( \"        Response :'\" ).append( response ).append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/ExtendedResponse.java",
                "sha": "ecd67b2be9849e21a3e7daca033d16251e1bbb80",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 5,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "patch": "@@ -211,16 +211,14 @@ public String toString()\n         sb.append( \"    TimeOffline : \" ).append( timeOffline ).append( '\\n' );\n         sb.append( \"    Delay : \" ).append( delay ).append( '\\n' );\n \n-        if ( replicatedContexts.size() != 0 )\n+        if ( ( replicatedContexts != null) && ( replicatedContexts.size() != 0 ) )\n         {\n-            Iterator replicatedContextIterator = replicatedContexts.iterator();\n             sb.append( \"    Replicated contexts :\" );\n \n             // We may have more than one reference.\n-            while ( replicatedContextIterator.hasNext() )\n+            for ( LdapURL url:replicatedContexts )\n             {\n-                LdapURL url = ( LdapURL ) replicatedContextIterator.next();\n-                sb.append( \"\\n        \" ).append( url.toString() );\n+                sb.append( \"\\n        \" ).append( url );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulDisconnect.java",
                "sha": "89022c0f37b47361db460df685f0220104e4bde9",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdown.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdown.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdown.java",
                "patch": "@@ -113,7 +113,7 @@ public String toString()\n     {\n         StringBuffer sb = new StringBuffer();\n \n-        sb.append( \"Graceful Shiutdown extended operation\" );\n+        sb.append( \"Graceful Shutdown extended operation\" );\n         sb.append( \"    TimeOffline : \" ).append( timeOffline ).append( '\\n' );\n         sb.append( \"    Delay : \" ).append( delay ).append( '\\n' );\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/extended/operations/GracefulShutdown.java",
                "sha": "20eb6f9421889cb77d2f74243baf3d17f56b2bc6",
                "status": "modified"
            },
            {
                "additions": 55,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequest.java",
                "changes": 95,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 40,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequest.java",
                "patch": "@@ -539,68 +539,83 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n      */\n     public String toString()\n     {\n-\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Modify Request\\n\" );\n         sb.append( \"        Object : '\" ).append( object ).append( \"'\\n\" );\n \n         if ( modifications != null )\n         {\n-\n-            for ( int i = 0; i < modifications.size(); i++ )\n+            int i = 0;\n+            \n+            for ( ModificationItem modification:modifications )\n             {\n-\n-                ModificationItem modification = ( ModificationItem ) modifications.get( i );\n-\n                 sb.append( \"            Modification[\" ).append( i ).append( \"]\\n\" );\n                 sb.append( \"                Operation : \" );\n \n-                switch ( modification.getModificationOp() )\n+                if ( modification != null )\n                 {\n-\n-                    case DirContext.ADD_ATTRIBUTE:\n-                        sb.append( \" add\\n\" );\n-                        break;\n-\n-                    case DirContext.REPLACE_ATTRIBUTE:\n-                        sb.append( \" replace\\n\" );\n-                        break;\n-\n-                    case DirContext.REMOVE_ATTRIBUTE:\n-                        sb.append( \" delete\\n\" );\n-                        break;\n-                }\n-\n-                sb.append( \"                Modification\\n\" );\n-\n-                Attribute attribute = modification.getAttribute();\n-\n-                try\n-                {\n-                    sb.append( \"                    Type : '\" ).append( attribute.getID() ).append( \"'\\n\" );\n-                    sb.append( \"                    Vals\\n\" );\n-\n-                    for ( int j = 0; j < attribute.size(); j++ )\n+                    switch ( modification.getModificationOp() )\n                     {\n+    \n+                        case DirContext.ADD_ATTRIBUTE:\n+                            sb.append( \" add\\n\" );\n+                            break;\n+    \n+                        case DirContext.REPLACE_ATTRIBUTE:\n+                            sb.append( \" replace\\n\" );\n+                            break;\n+    \n+                        case DirContext.REMOVE_ATTRIBUTE:\n+                            sb.append( \" delete\\n\" );\n+                            break;\n+                    }\n \n-                        Object attributeValue = attribute.get( j );\n-                        sb.append( \"                        Val[\" ).append( j ).append( \"] : '\" );\n-\n-                        if ( attributeValue instanceof String )\n+                    sb.append( \"                Modification\\n\" );\n+    \n+                    Attribute attribute = modification.getAttribute();\n+    \n+                    if ( attribute != null )\n+                    {\n+                        try\n                         {\n-                            sb.append( attributeValue ).append( \"' \\n\" );\n+                            sb.append( \"                    Type : '\" ).append( attribute.getID() ).append( \"'\\n\" );\n+                            sb.append( \"                    Vals\\n\" );\n+        \n+                            for ( int j = 0; j < attribute.size(); j++ )\n+                            {\n+        \n+                                Object attributeValue = attribute.get( j );\n+                                sb.append( \"                        Val[\" ).append( j ).append( \"] : '\" );\n+        \n+                                if ( attributeValue != null )\n+                                {\n+                                    if ( attributeValue instanceof String )\n+                                    {\n+                                        sb.append( attributeValue ).append( \"' \\n\" );\n+                                    }\n+                                    else\n+                                    {\n+                                        sb.append( StringTools.utf8ToString( ( byte[] ) attributeValue ) ).append( \"' \\n\" );\n+                                    }\n+                                }\n+                                else\n+                                {\n+                                    sb.append( \"<null>'\\n\" );\n+                                }\n+                            }\n                         }\n-                        else\n+                        catch ( NamingException ne )\n                         {\n-                            sb.append( StringTools.utf8ToString( ( byte[] ) attributeValue ) ).append( \"' \\n\" );\n+                            log.error( \"Naming exception while printing the '{}'\", attribute.getID() );\n                         }\n                     }\n                 }\n-                catch ( NamingException ne )\n+                else\n                 {\n-                    log.error( \"Naming exception while printing the '{}'\", attribute.getID() );\n+                    sb.append( \" unknown modification operation\\n\" );\n                 }\n+\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modify/ModifyRequest.java",
                "sha": "4121b9b87b223b2d252084dc886cc2f9b231b0b0",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modifyDn/ModifyDNRequest.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modifyDn/ModifyDNRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 2,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/modifyDn/ModifyDNRequest.java",
                "patch": "@@ -289,12 +289,12 @@ public String toString()\n \n         sb.append( \"    ModifyDN Response\\n\" );\n         sb.append( \"        Entry : '\" ).append( entry ).append( \"'\\n\" );\n-        sb.append( \"        New RDN : '\" ).append( newRDN.toString() ).append( \"'\\n\" );\n+        sb.append( \"        New RDN : '\" ).append( newRDN ).append( \"'\\n\" );\n         sb.append( \"        Delete old RDN : \" ).append( deleteOldRDN ).append( \"\\n\" );\n \n         if ( newSuperior != null )\n         {\n-            sb.append( \"        New superior : '\" ).append( newSuperior.toString() ).append( \"'\\n\" );\n+            sb.append( \"        New superior : '\" ).append( newSuperior ).append( \"'\\n\" );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/modifyDn/ModifyDNRequest.java",
                "sha": "10a9d81fc7850a94ca8090e770e7f4743147fd42",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/AttributeValueAssertionFilter.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/AttributeValueAssertionFilter.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/AttributeValueAssertionFilter.java",
                "patch": "@@ -235,6 +235,6 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n      */\n     public String toString()\n     {\n-        return assertion.toStringRFC2254( filterType );\n+        return assertion != null ? assertion.toStringRFC2254( filterType ) : \"\";\n     }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/AttributeValueAssertionFilter.java",
                "sha": "5245696526a1704235d774b979f48ab920e776f2",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ConnectorFilter.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ConnectorFilter.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 9,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ConnectorFilter.java",
                "patch": "@@ -154,20 +154,13 @@ public ByteBuffer encode( ByteBuffer buffer ) throws EncoderException\n      */\n     public String toString()\n     {\n-\n         StringBuffer sb = new StringBuffer();\n \n         if ( ( filterSet != null ) && ( filterSet.size() != 0 ) )\n         {\n-\n-            Iterator filterIterator = filterSet.iterator();\n-\n-            while ( filterIterator.hasNext() )\n+            for ( Filter filter:filterSet )\n             {\n-\n-                Filter filter = ( Filter ) filterIterator.next();\n-\n-                sb.append( '(' ).append( filter.toString() ).append( ')' );\n+                sb.append( '(' ).append( filter ).append( ')' );\n             }\n         }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ConnectorFilter.java",
                "sha": "22bb9ce4b834a06adf35442d675a75483e5449ed",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ExtensibleMatchFilter.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ExtensibleMatchFilter.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 3,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ExtensibleMatchFilter.java",
                "patch": "@@ -344,7 +344,7 @@ public String toString()\n \n         if ( type != null )\n         {\n-            sb.append( type.toString() );\n+            sb.append( type );\n         }\n \n         if ( dnAttributes )\n@@ -362,10 +362,10 @@ public String toString()\n         }\n         else\n         {\n-            sb.append( ':' ).append( matchingRule.toString() );\n+            sb.append( ':' ).append( matchingRule );\n         }\n \n-        sb.append( \":=\" ).append( matchValue.toString() );\n+        sb.append( \":=\" ).append( matchValue );\n \n         return sb.toString();\n     }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/ExtensibleMatchFilter.java",
                "sha": "fff07ec89cfb83ac776b96d06afbee83fcc6bc86",
                "status": "modified"
            },
            {
                "additions": 21,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchRequest.java",
                "changes": 40,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchRequest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 19,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchRequest.java",
                "patch": "@@ -610,11 +610,7 @@ private String buildFilter()\n \n         StringBuffer sb = new StringBuffer();\n \n-        sb.append( \"(\" );\n-\n-        sb.append( filter.toString() );\n-\n-        sb.append( \")\" );\n+        sb.append( \"(\" ).append( filter ).append( \")\" );\n \n         return sb.toString();\n     }\n@@ -627,23 +623,29 @@ private String buildAttributes()\n     {\n         StringBuffer sb = new StringBuffer();\n \n-        NamingEnumeration attrs = attributes.getAll();\n-        boolean isFirst = true;\n-\n-        while ( attrs.hasMoreElements() )\n+        if ( attributes != null )\n         {\n-            Attribute attr = ( BasicAttribute ) attrs.nextElement();\n-\n-            if ( isFirst )\n-            {\n-                isFirst = false;\n-            }\n-            else\n+            NamingEnumeration attrs = attributes.getAll();\n+            boolean isFirst = true;\n+    \n+            if ( attrs != null )\n             {\n-                sb.append( \", \" );\n+                while ( attrs.hasMoreElements() )\n+                {\n+                    Attribute attr = ( BasicAttribute ) attrs.nextElement();\n+        \n+                    if ( isFirst )\n+                    {\n+                        isFirst = false;\n+                    }\n+                    else\n+                    {\n+                        sb.append( \", \" );\n+                    }\n+        \n+                    sb.append( attr != null ? attr.getID() : \"<no ID>\" );\n+                }\n             }\n-\n-            sb.append( attr.getID() );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchRequest.java",
                "sha": "4876936a8b5ed652ee4bf737baa682ac34df4403",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntry.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntry.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 1,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntry.java",
                "patch": "@@ -448,7 +448,7 @@ public String toString()\n         StringBuffer sb = new StringBuffer();\n \n         sb.append( \"    Search Result Entry\\n\" );\n-        sb.append( \"        Object Name : '\" ).append( objectName.toString() ).append( \"'\\n\" );\n+        sb.append( \"        Object Name : '\" ).append( objectName ).append( \"'\\n\" );\n         sb.append( \"        Attributes\\n\" );\n \n         if ( ( partialAttributeList == null ) || ( partialAttributeList.size() == 0 ) )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultEntry.java",
                "sha": "6dcd227417eb0c2ea7b1239842b9d68f79cd8c76",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultReference.java",
                "changes": 13,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultReference.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 7,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultReference.java",
                "patch": "@@ -31,6 +31,7 @@\n import java.nio.ByteBuffer;\n import java.util.ArrayList;\n import java.util.Iterator;\n+import java.util.List;\n \n \n /**\n@@ -46,7 +47,7 @@\n     // ----------------------------------------------------------------------------\n \n     /** The set of LdapURLs */\n-    private ArrayList searchResultReferences;\n+    private List<LdapURL> searchResultReferences;\n \n     /** The search result reference length */\n     private transient int searchResultReferenceLength;\n@@ -61,7 +62,7 @@\n     public SearchResultReference()\n     {\n         super();\n-        searchResultReferences = new ArrayList();\n+        searchResultReferences = new ArrayList<LdapURL>();\n     }\n \n \n@@ -95,7 +96,7 @@ public void addSearchResultReference( LdapURL searchResultReference )\n      * \n      * @return An ArrayList of SearchResultReferences\n      */\n-    public ArrayList getSearchResultReferences()\n+    public List<LdapURL> getSearchResultReferences()\n     {\n         return searchResultReferences;\n     }\n@@ -202,11 +203,9 @@ public String toString()\n         {\n             sb.append( \"        References\\n\" );\n \n-            Iterator referencesIterator = searchResultReferences.iterator();\n-\n-            while ( referencesIterator.hasNext() )\n+            for ( LdapURL url:searchResultReferences )\n             {\n-                sb.append( \"            '\" ).append( ( ( LdapURL ) referencesIterator.next() ).toString() ).append(\n+                sb.append( \"            '\" ).append( url ).append(\n                     \"'\\n\" );\n             }\n         }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SearchResultReference.java",
                "sha": "10a284f4fe516359d2f6173c9018f620c9b766fa",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SubstringFilter.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SubstringFilter.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 9,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SubstringFilter.java",
                "patch": "@@ -24,6 +24,7 @@\n import java.nio.ByteBuffer;\n import java.util.ArrayList;\n import java.util.Iterator;\n+import java.util.List;\n \n import org.apache.directory.shared.asn1.ber.tlv.TLV;\n import org.apache.directory.shared.asn1.ber.tlv.UniversalTag;\n@@ -70,7 +71,7 @@\n     private String initialSubstrings;\n \n     /** The any filter. It's a list of LdapString */\n-    private ArrayList anySubstrings;\n+    private List<String> anySubstrings;\n \n     /** The final filter */\n     private String finalSubstrings;\n@@ -91,7 +92,7 @@\n      */\n     public SubstringFilter()\n     {\n-        anySubstrings = new ArrayList( 1 );\n+        anySubstrings = new ArrayList<String>( 1 );\n     }\n \n \n@@ -100,7 +101,7 @@ public SubstringFilter()\n      * \n      * @return Returns the anySubstrings.\n      */\n-    public ArrayList getAnySubstrings()\n+    public List<String> getAnySubstrings()\n     {\n         return anySubstrings;\n     }\n@@ -360,24 +361,22 @@ public String toString()\n \n         if ( initialSubstrings != null )\n         {\n-            sb.append( initialSubstrings.toString() );\n+            sb.append( initialSubstrings );\n         }\n \n         sb.append( '*' );\n \n         if ( anySubstrings != null )\n         {\n-            Iterator anyIterator = anySubstrings.iterator();\n-\n-            while ( anyIterator.hasNext() )\n+            for ( String any:anySubstrings )\n             {\n-                sb.append( ( String ) anyIterator.next() ).append( '*' );\n+                sb.append( any ).append( '*' );\n             }\n         }\n \n         if ( finalSubstrings != null )\n         {\n-            sb.append( finalSubstrings.toString() );\n+            sb.append( finalSubstrings );\n         }\n \n         return sb.toString();",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/SubstringFilter.java",
                "sha": "7b07d1092741c53897f05adc889b635fb31c8b88",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControl.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControl.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControl.java",
                "patch": "@@ -169,6 +169,7 @@ public String toString()\n         sb.append( \"    Entry Change Control\\n\" );\n         sb.append( \"        changeType   : '\" ).append( changeType ).append( \"'\\n\" );\n         sb.append( \"        previousDN   : '\" ).append( previousDn ).append( \"'\\n\" );\n+        \n         if ( changeNumber == UNDEFINED_CHANGE_NUMBER )\n         {\n             sb.append( \"        changeNumber : '\" ).append( \"UNDEFINED\" ).append( \"'\\n\" );\n@@ -177,6 +178,7 @@ public String toString()\n         {\n             sb.append( \"        changeNumber : '\" ).append( changeNumber ).append( \"'\\n\" );\n         }\n+        \n         return sb.toString();\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/codec/search/controls/EntryChangeControl.java",
                "sha": "401e62430e2a5d09a5fc6301868b2d010c4401e5",
                "status": "modified"
            },
            {
                "additions": 43,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "changes": 77,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 34,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "patch": "@@ -347,48 +347,57 @@ public static String toString( String tabs, Attributes attributes )\n \n         sb.append( tabs ).append( \"Attributes\\n\" );\n \n-        NamingEnumeration attributesIterator = attributes.getAll();\n-\n-        while ( attributesIterator.hasMoreElements() )\n+        if ( attributes != null )\n         {\n-            Attribute attribute = ( Attribute ) attributesIterator.nextElement();\n-\n-            sb.append( tabs ).append( \"    Type : '\" ).append( attribute.getID() ).append( \"'\\n\" );\n-\n-            for ( int j = 0; j < attribute.size(); j++ )\n+            NamingEnumeration attributesIterator = attributes.getAll();\n+    \n+            while ( attributesIterator.hasMoreElements() )\n             {\n-\n-                try\n+                Attribute attribute = ( Attribute ) attributesIterator.nextElement();\n+    \n+                if ( attribute != null )\n                 {\n-                    Object attr = attribute.get( j );\n-\n-                    if ( attr instanceof String )\n-                    {\n-                        sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" ).append( attr ).append(\n-                            \" \\n\" );\n-                    }\n-                    else if ( attr instanceof byte[] )\n-                    {\n-                        String string = StringTools.utf8ToString( ( byte[] ) attr );\n-\n-                        sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" );\n-                        sb.append( string ).append( '/' );\n-                        sb.append( StringTools.dumpBytes( ( byte[] ) attr ) );\n-                        sb.append( \" \\n\" );\n-                    }\n-                    else\n+                    sb.append( tabs ).append( \"    Type : '\" ).append( attribute.getID() ).append( \"'\\n\" );\n+        \n+                    for ( int j = 0; j < attribute.size(); j++ )\n                     {\n-                        sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" ).append( attr ).append(\n-                            \" \\n\" );\n+        \n+                        try\n+                        {\n+                            Object attr = attribute.get( j );\n+        \n+                            if ( attr != null )\n+                            {\n+                                if ( attr instanceof String )\n+                                {\n+                                    sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" ).append( attr ).append(\n+                                        \" \\n\" );\n+                                }\n+                                else if ( attr instanceof byte[] )\n+                                {\n+                                    String string = StringTools.utf8ToString( ( byte[] ) attr );\n+            \n+                                    sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" );\n+                                    sb.append( string ).append( '/' );\n+                                    sb.append( StringTools.dumpBytes( ( byte[] ) attr ) );\n+                                    sb.append( \" \\n\" );\n+                                }\n+                                else\n+                                {\n+                                    sb.append( tabs ).append( \"        Val[\" ).append( j ).append( \"] : \" ).append( attr ).append(\n+                                        \" \\n\" );\n+                                }\n+                            }\n+                        }\n+                        catch ( NamingException ne )\n+                        {\n+                            sb.append( \"Bad attribute : \" ).append( ne.getMessage() );\n+                        }\n                     }\n                 }\n-                catch ( NamingException ne )\n-                {\n-                    sb.append( \"Bad attribute : \" ).append( ne.getMessage() );\n-                }\n             }\n         }\n-\n+        \n         return sb.toString();\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/util/AttributeUtils.java",
                "sha": "56b2a6df6d7ffd65c1dbaa40341d96afb0ca1a48",
                "status": "modified"
            },
            {
                "additions": 29,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "changes": 29,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 0,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "patch": "@@ -833,6 +833,35 @@ public static final String dumpBytes( byte[] buffer )\n         return sb.toString();\n     }\n \n+    /**\n+     * \n+     * Helper method to render an object which can be a String or a byte[]\n+     *\n+     * @return A string representing the object\n+     */\n+    public static String dumpObject( Object object )\n+    {\n+        if ( object != null )\n+        {\n+            if ( object instanceof String )\n+            {\n+                return (String)object;\n+            }\n+            else if ( object instanceof byte[] )\n+            {\n+                return dumpBytes( (byte[])object );\n+            }\n+            else\n+            {\n+                return \"<unknown type>\";\n+            }\n+        }\n+        else\n+        {\n+            return \"\";\n+        }\n+    }\n+\n     /**\n      * Helper function that dump an array of bytes in hex pair form, \n      * without '0x' and space chars",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/main/java/org/apache/directory/shared/ldap/util/StringTools.java",
                "sha": "8a25584d6c0ff443f817c35271f3faf4ebc62662",
                "status": "modified"
            },
            {
                "additions": 65,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/test/java/org/apache/directory/shared/ldap/codec/search/SearchRequestTest.java",
                "changes": 65,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/codec/search/SearchRequestTest.java?ref=c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee",
                "deletions": 0,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/codec/search/SearchRequestTest.java",
                "patch": "@@ -4223,4 +4223,69 @@ public void testDecodeSearchRequestAnd_OrPrPr_NotGEq()\n             fail( ee.getMessage() );\n         }\n     }\n+    \n+    /**\n+     * Test the decoding of a SearchRequest\n+     * for rootDSE\n+     */\n+    public void testDecodeSearchRequestRootDSE()\n+    {\n+        Asn1Decoder ldapDecoder = new LdapDecoder();\n+\n+        ByteBuffer stream = ByteBuffer.allocate( 0x33 );\n+        stream.put( new byte[]\n+            { \n+                0x30, (byte)0x84, 0x00, 0x00, 0x00, 0x2D, \n+                  0x02, 0x01, 0x01, \n+                  0x63, (byte)0x84, 0x00, 0x00, 0x00, 0x24, \n+                    0x04, 0x00, \n+                    0x0A, 0x01, 0x00, \n+                    0x0A, 0x01, 0x00, \n+                    0x02, 0x01, 0x00, \n+                    0x02, 0x01, 0x00, \n+                    0x01, 0x01, 0x00, \n+                    (byte)0x87, 0x0B, \n+                      0x6F, 0x62, 0x6A, 0x65, 0x63, 0x74, 0x43, 0x6C, 0x61, 0x73, 0x73, \n+                    0x30, (byte)0x84, 0x00, 0x00, 0x00, 0x00\n+            } );\n+\n+        String decodedPdu = StringTools.dumpBytes( stream.array() );\n+        stream.flip();\n+\n+        // Allocate a BindRequest Container\n+        IAsn1Container ldapMessageContainer = new LdapMessageContainer();\n+\n+        try\n+        {\n+            ldapDecoder.decode( stream, ldapMessageContainer );\n+        }\n+        catch ( DecoderException de )\n+        {\n+            de.printStackTrace();\n+            fail( de.getMessage() );\n+        }\n+        catch ( NamingException ne )\n+        {\n+            ne.printStackTrace();\n+            fail( ne.getMessage() );\n+        }\n+\n+        LdapMessage message = ( ( LdapMessageContainer ) ldapMessageContainer ).getLdapMessage();\n+        SearchRequest sr = message.getSearchRequest();\n+\n+        assertEquals( 1, message.getMessageId() );\n+        assertEquals( \"\", sr.getBaseObject().toString() );\n+        assertEquals( ScopeEnum.BASE_OBJECT, sr.getScope() );\n+        assertEquals( LdapConstants.SCOPE_BASE_OBJECT, sr.getDerefAliases() );\n+        assertEquals( 0, sr.getSizeLimit() );\n+        assertEquals( 0, sr.getTimeLimit() );\n+        assertEquals( false, sr.isTypesOnly() );\n+        \n+        PresentFilter presentFilter = ( PresentFilter ) sr.getFilter();\n+        assertNotNull( presentFilter );\n+        assertEquals( \"objectClass\", presentFilter.getAttributeDescription().toString() );\n+        \n+        Attributes attributes = sr.getAttributes();\n+        assertEquals( 0, attributes.size() );\n+    }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/c6c5f27ec2a2361ac8d97d4ac764f404795dc8ee/ldap/src/test/java/org/apache/directory/shared/ldap/codec/search/SearchRequestTest.java",
                "sha": "9681946a947189d0301d76201503176147c4d776",
                "status": "modified"
            }
        ],
        "message": "Ported modifications made this moring in 1.0 to 1.5 : added some defensive test in the toString methods\nto avoid a NPE. Also added a test for rootDSE searching.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@479688 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/bd4f504f992aaa49564b543a08b4d60549d6e483",
        "patched_files": [
            "LdapMessage.java",
            "LdapResponse.java",
            "LdapResult.java",
            "DelRequest.java",
            "ExtendedResponse.java",
            "GracefulDisconnect.java",
            "BindResponse.java",
            "SaslCredentials.java",
            "AttributeValueAssertionFilter.java",
            "Control.java",
            "SearchResultEntry.java",
            "AttributeUtils.java",
            "SearchResultReference.java",
            "ModifyDNRequest.java",
            "TwixTransformer.java",
            "BindRequest.java",
            "AddRequest.java",
            "EntryChangeControl.java",
            "ExtendedRequest.java",
            "AttributeValueAssertion.java",
            "GracefulShutdown.java",
            "StringTools.java",
            "SubstringFilter.java",
            "ExtensibleMatchFilter.java",
            "ConnectorFilter.java",
            "ModifyRequest.java",
            "SearchRequest.java",
            "CompareRequest.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "ModifyRequestTest.java",
            "SearchResultReferenceTest.java",
            "ExtendedResponseTest.java",
            "GracefulDisconnectTest.java",
            "BindRequestTest.java",
            "BindResponseTest.java",
            "ModifyDNRequestTest.java",
            "StringToolsTest.java",
            "LdapMessageTest.java",
            "SearchRequestTest.java",
            "AddRequestTest.java",
            "EntryChangeControlTest.java",
            "DelRequestTest.java",
            "SearchResultEntryTest.java",
            "ExtendedRequestTest.java",
            "LdapResultTest.java",
            "CompareRequestTest.java",
            "GracefulShutdownTest.java"
        ]
    },
    "directory-ldap-api_cc9992a": {
        "bug_id": "directory-ldap-api_cc9992a",
        "commit": "https://github.com/apache/directory-ldap-api/commit/cc9992a5e9fc25d913c26e6ff9a3abe7bdf94ea4",
        "file": [
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/cc9992a5e9fc25d913c26e6ff9a3abe7bdf94ea4/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "changes": 41,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java?ref=cc9992a5e9fc25d913c26e6ff9a3abe7bdf94ea4",
                "deletions": 19,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "patch": "@@ -1821,28 +1821,31 @@ public void dissociateFromSchema( SchemaObject schemaObject ) throws NamingExcep\n         // And unregister the schemaObject within its schema\n         Set<SchemaObjectWrapper> content = schemaObjects.get( StringTools.toLowerCase( schemaObject.getSchemaName() ) );\n \n-        SchemaObjectWrapper schemaObjectWrapper = new SchemaObjectWrapper( schemaObject );\n-\n-        if ( content.contains( schemaObjectWrapper ) )\n+        if ( content != null )\n         {\n-            // remove the schemaObject\n-            content.remove( schemaObjectWrapper );\n-\n-            // Update the global OidRegistry if the SchemaObject is not\n-            // an instance of LoadableSchemaObject\n-            if ( !( schemaObject instanceof LoadableSchemaObject ) )\n+            SchemaObjectWrapper schemaObjectWrapper = new SchemaObjectWrapper( schemaObject );\n+    \n+            if ( content.contains( schemaObjectWrapper ) )\n+            {\n+                // remove the schemaObject\n+                content.remove( schemaObjectWrapper );\n+    \n+                // Update the global OidRegistry if the SchemaObject is not\n+                // an instance of LoadableSchemaObject\n+                if ( !( schemaObject instanceof LoadableSchemaObject ) )\n+                {\n+                    globalOidRegistry.unregister( schemaObject.getOid() );\n+                }\n+    \n+                LOG.debug( \"Unregistered {}:{}\", schemaObject.getObjectType(), schemaObject.getOid() );\n+            }\n+            else\n             {\n-                globalOidRegistry.unregister( schemaObject.getOid() );\n+                // Not present !!\n+                // What should we do ?\n+                LOG.debug( \"Unregistering of {}:{} failed, not found in Registries\", schemaObject.getObjectType(),\n+                    schemaObject.getOid() );\n             }\n-\n-            LOG.debug( \"Unregistered {}:{}\", schemaObject.getObjectType(), schemaObject.getOid() );\n-        }\n-        else\n-        {\n-            // Not present !!\n-            // What should we do ?\n-            LOG.debug( \"Unregistering of {}:{} failed, not found in Registries\", schemaObject.getObjectType(),\n-                schemaObject.getOid() );\n         }\n     }\n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/cc9992a5e9fc25d913c26e6ff9a3abe7bdf94ea4/ldap/src/main/java/org/apache/directory/shared/ldap/schema/registries/Registries.java",
                "sha": "74ae2c235407c7b2de5a662e47acbd27bd5bd993",
                "status": "modified"
            }
        ],
        "message": "When the schema is disabled, the Registries.SchemaObjects foes not contain a reference to thi schema. Fixed that to avoid a NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/shared-schema@891372 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/5b117e8b1cd7aa14d0ac2774284b792c6ec8f2a5",
        "patched_files": [
            "Registries.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "RegistriesTest.java"
        ]
    },
    "directory-ldap-api_cfb82e7": {
        "bug_id": "directory-ldap-api_cfb82e7",
        "commit": "https://github.com/apache/directory-ldap-api/commit/cfb82e7ba26d5a56f657b7bc08f29eda76816b37",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/cfb82e7ba26d5a56f657b7bc08f29eda76816b37/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java?ref=cfb82e7ba26d5a56f657b7bc08f29eda76816b37",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "patch": "@@ -531,19 +531,19 @@ public AttributeTypeAndValue getAttributeTypeAndValue( String type )\n \n \n    /**\n-    * Retrieves the components of this name as an enumeration of strings. The\n-    * effect on the enumeration of updates to this name is undefined. If the\n-    * name has zero components, an empty (non-null) enumeration is returned.\n+    * Retrieves the components of this RDN as an iterator of AttributeTypeAndValue. \n+    * The effect on the iterator of updates to this RDN is undefined. If the\n+    * RDN has zero components, an empty (non-null) iterator is returned.\n     *\n-    * @return an enumeration of the components of this name, each a string\n+    * @return an iterator of the components of this RDN, each an AttributeTypeAndValue\n     */\n    public Iterator<AttributeTypeAndValue> iterator()\n    {\n-       if ( nbAtavs == 1 )\n+       if ( nbAtavs == 1 || nbAtavs == 0 )\n        {\n            return new Iterator<AttributeTypeAndValue>()\n            {\n-               private boolean hasMoreElement = true;\n+               private boolean hasMoreElement = nbAtavs == 1;\n \n \n                public boolean hasNext()",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/cfb82e7ba26d5a56f657b7bc08f29eda76816b37/ldap/src/main/java/org/apache/directory/shared/ldap/name/Rdn.java",
                "sha": "9d482baf185d4a1dfeda6f872f1df73d1c8cb967",
                "status": "modified"
            },
            {
                "additions": 36,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/cfb82e7ba26d5a56f657b7bc08f29eda76816b37/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "changes": 36,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java?ref=cfb82e7ba26d5a56f657b7bc08f29eda76816b37",
                "deletions": 0,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "patch": "@@ -20,6 +20,8 @@\n package org.apache.directory.shared.ldap.name;\n \n \n+import java.util.Iterator;\n+\n import javax.naming.InvalidNameException;\n import javax.naming.NamingException;\n import javax.naming.directory.Attribute;\n@@ -512,4 +514,38 @@ public void testDIRSERVER_703() throws InvalidNameException\n         Rdn rdn = new Rdn( \"cn=Kate Bush+sn=Bush\" );\n         assertEquals( \"cn=Kate Bush+sn=Bush\", rdn.getUpName() );\n     }\n+\n+\n+    public void testMultiValuedIterator() throws InvalidNameException\n+    {\n+        Rdn rdn = new Rdn( \"cn=Kate Bush+sn=Bush\" );\n+        Iterator<AttributeTypeAndValue> iterator = rdn.iterator();\n+        assertNotNull( iterator );\n+        assertTrue( iterator.hasNext() );\n+        assertNotNull( iterator.next() );\n+        assertTrue( iterator.hasNext() );\n+        assertNotNull( iterator.next() );\n+        assertFalse( iterator.hasNext() );\n+    }\n+\n+\n+    public void testSingleValuedIterator() throws InvalidNameException\n+    {\n+        Rdn rdn = new Rdn( \"cn=Kate Bush\" );\n+        Iterator<AttributeTypeAndValue> iterator = rdn.iterator();\n+        assertNotNull( iterator );\n+        assertTrue( iterator.hasNext() );\n+        assertNotNull( iterator.next() );\n+        assertFalse( iterator.hasNext() );\n+    }\n+\n+\n+    public void testEmptyIterator() throws InvalidNameException\n+    {\n+        Rdn rdn = new Rdn();\n+        Iterator<AttributeTypeAndValue> iterator = rdn.iterator();\n+        assertNotNull( iterator );\n+        assertFalse( iterator.hasNext() );\n+    }\n+\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/cfb82e7ba26d5a56f657b7bc08f29eda76816b37/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "sha": "15045e2f638671b9f1b7b401236f6f297f8744d5",
                "status": "modified"
            }
        ],
        "message": "Fixed NPE when calling iterator() of an empty Rdn, added Tests and fixed Javadoc.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@591147 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/a2da760faa5cb40f380c692c1184ca84dc1a78dc",
        "patched_files": [
            "Rdn.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "RdnTest.java"
        ]
    },
    "directory-ldap-api_d2f58fb": {
        "bug_id": "directory-ldap-api_d2f58fb",
        "commit": "https://github.com/apache/directory-ldap-api/commit/d2f58fb1c6a75a2543729e6591e8fcb9a7c444d2",
        "file": [
            {
                "additions": 30,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/d2f58fb1c6a75a2543729e6591e8fcb9a7c444d2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "changes": 36,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java?ref=d2f58fb1c6a75a2543729e6591e8fcb9a7c444d2",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "patch": "@@ -22,6 +22,7 @@\n \n import java.io.IOException;\n \n+import org.apache.directory.shared.ldap.util.StringTools;\n import org.apache.directory.shared.ldap.util.unicode.InvalidCharacterException;\n // import org.apache.directory.shared.ldap.util.unicode.Normalizer;\n \n@@ -87,15 +88,29 @@ private static boolean isCombiningMark( char c )\n     \n     /**\n      * \n-     * TODO normalize.\n+     * We have to go through 6 steps :\n+     * \n+     * 1) Transcode\n+     * 2) Map\n+     * 3) Normalize\n+     * 4) Prohibit\n+     * 5) Bidi\n+     * 6) Insignifiant Character Handling\n+     * \n+     * The first step is already done, the step (3) is not done.\n      *\n      * @param str\n      * @return\n      * @throws IOException\n      */\n-    public static StringBuilder normalize( String str ) throws IOException\n+    public static String normalize( String str ) throws IOException\n     {\n-        return null; //Normalizer.normalize( str, Normalizer.Form.KC );\n+        String res = map( str );\n+        prohibit( res );\n+        res = bidi( res );\n+        res = insignifiantSpacesString( res );\n+        \n+        return res;\n     }\n     \n     /**\n@@ -3928,7 +3943,10 @@ public static StringBuilder map( char[] array )\n      */\n     public static void prohibit( String str ) throws InvalidCharacterException\n     {\n-        prohibit( str.toCharArray() );\n+        if ( !StringTools.isEmpty( str ) )\n+        {\n+            prohibit( str.toCharArray() );\n+        }\n     }\n     \n     /**\n@@ -3953,6 +3971,12 @@ public static void prohibit( char[] array ) throws InvalidCharacterException\n \n         for ( char c:array )\n         {\n+            // Shortcut ASCII chars\n+            if ( c < 0x0221 )\n+            {\n+                continue;\n+            }\n+            \n             // RFC 3454, Table A.1\n             switch ( c )\n             {\n@@ -4477,7 +4501,7 @@ public static void prohibit( char[] array ) throws InvalidCharacterException\n                 throw new InvalidCharacterException( c );\n             }\n \n-            if ( ( c == 0xFFFE ) || ( c <= 0xFFFF ) )\n+            if ( ( c == 0xFFFE ) || ( c == 0xFFFF ) )\n             {\n                 throw new InvalidCharacterException( c );\n             }\n@@ -4525,7 +4549,7 @@ public static void prohibit( char[] array ) throws InvalidCharacterException\n      */\n     public static String bidi( String str )\n     {\n-        return bidi( str.toCharArray() ).toString();\n+        return ( str == null ? str : bidi( str.toCharArray() ).toString() );\n     }\n     \n     /**",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/d2f58fb1c6a75a2543729e6591e8fcb9a7c444d2/ldap/src/main/java/org/apache/directory/shared/ldap/schema/PrepareString.java",
                "sha": "a42093db1e82351707279425f4815f268536d031",
                "status": "modified"
            }
        ],
        "message": "Added a normalize method, and fixed some possible NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/trunks/shared@490956 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/57531b0e682c1a5702d44a9a297cb92310369f2e",
        "patched_files": [
            "PrepareString.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "PrepareStringTest.java"
        ]
    },
    "directory-ldap-api_dcaa0ef": {
        "bug_id": "directory-ldap-api_dcaa0ef",
        "commit": "https://github.com/apache/directory-ldap-api/commit/dcaa0ef69afea70419b1cd2a77d843937b1c11cd",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifControlSerializer.java",
                "changes": 36,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifControlSerializer.java?ref=dcaa0ef69afea70419b1cd2a77d843937b1c11cd",
                "deletions": 28,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifControlSerializer.java",
                "patch": "@@ -53,22 +53,7 @@ private LdifControlSerializer()\n      */\n     public static void serialize( LdifControl ldifControl, ObjectOutput out ) throws IOException\n     {\n-        // The OID\n-        out.writeUTF( ldifControl.getOid() );\n-        \n-        // The criticality\n-        out.writeBoolean( ldifControl.isCritical() );\n-        \n-        // The value if any\n-        if ( ldifControl.hasValue() )\n-        {\n-            out.writeInt( ldifControl.getValue().length );\n-            out.write( ldifControl.getValue() );\n-        }\n-        else\n-        {\n-            out.writeInt( -1 );\n-        }\n+        ldifControl.writeExternal( out );\n         \n         out.flush();\n     }\n@@ -83,20 +68,15 @@ public static void serialize( LdifControl ldifControl, ObjectOutput out ) throws\n      */\n     public static LdifControl deserialize( ObjectInput in ) throws IOException\n     {\n-        // The OID\n-        String oid = in.readUTF();\n-        LdifControl ldifControl = new LdifControl( oid );\n-        \n-        // The criticality\n-        ldifControl.setCritical( in.readBoolean() );\n-        \n-        int valueSize = in.readInt();\n+        LdifControl ldifControl = new LdifControl();\n         \n-        if ( valueSize >=0 )\n+        try\n+        {\n+            ldifControl.readExternal( in );\n+        }\n+        catch ( ClassNotFoundException cnfe )\n         {\n-            byte[] value = new byte[ valueSize ];\n-            in.read( value );\n-            ldifControl.setValue( value );\n+            throw new IOException( cnfe.getMessage() );\n         }\n \n         return ldifControl;",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifControlSerializer.java",
                "sha": "d6b21def9e620b110fe1ab3a3b66150693008a6f",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifEntry.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifEntry.java?ref=dcaa0ef69afea70419b1cd2a77d843937b1c11cd",
                "deletions": 1,
                "filename": "ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifEntry.java",
                "patch": "@@ -956,7 +956,7 @@ public boolean equals( Object o )\n         LdifEntry otherEntry = ( LdifEntry ) o;\n \n         // Check the Dn\n-        Dn thisDn = entry.getDn();\n+        Dn thisDn = entryDn;\n         Dn dnEntry = otherEntry.getDn();\n \n         if ( !thisDn.equals( dnEntry ) )",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/main/java/org/apache/directory/shared/ldap/model/ldif/LdifEntry.java",
                "sha": "f23128e6e9030d51f28ae2eb869ca21ad04ac2b1",
                "status": "modified"
            },
            {
                "additions": 526,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/ldif/LdifEntrySerializationTest.java",
                "changes": 526,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/ldif/LdifEntrySerializationTest.java?ref=dcaa0ef69afea70419b1cd2a77d843937b1c11cd",
                "deletions": 0,
                "filename": "ldap/model/src/test/java/org/apache/directory/shared/ldap/model/ldif/LdifEntrySerializationTest.java",
                "patch": "@@ -0,0 +1,526 @@\n+/*\n+ *  Licensed to the Apache Software Foundation (ASF) under one\n+ *  or more contributor license agreements.  See the NOTICE file\n+ *  distributed with this work for additional information\n+ *  regarding copyright ownership.  The ASF licenses this file\n+ *  to you under the Apache License, Version 2.0 (the\n+ *  \"License\"); you may not use this file except in compliance\n+ *  with the License.  You may obtain a copy of the License at\n+ *  \n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *  \n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License. \n+ *  \n+ */\n+package org.apache.directory.shared.ldap.model.ldif;\n+\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import com.mycila.junit.concurrent.Concurrency;\n+import com.mycila.junit.concurrent.ConcurrentJunitRunner;\n+\n+\n+/**\n+ * Test the LdifEntry class\n+ * \n+ * @author <a href=\"mailto:dev@directory.apache.org\">Apache Directory Project</a>\n+ */\n+@RunWith(ConcurrentJunitRunner.class)\n+@Concurrency()\n+public class LdifEntrySerializationTest\n+{\n+    @Test\n+    public void testLdifEntrySimple() throws Exception\n+    {\n+        String ldif = \n+            \"cn: app1\\n\" + \n+            \"objectClass: top\\n\" + \n+            \"objectClass: apApplication\\n\" + \n+            \"displayName:   app1   \\n\" +\n+            \"dependencies:\\n\" + \n+            \"envVars:\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+        \n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+\n+\n+    /**\n+     * Test a simple LdifEntry\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testSimpleLdifEntry() throws Exception\n+    {\n+        String ldif = \n+            \"cn: app1\\n\" + \n+            \"objectClass: top\\n\" + \n+            \"objectClass: apApplication\\n\" + \n+            \"displayName:   app1   \\n\" +\n+            \"dependencies:\\n\" + \n+            \"envVars:\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Delete changeType LdifEntry with no control\n+     * \n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifParserChangeTypeDeleteNoControl() throws Exception\n+    {\n+        String ldif = \n+            \"# Delete an entry. The operation will attach the LDAPv3\\n\" +\n+            \"# Tree Delete Control defined in [9]. The criticality\\n\" +\n+            \"# field is \\\"true\\\" and the controlValue field is\\n\" + \n+            \"# absent, as required by [9].\\n\" +\n+            \"changetype: delete\\n\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Delete changeType LdifEntry with one control\n+     * \n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifParserChangeTypeDeleteWithControl() throws Exception\n+    {\n+        String ldif = \n+            \"# Delete an entry. The operation will attach the LDAPv3\\n\" +\n+            \"# Tree Delete Control defined in [9]. The criticality\\n\" +\n+            \"# field is \\\"true\\\" and the controlValue field is\\n\" + \n+            \"# absent, as required by [9].\\n\" +\n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"changetype: delete\\n\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+\n+    /**\n+     * Test a Delete changeType LdifEntry with controls\n+     * \n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifParserChangeTypeDeleteWithControls() throws Exception\n+    {\n+        String ldif = \n+            \"# Delete an entry. The operation will attach the LDAPv3\\n\" +\n+            \"# Tree Delete Control defined in [9]. The criticality\\n\" +\n+            \"# field is \\\"true\\\" and the controlValue field is\\n\" + \n+            \"# absent, as required by [9].\\n\" +\n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"control: 1.2.840.113556.1.4.806 false: test\\n\" +\n+            \"changetype: delete\\n\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+\n+\n+    /**\n+     * Test a Add changeType LdifEntry with no control\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeAddNoControl() throws Exception\n+    {\n+        String ldif = \n+            \"changetype: add\\n\" +\n+            \"cn: app1\\n\" + \n+            \"objectClass: top\\n\" + \n+            \"objectClass: apApplication\\n\" + \n+            \"displayName:   app1   \\n\" +\n+            \"dependencies:\\n\" + \n+            \"envVars:\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Add changeType LdifEntry with a control\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeAddWithControl() throws Exception\n+    {\n+        String ldif = \n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"changetype: add\\n\" +\n+            \"cn: app1\\n\" + \n+            \"objectClass: top\\n\" + \n+            \"objectClass: apApplication\\n\" + \n+            \"displayName:   app1   \\n\" +\n+            \"dependencies:\\n\" + \n+            \"envVars:\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Add changeType LdifEntry with controls\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeAddWithControls() throws Exception\n+    {\n+        String ldif = \n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"control: 1.2.840.113556.1.4.806 false: test\\n\" +\n+            \"changetype: add\\n\" +\n+            \"cn: app1\\n\" + \n+            \"objectClass: top\\n\" + \n+            \"objectClass: apApplication\\n\" + \n+            \"displayName:   app1   \\n\" +\n+            \"dependencies:\\n\" + \n+            \"envVars:\";\n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+\n+\n+    /**\n+     * Test a ModDn changeType LdifEntry with no control\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModDnNoControl() throws Exception\n+    {\n+        String ldif = \n+            \"changetype: moddn\\n\" +\n+            \"newrdn: cn=app2\\n\" + \n+            \"deleteoldrdn: 1\\n\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+\n+\n+    /**\n+     * Test a ModDn changeType LdifEntry with no control and a newSuperior\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModDnRenameNoControlNewSuperior() throws Exception\n+    {\n+        String ldif = \n+            \"changetype: moddn\\n\" +\n+            \"newrdn: cn=app2\\n\" + \n+            \"deleteoldrdn: 1\\n\" +\n+            \"newsuperior: dc=example, dc=com\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+\n+    \n+    /**\n+     * Test a ModDn changeType LdifEntry with a control\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModdnWithControl() throws Exception\n+    {\n+        String ldif = \n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"changetype: moddn\\n\" +\n+            \"newrdn: cn=app2\\n\" + \n+            \"deleteoldrdn: 1\\n\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a ModDN changeType LdifEntry with controls\n+     * @throws Exception\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModddnWithControls() throws Exception\n+    {\n+        String ldif = \n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"control: 1.2.840.113556.1.4.806 false: test\\n\" +\n+            \"changetype: moddn\\n\" +\n+            \"newrdn: cn=app2\\n\" + \n+            \"deleteoldrdn: 1\\n\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Modify changeType LdifEntry with no control\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModifySimple() throws Exception\n+    {\n+        String ldif = \n+            \"changetype: modify\\n\" +\n+            \"add: cn\\n\" +\n+            \"cn: v1\\n\" + \n+            \"cn: v2\\n\" +\n+            \"-\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Modify changeType LdifEntry with no attributes\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModifyNoAttribute() throws Exception\n+    {\n+        String ldif = \n+            \"changetype: modify\\n\" +\n+            \"add: cn\\n\" +\n+            \"-\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+    \n+    \n+    /**\n+     * Test a Modify changeType LdifEntry with no attributes and controls\n+     */\n+    @Test\n+    public void testLdifEntryChangeTypeModifyNoAttributeWithControls() throws Exception\n+    {\n+        String ldif = \n+            \"control: 1.2.840.113556.1.4.805 true\\n\" +\n+            \"control: 1.2.840.113556.1.4.806 false: test\\n\" +\n+            \"changetype: modify\\n\" +\n+            \"add: cn\\n\" +\n+            \"-\"; \n+\n+        LdifEntry ldifEntry1 = new LdifEntry( \"cn=app1,ou=applications,ou=conf,dc=apache,dc=org\", ldif );\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream out = new ObjectOutputStream( baos );\n+\n+        LdifEntrySerializer.serialize( ldifEntry1, out );\n+        \n+        ObjectInputStream in = null;\n+\n+        byte[] data = baos.toByteArray();\n+        in = new ObjectInputStream( new ByteArrayInputStream( data ) );\n+\n+        LdifEntry ldifEntry2 = LdifEntrySerializer.deserialize( null, in );\n+\n+        assertEquals( ldifEntry1, ldifEntry2 );\n+    }\n+}",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/dcaa0ef69afea70419b1cd2a77d843937b1c11cd/ldap/model/src/test/java/org/apache/directory/shared/ldap/model/ldif/LdifEntrySerializationTest.java",
                "sha": "5d09e7dce2cfad9b3a1fcff35fd5095d4d5a031a",
                "status": "added"
            }
        ],
        "message": "o Added a LdifControlSerializer test\no Added a LdifEntrySerializer test\no Fixed a NPE in LdifEntry.equals() method\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1082748 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/c222c88de1e70e4fed01162bf25dbe96d329207f",
        "patched_files": [
            "LdifEntry.java",
            "LdifControlSerializer.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdifEntrySerializationTest.java",
            "LdifEntryTest.java",
            "LdifControlSerializerTest.java"
        ]
    },
    "directory-ldap-api_e1b9a85": {
        "bug_id": "directory-ldap-api_e1b9a85",
        "commit": "https://github.com/apache/directory-ldap-api/commit/e1b9a85f61077104159a1fe4dbe44962ce4967d7",
        "file": [
            {
                "additions": 14,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/engine/src/main/java/org/apache/directory/shared/dsmlv2/engine/Dsmlv2Engine.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/engine/src/main/java/org/apache/directory/shared/dsmlv2/engine/Dsmlv2Engine.java?ref=e1b9a85f61077104159a1fe4dbe44962ce4967d7",
                "deletions": 3,
                "filename": "dsml/engine/src/main/java/org/apache/directory/shared/dsmlv2/engine/Dsmlv2Engine.java",
                "patch": "@@ -319,6 +319,8 @@ protected void processDSML( OutputStream outStream ) throws IOException\n         }\n         catch ( Exception e )\n         {\n+            LOG.warn( \"Failed to bind\", e );\n+            \n             // Unable to connect to server\n             // We create a new ErrorResponse and return the XML response.\n             ErrorResponse errorResponse = new ErrorResponse( 0, ErrorResponseType.COULD_NOT_CONNECT, e\n@@ -376,8 +378,16 @@ protected void processDSML( OutputStream outStream ) throws IOException\n         }\n         catch ( XmlPullParserException e )\n         {\n+            LOG.warn( \"Failed while getting next request\", e );\n+            \n+            int reqId = 0;\n+            if ( request != null )\n+            {\n+                reqId = request.getDecorated().getMessageId();\n+            }\n+            \n             // We create a new ErrorResponse and return the XML response.\n-            ErrorResponse errorResponse = new ErrorResponse( 0, ErrorResponseType.MALFORMED_REQUEST, I18n.err(\n+            ErrorResponse errorResponse = new ErrorResponse( reqId, ErrorResponseType.MALFORMED_REQUEST, I18n.err(\n                 I18n.ERR_03001, e.getLocalizedMessage(), e.getLineNumber(), e.getColumnNumber() ) );\n             if ( respWriter != null )\n             {\n@@ -421,8 +431,10 @@ protected void processDSML( OutputStream outStream ) throws IOException\n             }\n             catch ( Exception e )\n             {\n+                LOG.warn( \"Failed to process request\", e );\n+                \n                 // We create a new ErrorResponse and return the XML response.\n-                ErrorResponse errorResponse = new ErrorResponse( 0, ErrorResponseType.GATEWAY_INTERNAL_ERROR, I18n.err(\n+                ErrorResponse errorResponse = new ErrorResponse( request.getDecorated().getMessageId(), ErrorResponseType.GATEWAY_INTERNAL_ERROR, I18n.err(\n                     I18n.ERR_03003, e.getMessage() ) );\n                 if ( respWriter != null )\n                 {\n@@ -607,7 +619,6 @@ protected void processRequest( DsmlDecorator<? extends Request> request, Buffere\n                 SearchCursor searchResponses = connection.search( ( SearchRequest ) request );\n                 \n                 SearchResponseDsml searchResponseDsml = new SearchResponseDsml( connection.getCodecService() );\n-                searchResponseDsml.setMessageId( request.getDecorated().getMessageId() );\n                 \n                 boolean first = true;\n                 ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/engine/src/main/java/org/apache/directory/shared/dsmlv2/engine/Dsmlv2Engine.java",
                "sha": "c1e465e8b7dbcd77881f6b87abf9ea311b9ea25b",
                "status": "modified"
            },
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResultEntryDsml.java",
                "changes": 13,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResultEntryDsml.java?ref=e1b9a85f61077104159a1fe4dbe44962ce4967d7",
                "deletions": 3,
                "filename": "dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResultEntryDsml.java",
                "patch": "@@ -22,15 +22,16 @@\n \n import org.apache.directory.shared.dsmlv2.ParserUtils;\n import org.apache.directory.shared.ldap.codec.api.LdapCodecService;\n+import org.apache.directory.shared.ldap.model.entry.Attribute;\n import org.apache.directory.shared.ldap.model.entry.DefaultAttribute;\n import org.apache.directory.shared.ldap.model.entry.Entry;\n-import org.apache.directory.shared.ldap.model.entry.Attribute;\n import org.apache.directory.shared.ldap.model.entry.Value;\n import org.apache.directory.shared.ldap.model.exception.LdapException;\n import org.apache.directory.shared.ldap.model.message.MessageTypeEnum;\n import org.apache.directory.shared.ldap.model.message.SearchResultEntry;\n import org.apache.directory.shared.ldap.model.message.SearchResultEntryImpl;\n import org.apache.directory.shared.ldap.model.name.Dn;\n+import org.dom4j.Document;\n import org.dom4j.Element;\n import org.dom4j.Namespace;\n import org.dom4j.QName;\n@@ -154,8 +155,14 @@ public Element toDsml( Element root )\n                 {\n                     Namespace xsdNamespace = new Namespace( ParserUtils.XSD, ParserUtils.XML_SCHEMA_URI );\n                     Namespace xsiNamespace = new Namespace( ParserUtils.XSI, ParserUtils.XML_SCHEMA_INSTANCE_URI );\n-                    attributeElement.getDocument().getRootElement().add( xsdNamespace );\n-                    attributeElement.getDocument().getRootElement().add( xsiNamespace );\n+                    Document doc = attributeElement.getDocument();\n+                    \n+                    if ( doc !=null )\n+                    {\n+                        Element docRoot = doc.getRootElement();\n+                        docRoot.add( xsdNamespace );\n+                        docRoot.add( xsiNamespace );\n+                    }\n \n                     Element valueElement = attributeElement.addElement( \"value\" ).addText(\n                         ParserUtils.base64Encode( value.getValue() ) );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/reponse/SearchResultEntryDsml.java",
                "sha": "559ab6d8c5ac500645418213830249d48f62e386",
                "status": "modified"
            },
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/request/Dsmlv2Grammar.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/request/Dsmlv2Grammar.java?ref=e1b9a85f61077104159a1fe4dbe44962ce4967d7",
                "deletions": 1,
                "filename": "dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/request/Dsmlv2Grammar.java",
                "patch": "@@ -706,6 +706,11 @@ public Dsmlv2Grammar()\n         super.transitions[Dsmlv2StatesEnum.SEARCH_REQUEST_CONTROL_END_TAG.ordinal()].put( new Tag( \"control\", Tag.START ),\n             new GrammarTransition( Dsmlv2StatesEnum.SEARCH_REQUEST_CONTROL_END_TAG,\n                 Dsmlv2StatesEnum.SEARCH_REQUEST_CONTROL_START_TAG, controlCreation ) );\n+        \n+        // State: [SEARCH_REQUEST_FILTER_END_TAG] - Tag: </searchRequest>\n+        super.transitions[Dsmlv2StatesEnum.SEARCH_REQUEST_CONTROL_END_TAG.ordinal()].put( new Tag( \"searchRequest\", Tag.END ),\n+            new GrammarTransition( Dsmlv2StatesEnum.SEARCH_REQUEST_CONTROL_END_TAG, Dsmlv2StatesEnum.BATCHREQUEST_LOOP,\n+                storeFilter ) );\n \n         // State: [SEARCH_REQUEST_ATTRIBUTES_START_TAG] - Tag: </attributes>\n         super.transitions[Dsmlv2StatesEnum.SEARCH_REQUEST_ATTRIBUTES_START_TAG.ordinal()].put( new Tag( \"attributes\", Tag.END ),\n@@ -735,7 +740,7 @@ public Dsmlv2Grammar()\n         // State: [SEARCH_REQUEST_ATTRIBUTES_END_TAG] - Tag: </searchRequest>\n         super.transitions[Dsmlv2StatesEnum.SEARCH_REQUEST_ATTRIBUTES_END_TAG.ordinal()].put( new Tag( \"searchRequest\", Tag.END ),\n             new GrammarTransition( Dsmlv2StatesEnum.SEARCH_REQUEST_ATTRIBUTES_END_TAG,\n-                Dsmlv2StatesEnum.BATCHREQUEST_LOOP, null ) );\n+                Dsmlv2StatesEnum.BATCHREQUEST_LOOP, storeFilter ) );\n \n         //====================================================\n         //  Transitions concerning : FILTER\n@@ -2693,6 +2698,11 @@ public void action( Dsmlv2Container container ) throws XmlPullParserException\n                 container.getBatchRequest().getCurrentRequest();\n             SearchRequest searchRequest = searchRequestDecorator.getDecorated();\n \n+            if ( searchRequestDecorator.getFilterNode() == null )\n+            {\n+                throw new IllegalStateException( \"No filter element present in the DSML search request\" );\n+            }\n+            \n             searchRequest.setFilter( searchRequestDecorator.getFilterNode() );\n         }\n     };",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/main/java/org/apache/directory/shared/dsmlv2/request/Dsmlv2Grammar.java",
                "sha": "2fb603f2e1d08c0b3e13fe86931add25017caa8b",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/test/java/org/apache/directory/shared/dsmlv2/AbstractTest.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/dsml/parser/src/test/java/org/apache/directory/shared/dsmlv2/AbstractTest.java?ref=e1b9a85f61077104159a1fe4dbe44962ce4967d7",
                "deletions": 0,
                "filename": "dsml/parser/src/test/java/org/apache/directory/shared/dsmlv2/AbstractTest.java",
                "patch": "@@ -80,6 +80,11 @@ public void testParsingFail( Class<?> testClass, String filename )\n             assertTrue( e.getMessage(), true );\n             return;\n         }\n+        catch ( IllegalStateException e )\n+        {\n+            assertTrue( e.getMessage(), true );\n+            return;\n+        }\n         catch ( Exception e )\n         {\n             fail( e.getMessage() );",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e1b9a85f61077104159a1fe4dbe44962ce4967d7/dsml/parser/src/test/java/org/apache/directory/shared/dsmlv2/AbstractTest.java",
                "sha": "d1b881c61eaa3ac8db332eb1dc6cb225e36e891f",
                "status": "modified"
            }
        ],
        "message": "o fixed the grammar to store the filter properly by handling the attributes and control tags present in searchrequest\no added some warn level log statements\no throw IllegalStateException when a searchrequest doesn't contain a filter, changed the test case accordingly\no fixed a NPE in SearchResultEntryDsml while adding namespace to the doc root (in streaming mode there won't be a doc)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1091840 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/8fc69678b5c07823ac9bd0e56cbba5900e3f3794",
        "patched_files": [
            "Dsmlv2Grammar.java",
            "SearchResultEntryDsml.java",
            "Dsmlv2Engine.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "AbstractTest.java"
        ]
    },
    "directory-ldap-api_e31736b": {
        "bug_id": "directory-ldap-api_e31736b",
        "commit": "https://github.com/apache/directory-ldap-api/commit/e31736bcf0215f82b1bea32014e99837400d5d79",
        "file": [
            {
                "additions": 46,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e31736bcf0215f82b1bea32014e99837400d5d79/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/BinaryValue.java",
                "changes": 63,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/BinaryValue.java?ref=e31736bcf0215f82b1bea32014e99837400d5d79",
                "deletions": 17,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/BinaryValue.java",
                "patch": "@@ -236,7 +236,7 @@ public boolean equals( Object obj )\n         }\n \n         BinaryValue other = ( BinaryValue ) obj;\n-        \n+\n         // First check if we have an attrbuteType.\n         if ( attributeType != null )\n         {\n@@ -260,11 +260,11 @@ public boolean equals( Object obj )\n                     {\n                         return true;\n                     }\n-                    \n+\n                     // We have an AttributeType, we use the associated comparator\n                     try\n                     {\n-                        Comparator<byte[]> comparator = ( Comparator<byte[]> ) getLdapComparator();\n+                        Comparator<byte[]> comparator = getLdapComparator();\n \n                         // Compare normalized values\n                         if ( comparator == null )\n@@ -300,22 +300,22 @@ public boolean equals( Object obj )\n                 // We have an AttributeType on the base value, we need to use its comparator\n                 try\n                 {\n-                    Comparator<byte[]> comparator = ( Comparator<byte[]> ) getLdapComparator();\n+                    Comparator<byte[]> comparator = getLdapComparator();\n \n                     // Compare normalized values. We have to normalized the other value,\n                     // as it has no AT\n                     MatchingRule equality = getAttributeType().getEquality();\n-                    \n+\n                     if ( equality == null )\n                     {\n                         // No matching rule : compare the raw values\n                         return Arrays.equals( getNormReference(), other.getNormReference() );\n                     }\n-                    \n+\n                     Normalizer normalizer = equality.getNormalizer();\n-                    \n-                    BinaryValue otherValue = (BinaryValue)normalizer.normalize( other );\n-                    \n+\n+                    BinaryValue otherValue = ( BinaryValue ) normalizer.normalize( other );\n+\n                     if ( comparator == null )\n                     {\n                         return Arrays.equals( getNormReference(), otherValue.getNormReference() );\n@@ -343,25 +343,25 @@ public boolean equals( Object obj )\n                 {\n                     return other.isNull();\n                 }\n-                \n+\n                 try\n                 {\n-                    Comparator<byte[]> comparator = ( Comparator<byte[]> ) other.getLdapComparator();\n+                    Comparator<byte[]> comparator = other.getLdapComparator();\n \n                     // Compare normalized values. We have to normalized the other value,\n                     // as it has no AT\n                     MatchingRule equality = other.getAttributeType().getEquality();\n-                    \n+\n                     if ( equality == null )\n                     {\n                         // No matching rule : compare the raw values\n                         return Arrays.equals( getNormReference(), other.getNormReference() );\n                     }\n-                    \n+\n                     Normalizer normalizer = equality.getNormalizer();\n-                    \n-                    BinaryValue thisValue = (BinaryValue)normalizer.normalize( this );\n-                    \n+\n+                    BinaryValue thisValue = ( BinaryValue ) normalizer.normalize( this );\n+\n                     if ( comparator == null )\n                     {\n                         return Arrays.equals( thisValue.getNormReference(), other.getNormReference() );\n@@ -383,7 +383,7 @@ public boolean equals( Object obj )\n                 {\n                     return other.isNull();\n                 }\n-                \n+\n                 // Now check the normalized values\n                 return Arrays.equals( getNormReference(), other.getNormReference() );\n             }\n@@ -558,6 +558,35 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n                 try\n                 {\n                     normalizedValue = attributeType.getEquality().getNormalizer().normalize( this ).getBytes();\n+                    MatchingRule equality = attributeType.getEquality();\n+\n+                    if ( equality == null )\n+                    {\n+                        if ( wrappedLength >= 0 )\n+                        {\n+                            normalizedValue = new byte[wrappedLength];\n+\n+                            System.arraycopy( wrappedValue, 0, normalizedValue, 0, wrappedLength );\n+                        }\n+                    }\n+                    else\n+                    {\n+                        Normalizer normalizer = equality.getNormalizer();\n+\n+                        if ( normalizer != null )\n+                        {\n+                            normalizedValue = normalizer.normalize( this ).getBytes();\n+                        }\n+                        else\n+                        {\n+                            if ( wrappedLength >= 0 )\n+                            {\n+                                normalizedValue = new byte[wrappedLength];\n+\n+                                System.arraycopy( wrappedValue, 0, normalizedValue, 0, wrappedLength );\n+                            }\n+                        }\n+                    }\n                 }\n                 catch ( LdapException le )\n                 {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e31736bcf0215f82b1bea32014e99837400d5d79/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/BinaryValue.java",
                "sha": "eb9c1b0979495a6f8dddd0295b8ef01ce3b75b8b",
                "status": "modified"
            },
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e31736bcf0215f82b1bea32014e99837400d5d79/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/StringValue.java",
                "changes": 20,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/StringValue.java?ref=e31736bcf0215f82b1bea32014e99837400d5d79",
                "deletions": 1,
                "filename": "ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/StringValue.java",
                "patch": "@@ -535,7 +535,25 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n             {\n                 try\n                 {\n-                    normalizedValue = attributeType.getEquality().getNormalizer().normalize( wrappedValue );\n+                    MatchingRule equality = attributeType.getEquality();\n+\n+                    if ( equality == null )\n+                    {\n+                        normalizedValue = wrappedValue;\n+                    }\n+                    else\n+                    {\n+                        Normalizer normalizer = equality.getNormalizer();\n+\n+                        if ( normalizer != null )\n+                        {\n+                            normalizedValue = normalizer.normalize( wrappedValue );\n+                        }\n+                        else\n+                        {\n+                            normalizedValue = wrappedValue;\n+                        }\n+                    }\n                 }\n                 catch ( LdapException le )\n                 {",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e31736bcf0215f82b1bea32014e99837400d5d79/ldap/model/src/main/java/org/apache/directory/api/ldap/model/entry/StringValue.java",
                "sha": "04a3ed86a291d2864b4ce1d31eb2a52be8db0cd6",
                "status": "modified"
            }
        ],
        "message": "Fixed the readExternal method : if the value has an AttributeType with no Equality atchingRule, we were having NPE because we weren't testing this case.\nThis will fix DIRSERVER-1834\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1471294 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/ad378e468f3301ae97289f76ea68e7f1ab2f0914",
        "patched_files": [
            "BinaryValue.java",
            "StringValue.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "StringValueTest.java",
            "BinaryValueTest.java"
        ]
    },
    "directory-ldap-api_e6df941": {
        "bug_id": "directory-ldap-api_e6df941",
        "commit": "https://github.com/apache/directory-ldap-api/commit/e6df94160fe6146cf9c3aca98d6f948a9007afdb",
        "file": [
            {
                "additions": 20,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e6df94160fe6146cf9c3aca98d6f948a9007afdb/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "changes": 20,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java?ref=e6df94160fe6146cf9c3aca98d6f948a9007afdb",
                "deletions": 0,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "patch": "@@ -224,6 +224,26 @@ public void testRdnQuotedAttributeValue() throws InvalidNameException\n     }\n \n \n+    /**\n+     * Test the clone method for a RDN.\n+     */\n+    @Test\n+    public void testParseRDNNull() throws InvalidNameException\n+    {\n+        Rdn rdn = null;\n+\n+        try\n+        {\n+        \tRdnParser.parse( \"c=d\", rdn );\n+        \tfail();\n+        }\n+        catch ( InvalidNameException ine )\n+        {\n+        \tassertTrue( true );\n+        }\n+    }\n+\n+\n     /**\n      * Test the clone method for a RDN.\n      */",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e6df94160fe6146cf9c3aca98d6f948a9007afdb/ldap/src/test/java/org/apache/directory/shared/ldap/name/RdnTest.java",
                "sha": "3e2399f5931ee89c9850cb39f999f8463c20b288",
                "status": "modified"
            }
        ],
        "message": "Fixed a potential NPE in RdnParser.\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/branches/bigbang@627793 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/80147abe27ac892ecf95eada784ed90dc2b8e013",
        "patched_files": [
            "Rdn.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "RdnTest.java"
        ]
    },
    "directory-ldap-api_e9debf9": {
        "bug_id": "directory-ldap-api_e9debf9",
        "commit": "https://github.com/apache/directory-ldap-api/commit/e9debf9ed42e3b9a1e603e3b73dd439602001062",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/e9debf9ed42e3b9a1e603e3b73dd439602001062/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java?ref=e9debf9ed42e3b9a1e603e3b73dd439602001062",
                "deletions": 2,
                "filename": "ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "patch": "@@ -1998,9 +1998,9 @@ private boolean isNoticeOfDisconnect( Message message )\n     {\n         if ( message instanceof ExtendedResponse )\n         {\n-            ExtendedResponse response = ( ExtendedResponse ) message;\n+            String responseName = ( ( ExtendedResponse ) message ).getResponseName();\n \n-            if ( response.getResponseName().equals( NoticeOfDisconnect.EXTENSION_OID ) )\n+            if ( NoticeOfDisconnect.EXTENSION_OID.equals( responseName ) )\n             {\n                 return true;\n             }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/e9debf9ed42e3b9a1e603e3b73dd439602001062/ldap/client/api/src/main/java/org/apache/directory/ldap/client/api/LdapNetworkConnection.java",
                "sha": "d12f44b50da98d619766987ccf42702267c1a8f1",
                "status": "modified"
            }
        ],
        "message": "Fixed a potential NPE (DIRAPI-268)\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@1796563 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/234829a227364252a9319e24998e1998992fc1c9",
        "patched_files": [
            "LdapNetworkConnection.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "LdapNetworkConnectionTest.java"
        ]
    },
    "directory-ldap-api_ee9f3cd": {
        "bug_id": "directory-ldap-api_ee9f3cd",
        "commit": "https://github.com/apache/directory-ldap-api/commit/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
        "file": [
            {
                "additions": 187,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/AbstractValue.java",
                "changes": 221,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/AbstractValue.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 34,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/AbstractValue.java",
                "patch": "@@ -22,6 +22,10 @@\n import org.apache.directory.shared.ldap.exception.LdapException;\n \n import org.apache.directory.shared.i18n.I18n;\n+import org.apache.directory.shared.ldap.schema.AttributeType;\n+import org.apache.directory.shared.ldap.schema.LdapComparator;\n+import org.apache.directory.shared.ldap.schema.MatchingRule;\n+import org.apache.directory.shared.ldap.schema.Normalizer;\n import org.apache.directory.shared.ldap.schema.SyntaxChecker;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -38,9 +42,11 @@\n     /** logger for reporting errors that might not be handled properly upstream */\n     private static final Logger LOG = LoggerFactory.getLogger( AbstractValue.class );\n \n-    \n+    /** reference to the attributeType zssociated with the value */\n+    protected transient AttributeType attributeType;\n+\n     /** the wrapped binary value */\n-    protected T wrapped;\n+    protected T wrappedValue;\n     \n     /** the canonical representation of the wrapped value */\n     protected T normalizedValue;\n@@ -54,18 +60,6 @@\n     /** A flag set if the normalized data is different from the wrapped data */\n     protected transient boolean same;\n     \n-    /**\n-     * Reset the value\n-     */\n-    public void clear()\n-    {\n-        wrapped = null;\n-        normalized = false;\n-        normalizedValue = null;\n-        valid = null;\n-    }\n-\n-    \n     /**\n      * {@inheritDoc}\n      */\n@@ -92,10 +86,164 @@ public void clear()\n      */\n     public T getReference()\n     {\n-        return wrapped;\n+        return wrappedValue;\n+    }\n+\n+    \n+    /**\n+     * Get the associated AttributeType\n+     * @return The AttributeType\n+     */\n+    public AttributeType getAttributeType()\n+    {\n+        return attributeType;\n+    }\n+\n+    \n+    public void apply( AttributeType attributeType )\n+    {\n+        if ( this.attributeType != null ) \n+        {\n+            if ( !attributeType.equals( this.attributeType ) )\n+            {\n+                throw new IllegalArgumentException( I18n.err( I18n.ERR_04476, attributeType.getName(), this.attributeType.getName() ) );\n+            }\n+            else\n+            {\n+                return;\n+            }\n+        }\n+        \n+        this.attributeType = attributeType;\n+        \n+        try\n+        {\n+            normalize();\n+        }\n+        catch ( LdapException ne )\n+        {\n+            String message = I18n.err( I18n.ERR_04447, ne.getLocalizedMessage() );\n+            LOG.info( message );\n+            normalized = false;\n+        }\n     }\n \n+\n+    /**\n+     * Gets a comparator using getMatchingRule() to resolve the matching\n+     * that the comparator is extracted from.\n+     *\n+     * @return a comparator associated with the attributeType or null if one cannot be found\n+     * @throws LdapException if resolution of schema entities fail\n+     */\n+    protected LdapComparator<T> getLdapComparator() throws LdapException\n+    {\n+        if ( attributeType != null )\n+        {\n+            MatchingRule mr = getMatchingRule();\n+    \n+            if ( mr == null )\n+            {\n+                return null;\n+            }\n+    \n+            return (LdapComparator<T>)mr.getLdapComparator();\n+        }\n+        else\n+        {\n+            return null;\n+        }\n+    }\n+    \n     \n+    /**\n+     * Find a matchingRule to use for normalization and comparison.  If an equality\n+     * matchingRule cannot be found it checks to see if other matchingRules are\n+     * available: SUBSTR, and ORDERING.  If a matchingRule cannot be found null is\n+     * returned.\n+     *\n+     * @return a matchingRule or null if one cannot be found for the attributeType\n+     * @throws LdapException if resolution of schema entities fail\n+     */\n+    protected MatchingRule getMatchingRule() throws LdapException\n+    {\n+        if ( attributeType != null )\n+        {\n+            MatchingRule mr = attributeType.getEquality();\n+    \n+            if ( mr == null )\n+            {\n+                mr = attributeType.getOrdering();\n+            }\n+    \n+            if ( mr == null )\n+            {\n+                mr = attributeType.getSubstring();\n+            }\n+    \n+            return mr;\n+        }\n+        else\n+        {\n+            return null;\n+        }\n+    }\n+\n+\n+    /**\n+     * Gets a normalizer using getMatchingRule() to resolve the matchingRule\n+     * that the normalizer is extracted from.\n+     *\n+     * @return a normalizer associated with the attributeType or null if one cannot be found\n+     * @throws LdapException if resolution of schema entities fail\n+     */\n+    protected Normalizer getNormalizer() throws LdapException\n+    {\n+        if ( attributeType != null )\n+        {\n+            MatchingRule mr = getMatchingRule();\n+    \n+            if ( mr == null )\n+            {\n+                return null;\n+            }\n+    \n+            return mr.getNormalizer();\n+        }\n+        else\n+        {\n+            return null;\n+        }\n+    }\n+\n+    \n+    /**\n+     * Check if the value is stored into an instance of the given \n+     * AttributeType, or one of its ascendant.\n+     * \n+     * For instance, if the Value is associated with a CommonName,\n+     * checking for Name will match.\n+     * \n+     * @param attributeType The AttributeType we are looking at\n+     * @return <code>true</code> if the value is associated with the given\n+     * attributeType or one of its ascendant\n+     */\n+    public boolean instanceOf( AttributeType attributeType ) throws LdapException\n+    {\n+        if ( ( attributeType != null ) && this.attributeType.equals( attributeType ) )\n+        {\n+            if ( this.attributeType.equals( attributeType ) )\n+            {\n+                return true;\n+            }\n+            \n+            return this.attributeType.isDescendantOf( attributeType );\n+        }\n+\n+        return false;\n+    }\n+\n+\n     /**\n      * Gets a copy of the wrapped binary value.\n      * \n@@ -147,7 +295,7 @@ public T getNormalizedValueReference()\n \n         if ( normalizedValue == null )\n         {\n-            return wrapped;\n+            return wrappedValue;\n         }\n \n         return normalizedValue;\n@@ -162,7 +310,7 @@ public T getNormalizedValueReference()\n      */\n     public final boolean isNull()\n     {\n-        return wrapped == null; \n+        return wrappedValue == null; \n     }\n     \n     \n@@ -175,26 +323,35 @@ public final boolean isSame()\n     }\n \n     \n-    /**\n-     * Check if the Valid flag is set or not. This flag is set by a call\n-     * to the isValid( SyntaxChecker ) method for client values. It is overridden\n-     * for server values.\n-     * \n-     * if the flag is not set, returns <code>false</code>\n+    /** \n+     * Uses the syntaxChecker associated with the attributeType to check if the\n+     * value is valid.  Repeated calls to this method do not attempt to re-check\n+     * the syntax of the wrapped value every time if the wrapped value does not\n+     * change. Syntax checks only result on the first check, and when the wrapped\n+     * value changes.\n      *\n-     * @see ServerValue#isValid()\n+     * @see Value#isValid()\n      */\n-    public boolean isValid()\n+    public final boolean isValid()\n     {\n         if ( valid != null )\n         {\n             return valid;\n         }\n \n-        return false;\n+        if ( attributeType != null )\n+        {\n+            valid = attributeType.getSyntax().getSyntaxChecker().isValidSyntax( get() );\n+        }\n+        else\n+        {\n+            valid = false;\n+        }\n+        \n+        return valid;\n     }\n-\n-\n+    \n+    \n     /**\n      * Uses the syntaxChecker associated with the attributeType to check if the\n      * value is valid.  Repeated calls to this method do not attempt to re-check\n@@ -206,11 +363,6 @@ public boolean isValid()\n      */\n     public final boolean isValid( SyntaxChecker syntaxChecker ) throws LdapException\n     {\n-        if ( valid != null )\n-        {\n-            return valid;\n-        }\n-        \n         if ( syntaxChecker == null )\n         {\n             String message = I18n.err( I18n.ERR_04139, toString() );\n@@ -219,6 +371,7 @@ public final boolean isValid( SyntaxChecker syntaxChecker ) throws LdapException\n         }\n         \n         valid = syntaxChecker.isValidSyntax( getReference() );\n+        \n         return valid;\n     }\n \n@@ -232,7 +385,7 @@ public final boolean isValid( SyntaxChecker syntaxChecker ) throws LdapException\n     public void normalize() throws LdapException\n     {\n         normalized = true;\n-        normalizedValue = wrapped;\n+        normalizedValue = wrappedValue;\n     }\n \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/AbstractValue.java",
                "sha": "d89e2f6568fb8a568f6142ac446d166793411603",
                "status": "modified"
            },
            {
                "additions": 53,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/BinaryValue.java",
                "changes": 254,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/BinaryValue.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 201,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/BinaryValue.java",
                "patch": "@@ -31,7 +31,6 @@\n import org.apache.directory.shared.i18n.I18n;\r\n import org.apache.directory.shared.ldap.schema.AttributeType;\r\n import org.apache.directory.shared.ldap.schema.LdapComparator;\r\n-import org.apache.directory.shared.ldap.schema.MatchingRule;\r\n import org.apache.directory.shared.ldap.schema.Normalizer;\r\n import org.apache.directory.shared.ldap.schema.comparators.ByteArrayComparator;\r\n import org.apache.directory.shared.ldap.util.StringTools;\r\n@@ -56,17 +55,14 @@\n     /** logger for reporting errors that might not be handled properly upstream */\r\n     protected static final Logger LOG = LoggerFactory.getLogger( BinaryValue.class );\r\n     \r\n-    /** reference to the attributeType which is not serialized */\r\n-    protected transient AttributeType attributeType;\r\n-\r\n     /**\r\n      * Creates a BinaryValue without an initial wrapped value.\r\n      *\r\n      * @param attributeType the schema type associated with this BinaryValue\r\n      */\r\n     public BinaryValue()\r\n     {\r\n-        wrapped = null;\r\n+        wrappedValue = null;\r\n         normalized = false;\r\n         valid = null;\r\n         normalizedValue = null;\r\n@@ -103,18 +99,18 @@ public BinaryValue( AttributeType attributeType )\n      * Creates a BinaryValue with an initial wrapped binary value.\r\n      *\r\n      * @param attributeType the schema type associated with this BinaryValue\r\n-     * @param wrapped the binary value to wrap which may be null, or a zero length byte array\r\n+     * @param value the binary value to wrap which may be null, or a zero length byte array\r\n      */\r\n-    public BinaryValue( byte[] wrapped )\r\n+    public BinaryValue( byte[] value )\r\n     {\r\n-        if ( wrapped != null )\r\n+        if ( value != null )\r\n         {\r\n-            this.wrapped = new byte[ wrapped.length ];\r\n-            System.arraycopy( wrapped, 0, this.wrapped, 0, wrapped.length );\r\n+            this.wrappedValue = new byte[ value.length ];\r\n+            System.arraycopy( value, 0, this.wrappedValue, 0, value.length );\r\n         }\r\n         else\r\n         {\r\n-            this.wrapped = null;\r\n+            this.wrappedValue = null;\r\n         }\r\n         \r\n         normalized = false;\r\n@@ -127,32 +123,18 @@ public BinaryValue( byte[] wrapped )\n      * Creates a BinaryValue with an initial wrapped binary value.\r\n      *\r\n      * @param attributeType the schema type associated with this BinaryValue\r\n-     * @param wrapped the binary value to wrap which may be null, or a zero length byte array\r\n+     * @param value the binary value to wrap which may be null, or a zero length byte array\r\n      */\r\n-    public BinaryValue( AttributeType attributeType, byte[] wrapped )\r\n+    public BinaryValue( AttributeType attributeType, byte[] value )\r\n     {\r\n         this( attributeType );\r\n-        this.wrapped = wrapped;\r\n+        this.wrappedValue = value;\r\n     }\r\n \r\n \r\n     // -----------------------------------------------------------------------\r\n     // Value<String> Methods\r\n     // -----------------------------------------------------------------------\r\n-    /**\r\n-     * Reset the value\r\n-     */\r\n-    public void clear()\r\n-    {\r\n-        wrapped = null;\r\n-        normalized = false;\r\n-        normalizedValue = null;\r\n-        valid = null;\r\n-    }\r\n-\r\n-\r\n-\r\n-\r\n     /*\r\n      * Sets the wrapped binary value.  Has the side effect of setting the\r\n      * normalizedValue and the valid flags to null if the wrapped value is\r\n@@ -161,15 +143,13 @@ public void clear()\n      *\r\n      * @see ServerValue#set(Object)\r\n      */\r\n-    public final void set( byte[] wrapped )\r\n+    public final void set( byte[] value )\r\n     {\r\n         // Why should we invalidate the normalized value if it's we're setting the\r\n         // wrapper to it's current value?\r\n-        byte[] value = getReference();\r\n-        \r\n-        if ( value != null )\r\n+        if ( wrappedValue != null )\r\n         {\r\n-            if ( Arrays.equals( wrapped, value ) )\r\n+            if ( Arrays.equals( value, wrappedValue ) )\r\n             {\r\n                 return;\r\n             }\r\n@@ -179,50 +159,18 @@ public final void set( byte[] wrapped )\n         normalized = false;\r\n         valid = null;\r\n         \r\n-        if ( wrapped == null )\r\n+        if ( value == null )\r\n         {\r\n-            this.wrapped = null;\r\n+            this.wrappedValue = null;\r\n         }\r\n         else\r\n         {\r\n-            this.wrapped = new byte[ wrapped.length ];\r\n-            System.arraycopy( wrapped, 0, this.wrapped, 0, wrapped.length );\r\n+            this.wrappedValue = new byte[ value.length ];\r\n+            System.arraycopy( value, 0, this.wrappedValue, 0, value.length );\r\n         }\r\n     }\r\n \r\n \r\n-    /**\r\n-     * Get the associated AttributeType\r\n-     * @return The AttributeType\r\n-     */\r\n-    public AttributeType getAttributeType()\r\n-    {\r\n-        return attributeType;\r\n-    }\r\n-\r\n-\r\n-    /**\r\n-     * Check if the value is stored into an instance of the given \r\n-     * AttributeType, or one of its ascendant.\r\n-     * \r\n-     * For instance, if the Value is associated with a CommonName,\r\n-     * checking for Name will match.\r\n-     * \r\n-     * @param attributeType The AttributeType we are looking at\r\n-     * @return <code>true</code> if the value is associated with the given\r\n-     * attributeType or one of its ascendant\r\n-     */\r\n-    public boolean instanceOf( AttributeType attributeType ) throws LdapException\r\n-    {\r\n-        if ( this.attributeType.equals( attributeType ) )\r\n-        {\r\n-            return true;\r\n-        }\r\n-\r\n-        return this.attributeType.isDescendantOf( attributeType );\r\n-    }\r\n-\r\n-\r\n     // -----------------------------------------------------------------------\r\n     // ServerValue<String> Methods\r\n     // -----------------------------------------------------------------------\r\n@@ -306,7 +254,7 @@ public boolean instanceOf( AttributeType attributeType ) throws LdapException\n         }\r\n         else\r\n         {\r\n-            return wrapped;\r\n+            return wrappedValue;\r\n         }\r\n     }\r\n \r\n@@ -340,22 +288,22 @@ public final void normalize( Normalizer normalizer ) throws LdapException\n     {\r\n         if ( normalizer != null )\r\n         {\r\n-            if ( wrapped == null )\r\n+            if ( wrappedValue == null )\r\n             {\r\n-                normalizedValue = wrapped;\r\n+                normalizedValue = wrappedValue;\r\n                 normalized = true;\r\n                 same = true;\r\n             }\r\n             else\r\n             {\r\n                 normalizedValue = normalizer.normalize( this ).getBytes();\r\n                 normalized = true;\r\n-                same = Arrays.equals( wrapped, normalizedValue );\r\n+                same = Arrays.equals( wrappedValue, normalizedValue );\r\n             }\r\n         }\r\n         else\r\n         {\r\n-            normalizedValue = wrapped;\r\n+            normalizedValue = wrappedValue;\r\n             normalized = false;\r\n             same = true;\r\n         }\r\n@@ -380,7 +328,7 @@ public void normalize() throws LdapException\n         }\r\n         else\r\n         {\r\n-            normalizedValue = wrapped;\r\n+            normalizedValue = wrappedValue;\r\n             normalized = true;\r\n             same = true;\r\n         }\r\n@@ -420,7 +368,7 @@ public int compareTo( Value<byte[]> value )\n         {\r\n             try\r\n             {\r\n-                Comparator<byte[]> comparator = (Comparator<byte[]>)getLdapComparator();\r\n+                LdapComparator<byte[]> comparator = getLdapComparator();\r\n \r\n                 if ( comparator != null )\r\n                 {\r\n@@ -472,73 +420,6 @@ public int hashCode()\n     }\r\n \r\n \r\n-    /**\r\n-     * Find a matchingRule to use for normalization and comparison.  If an equality\r\n-     * matchingRule cannot be found it checks to see if other matchingRules are\r\n-     * available: SUBSTR, and ORDERING.  If a matchingRule cannot be found null is\r\n-     * returned.\r\n-     *\r\n-     * @return a matchingRule or null if one cannot be found for the attributeType\r\n-     * @throws LdapException if resolution of schema entities fail\r\n-     */\r\n-    private MatchingRule getMatchingRule() throws LdapException\r\n-    {\r\n-        MatchingRule mr = attributeType.getEquality();\r\n-\r\n-        if ( mr == null )\r\n-        {\r\n-            mr = attributeType.getOrdering();\r\n-        }\r\n-\r\n-        if ( mr == null )\r\n-        {\r\n-            mr = attributeType.getSubstring();\r\n-        }\r\n-\r\n-        return mr;\r\n-    }\r\n-\r\n-\r\n-    /**\r\n-     * Gets a comparator using getMatchingRule() to resolve the matching\r\n-     * that the comparator is extracted from.\r\n-     *\r\n-     * @return a comparator associated with the attributeType or null if one cannot be found\r\n-     * @throws LdapException if resolution of schema entities fail\r\n-     */\r\n-    private LdapComparator<?> getLdapComparator() throws LdapException\r\n-    {\r\n-        MatchingRule mr = getMatchingRule();\r\n-\r\n-        if ( mr == null )\r\n-        {\r\n-            return null;\r\n-        }\r\n-\r\n-        return mr.getLdapComparator();\r\n-    }\r\n-    \r\n-    \r\n-    /**\r\n-     * Gets a normalizer using getMatchingRule() to resolve the matchingRule\r\n-     * that the normalizer is extracted from.\r\n-     *\r\n-     * @return a normalizer associated with the attributeType or null if one cannot be found\r\n-     * @throws LdapException if resolution of schema entities fail\r\n-     */\r\n-    private Normalizer getNormalizer() throws LdapException\r\n-    {\r\n-        MatchingRule mr = getMatchingRule();\r\n-\r\n-        if ( mr == null )\r\n-        {\r\n-            return null;\r\n-        }\r\n-\r\n-        return mr.getNormalizer();\r\n-    }\r\n-\r\n-\r\n     /**\r\n      * Checks to see if this BinaryValue equals the supplied object.\r\n      *\r\n@@ -589,7 +470,7 @@ else if ( other.attributeType != null )\n \r\n         // Shortcut : if the values are equals, no need to compare\r\n         // the normalized values\r\n-        if ( Arrays.equals( wrapped, other.get() ) )\r\n+        if ( Arrays.equals( wrappedValue, other.wrappedValue ) )\r\n         {\r\n             return true;\r\n         }\r\n@@ -641,10 +522,10 @@ public BinaryValue clone()\n             System.arraycopy( normalizedValue, 0, clone.normalizedValue, 0, normalizedValue.length );\r\n         }\r\n         \r\n-        if ( wrapped != null )\r\n+        if ( wrappedValue != null )\r\n         {\r\n-            clone.wrapped = new byte[ wrapped.length ];\r\n-            System.arraycopy( wrapped, 0, clone.wrapped, 0, wrapped.length );\r\n+            clone.wrappedValue = new byte[ wrappedValue.length ];\r\n+            System.arraycopy( wrappedValue, 0, clone.wrappedValue, 0, wrappedValue.length );\r\n         }\r\n         \r\n         return clone;\r\n@@ -658,14 +539,14 @@ public BinaryValue clone()\n      */\r\n     public byte[] getCopy()\r\n     {\r\n-        if ( wrapped == null )\r\n+        if ( wrappedValue == null )\r\n         {\r\n             return null;\r\n         }\r\n \r\n         \r\n-        final byte[] copy = new byte[ wrapped.length ];\r\n-        System.arraycopy( wrapped, 0, copy, 0, wrapped.length );\r\n+        final byte[] copy = new byte[ wrappedValue.length ];\r\n+        System.arraycopy( wrappedValue, 0, copy, 0, wrappedValue.length );\r\n         return copy;\r\n     }\r\n     \r\n@@ -681,41 +562,12 @@ public boolean isBinary()\n     }\r\n     \r\n     \r\n-    /**\r\n-     * Uses the syntaxChecker associated with the attributeType to check if the\r\n-     * value is valid.  Repeated calls to this method do not attempt to re-check\r\n-     * the syntax of the wrapped value every time if the wrapped value does not\r\n-     * change. Syntax checks only result on the first check, and when the wrapped\r\n-     * value changes.\r\n-     *\r\n-     * @see Value#isValid()\r\n-     */\r\n-    public final boolean isValid()\r\n-    {\r\n-        if ( valid != null )\r\n-        {\r\n-            return valid;\r\n-        }\r\n-\r\n-        if ( attributeType != null )\r\n-        {\r\n-            valid = attributeType.getSyntax().getSyntaxChecker().isValidSyntax( getReference() );\r\n-            return valid;\r\n-        }\r\n-        else\r\n-        {\r\n-            // Always false if we don't have an AttributeType\r\n-            return false;\r\n-        }\r\n-    }\r\n-\r\n-\r\n     /**\r\n      * @return The length of the interned value\r\n      */\r\n     public int length()\r\n     {\r\n-        return wrapped != null ? wrapped.length : 0;\r\n+        return wrappedValue != null ? wrappedValue.length : 0;\r\n     }\r\n \r\n \r\n@@ -738,7 +590,7 @@ public int length()\n      */\r\n     public String getString()\r\n     {\r\n-        return StringTools.utf8ToString( wrapped );\r\n+        return StringTools.utf8ToString( wrappedValue );\r\n     }\r\n     \r\n     \r\n@@ -752,11 +604,11 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n         \r\n         if ( wrappedLength >= 0 )\r\n         {\r\n-            wrapped = new byte[wrappedLength];\r\n+            wrappedValue = new byte[wrappedLength];\r\n             \r\n             if ( wrappedLength > 0 )\r\n             {\r\n-                in.read( wrapped );\r\n+                in.read( wrappedValue );\r\n             }\r\n         }\r\n         \r\n@@ -786,13 +638,13 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n     public void writeExternal( ObjectOutput out ) throws IOException\r\n     {\r\n         // Write the wrapped value, if it's not null\r\n-        if ( wrapped != null )\r\n+        if ( wrappedValue != null )\r\n         {\r\n-            out.writeInt( wrapped.length );\r\n+            out.writeInt( wrappedValue.length );\r\n             \r\n-            if ( wrapped.length > 0 )\r\n+            if ( wrappedValue.length > 0 )\r\n             {\r\n-                out.write( wrapped, 0, wrapped.length );\r\n+                out.write( wrappedValue, 0, wrappedValue.length );\r\n             }\r\n         }\r\n         else\r\n@@ -847,16 +699,16 @@ public void writeExternal( ObjectOutput out ) throws IOException\n      */\r\n     public void serialize( ObjectOutput out ) throws IOException\r\n     {\r\n-        if ( wrapped != null )\r\n+        if ( wrappedValue != null )\r\n         {\r\n             // write a the wrapped length\r\n-            out.writeInt( wrapped.length );\r\n+            out.writeInt( wrappedValue.length );\r\n \r\n             // Write the data if not empty\r\n-            if ( wrapped.length > 0 )\r\n+            if ( wrappedValue.length > 0 )\r\n             {\r\n                 // The data\r\n-                out.write( wrapped );\r\n+                out.write( wrappedValue );\r\n \r\n                 // Normalize the data\r\n                 try\r\n@@ -929,21 +781,21 @@ public void deserialize( ObjectInput in ) throws IOException, ClassNotFoundExcep\n         {\r\n             // If the value is null, the length will be set to -1\r\n             same = true;\r\n-            wrapped = null;\r\n+            wrappedValue = null;\r\n         }\r\n         else if ( wrappedLength == 0 )\r\n         {\r\n-            wrapped = StringTools.EMPTY_BYTES;\r\n+            wrappedValue = StringTools.EMPTY_BYTES;\r\n             same = true;\r\n             normalized = true;\r\n-            normalizedValue = wrapped;\r\n+            normalizedValue = wrappedValue;\r\n         }\r\n         else\r\n         {\r\n-            wrapped = new byte[wrappedLength];\r\n+            wrappedValue = new byte[wrappedLength];\r\n \r\n             // Read the data\r\n-            in.readFully( wrapped );\r\n+            in.readFully( wrappedValue );\r\n \r\n             // Check if we have a normalized value\r\n             normalized = in.readBoolean();\r\n@@ -973,7 +825,7 @@ else if ( wrappedLength == 0 )\n                 else\r\n                 {\r\n                     normalizedValue = new byte[wrappedLength];\r\n-                    System.arraycopy( wrapped, 0, normalizedValue, 0, wrappedLength );\r\n+                    System.arraycopy( wrappedValue, 0, normalizedValue, 0, wrappedLength );\r\n                 }\r\n             }\r\n         }\r\n@@ -987,22 +839,22 @@ else if ( wrappedLength == 0 )\n      */\r\n     public String toString()\r\n     {\r\n-        if ( wrapped == null )\r\n+        if ( wrappedValue == null )\r\n         {\r\n             return \"null\";\r\n         }\r\n-        else if ( wrapped.length > 16 )\r\n+        else if ( wrappedValue.length > 16 )\r\n         {\r\n             // Just dump the first 16 bytes...\r\n             byte[] copy = new byte[16];\r\n             \r\n-            System.arraycopy( wrapped, 0, copy, 0, 16 );\r\n+            System.arraycopy( wrappedValue, 0, copy, 0, 16 );\r\n             \r\n             return \"'\" + StringTools.dumpBytes( copy ) + \"...'\";\r\n         }\r\n         else\r\n         {\r\n-            return \"'\" + StringTools.dumpBytes( wrapped ) + \"'\";\r\n+            return \"'\" + StringTools.dumpBytes( wrappedValue ) + \"'\";\r\n         }\r\n     }\r\n }\n\\ No newline at end of file",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/BinaryValue.java",
                "sha": "8dd3a64cb2921a7a431c3dd14fa3c1f54eb146fc",
                "status": "modified"
            },
            {
                "additions": 24,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/StringValue.java",
                "changes": 273,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/StringValue.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 249,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/StringValue.java",
                "patch": "@@ -30,7 +30,6 @@\n import org.apache.directory.shared.ldap.NotImplementedException;\n import org.apache.directory.shared.ldap.schema.AttributeType;\n import org.apache.directory.shared.ldap.schema.LdapComparator;\n-import org.apache.directory.shared.ldap.schema.MatchingRule;\n import org.apache.directory.shared.ldap.schema.Normalizer;\n import org.apache.directory.shared.ldap.util.StringTools;\n import org.slf4j.Logger;\n@@ -54,9 +53,6 @@\n     /** logger for reporting errors that might not be handled properly upstream */\n     protected static final Logger LOG = LoggerFactory.getLogger( StringValue.class );\n \n-    /** reference to the attributeType which is not serialized */\n-    protected transient AttributeType attributeType;\n-\n \n     // -----------------------------------------------------------------------\n     // Constructors\n@@ -101,11 +97,11 @@ public StringValue( AttributeType attributeType )\n     /**\n      * Creates a StringValue with an initial wrapped String value.\n      *\n-     * @param wrapped the value to wrap which can be null\n+     * @param value the value to wrap which can be null\n      */\n-    public StringValue( String wrapped )\n+    public StringValue( String value )\n     {\n-        this.wrapped = wrapped;\n+        this.wrappedValue = value;\n         normalized = false;\n         valid = null;\n     }\n@@ -117,28 +113,10 @@ public StringValue( String wrapped )\n      * @param attributeType the schema type associated with this StringValue\n      * @param wrapped the value to wrap which can be null\n      */\n-    public StringValue( AttributeType attributeType, String wrapped )\n+    public StringValue( AttributeType attributeType, String value )\n     {\n         this( attributeType );\n-        this.wrapped = wrapped;\n-    }\n-\n-\n-    /**\n-     * Creates a StringValue with an initial wrapped String value and\n-     * a normalized value.\n-     *\n-     * @param attributeType the schema type associated with this StringValue\n-     * @param wrapped the value to wrap which can be null\n-     * @param normalizedValue the normalized value\n-     */\n-    StringValue( AttributeType attributeType, String wrapped, String normalizedValue, boolean valid )\n-    {\n-        this( wrapped );\n-        this.normalized = true;\n-        this.attributeType = attributeType;\n-        this.normalizedValue = normalizedValue;\n-        this.valid = valid;\n+        this.wrappedValue = value;\n     }\n \n \n@@ -154,7 +132,7 @@ public String getCopy()\n     {\n         // The String is immutable, we can safely return the internal\n         // object without copying it.\n-        return wrapped;\n+        return wrappedValue;\n     }\n     \n     \n@@ -166,19 +144,19 @@ public String getCopy()\n      *\n      * @see ServerValue#set(Object)\n      */\n-    public final void set( String wrapped )\n+    public final void set( String value )\n     {\n         // Why should we invalidate the normalized value if it's we're setting the\n         // wrapper to it's current value?\n-        if ( !StringTools.isEmpty( wrapped ) && wrapped.equals( getString() ) )\n+        if ( !StringTools.isEmpty( value ) && value.equals( getString() ) )\n         {\n             return;\n         }\n \n         normalizedValue = null;\n         normalized = false;\n         valid = null;\n-        this.wrapped = wrapped;\n+        this.wrappedValue = value;\n     }\n \n \n@@ -216,42 +194,13 @@ public String getNormalizedValue()\n         \n         if ( normalizedValue == null )\n         {\n-            return wrapped;\n+            return wrappedValue;\n         }\n \n         return normalizedValue;\n     }\n     \n     \n-    public void apply( AttributeType attributeType )\n-    {\n-        if ( this.attributeType != null ) \n-        {\n-            if ( !attributeType.equals( this.attributeType ) )\n-            {\n-                throw new IllegalArgumentException( I18n.err( I18n.ERR_04476, attributeType.getName(), this.attributeType.getName() ) );\n-            }\n-            else\n-            {\n-                return;\n-            }\n-        }\n-        \n-        this.attributeType = attributeType;\n-        \n-        try\n-        {\n-            normalize();\n-        }\n-        catch ( LdapException ne )\n-        {\n-            String message = I18n.err( I18n.ERR_04447, ne.getLocalizedMessage() );\n-            LOG.info( message );\n-            normalized = false;\n-        }\n-    }\n-\n-\n     /**\n      * Gets a copy of the the normalized (canonical) representation \n      * for the wrapped value.\n@@ -284,11 +233,11 @@ public void normalize() throws LdapException\n     \n             if ( normalizer == null )\n             {\n-                normalizedValue = wrapped;\n+                normalizedValue = wrappedValue;\n             }\n             else\n             {\n-                normalizedValue = ( String ) normalizer.normalize( wrapped );\n+                normalizedValue = ( String ) normalizer.normalize( wrappedValue );\n             }\n     \n             normalized = true;\n@@ -309,7 +258,7 @@ public final void normalize( Normalizer normalizer ) throws LdapException\n     {\n         if ( normalizer != null )\n         {\n-            normalizedValue = (String)normalizer.normalize( wrapped );\n+            normalizedValue = (String)normalizer.normalize( wrappedValue );\n             normalized = true;\n         }\n     }\n@@ -505,7 +454,7 @@ else if ( other.attributeType != null )\n         {\n             try\n             {\n-                LdapComparator<? super Object> comparator = getLdapComparator();\n+                LdapComparator<String> comparator = getLdapComparator();\n \n                 // Compare normalized values\n                 if ( comparator == null )\n@@ -548,41 +497,12 @@ public boolean isBinary()\n     }\n \n     \n-    /**\n-     * Uses the syntaxChecker associated with the attributeType to check if the\n-     * value is valid.  Repeated calls to this method do not attempt to re-check\n-     * the syntax of the wrapped value every time if the wrapped value does not\n-     * change. Syntax checks only result on the first check, and when the wrapped\n-     * value changes.\n-     *\n-     * @see Value#isValid()\n-     */\n-    public final boolean isValid()\n-    {\n-        if ( valid != null )\n-        {\n-            return valid;\n-        }\n-\n-        if ( attributeType != null )\n-        {\n-            valid = attributeType.getSyntax().getSyntaxChecker().isValidSyntax( get() );\n-        }\n-        else\n-        {\n-            valid = false;\n-        }\n-        \n-        return valid;\n-    }\n-    \n-    \n     /**\n      * @return The length of the interned value\n      */\n     public int length()\n     {\n-        return wrapped != null ? wrapped.length() : 0;\n+        return wrappedValue != null ? wrappedValue.length() : 0;\n     }\n     \n     \n@@ -592,7 +512,7 @@ public int length()\n      */\n     public byte[] getBytes()\n     {\n-        return StringTools.getBytesUtf8( wrapped );\n+        return StringTools.getBytesUtf8( wrappedValue );\n     }\n     \n     \n@@ -603,7 +523,7 @@ public int length()\n      */\n     public String getString()\n     {\n-        return wrapped != null ? wrapped : \"\";\n+        return wrappedValue != null ? wrappedValue : \"\";\n     }\n     \n     \n@@ -615,7 +535,7 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n         // Read the wrapped value, if it's not null\n         if ( in.readBoolean() )\n         {\n-            wrapped = in.readUTF();\n+            wrappedValue = in.readUTF();\n         }\n         \n         // Read the isNormalized flag\n@@ -638,10 +558,10 @@ public void readExternal( ObjectInput in ) throws IOException, ClassNotFoundExce\n     public void writeExternal( ObjectOutput out ) throws IOException\n     {\n         // Write the wrapped value, if it's not null\n-        if ( wrapped != null )\n+        if ( wrappedValue != null )\n         {\n             out.writeBoolean( true );\n-            out.writeUTF( wrapped );\n+            out.writeUTF( wrappedValue );\n         }\n         else\n         {\n@@ -674,151 +594,6 @@ public void writeExternal( ObjectOutput out ) throws IOException\n     }\n \n     \n-    /**\n-     * Get the associated AttributeType\n-     * @return The AttributeType\n-     */\n-    public AttributeType getAttributeType()\n-    {\n-        return attributeType;\n-    }\n-\n-    \n-    /**\n-     * Check if the value is stored into an instance of the given \n-     * AttributeType, or one of its ascendant.\n-     * \n-     * For instance, if the Value is associated with a CommonName,\n-     * checking for Name will match.\n-     * \n-     * @param attributeType The AttributeType we are looking at\n-     * @return <code>true</code> if the value is associated with the given\n-     * attributeType or one of its ascendant\n-     */\n-    public boolean instanceOf( AttributeType attributeType ) throws LdapException\n-    {\n-        if ( attributeType != null )\n-        {\n-            if ( this.attributeType.equals( attributeType ) )\n-            {\n-                return true;\n-            }\n-    \n-            return this.attributeType.isDescendantOf( attributeType );\n-        }\n-        \n-        return false;\n-    }\n-\n-\n-    /**\n-     *  Check the attributeType member. It should not be null, \n-     *  and it should contains a syntax.\n-     */\n-    protected String checkAttributeType( AttributeType attributeType )\n-    {\n-        if ( attributeType == null )\n-        {\n-            return \"The AttributeType parameter should not be null\";\n-        }\n-        \n-        if ( attributeType.getSyntax() == null )\n-        {\n-            return \"There is no Syntax associated with this attributeType\";\n-        }\n-\n-        return null;\n-    }\n-\n-    \n-    /**\n-     * Gets a comparator using getMatchingRule() to resolve the matching\n-     * that the comparator is extracted from.\n-     *\n-     * @return a comparator associated with the attributeType or null if one cannot be found\n-     * @throws LdapException if resolution of schema entities fail\n-     */\n-    protected LdapComparator<? super Object> getLdapComparator() throws LdapException\n-    {\n-        if ( attributeType != null )\n-        {\n-            MatchingRule mr = getMatchingRule();\n-    \n-            if ( mr == null )\n-            {\n-                return null;\n-            }\n-    \n-            return mr.getLdapComparator();\n-        }\n-        else\n-        {\n-            return null;\n-        }\n-    }\n-    \n-    \n-    /**\n-     * Find a matchingRule to use for normalization and comparison.  If an equality\n-     * matchingRule cannot be found it checks to see if other matchingRules are\n-     * available: SUBSTR, and ORDERING.  If a matchingRule cannot be found null is\n-     * returned.\n-     *\n-     * @return a matchingRule or null if one cannot be found for the attributeType\n-     * @throws LdapException if resolution of schema entities fail\n-     */\n-    protected MatchingRule getMatchingRule() throws LdapException\n-    {\n-        if ( attributeType != null )\n-        {\n-            MatchingRule mr = attributeType.getEquality();\n-    \n-            if ( mr == null )\n-            {\n-                mr = attributeType.getOrdering();\n-            }\n-    \n-            if ( mr == null )\n-            {\n-                mr = attributeType.getSubstring();\n-            }\n-    \n-            return mr;\n-        }\n-        else\n-        {\n-            return null;\n-        }\n-    }\n-\n-\n-    /**\n-     * Gets a normalizer using getMatchingRule() to resolve the matchingRule\n-     * that the normalizer is extracted from.\n-     *\n-     * @return a normalizer associated with the attributeType or null if one cannot be found\n-     * @throws LdapException if resolution of schema entities fail\n-     */\n-    protected Normalizer getNormalizer() throws LdapException\n-    {\n-        if ( attributeType != null )\n-        {\n-            MatchingRule mr = getMatchingRule();\n-    \n-            if ( mr == null )\n-            {\n-                return null;\n-            }\n-    \n-            return mr.getNormalizer();\n-        }\n-        else\n-        {\n-            return null;\n-        }\n-    }\n-\n-    \n     /**\n      * We will write the value and the normalized value, only\n      * if the normalized value is different.\n@@ -838,21 +613,21 @@ protected Normalizer getNormalizer() throws LdapException\n      */\n     public void serialize( ObjectOutput out ) throws IOException\n     {\n-        if ( wrapped != null )\n+        if ( wrappedValue != null )\n         {\n             // write a flag indicating that the value is not null\n             out.writeBoolean( true );\n             \n             // Write the data\n-            out.writeUTF( wrapped );\n+            out.writeUTF( wrappedValue );\n             \n             // Normalize the data\n             try\n             {\n                 normalize();\n                 out.writeBoolean( true );\n                 \n-                if ( wrapped.equals( normalizedValue ) )\n+                if ( wrappedValue.equals( normalizedValue ) )\n                 {\n                     out.writeBoolean( true );\n                 }\n@@ -928,6 +703,6 @@ public void deserialize( ObjectInput in ) throws IOException, ClassNotFoundExcep\n      */\n     public String toString()\n     {\n-        return wrapped == null ? \"null\": wrapped;\n+        return wrappedValue == null ? \"null\": wrappedValue;\n     }\n }",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/StringValue.java",
                "sha": "6d1d735aecc75f4fda4c4db9b717bb2b7dd3bc3b",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Value.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Value.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 6,
                "filename": "ldap/src/main/java/org/apache/directory/shared/ldap/entry/Value.java",
                "patch": "@@ -106,12 +106,6 @@\n     T getCopy();\n     \n     \n-    /**\n-     * Reset the value\n-     */\n-    void clear();\n-    \n-    \n     /**\n      * Tells if the value has already be normalized or not.\n      *",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/main/java/org/apache/directory/shared/ldap/entry/Value.java",
                "sha": "03d4f7815b1668ad70f87e94aa48828342e789b7",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/BinaryValueTest.java",
                "changes": 28,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/entry/BinaryValueTest.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 28,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/entry/BinaryValueTest.java",
                "patch": "@@ -213,26 +213,6 @@ public void testHashCode()\n     }\n \n \n-    @Test\n-    public void testClear() throws LdapException\n-    {\n-        BinaryValue cbv = new BinaryValue( BYTES2 );\n-        cbv.normalize( BINARY_NORMALIZER );\n-        cbv.isValid( BINARY_CHECKER );\n-        \n-        cbv.clear();\n-        assertTrue( cbv.isNull() );\n-        assertFalse( cbv.isNormalized() );\n-        assertFalse( cbv.isValid() );\n-        assertNull( cbv.get() );\n-        assertNull( cbv.getCopy() );\n-        assertNull( cbv.getReference() );\n-        assertNull( cbv.getNormalizedValue() );\n-        assertNull( cbv.getNormalizedValueCopy() );\n-        assertNull( cbv.getNormalizedValueReference() );\n-    }\n-\n-\n     @Test\n     public void testBinaryValueNull() throws LdapException\n     {\n@@ -478,9 +458,6 @@ public void testToString()\n \n         cbv.set( BYTES1 );\n         assertEquals( \"'0x01 0x02 0x03 0x04 '\", cbv.toString() );\n-        \n-        cbv.clear();\n-        assertEquals( \"null\", cbv.toString() );\n     }\n \n \n@@ -582,9 +559,6 @@ public void testIsNull()\n         \n         cbv.set( BYTES1 );\n         assertFalse( cbv.isNull() );\n-        \n-        cbv.clear();\n-        assertTrue( cbv.isNull() );\n     }\n \n \n@@ -726,8 +700,6 @@ public void testSetNormalized() throws LdapException\n         assertTrue( cbv.isNormalized() );\n \n         cbv.normalize( BINARY_NORMALIZER );\n-        cbv.clear();\n-        assertFalse( cbv.isNormalized() );\n     }\n     \n     ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/BinaryValueTest.java",
                "sha": "64185f18836f47c25ac37aa2bd7ed216abd6346c",
                "status": "modified"
            },
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueAttributeTypeTest.java",
                "changes": 22,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueAttributeTypeTest.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 11,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueAttributeTypeTest.java",
                "patch": "@@ -410,25 +410,25 @@ public void testCompareTo()\n     public void testClone() throws LdapException\n     {\n         AttributeType at1 = EntryUtils.getCaseIgnoringAttributeNoNumbersType();\n-        StringValue ssv = new StringValue( at1, \"Test\" );\n+        StringValue sv = new StringValue( at1, \"Test\" );\n         \n-        StringValue ssv1 = ssv.clone();\n+        StringValue sv1 = sv.clone();\n         \n-        assertEquals( ssv, ssv1 );\n+        assertEquals( sv, sv1 );\n         \n-        ssv.set( \"\" );\n+        sv.set( \"\" );\n         \n-        assertNotSame( ssv, ssv1 );\n-        assertEquals( \"\", ssv.getString() );\n+        assertNotSame( sv, sv1 );\n+        assertEquals( \"\", sv.getString() );\n         \n-        ssv.set(  \"  This is    a   TEST  \" );\n-        ssv1 = ssv.clone();\n+        sv.set(  \"  This is    a   TEST  \" );\n+        sv1 = sv.clone();\n         \n-        assertEquals( ssv, ssv1 );\n+        assertEquals( sv, sv1 );\n         \n-        ssv.normalize();\n+        sv.normalize();\n         \n-        assertEquals( ssv, ssv1 );\n+        assertEquals( sv, sv1 );\n     }\n     \n ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueAttributeTypeTest.java",
                "sha": "5f59d551aac650dbda306f3d2aee3e624ce02273",
                "status": "modified"
            },
            {
                "additions": 57,
                "blob_url": "https://github.com/apache/directory-ldap-api/blob/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueTest.java",
                "changes": 131,
                "contents_url": "https://api.github.com/repos/apache/directory-ldap-api/contents/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueTest.java?ref=ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256",
                "deletions": 74,
                "filename": "ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueTest.java",
                "patch": "@@ -32,8 +32,11 @@\n import java.io.ObjectOutputStream;\n \n import org.apache.directory.shared.ldap.exception.LdapException;\n+import org.apache.directory.shared.ldap.schema.comparators.StringComparator;\n import org.apache.directory.shared.ldap.schema.normalizers.DeepTrimToLowerNormalizer;\n import org.apache.directory.shared.ldap.schema.syntaxCheckers.Ia5StringSyntaxChecker;\n+import org.apache.directory.shared.ldap.schema.syntaxCheckers.OctetStringSyntaxChecker;\n+import org.junit.Before;\n import org.junit.Test;\n \n /**\n@@ -45,6 +48,9 @@\n  */\n public class StringValueTest\n {\n+    //----------------------------------------------------------------------------------\n+    // Helper method\n+    //----------------------------------------------------------------------------------\n     /**\n      * Serialize a StringValue\n      */\n@@ -117,8 +123,56 @@ private StringValue deserializeValue( ByteArrayOutputStream out ) throws IOExcep\n             }\n         }\n     }\n-    \n-    \n+\n+\n+    //----------------------------------------------------------------------------------\n+    // Test the clone() method\n+    //----------------------------------------------------------------------------------\n+    /**\n+     * Test cloning an empty value\n+     */\n+    @Test\n+    public void testCloneEmptyValue() throws LdapException\n+    {\n+        StringValue sv = new StringValue();\n+        \n+        StringValue sv1 = (StringValue)sv.clone();\n+        \n+        assertEquals( sv, sv1 );\n+        \n+        sv.set( \"\" );\n+        \n+        assertNotSame( sv, sv1 );\n+        assertNull( sv1.get() );\n+        assertEquals( \"\", sv.getString() );\n+    }\n+\n+\n+    /**\n+     * Test cloning a value\n+     */\n+    @Test\n+    public void testCloneValue() throws LdapException\n+    {\n+        StringValue sv = new StringValue( \"  This is    a   TEST  \" );\n+        \n+        StringValue sv1 = (StringValue)sv.clone();\n+        \n+        sv1 = sv.clone();\n+        \n+        assertEquals( sv, sv1 );\n+        assertEquals( \"  This is    a   TEST  \", sv.getString() );\n+\n+        sv.normalize( new DeepTrimToLowerNormalizer( \"1.1.1\" ) );\n+        \n+        assertNotSame( sv, sv1 );\n+        assertEquals( \"  This is    a   TEST  \", sv1.getString() );\n+        assertEquals( \"  This is    a   TEST  \", sv1.getNormalizedValue() );\n+        assertEquals( \"  This is    a   TEST  \", sv.getString() );\n+        assertEquals( \"this is a test\", sv.getNormalizedValue() );\n+    }\n+\n+\n     /**\n      * Test method for {@link org.apache.directory.shared.ldap.entry.StringValue#hashCode()}.\n      */\n@@ -199,9 +253,6 @@ public void testGet()\n         \n         csv.set( \"\" );\n         assertEquals( \"\", csv.get() );\n-        \n-        csv.clear();\n-        assertNull( csv.get() );\n     }\n \n \n@@ -217,9 +268,6 @@ public void testGetCopy()\n         \n         csv.set( \"\" );\n         assertEquals( \"\", csv.getCopy() );\n-        \n-        csv.clear();\n-        assertNull( csv.getCopy() );\n     }\n \n \n@@ -266,32 +314,9 @@ public void testIsNull()\n         \n         csv.set( \"test\" );\n         assertFalse( csv.isNull() );\n-        \n-        csv.clear();\n-        assertTrue( csv.isNull() );\n     }\n \n-\n-    /**\n-     * Test method for {@link org.apache.directory.shared.ldap.entry.StringValue#clear()}.\n-     */\n-    @Test\n-    public void testClear() throws LdapException\n-    {\n-        StringValue csv = new StringValue();\n-        \n-        csv.clear();\n-        assertTrue( csv.isNull() );\n-        \n-        csv.set( \"test\" );\n-        assertTrue( csv.isValid( new Ia5StringSyntaxChecker() ) );\n-        csv.clear();\n-        assertTrue( csv.isNull() );\n-        assertTrue( csv.isValid( new Ia5StringSyntaxChecker() ) );\n-        assertFalse( csv.isNormalized() );\n-    }\n-\n-\n+    \n     /**\n      * Test method for {@link org.apache.directory.shared.ldap.entry.StringValue#isNormalized()}.\n      */\n@@ -341,8 +366,6 @@ public void testSetNormalized() throws LdapException\n         assertFalse( csv.isNormalized() );\n \n         csv.normalize( new DeepTrimToLowerNormalizer( \"1.1.1\" ) );\n-        csv.clear();\n-        assertFalse( csv.isNormalized() );\n     }\n \n \n@@ -362,10 +385,6 @@ public void testGetNormalizedValue() throws LdapException\n         csv.normalize( new DeepTrimToLowerNormalizer( \"1.1.1\" ) );\n         \n         assertEquals( \"this is a test\", csv.getNormalizedValue() );\n-\n-        csv.clear();\n-        assertFalse( csv.isNormalized() );\n-        assertEquals( null, csv.getNormalizedValue() );\n     }\n \n \n@@ -385,10 +404,6 @@ public void getNormalizedValueCopy() throws LdapException\n         csv.normalize( new DeepTrimToLowerNormalizer( \"1.1.1\" ) );\n         \n         assertEquals( \"this is a test\", csv.getNormalizedValueCopy() );\n-\n-        csv.clear();\n-        assertFalse( csv.isNormalized() );\n-        assertEquals( null, csv.getNormalizedValueCopy() );\n     }\n \n     \n@@ -465,35 +480,6 @@ public void testCompareTo() throws LdapException\n     }\n \n \n-    /**\n-     * Test method for {@link org.apache.directory.shared.ldap.entry.StringValue#clone()}.\n-     */\n-    @Test\n-    public void testClone() throws LdapException\n-    {\n-        StringValue csv = new StringValue();\n-        \n-        StringValue csv1 = (StringValue)csv.clone();\n-        \n-        assertEquals( csv, csv1 );\n-        \n-        csv.set( \"\" );\n-        \n-        assertNotSame( csv, csv1 );\n-        assertNull( csv1.get() );\n-        assertEquals( \"\", csv.getString() );\n-        \n-        csv.set(  \"  This is    a   TEST  \" );\n-        csv1 = csv.clone();\n-        \n-        assertEquals( csv, csv1 );\n-        \n-        csv.normalize( new DeepTrimToLowerNormalizer( \"1.1.1\" ) );\n-        \n-        assertNotSame( csv, csv1 );\n-    }\n-\n-\n     /**\n      * Test method for {@link org.apache.directory.shared.ldap.entry.StringValue#equals(java.lang.Object)}.\n      */\n@@ -534,9 +520,6 @@ public void testToString()\n \n         csv.set( \"Test\" );\n         assertEquals( \"Test\", csv.toString() );\n-        \n-        csv.clear();\n-        assertEquals( \"null\", csv.toString() );\n     }\n     \n     ",
                "raw_url": "https://github.com/apache/directory-ldap-api/raw/ee9f3cd5855c9e9f835f8c1a2799d1adc4acb256/ldap/src/test/java/org/apache/directory/shared/ldap/entry/StringValueTest.java",
                "sha": "a6f5231f2951def47c07dfc75f3d4602b7b34f39",
                "status": "modified"
            }
        ],
        "message": "o Moved some methods from String/BinaryValue to AbstractValue\no Removed the clear() methods\no Renamed a field\no AttributeType is also moved to AbstractValue\no Fixed some potential NPE\no Some more minor refactoring\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/directory/shared/trunk@929756 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/directory-ldap-api/commit/2efec663333bf2b227e35df4732ea28c11299cc3",
        "patched_files": [
            "BinaryValue.java",
            "StringValue.java",
            "Value.java",
            "AbstractValue.java"
        ],
        "repo": "directory-ldap-api",
        "unit_tests": [
            "StringValueAttributeTypeTest.java",
            "StringValueTest.java",
            "BinaryValueTest.java",
            "ValueTest.java"
        ]
    }
}