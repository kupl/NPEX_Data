[
    {
        "repo": "commons-functor",
        "commit": "https://github.com/apache/commons-functor/commit/28e6c72688908097c9f7e12c1cafca4827315536",
        "bug_id": "commons-functor_28e6c72",
        "message": "IllegalArgumentException more to-the-point than NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/sandbox/functor/trunk@646498 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-functor/commit/7edb9fc038b4ce1b5ae1b28525b4c560d4548566",
        "patched_files": [
            "FilteredIterator.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 7,
                "raw_url": "https://github.com/apache/commons-functor/raw/28e6c72688908097c9f7e12c1cafca4827315536/src/main/java/org/apache/commons/functor/core/collection/FilteredIterator.java",
                "contents_url": "https://api.github.com/repos/apache/commons-functor/contents/src/main/java/org/apache/commons/functor/core/collection/FilteredIterator.java?ref=28e6c72688908097c9f7e12c1cafca4827315536",
                "filename": "src/main/java/org/apache/commons/functor/core/collection/FilteredIterator.java",
                "deletions": 5,
                "sha": "2a59ce7bbbf70c6997a0b73f61de9a05de071155",
                "blob_url": "https://github.com/apache/commons-functor/blob/28e6c72688908097c9f7e12c1cafca4827315536/src/main/java/org/apache/commons/functor/core/collection/FilteredIterator.java",
                "patch": "@@ -45,12 +45,14 @@\n      * @param predicate to apply\n      */\n     public FilteredIterator(Iterator iterator, UnaryPredicate predicate) {\n-        if (null == iterator || null == predicate) {\n-            throw new NullPointerException();\n-        } else {\n-            this.predicate = predicate;\n-            this.iterator = iterator;\n+        if (null == iterator) {\n+            throw new IllegalArgumentException(\"iterator argument was null\");\n+        }\n+        if (null == predicate) {\n+            throw new IllegalArgumentException(\"filtering predicate argument was null\");\n         }\n+        this.predicate = predicate;\n+        this.iterator = iterator;\n     }\n \n     // iterator methods",
                "changes": 12
            },
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/commons-functor/raw/28e6c72688908097c9f7e12c1cafca4827315536/src/test/java/org/apache/commons/functor/core/collection/TestFilteredIterator.java",
                "contents_url": "https://api.github.com/repos/apache/commons-functor/contents/src/test/java/org/apache/commons/functor/core/collection/TestFilteredIterator.java?ref=28e6c72688908097c9f7e12c1cafca4827315536",
                "filename": "src/test/java/org/apache/commons/functor/core/collection/TestFilteredIterator.java",
                "deletions": 3,
                "sha": "7f6efa13687d2ce01ff12658859dabd65c82b783",
                "blob_url": "https://github.com/apache/commons-functor/blob/28e6c72688908097c9f7e12c1cafca4827315536/src/test/java/org/apache/commons/functor/core/collection/TestFilteredIterator.java",
                "patch": "@@ -213,19 +213,19 @@ public void testConstructorProhibitsNull() {\n         try {\n             new FilteredIterator(null,null);\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n         try {\n             new FilteredIterator(null,Constant.truePredicate());\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n         try {\n             new FilteredIterator(list.iterator(),null);\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n     }",
                "changes": 6
            }
        ],
        "unit_tests": [
            "TestFilteredIterator.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/functor/core/collection/TestFilteredIterator.java",
        "buggy_files": [
            "src/main/java/org/apache/commons/functor/core/collection/FilteredIterator.java"
        ],
        "fixed": true
    }
]