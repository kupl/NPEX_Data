{
    "olingo-odata2_2fd3f0f": {
        "bug_id": "olingo-odata2_2fd3f0f",
        "commit": "https://github.com/apache/olingo-odata2/commit/2fd3f0fee71eee810f8f7d9ce33631fcea60f5c5",
        "file": [
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/2fd3f0fee71eee810f8f7d9ce33631fcea60f5c5/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java?ref=2fd3f0fee71eee810f8f7d9ce33631fcea60f5c5",
                "deletions": 8,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "patch": "@@ -19,6 +19,7 @@\n package org.apache.olingo.odata2.jpa.processor.core.access.model;\n \n import java.io.InputStream;\n+import java.util.List;\n \n import javax.xml.bind.JAXBContext;\n import javax.xml.bind.JAXBException;\n@@ -52,7 +53,7 @@ public JPAEdmMappingModelService(final ODataJPAContext ctx) {\n       }\n     }\n \n-    mappingModelExists = mappingModelName != null || mappingModelStream != null ? true : false;\n+    mappingModelExists = mappingModelName != null || mappingModelStream != null;\n   }\n \n   @Override\n@@ -180,13 +181,14 @@ public String mapJPAEmbeddableTypeAttribute(final String jpaEmbeddableTypeName,\n   }\n \n   private JPAEntityTypeMapType searchJPAEntityTypeMapType(final String jpaEntityTypeName) {\n-    for (JPAEntityTypeMapType jpaEntityType : mappingModel.getPersistenceUnit().getJPAEntityTypes()\n-        .getJPAEntityType()) {\n-      if (jpaEntityType.getName().equals(jpaEntityTypeName)) {\n-        return jpaEntityType;\n+    if(mappingModel != null) {\n+      List<JPAEntityTypeMapType> types = mappingModel.getPersistenceUnit().getJPAEntityTypes().getJPAEntityType();\n+      for (JPAEntityTypeMapType jpaEntityType : types) {\n+        if (jpaEntityType.getName().equals(jpaEntityTypeName)) {\n+          return jpaEntityType;\n+        }\n       }\n     }\n-\n     return null;\n   }\n \n@@ -205,8 +207,7 @@ protected InputStream loadMappingModelInputStream() {\n     if (mappingModelStream != null) {\n       return mappingModelStream;\n     }\n-    InputStream is = JPAEdmMappingModelService.class.getClassLoader().getResourceAsStream(\"../../\" + mappingModelName);\n-    return is;\n+    return JPAEdmMappingModelService.class.getClassLoader().getResourceAsStream(\"../../\" + mappingModelName);\n \n   }\n ",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/2fd3f0fee71eee810f8f7d9ce33631fcea60f5c5/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "sha": "4ac568b425dca15de916b809a73ecc05a441b1a3",
                "status": "modified"
            }
        ],
        "message": "[OLINGO-449] Fix NPE in JPAEdmMappingModelService",
        "parent": "https://github.com/apache/olingo-odata2/commit/7ab8cd93ef0d17f290021c3453bc4013516ed76f",
        "repo": "olingo-odata2",
        "unit_tests": [
            "JPAEdmMappingModelServiceTest.java"
        ]
    },
    "olingo-odata2_36a3eb6": {
        "bug_id": "olingo-odata2_36a3eb6",
        "commit": "https://github.com/apache/olingo-odata2/commit/36a3eb6f6a7defa1436503b9281873ee16d20437",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/36a3eb6f6a7defa1436503b9281873ee16d20437/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java?ref=36a3eb6f6a7defa1436503b9281873ee16d20437",
                "deletions": 2,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "patch": "@@ -83,9 +83,11 @@ public void loadMappingModel() {\n         ODataJPAModelException.throwException(ODataJPAModelException.GENERAL, e);\n       } finally {\n         try {\n-          is.close();\n+          if (is != null) {\n+            is.close();\n+          }\n         } catch (IOException e) {\n-          //do nothing\n+          // do nothing\n         }\n       }\n     }",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/36a3eb6f6a7defa1436503b9281873ee16d20437/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "sha": "761fc2d654387ed7d1f39b32b6126b55ce154f8f",
                "status": "modified"
            }
        ],
        "message": "Fix NPE in JUnit\n\nSigned-off-by: Chandan V A <chandan.v.a@sap.com>",
        "parent": "https://github.com/apache/olingo-odata2/commit/992e424696bcb89430e95d84a7dcc288712acc47",
        "repo": "olingo-odata2",
        "unit_tests": [
            "JPAEdmMappingModelServiceTest.java"
        ]
    },
    "olingo-odata2_44d6289": {
        "bug_id": "olingo-odata2_44d6289",
        "commit": "https://github.com/apache/olingo-odata2/commit/44d62897a1c13bb2ece77a33c92580d28cc9cbb6",
        "file": [
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/44d62897a1c13bb2ece77a33c92580d28cc9cbb6/odata-fit/src/test/java/org/apache/olingo/odata2/fit/ref/EntryXmlChangeTest.java",
                "changes": 22,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata-fit/src/test/java/org/apache/olingo/odata2/fit/ref/EntryXmlChangeTest.java?ref=44d62897a1c13bb2ece77a33c92580d28cc9cbb6",
                "deletions": 0,
                "filename": "odata-fit/src/test/java/org/apache/olingo/odata2/fit/ref/EntryXmlChangeTest.java",
                "patch": "@@ -235,6 +235,28 @@ public void update() throws Exception {\n     assertXpathEvaluatesTo(\"true\", \"/atom:entry/m:properties/d:EntryDate/@m:null\", body);\n   }\n \n+  @Test\n+  public void updateIncomplete() throws Exception {\n+    final String requestBody = \"<entry xmlns=\\\"\" + Edm.NAMESPACE_ATOM_2005 + \"\\\"\" + \"\\n\"\n+        + \"       xmlns:d=\\\"\" + Edm.NAMESPACE_D_2007_08 + \"\\\"\" + \"\\n\"\n+        + \"       xmlns:m=\\\"\" + Edm.NAMESPACE_M_2007_08 + \"\\\">\" + \"\\n\"\n+        + \"  <m:properties><d:EmployeeName>Mister X</d:EmployeeName></m:properties>\" + \"\\n\"\n+        + \"</entry>\";\n+    putUri(\"Employees('1')\", requestBody, HttpContentType.APPLICATION_ATOM_XML_ENTRY, HttpStatusCodes.NO_CONTENT);\n+    final String body = getBody(callUri(\"Employees('1')\"));\n+    assertXpathEvaluatesTo(\"Mister X\", \"/atom:entry/m:properties/d:EmployeeName\", body);\n+    assertXpathEvaluatesTo(\"0\", \"/atom:entry/m:properties/d:Age\", body);\n+    assertXpathEvaluatesTo(\"true\", \"/atom:entry/m:properties/d:EntryDate/@m:null\", body);\n+\n+    final String requestBody2 = requestBody.replace(\"<d:EmployeeName>Mister X</d:EmployeeName>\",\n+        \"<d:Location><d:Country>Allemagne</d:Country></d:Location>\");\n+    putUri(\"Employees('1')\", requestBody2, HttpContentType.APPLICATION_ATOM_XML_ENTRY, HttpStatusCodes.NO_CONTENT);\n+    final String body2 = getBody(callUri(\"Employees('1')\"));\n+    assertXpathEvaluatesTo(\"Allemagne\", \"/atom:entry/m:properties/d:Location/d:Country\", body2);\n+    assertXpathEvaluatesTo(\"true\", \"/atom:entry/m:properties/d:Location/d:City/d:CityName/@m:null\", body2);\n+    assertXpathEvaluatesTo(\"true\", \"/atom:entry/m:properties/d:EmployeeName/@m:null\", body2);\n+  }\n+\n   @Test\n   public void updateUnknownProperty() throws Exception {\n     final String requestBody = getBody(callUri(\"Employees('2')\"))",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/44d62897a1c13bb2ece77a33c92580d28cc9cbb6/odata-fit/src/test/java/org/apache/olingo/odata2/fit/ref/EntryXmlChangeTest.java",
                "sha": "67304f8b7dc4aac166f5ed5a394fb36302f2e967",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/44d62897a1c13bb2ece77a33c92580d28cc9cbb6/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java?ref=44d62897a1c13bb2ece77a33c92580d28cc9cbb6",
                "deletions": 3,
                "filename": "odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "patch": "@@ -1539,12 +1539,13 @@ private static String getSetterMethodName(final String getterMethodName) {\n       if (type instanceof EdmEntityType && ((EdmEntityType) type).getKeyProperties().contains(property)) {\n         continue;\n       }\n-      if (!merge || valueMap.containsKey(propertyName)) {\n+      if (!merge || valueMap != null && valueMap.containsKey(propertyName)) {\n+        final Object value = valueMap == null ? null : valueMap.get(propertyName);\n         if (property.isSimple()) {\n-          setPropertyValue(data, property, valueMap.get(propertyName));\n+          setPropertyValue(data, property, value);\n         } else {\n           @SuppressWarnings(\"unchecked\")\n-          final Map<String, Object> values = (Map<String, Object>) valueMap.get(propertyName);\n+          final Map<String, Object> values = (Map<String, Object>) value;\n           setStructuralTypeValuesFromMap(getPropertyValue(data, property), (EdmStructuralType) property.getType(), values, merge);\n         }\n       }",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/44d62897a1c13bb2ece77a33c92580d28cc9cbb6/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "sha": "95679faa380d251bd2db5f6c50e2baff39f2a5e0",
                "status": "modified"
            }
        ],
        "message": "FIx NPE in RefScenario when a complex property is missing",
        "parent": "https://github.com/apache/olingo-odata2/commit/5457e77396852d1c424c9cb11fd7f5b2d72491a7",
        "repo": "olingo-odata2",
        "unit_tests": [
            "ListsProcessorTest.java"
        ]
    },
    "olingo-odata2_5734003": {
        "bug_id": "olingo-odata2_5734003",
        "commit": "https://github.com/apache/olingo-odata2/commit/57340038579dc051a34460861b8eaad64121b5fb",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/57340038579dc051a34460861b8eaad64121b5fb/odata2-processor-jpa/jpa-core/src/main/java/org/apache/olingo/odata2/processor/core/jpa/access/model/JPAEdmMappingModelService.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-processor-jpa/jpa-core/src/main/java/org/apache/olingo/odata2/processor/core/jpa/access/model/JPAEdmMappingModelService.java?ref=57340038579dc051a34460861b8eaad64121b5fb",
                "deletions": 1,
                "filename": "odata2-processor-jpa/jpa-core/src/main/java/org/apache/olingo/odata2/processor/core/jpa/access/model/JPAEdmMappingModelService.java",
                "patch": "@@ -137,7 +137,7 @@ public String mapJPAAttribute(final String jpaEntityTypeName, final String jpaAt\n   @Override\n   public String mapJPARelationship(final String jpaEntityTypeName, final String jpaRelationshipName) {\n     JPAEntityTypeMapType jpaEntityTypeMap = searchJPAEntityTypeMapType(jpaEntityTypeName);\n-    if (jpaEntityTypeMap != null) {\n+    if (jpaEntityTypeMap != null && jpaEntityTypeMap.getJPARelationships() != null) {\n       for (JPARelationship jpaRealtionship : jpaEntityTypeMap.getJPARelationships().getJPARelationship()) {\n         if (jpaRealtionship.getName().equals(jpaRelationshipName)) {\n           return jpaRealtionship.getValue();",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/57340038579dc051a34460861b8eaad64121b5fb/odata2-processor-jpa/jpa-core/src/main/java/org/apache/olingo/odata2/processor/core/jpa/access/model/JPAEdmMappingModelService.java",
                "sha": "d00638ee26305b8da8cd35ec5d46ca2c9c77a6ca",
                "status": "modified"
            }
        ],
        "message": "[OLINGO-85] Fix for NPE in Mapping Model Service for JPA Relationship\nmap.",
        "parent": "https://github.com/apache/olingo-odata2/commit/2f2553ca7eaa6bd349c2f7b2fb9dfe9eedc342a9",
        "repo": "olingo-odata2",
        "unit_tests": [
            "JPAEdmMappingModelServiceTest.java"
        ]
    },
    "olingo-odata2_5a2718b": {
        "bug_id": "olingo-odata2_5a2718b",
        "commit": "https://github.com/apache/olingo-odata2/commit/5a2718b0a3084f4f241d852f9ad4387d0b0661f4",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/5a2718b0a3084f4f241d852f9ad4387d0b0661f4/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/annotation/processor/core/ListsProcessor.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/annotation/processor/core/ListsProcessor.java?ref=5a2718b0a3084f4f241d852f9ad4387d0b0661f4",
                "deletions": 4,
                "filename": "odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/annotation/processor/core/ListsProcessor.java",
                "patch": "@@ -1431,9 +1431,9 @@ public int compare(final T entity1, final T entity2) {\n       final MethodExpression methodExpression = (MethodExpression) expression;\n       final String first = evaluateExpression(data, methodExpression.getParameters().get(0));\n       final String second = methodExpression.getParameterCount() > 1 ?\n-          evaluateExpression(data, methodExpression.getParameters().get(1)) : null;\n+          evaluateExpression(data, methodExpression.getParameters().get(1)) : \"\";\n       final String third = methodExpression.getParameterCount() > 2 ?\n-          evaluateExpression(data, methodExpression.getParameters().get(2)) : null;\n+          evaluateExpression(data, methodExpression.getParameters().get(2)) : \"\";\n \n       switch (methodExpression.getMethod()) {\n       case ENDSWITH:\n@@ -1449,8 +1449,9 @@ public int compare(final T entity1, final T entity2) {\n       case TRIM:\n         return first.trim();\n       case SUBSTRING:\n-        final int offset = Integer.parseInt(second);\n-        return first.substring(offset, offset + Integer.parseInt(third));\n+        final int offset = second.length() == 0 ? 0 : Integer.parseInt(second);\n+        final int length = third.length() == 0 ? 0 : Integer.parseInt(second);\n+        return first.substring(offset, offset + length);\n       case SUBSTRINGOF:\n         return Boolean.toString(second.contains(first));\n       case CONCAT:",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/5a2718b0a3084f4f241d852f9ad4387d0b0661f4/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/annotation/processor/core/ListsProcessor.java",
                "sha": "df23b311792d42384abad7495f8658dea052d3fb",
                "status": "modified"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/5a2718b0a3084f4f241d852f9ad4387d0b0661f4/odata2-lib/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "changes": 35,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-lib/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java?ref=5a2718b0a3084f4f241d852f9ad4387d0b0661f4",
                "deletions": 17,
                "filename": "odata2-lib/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "patch": "@@ -1438,26 +1438,27 @@ public int compare(final T entity1, final T entity2) {\n       final MethodExpression methodExpression = (MethodExpression) expression;\n       final String first = evaluateExpression(data, methodExpression.getParameters().get(0));\n       final String second = methodExpression.getParameterCount() > 1 ?\n-          evaluateExpression(data, methodExpression.getParameters().get(1)) : null;\n+          evaluateExpression(data, methodExpression.getParameters().get(1)) : \"\";\n       final String third = methodExpression.getParameterCount() > 2 ?\n-          evaluateExpression(data, methodExpression.getParameters().get(2)) : null;\n+          evaluateExpression(data, methodExpression.getParameters().get(2)) : \"\";\n \n       switch (methodExpression.getMethod()) {\n-      case ENDSWITH:\n-        return Boolean.toString(first.endsWith(second));\n-      case INDEXOF:\n-        return Integer.toString(first.indexOf(second));\n-      case STARTSWITH:\n-        return Boolean.toString(first.startsWith(second));\n-      case TOLOWER:\n-        return first.toLowerCase(Locale.ROOT);\n-      case TOUPPER:\n-        return first.toUpperCase(Locale.ROOT);\n-      case TRIM:\n-        return first.trim();\n-      case SUBSTRING:\n-        final int offset = Integer.parseInt(second);\n-        return first.substring(offset, offset + Integer.parseInt(third));\n+        case ENDSWITH:\n+          return Boolean.toString(first.endsWith(second));\n+        case INDEXOF:\n+          return Integer.toString(first.indexOf(second));\n+        case STARTSWITH:\n+          return Boolean.toString(first.startsWith(second));\n+        case TOLOWER:\n+          return first.toLowerCase(Locale.ROOT);\n+        case TOUPPER:\n+          return first.toUpperCase(Locale.ROOT);\n+        case TRIM:\n+          return first.trim();\n+        case SUBSTRING:\n+          final int offset = second.length() == 0 ? 0 : Integer.parseInt(second);\n+          final int length = third.length() == 0 ? 0 : Integer.parseInt(second);\n+          return first.substring(offset, offset + length);\n       case SUBSTRINGOF:\n         return Boolean.toString(second.contains(first));\n       case CONCAT:",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/5a2718b0a3084f4f241d852f9ad4387d0b0661f4/odata2-lib/odata-ref/src/main/java/org/apache/olingo/odata2/ref/processor/ListsProcessor.java",
                "sha": "fb48d5f1cf7101cb1c0af099b5d8b154c96045b4",
                "status": "modified"
            }
        ],
        "message": "[OLINGO-955] Fix NPE for ListProcessors",
        "parent": "https://github.com/apache/olingo-odata2/commit/46afc9901873094faa8d3bb337d8ba2d6706aaaf",
        "repo": "olingo-odata2",
        "unit_tests": [
            "ListsProcessorTest.java"
        ]
    },
    "olingo-odata2_6174b7c": {
        "bug_id": "olingo-odata2_6174b7c",
        "commit": "https://github.com/apache/olingo-odata2/commit/6174b7c2892f097d89226bc9c409d2757ad82467",
        "file": [
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/6174b7c2892f097d89226bc9c409d2757ad82467/odata-core/src/main/java/org/apache/olingo/odata2/core/rest/RestUtil.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata-core/src/main/java/org/apache/olingo/odata2/core/rest/RestUtil.java?ref=6174b7c2892f097d89226bc9c409d2757ad82467",
                "deletions": 5,
                "filename": "odata-core/src/main/java/org/apache/olingo/odata2/core/rest/RestUtil.java",
                "patch": "@@ -131,11 +131,13 @@ public static ServletInputStream extractRequestContent(final SubLocatorParameter\n     // first validate all accept header content types are 'parseable' and valif from our point of view\n     List<String> acceptHeaders = param.getHttpHeaders().getRequestHeader(HttpHeaders.ACCEPT);\n \n-    for (String acceptHeader : acceptHeaders) {\n-      String[] contentTypes = acceptHeader.split(\",\");\n-      for (String contentType : contentTypes) {\n-        if (!ContentType.isParseable(contentType.trim())) {\n-          throw new ODataBadRequestException(ODataBadRequestException.INVALID_HEADER.addContent(HttpHeaders.ACCEPT, acceptHeader));\n+    if (acceptHeaders != null) {\n+      for (String acceptHeader : acceptHeaders) {\n+        String[] contentTypes = acceptHeader.split(\",\");\n+        for (String contentType : contentTypes) {\n+          if (!ContentType.isParseable(contentType.trim())) {\n+            throw new ODataBadRequestException(ODataBadRequestException.INVALID_HEADER.addContent(HttpHeaders.ACCEPT, acceptHeader));\n+          }\n         }\n       }\n     }",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/6174b7c2892f097d89226bc9c409d2757ad82467/odata-core/src/main/java/org/apache/olingo/odata2/core/rest/RestUtil.java",
                "sha": "56b883d7a0049d138896a198ef2b298341159c44",
                "status": "modified"
            }
        ],
        "message": "Issue OLINGO-3 - NPE guard for missing Accept headers",
        "parent": "https://github.com/apache/olingo-odata2/commit/99e549dde8f5c80f1c451ea6a9a13e16adc16053",
        "repo": "olingo-odata2",
        "unit_tests": [
            "RestUtilTest.java"
        ]
    },
    "olingo-odata2_78f31a8": {
        "bug_id": "olingo-odata2_78f31a8",
        "commit": "https://github.com/apache/olingo-odata2/commit/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java?ref=78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a",
                "deletions": 0,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "patch": "@@ -163,6 +163,9 @@ public JPAEntityParser() {\n     Object result = null;\n     String methodName = null;\n     HashMap<String, Object> navigationMap = new HashMap<String, Object>();\n+    if (jpaEntity == null) {\n+      return navigationMap;\n+    }\n     if (navigationPropertyList != null\n         && navigationPropertyList.size() != 0) {\n ",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "sha": "318d05e22c2972a36ddf2cb1e9efd9bfea2aa27a",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java?ref=78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a",
                "deletions": 2,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java",
                "patch": "@@ -131,8 +131,9 @@ public JPAProcessorImpl(final ODataJPAContext oDataJPAContext) {\n       return (List<Object>) process((GetFunctionImportUriInfo) uriParserResultView);\n     }\n     InlineCount inlineCount = uriParserResultView.getInlineCount();\n-    Integer top = uriParserResultView.getTop();\n-    if (top != null && top.intValue() == 0 && inlineCount != null && inlineCount.equals(InlineCount.ALLPAGES)) {\n+    Integer top = uriParserResultView.getTop() == null ? 1 : uriParserResultView.getTop().intValue();\n+    boolean hasNoAllPages = inlineCount == null ? true : !inlineCount.equals(InlineCount.ALLPAGES);\n+    if (top.intValue() == 0 && hasNoAllPages) {\n       return new ArrayList<Object>();\n     }\n     JPQLContextType contextType = null;",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java",
                "sha": "8c497d3cc6edb999f33a36545fd31ca195c09e46",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/callback/JPAExpandCallBack.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/callback/JPAExpandCallBack.java?ref=78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a",
                "deletions": 1,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/callback/JPAExpandCallBack.java",
                "patch": "@@ -87,7 +87,9 @@ public WriteEntryCallbackResult retrieveEntryResult(final WriteEntryCallbackCont\n         }\n         HashMap<String, Object> navigationMap =\n             jpaResultParser.parse2EdmNavigationValueMap(inlinedEntry, currentNavPropertyList);\n-        edmPropertyValueMap.putAll(navigationMap);\n+        if (edmPropertyValueMap != null) {\n+          edmPropertyValueMap.putAll(navigationMap);\n+        }\n         result.setEntryData(edmPropertyValueMap);\n       }\n       result.setInlineProperties(getInlineEntityProviderProperties(context));",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/78f31a8e6cf5cb1db1600ad400d4259ea0f0cb8a/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/callback/JPAExpandCallBack.java",
                "sha": "41cad612c5dcf7996fcbdbc9f8f688cd22dfce91",
                "status": "modified"
            }
        ],
        "message": "[OLINGO-409] Fix NPE in $expand call",
        "parent": "https://github.com/apache/olingo-odata2/commit/7092ad317a81c70154459518073f33d6d78aa2f2",
        "repo": "olingo-odata2",
        "unit_tests": [
            "JPAExpandCallBackTest.java"
        ]
    },
    "olingo-odata2_992e424": {
        "bug_id": "olingo-odata2_992e424",
        "commit": "https://github.com/apache/olingo-odata2/commit/992e424696bcb89430e95d84a7dcc288712acc47",
        "file": [
            {
                "additions": 20,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "changes": 24,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java?ref=992e424696bcb89430e95d84a7dcc288712acc47",
                "deletions": 4,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "patch": "@@ -262,13 +262,14 @@ public static Object getPropertyValue(final Method method, final Object entity)\n   }\n \n   public static String getString(final Clob clob) throws ODataJPARuntimeException {\n+    Reader stringReader = null;\n     try {\n \n       if (clob == null) {\n         return null;\n       }\n \n-      Reader stringReader = clob.getCharacterStream();\n+      stringReader = clob.getCharacterStream();\n       StringWriter buffer = null;\n       long clobSize = clob.length();\n       long remainingClobSize = clobSize;\n@@ -283,7 +284,6 @@ public static String getString(final Clob clob) throws ODataJPARuntimeException\n         buffer = new StringWriter((int) clobSize);\n         len = (int) clobSize;\n       }\n-      stringReader = clob.getCharacterStream();\n       char c[] = new char[len];\n       while (remainingClobSize > len) {\n         stringReader.read(c, off, len);\n@@ -309,18 +309,26 @@ public static String getString(final Clob clob) throws ODataJPARuntimeException\n       throw ODataJPARuntimeException.throwException(ODataJPARuntimeException.INNER_EXCEPTION, e);\n     } catch (IOException e) {\n       throw ODataJPARuntimeException.throwException(ODataJPARuntimeException.INNER_EXCEPTION, e);\n+    } finally {\n+      if (stringReader != null) {\n+        try {\n+          stringReader.close();\n+        } catch (IOException e) {\n+          //do nothing\n+        }\n+      }\n     }\n \n   }\n \n   public static byte[] getBytes(final Blob blob) throws ODataJPARuntimeException {\n+    InputStream is = null;\n+    ByteArrayOutputStream buffer = null;\n     try {\n \n       if (blob == null) {\n         return null;\n       }\n-      InputStream is = null;\n-      ByteArrayOutputStream buffer = null;\n \n       long blobSize = blob.length();\n       long remainingBlobSize = blobSize;\n@@ -361,6 +369,14 @@ public static String getString(final Clob clob) throws ODataJPARuntimeException\n       throw ODataJPARuntimeException.throwException(ODataJPARuntimeException.INNER_EXCEPTION, e);\n     } catch (IOException e) {\n       throw ODataJPARuntimeException.throwException(ODataJPARuntimeException.INNER_EXCEPTION, e);\n+    } finally {\n+      if (is != null) {\n+        try {\n+          is.close();\n+        } catch (IOException e) {\n+          // do nothing\n+        }\n+      }\n     }\n   }\n ",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAEntityParser.java",
                "sha": "03ef879d64f430e81b7127a143f910bfcf05f883",
                "status": "modified"
            },
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "changes": 13,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java?ref=992e424696bcb89430e95d84a7dcc288712acc47",
                "deletions": 3,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "patch": "@@ -18,6 +18,7 @@\n  ******************************************************************************/\n package org.apache.olingo.odata2.jpa.processor.core.access.model;\n \n+import java.io.IOException;\n import java.io.InputStream;\n import java.util.List;\n \n@@ -58,14 +59,14 @@ public JPAEdmMappingModelService(final ODataJPAContext ctx) {\n \n   @Override\n   public void loadMappingModel() {\n-\n+    InputStream is = null;\n     if (mappingModelExists) {\n       JAXBContext context;\n       try {\n         context = JAXBContext.newInstance(JPAEdmMappingModel.class);\n \n         Unmarshaller unmarshaller = context.createUnmarshaller();\n-        InputStream is = loadMappingModelInputStream();\n+        is = loadMappingModelInputStream();\n         if (is == null) {\n           mappingModelExists = false;\n           return;\n@@ -80,6 +81,12 @@ public void loadMappingModel() {\n       } catch (JAXBException e) {\n         mappingModelExists = false;\n         ODataJPAModelException.throwException(ODataJPAModelException.GENERAL, e);\n+      } finally {\n+        try {\n+          is.close();\n+        } catch (IOException e) {\n+          //do nothing\n+        }\n       }\n     }\n   }\n@@ -181,7 +188,7 @@ public String mapJPAEmbeddableTypeAttribute(final String jpaEmbeddableTypeName,\n   }\n \n   private JPAEntityTypeMapType searchJPAEntityTypeMapType(final String jpaEntityTypeName) {\n-    if(mappingModel != null) {\n+    if (mappingModel != null) {\n       List<JPAEntityTypeMapType> types = mappingModel.getPersistenceUnit().getJPAEntityTypes().getJPAEntityType();\n       for (JPAEntityTypeMapType jpaEntityType : types) {\n         if (jpaEntityType.getName().equals(jpaEntityTypeName)) {",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmMappingModelService.java",
                "sha": "33e3fffd26b1b4c3f2f4bb9ae49b75edd157bd2c",
                "status": "modified"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmNameBuilder.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmNameBuilder.java?ref=992e424696bcb89430e95d84a7dcc288712acc47",
                "deletions": 2,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmNameBuilder.java",
                "patch": "@@ -152,8 +152,11 @@ public static void build(final JPAEdmPropertyView view, final boolean isComplexM\n     } else if (propertyName == null) {\n       propertyName = jpaAttributeName;\n       if (isForeignKey) {\n-        propertyName = mappingModelAccess.mapJPAAttribute(view.getJPAEdmEntityTypeView().getJPAEntityType().getName(),\n-            joinColumnNames[0]);\n+        if (mappingModelAccess != null) {\n+          propertyName =\n+              mappingModelAccess.mapJPAAttribute(view.getJPAEdmEntityTypeView().getJPAEntityType().getName(),\n+                  joinColumnNames[0]);\n+        }\n         if (propertyName == null) {\n           propertyName = FK_PREFIX + UNDERSCORE + joinColumnNames[0];\n         }",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/model/JPAEdmNameBuilder.java",
                "sha": "293c95139a85c2fa320e2da39f2f50bc30c94ff5",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/edm/ODataJPAEdmProvider.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/edm/ODataJPAEdmProvider.java?ref=992e424696bcb89430e95d84a7dcc288712acc47",
                "deletions": 1,
                "filename": "odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/edm/ODataJPAEdmProvider.java",
                "patch": "@@ -110,9 +110,10 @@ public EntityContainerInfo getEntityContainerInfo(final String name) throws ODat\n   @Override\n   public EntityType getEntityType(final FullQualifiedName edmFQName) throws ODataException {\n \n-    String strEdmFQName = edmFQName.toString();\n+    String strEdmFQName = null;\n \n     if (edmFQName != null) {\n+      strEdmFQName = edmFQName.toString();\n       if (entityTypes.containsKey(strEdmFQName)) {\n         return entityTypes.get(strEdmFQName);\n       } else if (schemas == null) {",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/992e424696bcb89430e95d84a7dcc288712acc47/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/edm/ODataJPAEdmProvider.java",
                "sha": "49ccad7ba1fc89059833828174342db2562ed72a",
                "status": "modified"
            }
        ],
        "message": "Fix NPE and Resource leaks.\n\nSigned-off-by: Chandan V A <chandan.v.a@sap.com>",
        "parent": "https://github.com/apache/olingo-odata2/commit/a189877b6c42e507f105aa4f76e6cb4fd9617d8f",
        "repo": "olingo-odata2",
        "unit_tests": [
            "ODataJPAEdmProviderTest.java"
        ]
    },
    "olingo-odata2_d6d839b": {
        "bug_id": "olingo-odata2_d6d839b",
        "commit": "https://github.com/apache/olingo-odata2/commit/d6d839b217240ce2ed1f8f376fa3fcf696efaa6c",
        "file": [
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/olingo-odata2/blob/d6d839b217240ce2ed1f8f376fa3fcf696efaa6c/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/core/annotation/processor/ListsProcessor.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/olingo-odata2/contents/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/core/annotation/processor/ListsProcessor.java?ref=d6d839b217240ce2ed1f8f376fa3fcf696efaa6c",
                "deletions": 2,
                "filename": "odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/core/annotation/processor/ListsProcessor.java",
                "patch": "@@ -1219,11 +1219,21 @@ public int compare(final T entity1, final T entity2) {\n         try {\n           int result = 0;\n           for (final OrderExpression expression : orderBy.getOrders()) {\n-            result = evaluateExpression(entity1, expression.getExpression()).compareTo(\n-                evaluateExpression(entity2, expression.getExpression()));\n+            String first = evaluateExpression(entity1, expression.getExpression());\n+            String second = evaluateExpression(entity2, expression.getExpression());\n+            \n+            if (first != null && second != null) {\n+              result = first.compareTo(second);\n+            } else if (first == null && second != null) {\n+              result = 1;\n+            } else if (first != null && second == null) {\n+              result = -1;\n+            }\n+\n             if (expression.getSortOrder() == SortOrder.desc) {\n               result = -result;\n             }\n+            \n             if (result != 0) {\n               break;\n             }",
                "raw_url": "https://github.com/apache/olingo-odata2/raw/d6d839b217240ce2ed1f8f376fa3fcf696efaa6c/odata2-annotation-processor/annotation-processor-core/src/main/java/org/apache/olingo/odata2/core/annotation/processor/ListsProcessor.java",
                "sha": "d002fad18b00e7da2bf4cb2dab41bbb4cbcab58c",
                "status": "modified"
            }
        ],
        "message": "[OLINGO-32] Fix NPE in ListsProcessor",
        "parent": "https://github.com/apache/olingo-odata2/commit/c87def1ec56226ff879d498637d0ac3c6e750a43",
        "repo": "olingo-odata2",
        "unit_tests": [
            "ListsProcessorTest.java"
        ]
    }
}