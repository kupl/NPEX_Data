[
    {
        "repo": "commons-validator",
        "commit": "https://github.com/apache/commons-validator/commit/ccb0bba48e88c4a66f2d8111437aa314df4fbad1",
        "bug_id": "commons-validator_ccb0bba",
        "message": "VALIDATOR-294 NPE in CodeValidator.validate(null) if RE is null but min or max are not -1\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/validator/trunk@1094799 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-validator/commit/82b606bdc99b94dfa789f1c6554169d01bcee36f",
        "patched_files": [
            "CodeValidator.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 6,
                "raw_url": "https://github.com/apache/commons-validator/raw/ccb0bba48e88c4a66f2d8111437aa314df4fbad1/src/main/java/org/apache/commons/validator/routines/CodeValidator.java",
                "contents_url": "https://api.github.com/repos/apache/commons-validator/contents/src/main/java/org/apache/commons/validator/routines/CodeValidator.java?ref=ccb0bba48e88c4a66f2d8111437aa314df4fbad1",
                "filename": "src/main/java/org/apache/commons/validator/routines/CodeValidator.java",
                "deletions": 2,
                "sha": "311113010810710e64379d00995f0bb70a0b60c2",
                "blob_url": "https://github.com/apache/commons-validator/blob/ccb0bba48e88c4a66f2d8111437aa314df4fbad1/src/main/java/org/apache/commons/validator/routines/CodeValidator.java",
                "patch": "@@ -213,8 +213,12 @@ public boolean isValid(String input) {\n      */\n     public Object validate(String input) {\n \n-        String code = (input == null ? null : input.trim());\n-        if (code != null && code.length() == 0) {\n+        if (input == null) {\n+            return null;\n+        }\n+\n+        String code = input.trim();\n+        if (code.length() == 0) {\n             return null;\n         }\n ",
                "changes": 8
            },
            {
                "status": "modified",
                "additions": 12,
                "raw_url": "https://github.com/apache/commons-validator/raw/ccb0bba48e88c4a66f2d8111437aa314df4fbad1/src/test/java/org/apache/commons/validator/routines/CodeValidatorTest.java",
                "contents_url": "https://api.github.com/repos/apache/commons-validator/contents/src/test/java/org/apache/commons/validator/routines/CodeValidatorTest.java?ref=ccb0bba48e88c4a66f2d8111437aa314df4fbad1",
                "filename": "src/test/java/org/apache/commons/validator/routines/CodeValidatorTest.java",
                "deletions": 0,
                "sha": "b9f192cb61d41abf598064de7eb6d613df7cff02",
                "blob_url": "https://github.com/apache/commons-validator/blob/ccb0bba48e88c4a66f2d8111437aa314df4fbad1/src/test/java/org/apache/commons/validator/routines/CodeValidatorTest.java",
                "patch": "@@ -195,6 +195,18 @@ public void testNoInput() {\n         assertEquals(\"Trimmed\",      \"A\",  validator.validate(\" A  \"));\n     }\n \n+    public void testValidator294_1() {\n+        CodeValidator validator = new CodeValidator((String)null, 0, -1, (CheckDigit)null);\n+        assertEquals(\"Null\",         null, validator.validate(null));\n+        validator = new CodeValidator((String)null, -1, 0, (CheckDigit)null);\n+        assertEquals(\"Null\",         null, validator.validate(null));\n+    }\n+\n+    public void testValidator294_2() {\n+        CodeValidator validator = new CodeValidator((String)null, -1, 0, (CheckDigit)null);\n+        assertEquals(\"Null\",         null, validator.validate(null));\n+    }\n+\n     /**\n      * Test Regular Expression.\n      */",
                "changes": 12
            }
        ],
        "unit_tests": [
            "CodeValidatorTest.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/validator/routines/CodeValidatorTest.java",
        "buggy_files": [
            "src/main/java/org/apache/commons/validator/routines/CodeValidator.java"
        ],
        "fixed": true
    }
]