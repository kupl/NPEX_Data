{
    "commons-scxml_b7a1baa": {
        "repo": "commons-scxml",
        "message": "Fix potential NPE and add consistent legacy flags.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/scxml/trunk@727192 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-scxml/commit/b7a1baa272f576e33435bf54d6686016fad2eac0",
        "parent": "https://github.com/apache/commons-scxml/commit/ce4d045dee16b1cd46b9691d64fe4e28e08103dd",
        "bug_id": "commons-scxml_b7a1baa",
        "file": [
            {
                "sha": "14f1c8dd0e0730a99618833187db131b50a85c0a",
                "filename": "src/main/java/org/apache/commons/scxml/io/SCXMLDigester.java",
                "blob_url": "https://github.com/apache/commons-scxml/blob/b7a1baa272f576e33435bf54d6686016fad2eac0/src/main/java/org/apache/commons/scxml/io/SCXMLDigester.java",
                "raw_url": "https://github.com/apache/commons-scxml/raw/b7a1baa272f576e33435bf54d6686016fad2eac0/src/main/java/org/apache/commons/scxml/io/SCXMLDigester.java",
                "status": "modified",
                "changes": 4,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-scxml/contents/src/main/java/org/apache/commons/scxml/io/SCXMLDigester.java?ref=b7a1baa272f576e33435bf54d6686016fad2eac0",
                "patch": "@@ -250,8 +250,8 @@ public static SCXML digest(final URL scxmlURL,\n \n         if (scxml != null) {\n             ModelUpdater.updateSCXML(scxml);\n+            scxml.setLegacy(true);\n         }\n-        scxml.setLegacy(true);\n \n         return scxml;\n \n@@ -312,6 +312,7 @@ public static SCXML digest(final String documentRealPath,\n \n         if (scxml != null) {\n             ModelUpdater.updateSCXML(scxml);\n+            scxml.setLegacy(true);\n         }\n \n         return scxml;\n@@ -367,6 +368,7 @@ public static SCXML digest(final InputSource documentInputSource,\n \n         if (scxml != null) {\n             ModelUpdater.updateSCXML(scxml);\n+            scxml.setLegacy(true);\n         }\n \n         return scxml;",
                "deletions": 1
            }
        ],
        "patched_files": [
            "SCXMLDigester.java"
        ],
        "unit_tests": [
            "SCXMLDigesterTest.java"
        ]
    },
    "commons-scxml_757057a": {
        "repo": "commons-scxml",
        "message": "reverting and correcting previous fix to prevent NPEs which introduced an incorrect side-effect\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/scxml/trunk@1621831 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-scxml/commit/757057addf72d587387055dd964ecb2a562a2cc3",
        "parent": "https://github.com/apache/commons-scxml/commit/6ba9e778ef1f99a80f8463fbf68b39e02add6797",
        "bug_id": "commons-scxml_757057a",
        "file": [
            {
                "sha": "aa31902085c7518d6a3c6315930681fd6f260f2e",
                "filename": "src/main/java/org/apache/commons/scxml2/model/Action.java",
                "blob_url": "https://github.com/apache/commons-scxml/blob/757057addf72d587387055dd964ecb2a562a2cc3/src/main/java/org/apache/commons/scxml2/model/Action.java",
                "raw_url": "https://github.com/apache/commons-scxml/raw/757057addf72d587387055dd964ecb2a562a2cc3/src/main/java/org/apache/commons/scxml2/model/Action.java",
                "status": "modified",
                "changes": 6,
                "additions": 5,
                "contents_url": "https://api.github.com/repos/apache/commons-scxml/contents/src/main/java/org/apache/commons/scxml2/model/Action.java?ref=757057addf72d587387055dd964ecb2a562a2cc3",
                "patch": "@@ -98,10 +98,14 @@ public final void setNamespaces(final Map<String, String> namespaces) {\n      */\n     public final EnterableState getParentEnterableState()\n     throws ModelException {\n-        if (parent == null || (this instanceof Script && ((Script)this).isGlobalScript())) {\n+        if (parent == null && this instanceof Script && ((Script)this).isGlobalScript()) {\n             // global script doesn't have a EnterableState\n             return null;\n         }\n+        else if (parent == null) {\n+            throw new ModelException(\"Action \"\n+                    + this.getClass().getName() + \" instance missing required parent TransitionTarget\");\n+        }\n         TransitionTarget tt = parent.getParent();\n         if (tt instanceof EnterableState) {\n             return (EnterableState)tt;",
                "deletions": 1
            }
        ],
        "patched_files": [
            "Action.java"
        ],
        "unit_tests": [
            "ActionTest.java"
        ]
    },
    "commons-scxml_6ba9e77": {
        "repo": "commons-scxml",
        "message": "guard against npes\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/scxml/trunk@1602784 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-scxml/commit/6ba9e778ef1f99a80f8463fbf68b39e02add6797",
        "parent": "https://github.com/apache/commons-scxml/commit/07ad5e56818b6937986a1327fdf13102f9baad61",
        "bug_id": "commons-scxml_6ba9e77",
        "file": [
            {
                "sha": "e9302ee280038cb9e068ec08f6b0f1f49b88c945",
                "filename": "src/main/java/org/apache/commons/scxml2/model/Action.java",
                "blob_url": "https://github.com/apache/commons-scxml/blob/6ba9e778ef1f99a80f8463fbf68b39e02add6797/src/main/java/org/apache/commons/scxml2/model/Action.java",
                "raw_url": "https://github.com/apache/commons-scxml/raw/6ba9e778ef1f99a80f8463fbf68b39e02add6797/src/main/java/org/apache/commons/scxml2/model/Action.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/commons-scxml/contents/src/main/java/org/apache/commons/scxml2/model/Action.java?ref=6ba9e778ef1f99a80f8463fbf68b39e02add6797",
                "patch": "@@ -98,7 +98,7 @@ public final void setNamespaces(final Map<String, String> namespaces) {\n      */\n     public final EnterableState getParentEnterableState()\n     throws ModelException {\n-        if (parent == null && this instanceof Script && ((Script)this).isGlobalScript()) {\n+        if (parent == null || (this instanceof Script && ((Script)this).isGlobalScript())) {\n             // global script doesn't have a EnterableState\n             return null;\n         }",
                "deletions": 1
            }
        ],
        "patched_files": [
            "Action.java"
        ],
        "unit_tests": [
            "ActionTest.java"
        ]
    }
}