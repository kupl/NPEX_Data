{
    "jena_01a54d1": {
        "bug_id": "jena_01a54d1",
        "commit": "https://github.com/apache/jena/commit/01a54d114de721e724167c8ce33e515f44e7ebd6",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/jena/blob/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/com/hp/hpl/jena/sparql/util/Closure.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/jena/contents/jena-arq/src/main/java/com/hp/hpl/jena/sparql/util/Closure.java?ref=01a54d114de721e724167c8ce33e515f44e7ebd6",
                "deletions": 1,
                "filename": "jena-arq/src/main/java/com/hp/hpl/jena/sparql/util/Closure.java",
                "patch": "@@ -227,7 +227,7 @@ public boolean includeStmt(Statement s)\n         }\n     }\n \n-    // Defines the reachable (on forwrd arcs) subgraph. \n+    // Defines the reachable (on forward arcs) subgraph. \n     \n     public static class ClosureReachable implements ClosureTest\n     {",
                "raw_url": "https://github.com/apache/jena/raw/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/com/hp/hpl/jena/sparql/util/Closure.java",
                "sha": "f525e1c279d6113aadb5e1e6df9e3d162679fec4",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/jena/blob/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/org/apache/jena/riot/RDFLanguages.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/jena/contents/jena-arq/src/main/java/org/apache/jena/riot/RDFLanguages.java?ref=01a54d114de721e724167c8ce33e515f44e7ebd6",
                "deletions": 0,
                "filename": "jena-arq/src/main/java/org/apache/jena/riot/RDFLanguages.java",
                "patch": "@@ -305,6 +305,12 @@ public static Lang fileExtToLang(String ext)\n         return mapFileExtToLang.get(ext) ;\n     }\n \n+    /** Try to map a resource name to a {@link Lang}; return null on no registered mapping */\n+    public static Lang resourceNameToLang(String resourceName) { return filenameToLang(resourceName) ; }\n+    \n+    /** Try to map a resource name to a {@link Lang}; return the given default where there is no registered mapping */\n+    public static Lang resourceNameToLang(String resourceName, Lang dftLang) { return filenameToLang(resourceName, dftLang) ; }\n+    \n     /** Try to map a file name to a {@link Lang}; return null on no registered mapping */\n     public static Lang filenameToLang(String filename)\n     {",
                "raw_url": "https://github.com/apache/jena/raw/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/org/apache/jena/riot/RDFLanguages.java",
                "sha": "310d711c1a57f539c3f0ed6772b7f7e9f3cbe137",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/jena/blob/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/jena/contents/jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java?ref=01a54d114de721e724167c8ce33e515f44e7ebd6",
                "deletions": 6,
                "filename": "jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java",
                "patch": "@@ -270,12 +270,12 @@ protected Model readModelWorker(Model model, String filenameOrURI, String baseUR\n \n         if ( log.isDebugEnabled() && !mappedURI.equals(filenameOrURI) )\n             log.debug(\"Map: \" + filenameOrURI + \" => \" + mappedURI) ;\n-        // File extension preferred to content negotiation.\n-        // Compatibility.\n-        if ( syntax == null )\n-            syntax = RDFLanguages.guessContentType(mappedURI).getContentType() ;\n-        \n-        Lang lang = RDFLanguages.nameToLang(syntax) ;\n+\n+        Lang lang = \n+            syntax != null \n+            ? RDFLanguages.nameToLang(syntax) \n+            : RDFLanguages.resourceNameToLang(mappedURI, Lang.RDFXML) ;\n+            \n         RDFDataMgr.read(model, mappedURI, baseURI, lang);\n         return model ;\n     }",
                "raw_url": "https://github.com/apache/jena/raw/01a54d114de721e724167c8ce33e515f44e7ebd6/jena-arq/src/main/java/org/apache/jena/riot/adapters/AdapterFileManager.java",
                "sha": "12c92f1dcab6afa48175120984be8cd605edafa8",
                "status": "modified"
            }
        ],
        "message": "Tidy syntax choosing; avoid possible NPE situation in AdpaterFileManager.readModelWorker.\n\ngit-svn-id: https://svn.apache.org/repos/asf/jena/trunk@1547524 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/jena/commit/e37bc730daa156e4c351303e74edcc0591f91910",
        "repo": "jena",
        "unit_tests": [
            "ClosureTest.java"
        ]
    },
    "jena_99f74f8": {
        "bug_id": "jena_99f74f8",
        "commit": "https://github.com/apache/jena/commit/99f74f80404108c3e88d31c0a323737fdeecf7b4",
        "file": [
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/jena/blob/99f74f80404108c3e88d31c0a323737fdeecf7b4/jena-arq/src/main/java/org/openjena/riot/RiotLoader.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/jena/contents/jena-arq/src/main/java/org/openjena/riot/RiotLoader.java?ref=99f74f80404108c3e88d31c0a323737fdeecf7b4",
                "deletions": 14,
                "filename": "jena-arq/src/main/java/org/openjena/riot/RiotLoader.java",
                "patch": "@@ -215,20 +215,6 @@ public static void readTriples(InputStream input, Lang language, String baseURI,\n         LangRIOT parser = RiotReader.createParserTriples(input, language, baseURI, sink) ;\n         parser.parse() ;\n         sink.flush();\n-//        LangRIOT parser ;\n-//        switch (language)\n-//        { case NTRIPLES :\n-//            parser = RiotReader.createParserNTriples(input, sink) ;\n-//            break ;\n-//        case TURTLE:\n-//            parser = RiotReader.createParserTurtle(input, baseURI, sink) ;\n-//            break ;\n-//        default:\n-//            throw new RiotException(\"Language not supported for triples: \"+language) ;\n-//        }\n-//        parser.parse() ;\n-//        sink.flush();\n-//        return ;\n     }\n \n     // Better place?",
                "raw_url": "https://github.com/apache/jena/raw/99f74f80404108c3e88d31c0a323737fdeecf7b4/jena-arq/src/main/java/org/openjena/riot/RiotLoader.java",
                "sha": "5642e1715a2f0daab5cf457281104bade4280196",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/jena/blob/99f74f80404108c3e88d31c0a323737fdeecf7b4/jena-arq/src/main/java/org/openjena/riot/RiotReader.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/jena/contents/jena-arq/src/main/java/org/openjena/riot/RiotReader.java?ref=99f74f80404108c3e88d31c0a323737fdeecf7b4",
                "deletions": 1,
                "filename": "jena-arq/src/main/java/org/openjena/riot/RiotReader.java",
                "patch": "@@ -141,7 +141,8 @@ public static LangRIOT createParserTriples(InputStream input, Lang lang, String\n     {\n         if ( lang == RDFXML )\n         {\n-            baseIRI = IRIResolver.resolveString(baseIRI) ;\n+            if ( baseIRI != null )\n+                baseIRI = IRIResolver.resolveString(baseIRI) ;\n             return LangRDFXML.create(input, baseIRI, baseIRI, ErrorHandlerFactory.errorHandlerStd, sink) ;\n         }\n         Tokenizer tokenizer = ( lang == RDFJSON ) ?",
                "raw_url": "https://github.com/apache/jena/raw/99f74f80404108c3e88d31c0a323737fdeecf7b4/jena-arq/src/main/java/org/openjena/riot/RiotReader.java",
                "sha": "0f4879d07ffcd20b0aa2be9f5de26ada9ef39be2",
                "status": "modified"
            }
        ],
        "message": "Fix: Parsing RDF/XML with a null baseURI caused an NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/jena/trunk@1347550 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/jena/commit/6531319a20d5f125a2f88071618947684654e89e",
        "repo": "jena",
        "unit_tests": [
            "TestRiotReader.java"
        ]
    }
}