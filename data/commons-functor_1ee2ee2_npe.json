[
    {
        "repo": "commons-functor",
        "commit": "https://github.com/apache/commons-functor/commit/1ee2ee2378da773b81c0484b50ad68c8164f86ad",
        "bug_id": "commons-functor_1ee2ee2",
        "message": "IllegalArgumentException more to-the-point than NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/sandbox/functor/trunk@646500 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-functor/commit/07c5d143cb9afc8415af1cc0b584119df58686fc",
        "patched_files": [
            "TransformedIterator.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 7,
                "raw_url": "https://github.com/apache/commons-functor/raw/1ee2ee2378da773b81c0484b50ad68c8164f86ad/src/main/java/org/apache/commons/functor/core/collection/TransformedIterator.java",
                "contents_url": "https://api.github.com/repos/apache/commons-functor/contents/src/main/java/org/apache/commons/functor/core/collection/TransformedIterator.java?ref=1ee2ee2378da773b81c0484b50ad68c8164f86ad",
                "filename": "src/main/java/org/apache/commons/functor/core/collection/TransformedIterator.java",
                "deletions": 5,
                "sha": "0853f2bb60d3bf291d213addc944b61bfefc28a4",
                "blob_url": "https://github.com/apache/commons-functor/blob/1ee2ee2378da773b81c0484b50ad68c8164f86ad/src/main/java/org/apache/commons/functor/core/collection/TransformedIterator.java",
                "patch": "@@ -41,12 +41,14 @@\n      * @param function to apply\n      */\n     public TransformedIterator(Iterator iterator, UnaryFunction function) {\n-        if (null == iterator || null == function) {\n-            throw new NullPointerException();\n-        } else {\n-            this.function = function;\n-            this.iterator = iterator;\n+        if (null == iterator) {\n+            throw new IllegalArgumentException(\"Iterator argument was null\");\n         }\n+        if (null == function) {\n+            throw new IllegalArgumentException(\"filtering UnaryFunction argument was null\");\n+        }\n+        this.function = function;\n+        this.iterator = iterator;\n     }\n \n     // iterator methods",
                "changes": 12
            },
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/commons-functor/raw/1ee2ee2378da773b81c0484b50ad68c8164f86ad/src/test/java/org/apache/commons/functor/core/collection/TestTransformedIterator.java",
                "contents_url": "https://api.github.com/repos/apache/commons-functor/contents/src/test/java/org/apache/commons/functor/core/collection/TestTransformedIterator.java?ref=1ee2ee2378da773b81c0484b50ad68c8164f86ad",
                "filename": "src/test/java/org/apache/commons/functor/core/collection/TestTransformedIterator.java",
                "deletions": 3,
                "sha": "30c40b12b59786c89b3efc7891e24bbbde761ead",
                "blob_url": "https://github.com/apache/commons-functor/blob/1ee2ee2378da773b81c0484b50ad68c8164f86ad/src/test/java/org/apache/commons/functor/core/collection/TestTransformedIterator.java",
                "patch": "@@ -175,19 +175,19 @@ public void testConstructorProhibitsNull() {\n         try {\n             new TransformedIterator(null,null);\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n         try {\n             new TransformedIterator(null,negate);\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n         try {\n             new TransformedIterator(list.iterator(),null);\n             fail(\"ExpectedNullPointerException\");\n-        } catch(NullPointerException e) {\n+        } catch(IllegalArgumentException e) {\n             // expected\n         }\n     }",
                "changes": 6
            }
        ],
        "unit_tests": [
            "TestTransformedIterator.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/functor/core/collection/TestTransformedIterator.java",
        "buggy_files": [
            "src/main/java/org/apache/commons/functor/core/collection/TransformedIterator.java"
        ],
        "fixed": true
    }
]