[
    {
        "repo": "wicket",
        "commit": "https://github.com/apache/wicket/commit/4b8ac4c8cc14f2926312e2572fee4299256e7b11",
        "bug_id": "wicket_4b8ac4c",
        "message": "WICKET-6483 JavaxUpgradeHttpRequest can cause NullPointerException\n\nWICKET-6493 WebSocket SessionIds are wrong (HttpSession one used instead of Websocket one) + NPE if no HttpSession is found during Handshake Request\n\nRevert the change to use 'request.getSession(false) because this breaks WicketTester/WebSocketTester infrastructure",
        "parent": "https://github.com/apache/wicket/commit/39d7ac1f80c4ea5366e91eb0fd6deceb219e1b26",
        "patched_files": [
            "AbstractWebSocketProcessor.java",
            "WebSocketTester.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 1,
                "raw_url": "https://github.com/apache/wicket/raw/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/api/AbstractWebSocketProcessor.java",
                "contents_url": "https://api.github.com/repos/apache/wicket/contents/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/api/AbstractWebSocketProcessor.java?ref=4b8ac4c8cc14f2926312e2572fee4299256e7b11",
                "filename": "wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/api/AbstractWebSocketProcessor.java",
                "deletions": 1,
                "sha": "ca3569d63a39727e6a6a4cc2430ac1e1f64f6253",
                "blob_url": "https://github.com/apache/wicket/blob/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/api/AbstractWebSocketProcessor.java",
                "patch": "@@ -102,7 +102,7 @@\n \t */\n \tpublic AbstractWebSocketProcessor(final HttpServletRequest request, final WebApplication application)\n \t{\n-\t\tfinal HttpSession httpSession = request.getSession(false);\n+\t\tfinal HttpSession httpSession = request.getSession(true);\n \t\tif (httpSession == null)\n \t\t{\n \t\t\tthrow new IllegalStateException(\"There is no HTTP Session bound. Without a session Wicket won't be \" +",
                "changes": 2
            },
            {
                "status": "modified",
                "additions": 1,
                "raw_url": "https://github.com/apache/wicket/raw/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTester.java",
                "contents_url": "https://api.github.com/repos/apache/wicket/contents/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTester.java?ref=4b8ac4c8cc14f2926312e2572fee4299256e7b11",
                "filename": "wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTester.java",
                "deletions": 1,
                "sha": "f83894f77921f632724c199cfcd8e7c33571c901",
                "blob_url": "https://github.com/apache/wicket/blob/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTester.java",
                "patch": "@@ -39,7 +39,7 @@\n \n \t/**\n \t * Constructor.\n-\t * Prepares a WebSockConnection that will be used to send messages from the client (the test case)\n+\t * Prepares a WebSocketConnection that will be used to send messages from the client (the test case)\n \t * to the server.\n \t *\n \t * @param page",
                "changes": 2
            },
            {
                "status": "modified",
                "additions": 0,
                "raw_url": "https://github.com/apache/wicket/raw/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/test/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTesterProcessorTest.java",
                "contents_url": "https://api.github.com/repos/apache/wicket/contents/wicket-native-websocket/wicket-native-websocket-core/src/test/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTesterProcessorTest.java?ref=4b8ac4c8cc14f2926312e2572fee4299256e7b11",
                "filename": "wicket-native-websocket/wicket-native-websocket-core/src/test/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTesterProcessorTest.java",
                "deletions": 1,
                "sha": "0a7dd1041ef8b0d4859042dd57bcca4986437c2d",
                "blob_url": "https://github.com/apache/wicket/blob/4b8ac4c8cc14f2926312e2572fee4299256e7b11/wicket-native-websocket/wicket-native-websocket-core/src/test/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTesterProcessorTest.java",
                "patch": "@@ -100,7 +100,6 @@ public void onConnectNoOrigin()\n \t\tassertTrue(TestWebSocketResource.ON_ABORT_CALLED.get());\n \t}\n \n-//\t@Ignore\n \t@Test\n \tpublic void onConnectMultipleOrigins()\n \t{",
                "changes": 1
            }
        ],
        "unit_tests": [
            "WebSocketTesterProcessorTest.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "wicket-native-websocket/wicket-native-websocket-core/src/test/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTesterProcessorTest.java",
        "buggy_files": [
            "wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/api/AbstractWebSocketProcessor.java",
            "wicket-native-websocket/wicket-native-websocket-core/src/main/java/org/apache/wicket/protocol/ws/util/tester/WebSocketTester.java"
        ],
        "fixed": true
    }
]