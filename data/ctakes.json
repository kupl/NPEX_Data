{
    "ctakes_2738d9a": {
        "bug_id": "ctakes_2738d9a",
        "commit": "https://github.com/apache/ctakes/commit/2738d9a34300cc4b1ed84e57f9836020c90cb2d0",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/ctakes/blob/2738d9a34300cc4b1ed84e57f9836020c90cb2d0/ctakes-core/src/main/java/org/apache/ctakes/core/ae/SentenceDetector.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/ctakes/contents/ctakes-core/src/main/java/org/apache/ctakes/core/ae/SentenceDetector.java?ref=2738d9a34300cc4b1ed84e57f9836020c90cb2d0",
                "deletions": 1,
                "filename": "ctakes-core/src/main/java/org/apache/ctakes/core/ae/SentenceDetector.java",
                "patch": "@@ -349,7 +349,12 @@ public static File getReadableFile(String fn) throws IOException {\n \n \tpublic static File getFileInExistingDir(String fn) throws IOException {\n \t\tFile f = new File(fn);\n-\t\tif (!f.getParentFile().isDirectory()) {\n+\t\tFile parent = f.getParentFile();\n+\t\tif (parent == null) {\n+\t\t\tthrow new IOException(\"Parent of directory not found: \"\n+\t\t\t\t\t+ f.getAbsolutePath());\n+\t\t}\n+\t\tif (!parent.isDirectory()) {\n \t\t\tthrow new IOException(\"Directory not found: \"\n \t\t\t\t\t+ f.getParentFile().getAbsolutePath());\n \t\t}",
                "raw_url": "https://github.com/apache/ctakes/raw/2738d9a34300cc4b1ed84e57f9836020c90cb2d0/ctakes-core/src/main/java/org/apache/ctakes/core/ae/SentenceDetector.java",
                "sha": "23474a514fa34baca58fa91b036cc0485dfb1c82",
                "status": "modified"
            }
        ],
        "message": "CTAKES-275 method declares throws IOException, so throw that if get NPE for can't find parent dir because file not found\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ctakes/trunk@1789840 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/ctakes/commit/d8fbe9b53d59516382b28edeb391a42a696da5ef",
        "repo": "ctakes",
        "unit_tests": [
            "SentenceDetectorTest.java"
        ]
    },
    "ctakes_9f20bf1": {
        "bug_id": "ctakes_9f20bf1",
        "commit": "https://github.com/apache/ctakes/commit/9f20bf17a4fe8b1fc1837aef55400815623f07b2",
        "file": [
            {
                "additions": 34,
                "blob_url": "https://github.com/apache/ctakes/blob/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-context-tokenizer/src/main/java/org/apache/ctakes/contexttokenizer/ae/ContextDependentTokenizerAnnotator.java",
                "changes": 64,
                "contents_url": "https://api.github.com/repos/apache/ctakes/contents/ctakes-context-tokenizer/src/main/java/org/apache/ctakes/contexttokenizer/ae/ContextDependentTokenizerAnnotator.java?ref=9f20bf17a4fe8b1fc1837aef55400815623f07b2",
                "deletions": 30,
                "filename": "ctakes-context-tokenizer/src/main/java/org/apache/ctakes/contexttokenizer/ae/ContextDependentTokenizerAnnotator.java",
                "patch": "@@ -18,21 +18,21 @@\n  */\r\n package org.apache.ctakes.contexttokenizer.ae;\r\n \r\n-import java.util.ArrayList;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Set;\n-\n-import org.apache.log4j.Logger;\n-import org.apache.uima.UimaContext;\n-import org.apache.uima.analysis_component.JCasAnnotator_ImplBase;\n-import org.apache.uima.analysis_engine.AnalysisEngineProcessException;\n-import org.apache.uima.cas.FSIterator;\n-import org.apache.uima.cas.text.AnnotationIndex;\n-import org.apache.uima.jcas.JCas;\n-import org.apache.uima.jcas.JFSIndexRepository;\n-import org.apache.uima.resource.ResourceInitializationException;\n-\n+import java.util.ArrayList;\r\n+import java.util.Iterator;\r\n+import java.util.List;\r\n+import java.util.Set;\r\n+\r\n+import org.apache.log4j.Logger;\r\n+import org.apache.uima.UimaContext;\r\n+import org.apache.uima.analysis_component.JCasAnnotator_ImplBase;\r\n+import org.apache.uima.analysis_engine.AnalysisEngineProcessException;\r\n+import org.apache.uima.cas.FSIterator;\r\n+import org.apache.uima.cas.text.AnnotationIndex;\r\n+import org.apache.uima.jcas.JCas;\r\n+import org.apache.uima.jcas.JFSIndexRepository;\r\n+import org.apache.uima.resource.ResourceInitializationException;\r\n+\r\n \r\n import org.apache.ctakes.core.ae.TokenizerAnnotator;\r\n import org.apache.ctakes.core.fsm.adapters.ContractionTokenAdapter;\r\n@@ -57,20 +57,21 @@\n import org.apache.ctakes.core.fsm.output.RomanNumeralToken;\r\n import org.apache.ctakes.core.fsm.output.TimeToken;\r\n import org.apache.ctakes.core.fsm.token.BaseToken;\r\n-import org.apache.ctakes.typesystem.type.syntax.ContractionToken;\n-import org.apache.ctakes.typesystem.type.syntax.NewlineToken;\n-import org.apache.ctakes.typesystem.type.syntax.NumToken;\n-import org.apache.ctakes.typesystem.type.syntax.PunctuationToken;\n-import org.apache.ctakes.typesystem.type.syntax.SymbolToken;\n-import org.apache.ctakes.typesystem.type.syntax.WordToken;\n-import org.apache.ctakes.typesystem.type.textsem.DateAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.FractionAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.MeasurementAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.PersonTitleAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.RangeAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.RomanNumeralAnnotation;\n-import org.apache.ctakes.typesystem.type.textsem.TimeAnnotation;\n-import org.apache.ctakes.typesystem.type.textspan.Sentence;\n+import org.apache.ctakes.core.fsm.token.EolToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.ContractionToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.NewlineToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.NumToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.PunctuationToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.SymbolToken;\r\n+import org.apache.ctakes.typesystem.type.syntax.WordToken;\r\n+import org.apache.ctakes.typesystem.type.textsem.DateAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.FractionAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.MeasurementAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.PersonTitleAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.RangeAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.RomanNumeralAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textsem.TimeAnnotation;\r\n+import org.apache.ctakes.typesystem.type.textspan.Sentence;\r\n \r\n /**\r\n  * Finds tokens based on context.\r\n@@ -123,7 +124,10 @@ public void process(JCas jcas) throws AnalysisEngineProcessException {\n \t\t\t\twhile (btaItr.hasNext()) {\r\n \t\t\t\t\torg.apache.ctakes.typesystem.type.syntax.BaseToken bta = (org.apache.ctakes.typesystem.type.syntax.BaseToken) btaItr\r\n \t\t\t\t\t\t\t.next();\r\n-\t\t\t\t\tbaseTokenList.add(adaptToBaseToken(bta));\r\n+\t\t\t\t\t// ignore newlines, avoid null tokens\r\n+\t\t\t\t\tBaseToken bt = adaptToBaseToken(bta);\r\n+\t\t\t\t\tif(bt != null && !(bt instanceof EolToken))\r\n+\t\t\t\t\t\tbaseTokenList.add(bt);\r\n \t\t\t\t}\r\n \r\n \t\t\t\t// execute FSM logic\r",
                "raw_url": "https://github.com/apache/ctakes/raw/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-context-tokenizer/src/main/java/org/apache/ctakes/contexttokenizer/ae/ContextDependentTokenizerAnnotator.java",
                "sha": "a906fd7f04f5e6d20fd580d9dba64efc1a7b1745",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/ctakes/blob/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/adapters/NumberTokenAdapter.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/ctakes/contents/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/adapters/NumberTokenAdapter.java?ref=9f20bf17a4fe8b1fc1837aef55400815623f07b2",
                "deletions": 1,
                "filename": "ctakes-core/src/main/java/org/apache/ctakes/core/fsm/adapters/NumberTokenAdapter.java",
                "patch": "@@ -21,6 +21,8 @@\n import org.apache.ctakes.core.fsm.token.NumberToken;\r\n import org.apache.ctakes.typesystem.type.syntax.NumToken;\r\n \r\n+import com.google.common.base.Strings;\r\n+\r\n /**\r\n  * Adapts JCas token annotation to interface expected by the Context Dependent\r\n  * Tokenizer.\r\n@@ -36,7 +38,7 @@ public NumberTokenAdapter(NumToken nta)\n \t{\r\n \t\tsuper(nta);\r\n \t\t\r\n-\t\tif (nta.getCoveredText().length() > 0 && nta.getCoveredText().charAt(0) == '-')\r\n+\t\tif (!Strings.isNullOrEmpty(nta.getCoveredText()) && nta.getCoveredText().length() > 0 && nta.getCoveredText().charAt(0) == '-')\r\n \t\t{\r\n \t\t\tiv_isPositive = false;\r\n \t\t}\t\t\r",
                "raw_url": "https://github.com/apache/ctakes/raw/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/adapters/NumberTokenAdapter.java",
                "sha": "776d266dc8668a606f8ae009ba896f10a296f7ac",
                "status": "modified"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/ctakes/blob/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/machine/DateFSM.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/ctakes/contents/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/machine/DateFSM.java?ref=9f20bf17a4fe8b1fc1837aef55400815623f07b2",
                "deletions": 3,
                "filename": "ctakes-core/src/main/java/org/apache/ctakes/core/fsm/machine/DateFSM.java",
                "patch": "@@ -220,16 +220,16 @@ private Machine getTextualDateMachine() {\n \t\tstartState.addTransition(new AnyCondition(), startState);\r\n \r\n \t\tmonthFullTextState.addTransition(dayNumCondition, dayNumState);\r\n-\t\tmonthFullTextState.addTransition(yearNotDayNumCondition, ntEndState);\r\n+\t\tmonthFullTextState.addTransition(yearNotDayNumCondition, endState);\r\n \t\tmonthFullTextState.addTransition(new AnyCondition(), startState);\r\n \r\n \t\tmonthShortTextState.addTransition(dayNumCondition, dayNumState);\r\n \t\tmonthShortTextState.addTransition(periodCondition, periodState);\r\n-\t\tmonthShortTextState.addTransition(yearNotDayNumCondition, ntEndState);\r\n+\t\tmonthShortTextState.addTransition(yearNotDayNumCondition, endState);\r\n \t\tmonthShortTextState.addTransition(new AnyCondition(), startState);\r\n \r\n \t\tperiodState.addTransition(dayNumCondition, dayNumState);\r\n-\t\tperiodState.addTransition(yearNotDayNumCondition, ntEndState);\r\n+\t\tperiodState.addTransition(yearNotDayNumCondition, endState);\r\n \t\tperiodState.addTransition(new AnyCondition(), startState);\r\n \r\n \t\tdayNumState.addTransition(yearNumCondition, endState);\r",
                "raw_url": "https://github.com/apache/ctakes/raw/9f20bf17a4fe8b1fc1837aef55400815623f07b2/ctakes-core/src/main/java/org/apache/ctakes/core/fsm/machine/DateFSM.java",
                "sha": "726e4923924f3d8996944a3b38cb623490a3bcbf",
                "status": "modified"
            }
        ],
        "message": "CTAKES-253 - YTEX ctakes patches port. Thanks Vijay Garla.\n* ctakes-context-tokenizer\\src\\main\\java\\org\\apache\\ctakes\\contexttokenizer\\ae\\ContextDependentTokenizerAnnotator.java \nadd null check: changed to avoid NPE in case BaseToken is null. Also ignore newline tokens (they should be treated as whitespace). \n* ctakes-core\\src\\main\\java\\org\\apache\\ctakes\\core\\fsm\\adapters\\NumberTokenAdapter.java \nadd null check: ignore empty numbertokens \n* ctakes-core\\src\\main\\java\\org\\apache\\ctakes\\core\\fsm\\machine\\DateFSM.java \nModified to include years in dates \n\ngit-svn-id: https://svn.apache.org/repos/asf/ctakes/trunk@1538670 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/ctakes/commit/da29b207602b74298f83d444c9a1c1e35cc10b0a",
        "repo": "ctakes",
        "unit_tests": [
            "TestContextDependentTokenizerAnnotator.java"
        ]
    }
}