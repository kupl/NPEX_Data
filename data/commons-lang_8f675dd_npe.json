[
    {
        "repo": "commons-lang",
        "commit": "https://github.com/apache/commons-lang/commit/8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b",
        "bug_id": "commons-lang_8f675dd",
        "message": "[LANG-587] avoid NPE in ClassUtils.toClass(Object[])\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/lang/trunk@907102 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-lang/commit/5d5a31a8274ff7e8219ee87fdd15b48c2184ccc0",
        "patched_files": [
            "ClassUtils.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/commons-lang/raw/8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b/src/main/java/org/apache/commons/lang3/ClassUtils.java",
                "contents_url": "https://api.github.com/repos/apache/commons-lang/contents/src/main/java/org/apache/commons/lang3/ClassUtils.java?ref=8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b",
                "filename": "src/main/java/org/apache/commons/lang3/ClassUtils.java",
                "deletions": 2,
                "sha": "3998966a7500da2afa8131428262840251f8a875",
                "blob_url": "https://github.com/apache/commons-lang/blob/8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b/src/main/java/org/apache/commons/lang3/ClassUtils.java",
                "patch": "@@ -890,7 +890,8 @@ private static String toCanonicalName(String className) {\n     }\n \n     /**\n-     * <p>Converts an array of <code>Object</code> in to an array of <code>Class</code> objects.</p>\n+     * <p>Converts an array of <code>Object</code> in to an array of <code>Class</code> objects.\n+     * If any of these objects is null, a null element will be inserted into the array.</p>\n      *\n      * <p>This method returns <code>null</code> for a <code>null</code> input array.</p>\n      *\n@@ -906,7 +907,7 @@ private static String toCanonicalName(String className) {\n         }\n         Class<?>[] classes = new Class[array.length];\n         for (int i = 0; i < array.length; i++) {\n-            classes[i] = array[i].getClass();\n+            classes[i] = array[i] == null ? null : array[i].getClass();\n         }\n         return classes;\n     }",
                "changes": 5
            },
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/commons-lang/raw/8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b/src/test/java/org/apache/commons/lang3/ClassUtilsTest.java",
                "contents_url": "https://api.github.com/repos/apache/commons-lang/contents/src/test/java/org/apache/commons/lang3/ClassUtilsTest.java?ref=8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b",
                "filename": "src/test/java/org/apache/commons/lang3/ClassUtilsTest.java",
                "deletions": 0,
                "sha": "010ea93420e1b30e1d0b8c9520017980a5f306f3",
                "blob_url": "https://github.com/apache/commons-lang/blob/8f675dd3cbfb8f552bdbbe1cfc646ba5b367983b/src/test/java/org/apache/commons/lang3/ClassUtilsTest.java",
                "patch": "@@ -906,6 +906,9 @@ public void testToClass_object() {\n \n         assertTrue(Arrays.equals(new Class[] { String.class, Integer.class, Double.class },\n                 ClassUtils.toClass(new Object[] { \"Test\", 1, 99d })));\n+\n+        assertTrue(Arrays.equals(new Class[] { String.class, null, Double.class },\n+                ClassUtils.toClass(new Object[] { \"Test\", null, 99d })));\n     }\n \n     public void test_getShortCanonicalName_Object() {",
                "changes": 3
            }
        ],
        "unit_tests": [
            "ClassUtilsTest.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "src/test/java/org/apache/commons/lang3/ClassUtilsTest.java",
        "buggy_files": [
            "src/main/java/org/apache/commons/lang3/ClassUtils.java"
        ],
        "fixed": true
    }
]