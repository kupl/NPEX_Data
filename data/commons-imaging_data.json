[
    {
        "repo": "commons-imaging",
        "message": "Fix NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/imaging/trunk@1633840 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/a9dd595adf937e785db6300f1dccae200d72a194",
        "parent": "https://github.com/apache/commons-imaging/commit/92440e4206a12ffd455def326c181058b53b6681",
        "bug_id": "commons-imaging_1",
        "file": [
            {
                "sha": "b32b90fb7c809161455224e7064074472be0ea42",
                "filename": "src/main/java/org/apache/commons/imaging/formats/gif/GifImageParser.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/a9dd595adf937e785db6300f1dccae200d72a194/src/main/java/org/apache/commons/imaging/formats/gif/GifImageParser.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/a9dd595adf937e785db6300f1dccae200d72a194/src/main/java/org/apache/commons/imaging/formats/gif/GifImageParser.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/main/java/org/apache/commons/imaging/formats/gif/GifImageParser.java?ref=a9dd595adf937e785db6300f1dccae200d72a194",
                "patch": "@@ -685,7 +685,7 @@ public BufferedImage getBufferedImage(final ByteSource byteSource, final Map<Str\n         }\n \n         int transparentIndex = -1;\n-        if (hasAlpha) {\n+        if (gce != null && hasAlpha) {\n             transparentIndex = gce.transparentColorIndex;\n         }\n ",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "Avoid potential NPEs\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/sanselan/trunk@995621 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/8e6ff65695c882821f137ffb5bd42de3da948d8b",
        "parent": "https://github.com/apache/commons-imaging/commit/7e7b151bf279c59151aebe6dc905badc760d96b5",
        "bug_id": "commons-imaging_2",
        "file": [
            {
                "sha": "058620bd56bce86996906c1ef4f080c65d5018eb",
                "filename": "src/test/java/org/apache/sanselan/formats/jpeg/iptc/IptcUpdateTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/8e6ff65695c882821f137ffb5bd42de3da948d8b/src/test/java/org/apache/sanselan/formats/jpeg/iptc/IptcUpdateTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/8e6ff65695c882821f137ffb5bd42de3da948d8b/src/test/java/org/apache/sanselan/formats/jpeg/iptc/IptcUpdateTest.java",
                "status": "modified",
                "changes": 24,
                "additions": 18,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/formats/jpeg/iptc/IptcUpdateTest.java?ref=8e6ff65695c882821f137ffb5bd42de3da948d8b",
                "patch": "@@ -95,7 +95,9 @@ public void testRemove() throws IOException, ImageReadException,\n \t\t\t\t\tnew JpegIptcRewriter().removeIPTC(byteSource, os);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+\t\t\t\t    if (os != null) {\n+\t\t\t\t        os.close();\n+\t\t\t\t    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -152,7 +154,9 @@ public void testRemoveInsertUpdate() throws IOException,\n \t\t\t\t\tnew JpegIptcRewriter().removeIPTC(byteSource, os);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+                    if (os != null) {\n+                        os.close();\n+                    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -197,7 +201,9 @@ public void testRemoveInsertUpdate() throws IOException,\n \t\t\t\t\tnew JpegIptcRewriter().writeIPTC(byteSource, os, newData);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+                    if (os != null) {\n+                        os.close();\n+                    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -241,7 +247,9 @@ public void testRemoveInsertUpdate() throws IOException,\n \t\t\t\t\tnew JpegIptcRewriter().writeIPTC(byteSource, os, newData);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+                    if (os != null) {\n+                        os.close();\n+                    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -286,7 +294,9 @@ public void testRemoveInsertUpdate() throws IOException,\n \t\t\t\t\t\t\tnoIptcFile), os, newData);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+                    if (os != null) {\n+                        os.close();\n+                    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -385,7 +395,9 @@ public void testAddIptcData() throws IOException, ImageReadException,\n \t\t\t\t\tnew JpegIptcRewriter().writeIPTC(byteSource, os, newData);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+                    if (os != null) {\n+                        os.close();\n+                    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n ",
                "deletions": 6
            },
            {
                "sha": "c573ceb3ed38c24ea7887c21e4de05c5e6cc1e30",
                "filename": "src/test/java/org/apache/sanselan/formats/jpeg/xmp/JpegXmpRewriteTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/8e6ff65695c882821f137ffb5bd42de3da948d8b/src/test/java/org/apache/sanselan/formats/jpeg/xmp/JpegXmpRewriteTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/8e6ff65695c882821f137ffb5bd42de3da948d8b/src/test/java/org/apache/sanselan/formats/jpeg/xmp/JpegXmpRewriteTest.java",
                "status": "modified",
                "changes": 12,
                "additions": 9,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/formats/jpeg/xmp/JpegXmpRewriteTest.java?ref=8e6ff65695c882821f137ffb5bd42de3da948d8b",
                "patch": "@@ -75,7 +75,9 @@ public void testRemoveInsertUpdate() throws IOException, ImageReadException,\n \t\t\t\t\tnew JpegXmpRewriter().removeXmpXml(byteSource, os);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+\t\t\t\t\tif (os != null) {\n+\t\t\t\t\t    os.close();\n+\t\t\t\t\t}\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -101,7 +103,9 @@ public void testRemoveInsertUpdate() throws IOException, ImageReadException,\n \t\t\t\t\t\t\tnewXmpXml);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+\t\t\t\t    if (os != null) {\n+\t\t\t\t        os.close();\n+\t\t\t\t    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n \n@@ -128,7 +132,9 @@ public void testRemoveInsertUpdate() throws IOException, ImageReadException,\n \t\t\t\t\t\t\tnewXmpXml);\n \t\t\t\t} finally\n \t\t\t\t{\n-\t\t\t\t\tos.close();\n+\t\t\t\t    if (os != null) {\n+\t\t\t\t        os.close();\n+\t\t\t\t    }\n \t\t\t\t\tos = null;\n \t\t\t\t}\n ",
                "deletions": 3
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "Avoid Eclipse NPE warnings\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/sanselan/trunk@995614 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/618b683326adc34bb566e64cf3d37254403fdb05",
        "parent": "https://github.com/apache/commons-imaging/commit/542efee6b54bb569d21d1506764bad0acfe4cf0f",
        "bug_id": "commons-imaging_3",
        "file": [
            {
                "sha": "a440ceb6890b0b297d4a133731f77b1fcfae85eb",
                "filename": "src/test/java/org/apache/sanselan/formats/png/PngTextTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/618b683326adc34bb566e64cf3d37254403fdb05/src/test/java/org/apache/sanselan/formats/png/PngTextTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/618b683326adc34bb566e64cf3d37254403fdb05/src/test/java/org/apache/sanselan/formats/png/PngTextTest.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/formats/png/PngTextTest.java?ref=618b683326adc34bb566e64cf3d37254403fdb05",
                "patch": "@@ -75,7 +75,7 @@ public void test() throws IOException, ImageReadException,\n \t\tIOUtils.writeToFile(bytes, tempFile);\n \n \t\tPngImageInfo imageInfo = (PngImageInfo) Sanselan.getImageInfo(bytes);\n-\t\tassertTrue(null != imageInfo);\n+\t\tassertNotNull(imageInfo);\n \n \t\tList readTexts = imageInfo.getTextChunks();\n \t\tassertEquals(readTexts.size(), 3);",
                "deletions": 1
            },
            {
                "sha": "bcabca921b37666238e537b996103a5040a6b4ab",
                "filename": "src/test/java/org/apache/sanselan/formats/png/PngWriteReadTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/618b683326adc34bb566e64cf3d37254403fdb05/src/test/java/org/apache/sanselan/formats/png/PngWriteReadTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/618b683326adc34bb566e64cf3d37254403fdb05/src/test/java/org/apache/sanselan/formats/png/PngWriteReadTest.java",
                "status": "modified",
                "changes": 6,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/formats/png/PngWriteReadTest.java?ref=618b683326adc34bb566e64cf3d37254403fdb05",
                "patch": "@@ -146,7 +146,7 @@ private void writeAndReadImageData(int[][] rawData) throws IOException,\n \n \t\tBufferedImage dstImage = Sanselan.getBufferedImage(bytes);\n \n-\t\tassertTrue(null != dstImage);\n+\t\tassertNotNull(dstImage);\n \t\tassertTrue(srcImage.getWidth() == dstImage.getWidth());\n \t\tassertTrue(srcImage.getHeight() == dstImage.getHeight());\n \n@@ -156,8 +156,8 @@ private void writeAndReadImageData(int[][] rawData) throws IOException,\n \n \tprivate void compare(int[][] a, int[][] b)\n \t{\n-\t\tassertTrue(null != a);\n-\t\tassertTrue(null != b);\n+\t\tassertNotNull(a);\n+\t\tassertNotNull(b);\n \t\tassertTrue(a.length == b.length);\n \n \t\tfor (int y = 0; y < a.length; y++)",
                "deletions": 3
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "Avoid a possible NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/sanselan/trunk@603195 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/307e1eecbd95d17312633ef5d54e1b0720f7907c",
        "parent": "https://github.com/apache/commons-imaging/commit/4a975b6f797e687c89a04ca394778e978a88f5c7",
        "bug_id": "commons-imaging_4",
        "file": [
            {
                "sha": "3289ea72df72126a4cc597f3a0dc9eef2ad9ceb3",
                "filename": "src/main/java/org/apache/sanselan/Sanselan.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/307e1eecbd95d17312633ef5d54e1b0720f7907c/src/main/java/org/apache/sanselan/Sanselan.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/307e1eecbd95d17312633ef5d54e1b0720f7907c/src/main/java/org/apache/sanselan/Sanselan.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/main/java/org/apache/sanselan/Sanselan.java?ref=307e1eecbd95d17312633ef5d54e1b0720f7907c",
                "patch": "@@ -797,7 +797,7 @@ public static BufferedImage getBufferedImage(InputStream is, Map params)\n \t\t\tthrows ImageReadException, IOException\n \t{\n \t\tString filename = null;\n-\t\tif (params.containsKey(PARAM_KEY_FILENAME))\n+\t\tif (params != null && params.containsKey(PARAM_KEY_FILENAME))\n \t\t\tfilename = (String) params.get(PARAM_KEY_FILENAME);\n \t\treturn getBufferedImage(new ByteSourceInputStream(is, filename), params);\n \t}",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "Fix an NPE regression in TIFF image reading.\n\nJira issue key: IMAGING-113\n\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/imaging/trunk@1534297 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/60aa99da6e9ee79f1691f986760d4505ee37f00e",
        "parent": "https://github.com/apache/commons-imaging/commit/e252fdc248fe619b67a371d39bedd8705a59fe58",
        "bug_id": "commons-imaging_5",
        "file": [
            {
                "sha": "f3d31f5bae6c603fa370ff6db929e2bd9d60fd2a",
                "filename": "src/changes/changes.xml",
                "blob_url": "https://github.com/apache/commons-imaging/blob/60aa99da6e9ee79f1691f986760d4505ee37f00e/src/changes/changes.xml",
                "raw_url": "https://github.com/apache/commons-imaging/raw/60aa99da6e9ee79f1691f986760d4505ee37f00e/src/changes/changes.xml",
                "status": "modified",
                "changes": 3,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/changes/changes.xml?ref=60aa99da6e9ee79f1691f986760d4505ee37f00e",
                "patch": "@@ -46,6 +46,9 @@ The <action> type attribute can be add,update,fix,remove.\n   <body>\n \n     <release version=\"1.0\" date=\"TBA\" description=\"TBA\">\n+      <action issue=\"IMAGING-113\" dev=\"damjan\" type=\"fix\">\n+        Cannot read multipage tiff.\n+      </action>\n       <action issue=\"IMAGING-108\" dev=\"damjan\" type=\"fix\">\n         JPEG EOI marker could not be found at expected location.\n       </action>",
                "deletions": 0
            },
            {
                "sha": "4b717110aa733d2b5616f58d081a5caa2bfd66d3",
                "filename": "src/main/java/org/apache/commons/imaging/formats/tiff/TiffImageParser.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/60aa99da6e9ee79f1691f986760d4505ee37f00e/src/main/java/org/apache/commons/imaging/formats/tiff/TiffImageParser.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/60aa99da6e9ee79f1691f986760d4505ee37f00e/src/main/java/org/apache/commons/imaging/formats/tiff/TiffImageParser.java",
                "status": "modified",
                "changes": 3,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/main/java/org/apache/commons/imaging/formats/tiff/TiffImageParser.java?ref=60aa99da6e9ee79f1691f986760d4505ee37f00e",
                "patch": "@@ -509,6 +509,9 @@ private Integer getIntegerParameter(\n             final String key, final Map<String, Object>params)\n             throws ImageReadException\n     {\n+        if (params == null) {\n+            return null;\n+        }\n        \n         if(!params.containsKey(key)) {\n             return null;",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "assertTrue(x != null) => assertNotNull(x)\n- simpler, gives better diagnostic, reduces possible NPE warnings\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/sanselan/trunk@922385 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/02a0c2dbef3ab568e6355ca67768765b5429997c",
        "parent": "https://github.com/apache/commons-imaging/commit/93c7aedea250dd96de5a0e1a91fe672b1b1694ad",
        "bug_id": "commons-imaging_6",
        "file": [
            {
                "sha": "98ae2d285f494b930b2a5eb2bdf1b5c524fa2909",
                "filename": "src/test/java/org/apache/sanselan/common/byteSources/ByteSourceImageTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/02a0c2dbef3ab568e6355ca67768765b5429997c/src/test/java/org/apache/sanselan/common/byteSources/ByteSourceImageTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/02a0c2dbef3ab568e6355ca67768765b5429997c/src/test/java/org/apache/sanselan/common/byteSources/ByteSourceImageTest.java",
                "status": "modified",
                "changes": 26,
                "additions": 13,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/common/byteSources/ByteSourceImageTest.java?ref=02a0c2dbef3ab568e6355ca67768765b5429997c",
                "patch": "@@ -50,10 +50,10 @@ public void test() throws IOException, ImageReadException,\n \n \t\t\tFile imageFile = (File) imageFiles.get(i);\n \t\t\tDebug.debug(\"imageFile\", imageFile);\n-\t\t\tassertTrue(imageFile != null);\n+\t\t\tassertNotNull(imageFile);\n \n \t\t\tbyte imageFileBytes[] = IOUtils.getFileBytes(imageFile);\n-\t\t\tassertTrue(imageFileBytes != null);\n+\t\t\tassertNotNull(imageFileBytes);\n \t\t\tassertTrue(imageFileBytes.length == imageFile.length());\n \n \t\t\tif (imageFile.getName().toLowerCase().endsWith(\".ico\")\n@@ -95,15 +95,15 @@ public void checkGetBufferedImage(File file, byte[] bytes)\n \t\t\tthrows IOException, ImageReadException\n \t{\n \t\tBufferedImage imageFile = Sanselan.getBufferedImage(file);\n-\t\tassertTrue(imageFile != null);\n+\t\tassertNotNull(imageFile);\n \t\tassertTrue(imageFile.getWidth() > 0);\n \t\tassertTrue(imageFile.getHeight() > 0);\n \t\tint imageFileWidth = imageFile.getWidth();\n \t\tint imageFileHeight = imageFile.getHeight();\n \t\timageFile = null;\n \n \t\tBufferedImage imageBytes = Sanselan.getBufferedImage(bytes);\n-\t\tassertTrue(imageBytes != null);\n+\t\tassertNotNull(imageBytes);\n \t\tassertTrue(imageFileWidth == imageBytes.getWidth());\n \t\tassertTrue(imageFileHeight == imageBytes.getHeight());\n \t}\n@@ -112,12 +112,12 @@ public void checkGetImageSize(File imageFile, byte[] imageFileBytes)\n \t\t\tthrows IOException, ImageReadException\n \t{\n \t\tDimension imageSizeFile = Sanselan.getImageSize(imageFile);\n-\t\tassertTrue(imageSizeFile != null);\n+\t\tassertNotNull(imageSizeFile);\n \t\tassertTrue(imageSizeFile.width > 0);\n \t\tassertTrue(imageSizeFile.height > 0);\n \n \t\tDimension imageSizeBytes = Sanselan.getImageSize(imageFileBytes);\n-\t\tassertTrue(imageSizeBytes != null);\n+\t\tassertNotNull(imageSizeBytes);\n \t\tassertTrue(imageSizeFile.width == imageSizeBytes.width);\n \t\tassertTrue(imageSizeFile.height == imageSizeBytes.height);\n \t}\n@@ -127,12 +127,12 @@ public void checkGuessFormat(File imageFile, byte[] imageFileBytes)\n \t{\n \t\t// check guessFormat()\n \t\tImageFormat imageFormatFile = Sanselan.guessFormat(imageFile);\n-\t\tassertTrue(imageFormatFile != null);\n+\t\tassertNotNull(imageFormatFile);\n \t\tassertTrue(imageFormatFile != ImageFormat.IMAGE_FORMAT_UNKNOWN);\n \t\t// Debug.debug(\"imageFormatFile\", imageFormatFile);\n \n \t\tImageFormat imageFormatBytes = Sanselan.guessFormat(imageFileBytes);\n-\t\tassertTrue(imageFormatBytes != null);\n+\t\tassertNotNull(imageFormatBytes);\n \t\tassertTrue(imageFormatBytes != ImageFormat.IMAGE_FORMAT_UNKNOWN);\n \t\t// Debug.debug(\"imageFormatBytes\", imageFormatBytes);\n \n@@ -173,8 +173,8 @@ public void checkGetImageInfo(File imageFile, byte[] imageFileBytes)\n \t\tImageInfo imageInfoBytes = Sanselan\n \t\t\t\t.getImageInfo(imageFileBytes, params);\n \n-\t\tassertTrue(imageInfoFile != null);\n-\t\tassertTrue(imageInfoBytes != null);\n+\t\tassertNotNull(imageInfoFile);\n+\t\tassertNotNull(imageInfoBytes);\n \n \t\tMethod methods[] = ImageInfo.class.getMethods();\n \t\tfor (int i = 0; i < methods.length; i++)\n@@ -200,15 +200,15 @@ public void checkGetImageInfo(File imageFile, byte[] imageFileBytes)\n \t\t// match.\n \t\tassertTrue(imageInfoFile.getBitsPerPixel() > 0);\n \n-\t\tassertTrue(imageInfoFile.getFormat() != null);\n+\t\tassertNotNull(imageInfoFile.getFormat());\n \t\tassertTrue(imageInfoFile.getFormat() != ImageFormat.IMAGE_FORMAT_UNKNOWN);\n \n-\t\tassertTrue(imageInfoFile.getFormatName() != null);\n+\t\tassertNotNull(imageInfoFile.getFormatName());\n \n \t\tassertTrue(imageInfoFile.getWidth() > 0);\n \t\tassertTrue(imageInfoFile.getHeight() > 0);\n \n-\t\tassertTrue(imageInfoFile.getMimeType() != null);\n+\t\tassertNotNull(imageInfoFile.getMimeType());\n \n \t\t// TODO: not all adapters count images yet.\n \t\t// assertTrue(imageInfoFile.getNumberOfImages() > 0);",
                "deletions": 13
            },
            {
                "sha": "89ee9b9aa169f46187e6ea7f50c6b2587cda6f23",
                "filename": "src/test/java/org/apache/sanselan/formats/bmp/BmpRoundtripTest.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/02a0c2dbef3ab568e6355ca67768765b5429997c/src/test/java/org/apache/sanselan/formats/bmp/BmpRoundtripTest.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/02a0c2dbef3ab568e6355ca67768765b5429997c/src/test/java/org/apache/sanselan/formats/bmp/BmpRoundtripTest.java",
                "status": "modified",
                "changes": 6,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/test/java/org/apache/sanselan/formats/bmp/BmpRoundtripTest.java?ref=02a0c2dbef3ab568e6355ca67768765b5429997c",
                "patch": "@@ -166,7 +166,7 @@ private void writeAndReadImageData(int[][] rawData) throws IOException,\n \n \t\tBufferedImage dstImage = Sanselan.getBufferedImage(bytes);\n \n-\t\tassertTrue(null != dstImage);\n+\t\tassertNotNull(dstImage);\n \t\tassertTrue(srcImage.getWidth() == dstImage.getWidth());\n \t\tassertTrue(srcImage.getHeight() == dstImage.getHeight());\n \n@@ -176,8 +176,8 @@ private void writeAndReadImageData(int[][] rawData) throws IOException,\n \n \tprivate void compare(int[][] a, int[][] b)\n \t{\n-\t\tassertTrue(null != a);\n-\t\tassertTrue(null != b);\n+\t\tassertNotNull(a);\n+\t\tassertNotNull(b);\n \t\tassertTrue(a.length == b.length);\n \n \t\tfor (int y = 0; y < a.length; y++)",
                "deletions": 3
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "* Fixed a possible NPE in Sanselan.getICCProfile pointed out by Jon Weygandt.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/sanselan/trunk@790019 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/2dabc15c54af842507ffeec6a8f474773364e352",
        "parent": "https://github.com/apache/commons-imaging/commit/7dd3e5a419a87b2ec24aceb31e00814bc1f7d3d8",
        "bug_id": "commons-imaging_7",
        "file": [
            {
                "sha": "2a270e078577c77c59949e1dd1cbcbd9d72317a4",
                "filename": "RELEASE_NOTES",
                "blob_url": "https://github.com/apache/commons-imaging/blob/2dabc15c54af842507ffeec6a8f474773364e352/RELEASE_NOTES",
                "raw_url": "https://github.com/apache/commons-imaging/raw/2dabc15c54af842507ffeec6a8f474773364e352/RELEASE_NOTES",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/RELEASE_NOTES?ref=2dabc15c54af842507ffeec6a8f474773364e352",
                "patch": "@@ -14,6 +14,7 @@ Version History:\n \n Next Release\n ------------\n+ * Fixed a possible NPE in Sanselan.getICCProfile pointed out by Jon Weygandt.\n  * Fixed a bug in which gifs have incorrect size information in the the Logical Screen Descriptor.\n    This appears to be a bug in how Microsoft Office writes gifs.\n    The Image Descriptor has the correct value.",
                "deletions": 0
            },
            {
                "sha": "958e795ff9e4bec4058147bba75854d46c5fcaf9",
                "filename": "src/main/java/org/apache/sanselan/Sanselan.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/2dabc15c54af842507ffeec6a8f474773364e352/src/main/java/org/apache/sanselan/Sanselan.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/2dabc15c54af842507ffeec6a8f474773364e352/src/main/java/org/apache/sanselan/Sanselan.java",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/main/java/org/apache/sanselan/Sanselan.java?ref=2dabc15c54af842507ffeec6a8f474773364e352",
                "patch": "@@ -320,6 +320,8 @@ protected static ICC_Profile getICCProfile(ByteSource byteSource, Map params)\n \n \t\tIccProfileParser parser = new IccProfileParser();\n \t\tIccProfileInfo info = parser.getICCProfileInfo(bytes);\n+\t\tif (info == null)\n+\t\t\treturn null;\n \t\tif (info.issRGB())\n \t\t\treturn null;\n ",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "commons-imaging",
        "message": "Stop JpegImageMetadata from throwing NPE if the exif field is null.\nJira issue key: SANSELAN-73\nSubmitted by: Piyush Kapoor <pkapoor at adobe dot com>\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/imaging/trunk@1331275 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/commons-imaging/commit/36d20cb9d60e80a46231d4164249137a641c6c7b",
        "parent": "https://github.com/apache/commons-imaging/commit/45074b5f87754471cfb59b64c74ee9cfc56b45f0",
        "bug_id": "commons-imaging_8",
        "file": [
            {
                "sha": "a13fab39ec65ae4f3645bf171cfcf376216925f5",
                "filename": "src/main/java/org/apache/commons/imaging/formats/jpeg/JpegImageMetadata.java",
                "blob_url": "https://github.com/apache/commons-imaging/blob/36d20cb9d60e80a46231d4164249137a641c6c7b/src/main/java/org/apache/commons/imaging/formats/jpeg/JpegImageMetadata.java",
                "raw_url": "https://github.com/apache/commons-imaging/raw/36d20cb9d60e80a46231d4164249137a641c6c7b/src/main/java/org/apache/commons/imaging/formats/jpeg/JpegImageMetadata.java",
                "status": "modified",
                "changes": 8,
                "additions": 6,
                "contents_url": "https://api.github.com/repos/apache/commons-imaging/contents/src/main/java/org/apache/commons/imaging/formats/jpeg/JpegImageMetadata.java?ref=36d20cb9d60e80a46231d4164249137a641c6c7b",
                "patch": "@@ -55,7 +55,11 @@ public JpegPhotoshopMetadata getPhotoshop() {\n \n     public TiffField findEXIFValue(TagInfo tagInfo) {\n         try {\n-            return exif.findField(tagInfo);\n+            if (exif != null) {\n+               return exif.findField(tagInfo);\n+            } else {\n+               return null;\n+            }\n         } catch (ImageReadException cannotHappen) {\n             return null;\n         }\n@@ -217,4 +221,4 @@ public void dump() {\n         Debug.debug(this.toString());\n     }\n \n-}\n\\ No newline at end of file\n+}",
                "deletions": 2
            }
        ]
    }
]