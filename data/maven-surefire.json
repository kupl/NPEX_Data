{
    "maven-surefire_08233b8": {
        "bug_id": "maven-surefire_08233b8",
        "commit": "https://github.com/apache/maven-surefire/commit/08233b880bf4eed13d04cd91e189db93a8c5bf70",
        "file": [
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/maven-surefire/blob/08233b880bf4eed13d04cd91e189db93a8c5bf70/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java?ref=08233b880bf4eed13d04cd91e189db93a8c5bf70",
                "deletions": 2,
                "filename": "surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "patch": "@@ -59,8 +59,15 @@ public Filter createGroupFilter( Properties providerProperties )\n         GroupMatcher included = commaSeparatedListToFilters( groups );\n         GroupMatcher excluded = commaSeparatedListToFilters( excludedGroups );\n \n-        included.loadGroupClasses( testClassLoader );\n-        excluded.loadGroupClasses( testClassLoader );\n+        if ( included != null && testClassLoader != null )\n+        {\n+            included.loadGroupClasses( testClassLoader );\n+        }\n+\n+        if ( excluded != null && testClassLoader != null )\n+        {\n+            excluded.loadGroupClasses( testClassLoader );\n+        }\n \n         return new GroupMatcherCategoryFilter( included, excluded );\n     }",
                "raw_url": "https://github.com/apache/maven-surefire/raw/08233b880bf4eed13d04cd91e189db93a8c5bf70/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "sha": "1a177e0eff6ed889466541f01b48765321c6cd74",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-809] fixing NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@1235414 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/241611ad43cdb3ddfb65f37ddbf274cd0c3f774a",
        "repo": "maven-surefire",
        "unit_tests": [
            "FilterFactoryTest.java"
        ]
    },
    "maven-surefire_319b3ec": {
        "bug_id": "maven-surefire_319b3ec",
        "commit": "https://github.com/apache/maven-surefire/commit/319b3ec6e2c44536bde521563654c5f7f4251255",
        "file": [
            {
                "additions": 12,
                "blob_url": "https://github.com/apache/maven-surefire/blob/319b3ec6e2c44536bde521563654c5f7f4251255/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java",
                "changes": 22,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java?ref=319b3ec6e2c44536bde521563654c5f7f4251255",
                "deletions": 10,
                "filename": "maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java",
                "patch": "@@ -23,6 +23,7 @@\n import java.io.IOException;\n import java.io.InputStream;\n import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.Iterator;\n import java.util.List;\n import java.util.Properties;\n@@ -36,6 +37,7 @@\n import java.util.concurrent.LinkedBlockingQueue;\n import java.util.concurrent.ThreadPoolExecutor;\n import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicReference;\n \n import org.apache.maven.plugin.logging.Log;\n import org.apache.maven.plugin.surefire.AbstractSurefireMojo;\n@@ -88,29 +90,29 @@\n     /**\n      * Closes an InputStream\n      */\n-    private final class InputStreamCloser\n+    private static class InputStreamCloser\n         implements Runnable\n     {\n-        private InputStream testProvidingInputStream;\n+        private final AtomicReference<InputStream> testProvidingInputStream;\n \n         public InputStreamCloser( InputStream testProvidingInputStream )\n         {\n-            this.testProvidingInputStream = testProvidingInputStream;\n+            this.testProvidingInputStream = new AtomicReference<InputStream>( testProvidingInputStream );\n         }\n \n-        public synchronized void run()\n+        public void run()\n         {\n-            if ( testProvidingInputStream != null )\n+            InputStream stream = testProvidingInputStream.getAndSet( null );\n+            if ( stream != null )\n             {\n                 try\n                 {\n-                    testProvidingInputStream.close();\n+                    stream.close();\n                 }\n                 catch ( IOException e )\n                 {\n                     // ignore\n                 }\n-                testProvidingInputStream = null;\n             }\n         }\n     }\n@@ -125,11 +127,11 @@ public synchronized void run()\n \n     private final StartupReportConfiguration startupReportConfiguration;\n \n-    private Log log;\n+    private final Log log;\n \n     private final DefaultReporterFactory defaultReporterFactory;\n \n-    private final List<DefaultReporterFactory> defaultReporterFactoryList;\n+    private final Collection<DefaultReporterFactory> defaultReporterFactoryList;\n \n     private static volatile int systemPropertiesFileCounter = 0;\n \n@@ -145,7 +147,7 @@ public ForkStarter( ProviderConfiguration providerConfiguration, StartupConfigur\n         this.log = log;\n         defaultReporterFactory = new DefaultReporterFactory( startupReportConfiguration );\n         defaultReporterFactory.runStarting();\n-        defaultReporterFactoryList = new ArrayList<DefaultReporterFactory>();\n+        defaultReporterFactoryList = new ConcurrentLinkedQueue<DefaultReporterFactory>();\n     }\n \n     public RunResult run( SurefireProperties effectiveSystemProperties, DefaultScanResult scanResult )",
                "raw_url": "https://github.com/apache/maven-surefire/raw/319b3ec6e2c44536bde521563654c5f7f4251255/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/booterclient/ForkStarter.java",
                "sha": "acd8da9dfc324724e45b6bc6f049a8be3f40c084",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/maven-surefire/blob/319b3ec6e2c44536bde521563654c5f7f4251255/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java?ref=319b3ec6e2c44536bde521563654c5f7f4251255",
                "deletions": 1,
                "filename": "maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "patch": "@@ -29,6 +29,7 @@\n import org.apache.maven.surefire.suite.RunResult;\n \n import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n@@ -75,7 +76,7 @@ public RunListener createReporter()\n         return createTestSetRunListener();\n     }\n \n-    public void mergeFromOtherFactories( List<DefaultReporterFactory> factories )\n+    public void mergeFromOtherFactories( Collection<DefaultReporterFactory> factories )\n     {\n         for ( DefaultReporterFactory factory : factories )\n         {",
                "raw_url": "https://github.com/apache/maven-surefire/raw/319b3ec6e2c44536bde521563654c5f7f4251255/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "sha": "aeb3c2259c1ed0230e32d70c5406a69df212ef43",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-1121] NPE DefaultReporterFactory.mergeFromOtherFactories(DefaultReporterFactory.java:82)",
        "parent": "https://github.com/apache/maven-surefire/commit/65e062cb858a9f2b162e6acc00e980cb584819f4",
        "repo": "maven-surefire",
        "unit_tests": [
            "DefaultReporterFactoryTest.java"
        ]
    },
    "maven-surefire_36a68c3": {
        "bug_id": "maven-surefire_36a68c3",
        "commit": "https://github.com/apache/maven-surefire/commit/36a68c35753954a4d86273bea42b23aaaa6e9b24",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/maven-surefire/blob/36a68c35753954a4d86273bea42b23aaaa6e9b24/surefire-api/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-api/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java?ref=36a68c35753954a4d86273bea42b23aaaa6e9b24",
                "deletions": 3,
                "filename": "surefire-api/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "patch": "@@ -48,8 +48,11 @@ public PojoStackTraceWriter( String testClass, String testMethod, Throwable t )\n     public String writeTraceToString()\n     {\n         StringWriter w = new StringWriter();\n-        t.printStackTrace( new PrintWriter( w ) );\n-        w.flush();\n+        if ( t != null )\n+        {\n+            t.printStackTrace( new PrintWriter( w ) );\n+            w.flush();\n+        }\n         return w.toString();\n     }\n \n@@ -69,7 +72,7 @@ public String writeTrimmedTraceToString()\n             if ( line.startsWith( marker ) )\n             {\n                 lastLine = i;\n-            } else if ( line.startsWith( \"Caused by\" ) ) \n+            } else if ( line.startsWith( \"Caused by\" ) )\n             {\n                 causedByLine = i;\n                 break;",
                "raw_url": "https://github.com/apache/maven-surefire/raw/36a68c35753954a4d86273bea42b23aaaa6e9b24/surefire-api/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "sha": "6cd0fb32df961be64bfba4b1b8d5b1bb875f37f2",
                "status": "modified"
            }
        ],
        "message": "SUREFIRE-444 NPE in PojoStackTraceWriter.writeTraceToString\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@615569 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/21f6d58c3bbb48bb6e3b02d48020ef34d1f67223",
        "repo": "maven-surefire",
        "unit_tests": [
            "PojoStackTraceWriterTest.java"
        ]
    },
    "maven-surefire_6a3b96a": {
        "bug_id": "maven-surefire_6a3b96a",
        "commit": "https://github.com/apache/maven-surefire/commit/6a3b96acec7fc229db3d7289e02ca0eb422da29f",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-surefire/blob/6a3b96acec7fc229db3d7289e02ca0eb422da29f/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java?ref=6a3b96acec7fc229db3d7289e02ca0eb422da29f",
                "deletions": 1,
                "filename": "maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "patch": "@@ -591,7 +591,7 @@ else if ( junitArtifact != null && junitArtifact.getBaseVersion().startsWith( \"4\n             else\n             {\n                 String junitDirectoryTestSuite;\n-                if ( junitArtifact.getBaseVersion().startsWith( \"4\" ) )\n+                if ( junitArtifact != null && junitArtifact.getBaseVersion().startsWith( \"4\" ) )\n                 {\n                     junitDirectoryTestSuite = \"org.apache.maven.surefire.junit4.JUnit4DirectoryTestSuite\";\n                 }",
                "raw_url": "https://github.com/apache/maven-surefire/raw/6a3b96acec7fc229db3d7289e02ca0eb422da29f/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "sha": "09de78cfa198872adcfde9721ca7e82d3c198030",
                "status": "modified"
            }
        ],
        "message": "SUREFIRE-300 Fixing the NPE for cases where projects have no test cases.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@513588 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/b5bcccf7024be1bc3ae03033092b43768a08f629",
        "repo": "maven-surefire",
        "unit_tests": [
            "SurefirePluginTest.java"
        ]
    },
    "maven-surefire_6f51572": {
        "bug_id": "maven-surefire_6f51572",
        "commit": "https://github.com/apache/maven-surefire/commit/6f51572efbb6f3b0132d3225e9077c11bb6e70b9",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/maven-surefire/blob/6f51572efbb6f3b0132d3225e9077c11bb6e70b9/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/ConcurrentRunListener.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/ConcurrentRunListener.java?ref=6f51572efbb6f3b0132d3225e9077c11bb6e70b9",
                "deletions": 3,
                "filename": "surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/ConcurrentRunListener.java",
                "patch": "@@ -135,9 +135,12 @@ public void testStarting( ReportEntry description )\n     public void testSucceeded( ReportEntry report )\n     {\n         TestMethod testMethod = getTestMethod();\n-        testMethod.testFinished();\n-        testMethod.getTestSet().incrementFinishedTests( getRunListener(), reportImmediately );\n-        testMethod.detachFromCurrentThread();\n+        if ( null != testMethod )\n+        {\n+            testMethod.testFinished();\n+            testMethod.getTestSet().incrementFinishedTests( getRunListener(), reportImmediately );\n+            testMethod.detachFromCurrentThread();\n+        }\n     }\n \n     private TestMethod getOrCreateThreadAttachedTestMethod( ReportEntry description )",
                "raw_url": "https://github.com/apache/maven-surefire/raw/6f51572efbb6f3b0132d3225e9077c11bb6e70b9/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/ConcurrentRunListener.java",
                "sha": "72543649eaffea8104774f1df2cff07c12091bc0",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-surefire/blob/6f51572efbb6f3b0132d3225e9077c11bb6e70b9/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/TestMethod.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/TestMethod.java?ref=6f51572efbb6f3b0132d3225e9077c11bb6e70b9",
                "deletions": 1,
                "filename": "surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/TestMethod.java",
                "patch": "@@ -89,7 +89,7 @@ private void setEndTime()\n \n     public int getElapsed()\n     {\n-        return (int) ( endTime - startTime );\n+        return endTime > 0 ? (int) ( endTime - startTime ) : 0;\n     }\n \n ",
                "raw_url": "https://github.com/apache/maven-surefire/raw/6f51572efbb6f3b0132d3225e9077c11bb6e70b9/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/TestMethod.java",
                "sha": "dc1ae279347522cd493b534f70c4dae250d629b1",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-991] fixed NPE in ConcurrentRunListener for the case that a testSucceeds is called more often that testStarting (issue with the cucumber test runner)",
        "parent": "https://github.com/apache/maven-surefire/commit/3d903eb72c04231c2ad75cfd8dd385b5e478e19f",
        "repo": "maven-surefire",
        "unit_tests": [
            "TestMethodTest.java"
        ]
    },
    "maven-surefire_90edbd4": {
        "bug_id": "maven-surefire_90edbd4",
        "commit": "https://github.com/apache/maven-surefire/commit/90edbd4abd3697c92692a2d12f15aaf02e66af40",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-surefire/blob/90edbd4abd3697c92692a2d12f15aaf02e66af40/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java?ref=90edbd4abd3697c92692a2d12f15aaf02e66af40",
                "deletions": 4,
                "filename": "maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "patch": "@@ -43,8 +43,6 @@\n \r\n     private final RunStatistics globalStats = new RunStatistics();\r\n \r\n-    private final ConsoleReporter multicastingReporter;\r\n-\r\n     private final StartupReportConfiguration reportConfiguration;\r\n \r\n     private final StatisticsReporter statisticsReporter;\r\n@@ -55,7 +53,6 @@\n     public DefaultReporterFactory( StartupReportConfiguration reportConfiguration )\r\n     {\r\n         this.reportConfiguration = reportConfiguration;\r\n-        multicastingReporter = reportConfiguration.instantiateConsoleReporter();\r\n         this.statisticsReporter = reportConfiguration.instantiateStatisticsReporter();\r\n         runStarting();\r\n     }\r\n@@ -106,7 +103,7 @@ private void runCompleted()\n         logger.info( \"\" );\r\n         if ( globalStats.hadFailures() )\r\n         {\r\n-            multicastingReporter.writeMessage( \"Failed tests: \" );\r\n+            logger.info( \"Failed tests: \" );\r\n             for ( Object o : this.globalStats.getFailureSources() )\r\n             {\r\n                 logger.info( \"  \" + o );\r",
                "raw_url": "https://github.com/apache/maven-surefire/raw/90edbd4abd3697c92692a2d12f15aaf02e66af40/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/DefaultReporterFactory.java",
                "sha": "52d925e11684889589f6ad4788c0d317b637ca83",
                "status": "modified"
            }
        ],
        "message": "o Removed NPE on odd configuration",
        "parent": "https://github.com/apache/maven-surefire/commit/065da9ca635cf23747da25164da872c3f1ef1a3c",
        "repo": "maven-surefire",
        "unit_tests": [
            "DefaultReporterFactoryTest.java"
        ]
    },
    "maven-surefire_b26d1c4": {
        "bug_id": "maven-surefire_b26d1c4",
        "commit": "https://github.com/apache/maven-surefire/commit/b26d1c484a6c5465e98af9e231d5f2b99f89ce7a",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/maven-surefire/blob/b26d1c484a6c5465e98af9e231d5f2b99f89ce7a/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java?ref=b26d1c484a6c5465e98af9e231d5f2b99f89ce7a",
                "deletions": 1,
                "filename": "maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "patch": "@@ -29,6 +29,7 @@\n import org.apache.maven.artifact.resolver.ArtifactResolver;\n import org.apache.maven.artifact.resolver.filter.ArtifactFilter;\n import org.apache.maven.artifact.resolver.filter.ExcludesArtifactFilter;\n+import org.apache.maven.artifact.versioning.DefaultArtifactVersion;\n import org.apache.maven.artifact.versioning.InvalidVersionSpecificationException;\n import org.apache.maven.artifact.versioning.VersionRange;\n import org.apache.maven.plugin.AbstractMojo;\n@@ -531,7 +532,7 @@ private SurefireBooter constructSurefireBooter()\n             if ( testNgArtifact != null )\n             {\n                 VersionRange range = VersionRange.createFromVersionSpec( \"[4.7,)\" );\n-                if ( !range.containsVersion( testNgArtifact.getSelectedVersion() ) )\n+                if ( !range.containsVersion( new DefaultArtifactVersion(testNgArtifact.getVersion()) ) )\n                 {\n                     throw new MojoFailureException(\n                                                     \"TestNG support requires version 4.7 or above. You have declared version \" +",
                "raw_url": "https://github.com/apache/maven-surefire/raw/b26d1c484a6c5465e98af9e231d5f2b99f89ce7a/maven-surefire-plugin/src/main/java/org/apache/maven/plugin/surefire/SurefirePlugin.java",
                "sha": "9ea7eeb694b4010d8ebbc1b04bf1ec6564df7423",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-360] maven-surefire-plugin fails with an NPE when test ng is configured transitively\nSubmitted by: Tibor Varga\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@594593 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/538f225de6379a864b2461c2197e844d9e696bb9",
        "repo": "maven-surefire",
        "unit_tests": [
            "SurefirePluginTest.java"
        ]
    },
    "maven-surefire_bb7c2de": {
        "bug_id": "maven-surefire_bb7c2de",
        "commit": "https://github.com/apache/maven-surefire/commit/bb7c2de8ca5b01e568c7f97235822303fda4ed4b",
        "file": [
            {
                "additions": 40,
                "blob_url": "https://github.com/apache/maven-surefire/blob/bb7c2de8ca5b01e568c7f97235822303fda4ed4b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java",
                "changes": 70,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java?ref=bb7c2de8ca5b01e568c7f97235822303fda4ed4b",
                "deletions": 30,
                "filename": "maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java",
                "patch": "@@ -19,6 +19,17 @@\n  * under the License.\n  */\n \n+import java.io.File;\n+import java.lang.reflect.Method;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.LinkedHashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n import org.apache.maven.artifact.Artifact;\n import org.apache.maven.artifact.DependencyResolutionRequiredException;\n import org.apache.maven.artifact.resolver.ArtifactNotFoundException;\n@@ -58,18 +69,6 @@\n import org.apache.maven.toolchain.Toolchain;\n import org.codehaus.plexus.util.StringUtils;\n \n-import java.io.File;\n-import java.lang.reflect.Method;\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.Iterator;\n-import java.util.LinkedHashSet;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Properties;\n-import java.util.Set;\n-\n /**\n  * Abstract base class for running tests using Surefire.\n  *\n@@ -293,7 +292,8 @@ protected ProviderConfiguration createProviderConfiguration( ForkConfiguration f\n         TestArtifactInfo testNg =\n             isTestNg ? new TestArtifactInfo( testNgArtifact.getVersion(), testNgArtifact.getClassifier() ) : null;\n         List testXml = getSuiteXmlFiles() != null ? Arrays.asList( getSuiteXmlFiles() ) : null;\n-        TestRequest testSuiteDefinition = new TestRequest( testXml, getTestSourceDirectory(), getTest(), getTestMethod() );\n+        TestRequest testSuiteDefinition =\n+            new TestRequest( testXml, getTestSourceDirectory(), getTest(), getTestMethod() );\n         final boolean failIfNoTests;\n \n         if ( isValidSuiteXmlFileConfig() && getTest() == null )\n@@ -365,10 +365,11 @@ protected StartupConfiguration createStartupConfiguration( ForkConfiguration for\n             final Classpath providerClasspath = provider.getProviderClasspath();\n             final Classpath testClasspath = generateTestClasspath();\n \n-            logClasspath(  testClasspath, \"test classpath\" );\n-            logClasspath(  testClasspath, \"provider classpath\" );\n-             final ClasspathConfiguration classpathConfiguration =new ClasspathConfiguration( testClasspath, providerClasspath,\n-                                        isEnableAssertions(), isChildDelegation() );\n+            logClasspath( testClasspath, \"test classpath\" );\n+            logClasspath( testClasspath, \"provider classpath\" );\n+            final ClasspathConfiguration classpathConfiguration =\n+                new ClasspathConfiguration( testClasspath, providerClasspath, isEnableAssertions(),\n+                                            isChildDelegation() );\n \n             return new StartupConfiguration( providerName, classpathConfiguration, classLoaderConfiguration,\n                                              forkConfiguration.isForking(), false, isRedirectTestOutputToFile() );\n@@ -624,9 +625,10 @@ private void verifyLegalSystemProperties()\n         {\n             String key = (String) iter.next();\n \n-            if (\"java.library.path\".equals( key ))\n+            if ( \"java.library.path\".equals( key ) )\n             {\n-               getLog().warn( \"java.library.path cannot be set as system property, use <argLine>-Djava.library.path=...<argLine> instead\");\n+                getLog().warn(\n+                    \"java.library.path cannot be set as system property, use <argLine>-Djava.library.path=...<argLine> instead\" );\n             }\n         }\n     }\n@@ -729,12 +731,13 @@ protected ClassLoaderConfiguration getClassLoaderConfiguration( ForkConfiguratio\n      *\n      * @return List containing the classpath elements\n      * @throws org.apache.maven.artifact.DependencyResolutionRequiredException\n-     *          when dependency resolution fails\n+     *                                     when dependency resolution fails\n      * @throws org.apache.maven.plugin.MojoExecutionException\n-     *          upon other problems\n-     * @throws InvalidVersionSpecificationException when it happens\n-     * @throws MojoFailureException when it happens\n-     * @throws ArtifactNotFoundException when it happens\n+     *                                     upon other problems\n+     * @throws InvalidVersionSpecificationException\n+     *                                     when it happens\n+     * @throws MojoFailureException        when it happens\n+     * @throws ArtifactNotFoundException   when it happens\n      * @throws ArtifactResolutionException when it happens\n      */\n     public Classpath generateTestClasspath()\n@@ -780,12 +783,13 @@ public Classpath generateTestClasspath()\n             for ( Iterator iter = getAdditionalClasspathElements().iterator(); iter.hasNext(); )\n             {\n                 String classpathElement = (String) iter.next();\n-                if (classpathElement != null){\n+                if ( classpathElement != null )\n+                {\n                     classpath.add( classpathElement );\n                 }\n             }\n         }\n-        \n+\n         // adding TestNG MethodSelector to the classpath\n         // Todo: move\n         if ( getTestNgArtifact() != null )\n@@ -796,13 +800,14 @@ public Classpath generateTestClasspath()\n \n         }\n \n-        return new Classpath(classpath);\n+        return new Classpath( classpath );\n     }\n-    \n+\n     protected Artifact getTestNgUtilsArtifact()\n         throws ArtifactResolutionException, ArtifactNotFoundException\n     {\n-        Artifact surefireArtifact = (Artifact) getPluginArtifactMap().get( \"org.apache.maven.surefire:surefire-booter\" );\n+        Artifact surefireArtifact =\n+            (Artifact) getPluginArtifactMap().get( \"org.apache.maven.surefire:surefire-booter\" );\n         String surefireVersion = surefireArtifact.getBaseVersion();\n         Artifact testNgUtils =\n             getArtifactFactory().createArtifact( \"org.apache.maven.surefire\", \"surefire-testng-utils\", surefireVersion,\n@@ -811,7 +816,7 @@ protected Artifact getTestNgUtilsArtifact()\n         getArtifactResolver().resolve( testNgUtils, getRemoteRepositories(), getLocalRepository() );\n         return testNgUtils;\n     }\n-    \n+\n     /**\n      * Return a new set containing only the artifacts accepted by the given filter.\n      *\n@@ -1051,6 +1056,11 @@ else if ( PLAIN_REPORT_FORMAT.equals( getReportFormat() ) )\n     protected void ensureWorkingDirectoryExists()\n         throws MojoFailureException\n     {\n+        if ( getWorkingDirectory() == null )\n+        {\n+            throw new MojoFailureException( \"workingDirectory cannot be null\" );\n+        }\n+\n         if ( !getWorkingDirectory().exists() )\n         {\n             if ( !getWorkingDirectory().mkdirs() )",
                "raw_url": "https://github.com/apache/maven-surefire/raw/bb7c2de8ca5b01e568c7f97235822303fda4ed4b/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/AbstractSurefireMojo.java",
                "sha": "df525f98081b0c500f09eb516fe34c193a500a98",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-715] Fixed NPE when workingDirectory is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@1091058 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/cb3e4e39d5ead7d26e3ff013c1a09566a30c3d27",
        "repo": "maven-surefire",
        "unit_tests": [
            "AbstractSurefireMojoTest.java"
        ]
    },
    "maven-surefire_d78376b": {
        "bug_id": "maven-surefire_d78376b",
        "commit": "https://github.com/apache/maven-surefire/commit/d78376b82a18cec354cab32182e7c18af363f6f7",
        "file": [
            {
                "additions": 37,
                "blob_url": "https://github.com/apache/maven-surefire/blob/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/CheckTestNgListenersIT.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/CheckTestNgListenersIT.java?ref=d78376b82a18cec354cab32182e7c18af363f6f7",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/CheckTestNgListenersIT.java",
                "patch": "@@ -0,0 +1,37 @@\n+package org.apache.maven.surefire.its;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import org.apache.maven.surefire.its.fixture.SurefireJUnit4IntegrationTestCase;\n+import org.junit.Test;\n+\n+/**\n+ * Test annotation-based TestNG listener\n+ */\n+public class CheckTestNgListenersIT\n+    extends SurefireJUnit4IntegrationTestCase\n+{\n+    @Test\n+    public void TestNgListenerReporter()\n+    {\n+        unpack( \"testng-listeners\" ).mavenTestFailureIgnore( true ).executeTest().assertTestSuiteResults( 1, 0, 1, 0 );\n+    }\n+\n+}",
                "raw_url": "https://github.com/apache/maven-surefire/raw/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/CheckTestNgListenersIT.java",
                "sha": "cc1bb74f9d2d119cd5648b4240c25e3136a2bcb4",
                "status": "added"
            },
            {
                "additions": 43,
                "blob_url": "https://github.com/apache/maven-surefire/blob/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/pom.xml",
                "changes": 43,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/testng-listeners/pom.xml?ref=d78376b82a18cec354cab32182e7c18af363f6f7",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/resources/testng-listeners/pom.xml",
                "patch": "@@ -0,0 +1,43 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one\n+  ~ or more contributor license agreements.  See the NOTICE file\n+  ~ distributed with this work for additional information\n+  ~ regarding copyright ownership.  The ASF licenses this file\n+  ~ to you under the Apache License, Version 2.0 (the\n+  ~ \"License\"); you may not use this file except in compliance\n+  ~ with the License.  You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing,\n+  ~ software distributed under the License is distributed on an\n+  ~ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  ~ KIND, either express or implied.  See the License for the\n+  ~ specific language governing permissions and limitations\n+  ~ under the License.\n+  -->\n+\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\t<modelVersion>4.0.0</modelVersion>\n+  \n+    <parent>\n+      <groupId>org.apache.maven.surefire</groupId>\n+      <artifactId>it-parent</artifactId>\n+      <version>1.0</version>\n+      <relativePath>../pom.xml</relativePath>\n+    </parent>\n+  \n+    <artifactId>testng-listeners</artifactId>\n+\t<version>1.0-SNAPSHOT</version>\n+\n+\t<dependencies>\n+\t\t<dependency>\n+\t\t\t<groupId>org.testng</groupId>\n+\t\t\t<artifactId>testng</artifactId>\n+\t\t\t<version>6.8.8</version>\n+\t\t</dependency>\n+  \t</dependencies>\n+</project>\n\\ No newline at end of file",
                "raw_url": "https://github.com/apache/maven-surefire/raw/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/pom.xml",
                "sha": "e2482a210447605e40d38ff5c657919c0dda5a67",
                "status": "added"
            },
            {
                "additions": 83,
                "blob_url": "https://github.com/apache/maven-surefire/blob/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/MarkAsFailureListener.java",
                "changes": 83,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/MarkAsFailureListener.java?ref=d78376b82a18cec354cab32182e7c18af363f6f7",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/MarkAsFailureListener.java",
                "patch": "@@ -0,0 +1,83 @@\n+package listeners;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+\n+import org.testng.IInvokedMethod;\n+import org.testng.IInvokedMethodListener;\n+import org.testng.ITestContext;\n+import org.testng.ITestListener;\n+import org.testng.ITestResult;\n+\n+/**\n+ * Created by etigwuu on 2014-04-26.\n+ */\n+public class MarkAsFailureListener implements ITestListener, IInvokedMethodListener {\n+\n+    @Override\n+    public void onTestStart(ITestResult result) {\n+\n+    }\n+\n+    @Override\n+    public void onTestSuccess(ITestResult result) {\n+\n+    }\n+\n+    public static int counter = 0;\n+    /**\n+     * I will be called twice in some condition!!!\n+     * @param result\n+     */\n+    @Override\n+    public void onTestFailure(ITestResult result) {\n+        System.out.println(++counter);\n+    }\n+\n+    @Override\n+    public void onTestSkipped(ITestResult result) {\n+\n+    }\n+\n+    @Override\n+    public void onTestFailedButWithinSuccessPercentage(ITestResult result) {\n+\n+    }\n+\n+    @Override\n+    public void onStart(ITestContext context) {\n+\n+    }\n+\n+    @Override\n+    public void onFinish(ITestContext context) {\n+\n+    }\n+\n+    @Override\n+    public void beforeInvocation(IInvokedMethod method, ITestResult testResult) {\n+\n+    }\n+\n+    @Override\n+    public void afterInvocation(IInvokedMethod method, ITestResult testResult) {\n+        testResult.setStatus(ITestResult.FAILURE);\n+    }\n+}",
                "raw_url": "https://github.com/apache/maven-surefire/raw/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/MarkAsFailureListener.java",
                "sha": "a10460462cd01c93ce2cdb789b931530473bf31a",
                "status": "added"
            },
            {
                "additions": 35,
                "blob_url": "https://github.com/apache/maven-surefire/blob/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/SimpleTest.java",
                "changes": 35,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/SimpleTest.java?ref=d78376b82a18cec354cab32182e7c18af363f6f7",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/SimpleTest.java",
                "patch": "@@ -0,0 +1,35 @@\n+package listeners;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import org.testng.annotations.Listeners;\n+import org.testng.annotations.Test;\n+\n+/**\n+ * Created by etigwuu on 2014-04-26.\n+ */\n+@Listeners(MarkAsFailureListener.class)\n+public class SimpleTest {\n+\n+    @Test\n+    public void test1(){\n+        System.out.println(\"Hello world\");\n+    }\n+}",
                "raw_url": "https://github.com/apache/maven-surefire/raw/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-integration-tests/src/test/resources/testng-listeners/src/test/java/listeners/SimpleTest.java",
                "sha": "f4204a1240a607be1975fbb68991555c8a26cc2d",
                "status": "added"
            },
            {
                "additions": 14,
                "blob_url": "https://github.com/apache/maven-surefire/blob/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-providers/common-java5/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/common-java5/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java?ref=d78376b82a18cec354cab32182e7c18af363f6f7",
                "deletions": 0,
                "filename": "surefire-providers/common-java5/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "patch": "@@ -57,17 +57,31 @@ public String writeTraceToString()\n \n     public String smartTrimmedStackTrace()\n     {\n+        if ( t == null )\n+        {\n+            return \"\";\n+        }\n+\n         SmartStackTraceParser parser = new SmartStackTraceParser( testClass, t, testMethod );\n         return parser.getString();\n     }\n \n     public String writeTrimmedTraceToString()\n     {\n+        if ( t == null )\n+        {\n+            return \"\";\n+        }\n+\n         return SmartStackTraceParser.innerMostWithFocusOnClass( t, testClass );\n     }\n \n     public SafeThrowable getThrowable()\n     {\n+        if ( t == null ) {\n+            return null;\n+        }\n+\n         return new SafeThrowable( t );\n     }\n }",
                "raw_url": "https://github.com/apache/maven-surefire/raw/d78376b82a18cec354cab32182e7c18af363f6f7/surefire-providers/common-java5/src/main/java/org/apache/maven/surefire/report/PojoStackTraceWriter.java",
                "sha": "9c70e6a2ea24b184b13120f28065db66140f1d4c",
                "status": "modified"
            }
        ],
        "message": "SUREFIRE-1077 avoid NPE in stacktrace parsing if a test fails without a Throwable as cause",
        "parent": "https://github.com/apache/maven-surefire/commit/86d78ad1ba72ed030ef582f6b22693f799ed1097",
        "repo": "maven-surefire",
        "unit_tests": [
            "PojoStackTraceWriterTest.java"
        ]
    },
    "maven-surefire_dcc84fe": {
        "bug_id": "maven-surefire_dcc84fe",
        "commit": "https://github.com/apache/maven-surefire/commit/dcc84fe8a65bf4380e72f765e92a824f7e74f10d",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/maven-surefire/blob/dcc84fe8a65bf4380e72f765e92a824f7e74f10d/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/TestSetStats.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/TestSetStats.java?ref=dcc84fe8a65bf4380e72f765e92a824f7e74f10d",
                "deletions": 3,
                "filename": "maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/TestSetStats.java",
                "patch": "@@ -21,14 +21,19 @@\n \n import java.text.NumberFormat;\n import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.List;\n import java.util.Locale;\n+import java.util.Queue;\n+import java.util.concurrent.ConcurrentLinkedQueue;\n \n /**\n  * Maintains per-thread test result state. Not thread safe.\n  */\n public class TestSetStats\n {\n+    private final Queue<WrappedReportEntry> reportEntries = new ConcurrentLinkedQueue<WrappedReportEntry>();\n+\n     private final boolean trimStackTrace;\n \n     private final boolean plainFormat;\n@@ -49,8 +54,6 @@\n \n     private long elapsedForTestSet;\n \n-    private final List<WrappedReportEntry> reportEntries = new ArrayList<WrappedReportEntry>();\n-\n     public TestSetStats( boolean trimStackTrace, boolean plainFormat )\n     {\n         this.trimStackTrace = trimStackTrace;\n@@ -242,7 +245,7 @@ else if ( plainFormat && testResult.isSucceeded() )\n         return result;\n     }\n \n-    public List<WrappedReportEntry> getReportEntries()\n+    public Collection<WrappedReportEntry> getReportEntries()\n     {\n         return reportEntries;\n     }",
                "raw_url": "https://github.com/apache/maven-surefire/raw/dcc84fe8a65bf4380e72f765e92a824f7e74f10d/maven-surefire-common/src/main/java/org/apache/maven/plugin/surefire/report/TestSetStats.java",
                "sha": "95e92d4f91dea709cd818b2bea3f94d67be7da8e",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-1114] NPE in TestSetStats. Concurrency issue with parallel methods on TestNG.",
        "parent": "https://github.com/apache/maven-surefire/commit/8ce08a7f552cba06ceec6383b7636b4e77d1e0b9",
        "repo": "maven-surefire",
        "unit_tests": [
            "TestSetStatsTest.java"
        ]
    },
    "maven-surefire_ef260bc": {
        "bug_id": "maven-surefire_ef260bc",
        "commit": "https://github.com/apache/maven-surefire/commit/ef260bc4155c7dceb808d6faf8e482de41ae0128",
        "file": [
            {
                "additions": 14,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/Junit4IgnoreIT.java",
                "changes": 16,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/Junit4IgnoreIT.java?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 2,
                "filename": "surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/Junit4IgnoreIT.java",
                "patch": "@@ -29,14 +29,26 @@\n {\n     public Junit4IgnoreIT()\n     {\n-        super( \"/junit44-ignore\");\n+        super( \"/junit-ignore\");\n     }\n \n     public void testJunit4Ignore()\n         throws Exception\n     {\n         executeTest();\n         verifyErrorFreeLog();\n-        assertTestSuiteResults( 1, 0, 0, 1 );\n+        assertTestSuiteResults( 3, 0, 0, 3 );\n     }\n+\n+    public void testJunit47ParallelIgnore()\n+        throws Exception\n+    {\n+\n+        addGoal( \"-Djunit.version=4.8.1\" );\n+        addGoal( \"-Dsurefire.parallel=classes\" );\n+        executeTest();\n+        verifyErrorFreeLog();\n+        assertTestSuiteResults( 3, 0, 0, 3 );\n+    }\n+\n }",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/java/org/apache/maven/surefire/its/Junit4IgnoreIT.java",
                "sha": "52a256901c310bf6d30f028b341ef9c1a9cf1532",
                "status": "modified"
            },
            {
                "additions": 11,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/pom.xml",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/junit-ignore/pom.xml?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 4,
                "filename": "surefire-integration-tests/src/test/resources/junit-ignore/pom.xml",
                "patch": "@@ -24,15 +24,20 @@\n   <modelVersion>4.0.0</modelVersion>\n \n   <groupId>org.apache.maven.plugins.surefire</groupId>\n-  <artifactId>junit44-ignore</artifactId>\n+  <artifactId>junit-ignore</artifactId>\n   <version>1.0-SNAPSHOT</version>\n   <name>Test of @Ignore annotation</name>\n \n+  <properties>\n+    <junit.version>4.4</junit.version>\n+    <surefire.parallel></surefire.parallel>\n+  </properties>\n+\n   <dependencies>\n     <dependency>\n       <groupId>junit</groupId>\n       <artifactId>junit</artifactId>\n-      <version>4.4</version>\n+      <version>${junit.version}</version>\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n@@ -50,9 +55,11 @@\n       <plugin>\n         <artifactId>maven-surefire-plugin</artifactId>\n         <version>${surefire.version}</version>\n+        <configuration>\n+          <parallel>${surefire.parallel}</parallel>\n+          <threadCount>3</threadCount>\n+        </configuration>\n       </plugin>\n-      \n     </plugins>\n   </build>\n-\n </project>",
                "previous_filename": "surefire-integration-tests/src/test/resources/junit44-ignore/pom.xml",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/pom.xml",
                "sha": "c62fabdec16644795b72cd913bbcbd171df8286e",
                "status": "renamed"
            },
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/BasicTest.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/BasicTest.java?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 4,
                "filename": "surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/BasicTest.java",
                "patch": "@@ -1,11 +1,10 @@\n-package junit44.ignore;\n-import static org.hamcrest.core.Is.*;\n-import static org.hamcrest.core.IsNull.*;\n+package junit.ignore;\n import org.junit.Assert;\n-import org.junit.Test;\n import org.junit.Ignore;\n+import org.junit.Test;\n \n \n+@Ignore(\"ignore this test\")\n public class BasicTest\n {\n ",
                "previous_filename": "surefire-integration-tests/src/test/resources/junit44-ignore/src/test/java/junit44/ignore/BasicTest.java",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/BasicTest.java",
                "sha": "f894164cf8404c5c9e0e482ed1a4e60720ce0e64",
                "status": "renamed"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore1Test.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore1Test.java?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore1Test.java",
                "patch": "@@ -0,0 +1,18 @@\n+package junit.ignore;\n+\n+import org.junit.Assert;\n+import org.junit.Ignore;\n+import org.junit.Test;\n+\n+\n+@Ignore(\"ignore this test\")\n+public class ClassLevelIgnore1Test\n+{\n+\n+    @Test\n+    public void testIgnorable()\n+    {\n+        Assert.fail(\"you should have ignored me!\");\n+    }\n+\n+}",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore1Test.java",
                "sha": "fc908b069c2be4682885abce54684fb1408f025c",
                "status": "added"
            },
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore2Test.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore2Test.java?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 0,
                "filename": "surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore2Test.java",
                "patch": "@@ -0,0 +1,18 @@\n+package junit.ignore;\n+\n+import org.junit.Assert;\n+import org.junit.Ignore;\n+import org.junit.Test;\n+\n+\n+@Ignore(\"ignore this test\")\n+public class ClassLevelIgnore2Test\n+{\n+\n+    @Test\n+    public void testIgnorable()\n+    {\n+        Assert.fail(\"you should have ignored me!\");\n+    }\n+\n+}",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-integration-tests/src/test/resources/junit-ignore/src/test/java/junit/ignore/ClassLevelIgnore2Test.java",
                "sha": "783b94b504392f3013c9b850c84de7fe7061bb41",
                "status": "added"
            },
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/JUnitCoreRunListener.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/JUnitCoreRunListener.java?ref=ef260bc4155c7dceb808d6faf8e482de41ae0128",
                "deletions": 4,
                "filename": "surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/JUnitCoreRunListener.java",
                "patch": "@@ -19,11 +19,10 @@\n  * under the License.\n  */\n \n-import org.apache.maven.surefire.common.junit4.JUnit4RunListener;\n-import org.apache.maven.surefire.report.RunListener;\n-\n import java.util.ArrayList;\n import java.util.Map;\n+import org.apache.maven.surefire.common.junit4.JUnit4RunListener;\n+import org.apache.maven.surefire.report.RunListener;\n \n import org.junit.runner.Description;\n import org.junit.runner.Result;\n@@ -70,7 +69,7 @@ private void fillTestCountMap( Description description )\n         Class<?> itemTestClass = null;\n         for ( Description item : children )\n         {\n-            if ( item.isTest() )\n+            if ( item.isTest() && item.getMethodName() != null )\n             {\n                 testSet.incrementTestMethodCount();\n                 if ( itemTestClass == null )\n@@ -82,6 +81,10 @@ else if ( item.getChildren().size() > 0 )\n             {\n                 fillTestCountMap( item );\n             }\n+            else\n+            {\n+                classMethodCounts.put( item.getClassName(), testSet );\n+            }\n         }\n         if ( itemTestClass != null )\n         {",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ef260bc4155c7dceb808d6faf8e482de41ae0128/surefire-providers/surefire-junit47/src/main/java/org/apache/maven/surefire/junitcore/JUnitCoreRunListener.java",
                "sha": "87ab5f58133d6a1d1b7064e16fdf50eb12462193",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-744] NPE with multiple class-level ignores for parallel runner.\n\nMain patch by Aslak Knutsen, applied unmodified. Prefered to extend existing integration test over\nthe unit test included in the issue patch\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/surefire/trunk@1132734 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-surefire/commit/36be234bf14aa1c44d1f25dd9eff613845d5763d",
        "repo": "maven-surefire",
        "unit_tests": [
            "JUnitCoreRunListenerTest.java"
        ]
    },
    "maven-surefire_ff463e0": {
        "bug_id": "maven-surefire_ff463e0",
        "commit": "https://github.com/apache/maven-surefire/commit/ff463e0758ee69eae8a9f78ed0feb8410256f803",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-surefire/blob/ff463e0758ee69eae8a9f78ed0feb8410256f803/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-surefire/contents/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java?ref=ff463e0758ee69eae8a9f78ed0feb8410256f803",
                "deletions": 1,
                "filename": "surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "patch": "@@ -170,7 +170,7 @@ public GroupMatcherCategoryFilter( GroupMatcher included, GroupMatcher excluded\n         public boolean shouldRun( Description description )\n         {\n             return shouldRun( description,\n-                              ( description.getMethodName() == null ? null\n+                              ( ( description.getMethodName() == null || description.getTestClass() == null ) ? null\n                                               : Description.createSuiteDescription( description.getTestClass() ) ) );\n         }\n ",
                "raw_url": "https://github.com/apache/maven-surefire/raw/ff463e0758ee69eae8a9f78ed0feb8410256f803/surefire-providers/common-junit48/src/main/java/org/apache/maven/surefire/common/junit48/FilterFactory.java",
                "sha": "2386c8da3bb97e098e2a2a9d94b9a690b48c5b4e",
                "status": "modified"
            }
        ],
        "message": "[SUREFIRE-990] prevent NPE in case the testClass in a Description is null",
        "parent": "https://github.com/apache/maven-surefire/commit/8315562ededdbf80f059f843fa34e793b6b25ac7",
        "repo": "maven-surefire",
        "unit_tests": [
            "FilterFactoryTest.java"
        ]
    }
}