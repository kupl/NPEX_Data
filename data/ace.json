{
    "ace_e5d86d3": {
        "bug_id": "ace_e5d86d3",
        "commit": "https://github.com/apache/ace/commit/e5d86d3424ba829c79435b9d20da3e7303c97f84",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/ace/blob/e5d86d3424ba829c79435b9d20da3e7303c97f84/server/src/org/apache/ace/deployment/provider/filebased/FileBasedProvider.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/ace/contents/server/src/org/apache/ace/deployment/provider/filebased/FileBasedProvider.java?ref=e5d86d3424ba829c79435b9d20da3e7303c97f84",
                "deletions": 7,
                "filename": "server/src/org/apache/ace/deployment/provider/filebased/FileBasedProvider.java",
                "patch": "@@ -349,14 +349,15 @@ public void updated(Dictionary settings) throws ConfigurationException {\n             m_baseDirectory = baseDirectory;\n \n             String defaultDirectoryName = (String) settings.get(DEFAULT_DIRECTORY_NAME);\n-            File defaultDirectory = new File(defaultDirectoryName);\n-            if (!defaultDirectory.exists() || !defaultDirectory.isDirectory()) {\n-                // fallback to using the base directory\n-                m_defaultDirectory = baseDirectory;\n-            }\n-            else {\n-                m_defaultDirectory = defaultDirectory;\n+            if (defaultDirectoryName != null) {\n+                File defaultDirectory = new File(defaultDirectoryName);\n+                if (defaultDirectory.exists() && defaultDirectory.isDirectory()) {\n+                    m_defaultDirectory = defaultDirectory;\n+                    return;\n+                }\n             }\n+            // fallback to using the base directory\n+            m_defaultDirectory = baseDirectory;\n         }\n     }\n ",
                "raw_url": "https://github.com/apache/ace/raw/e5d86d3424ba829c79435b9d20da3e7303c97f84/server/src/org/apache/ace/deployment/provider/filebased/FileBasedProvider.java",
                "sha": "f0f42b6646ff8a3a0fb203574bef4ab2a837e12b",
                "status": "modified"
            }
        ],
        "message": "Bugfix, NPE when the default directory was not specified, made a mistake in the checking code.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/ace/trunk@829739 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/ace/commit/746ea2416be6e3af4a0743397e0821f7745dc58f",
        "repo": "ace",
        "unit_tests": [
            "FileBasedProviderTest.java"
        ]
    }
}