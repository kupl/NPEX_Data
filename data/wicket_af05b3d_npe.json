[
    {
        "repo": "wicket",
        "commit": "https://github.com/apache/wicket/commit/af05b3d68ca8b8021db8e205d39557782eb68a7b",
        "bug_id": "wicket_af05b3d",
        "message": "WICKET-5462 fix npe in ajax form component label repainting",
        "parent": "https://github.com/apache/wicket/commit/a3a5a40fcea53384554d7a8ada08ef7bb021bf1d",
        "patched_files": [
            "Form.java"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 3,
                "raw_url": "https://github.com/apache/wicket/raw/af05b3d68ca8b8021db8e205d39557782eb68a7b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java",
                "contents_url": "https://api.github.com/repos/apache/wicket/contents/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java?ref=af05b3d68ca8b8021db8e205d39557782eb68a7b",
                "filename": "wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java",
                "deletions": 3,
                "sha": "7eeb1e17c4c76b9726b4859279bd15f8034abf08",
                "blob_url": "https://github.com/apache/wicket/blob/af05b3d68ca8b8021db8e205d39557782eb68a7b/wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java",
                "patch": "@@ -774,10 +774,10 @@ else if (hasError())\n \t\t\tcallOnError(submitter);\n \t\t}\n \n-\n-\t\tif (((WebRequest)getRequest()).isAjax())\n+\t\t// update auto labels if we are inside an ajax request\n+\t\tfinal AjaxRequestTarget target = getRequestCycle().find(AjaxRequestTarget.class);\n+\t\tif (target != null)\n \t\t{\n-\t\t\tfinal AjaxRequestTarget target = getRequestCycle().find(AjaxRequestTarget.class);\n \t\t\tvisitChildren(FormComponent.class, new IVisitor<FormComponent<?>, Void>()\n \t\t\t{\n \t\t\t\t@Override",
                "changes": 6
            }
        ],
        "unit_tests": [
            "FormTest.java",
            "TestForm.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "wicket-core/src/test/java/org/apache/wicket/markup/html/form/FormTest.java",
        "buggy_files": [
            "wicket-core/src/main/java/org/apache/wicket/markup/html/form/Form.java"
        ],
        "fixed": true
    }
]