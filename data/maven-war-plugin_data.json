[
    {
        "repo": "maven-war-plugin",
        "message": "[MWAR-246] NullPointerException Processing Web Resources\nSubmitted by: Michael Glauche\nReviewed by: Dennis Lundberg\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@1390132 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-war-plugin/commit/66273676d348a7c5ddb4d43927f890c5956456e5",
        "parent": "https://github.com/apache/maven-war-plugin/commit/ec717a3d9cb5c5f698fd7e01279c4bcc80ba08de",
        "bug_id": "maven-war-plugin_1",
        "file": [
            {
                "sha": "6651aae83788453f0534edd1a927515208c6ac7b",
                "filename": "src/main/java/org/apache/maven/plugin/war/packaging/WarProjectPackagingTask.java",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/66273676d348a7c5ddb4d43927f890c5956456e5/src/main/java/org/apache/maven/plugin/war/packaging/WarProjectPackagingTask.java",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/66273676d348a7c5ddb4d43927f890c5956456e5/src/main/java/org/apache/maven/plugin/war/packaging/WarProjectPackagingTask.java",
                "status": "modified",
                "changes": 7,
                "additions": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/src/main/java/org/apache/maven/plugin/war/packaging/WarProjectPackagingTask.java?ref=66273676d348a7c5ddb4d43927f890c5956456e5",
                "patch": "@@ -120,6 +120,13 @@ protected void handleWebResources( WarPackagingContext context )\n         for ( int i = 0; i < webResources.length; i++ )\n         {\n             Resource resource = webResources[i];\n+\n+            // MWAR-246\n+            if ( resource.getDirectory() == null )\n+            {\n+                throw new MojoExecutionException( \"The <directory> tag is missing from the <resource> tag.\" );\n+            }\n+\n             if ( !( new File( resource.getDirectory() ) ).isAbsolute() )\n             {\n                 resource.setDirectory( context.getProject().getBasedir() + File.separator + resource.getDirectory() );",
                "deletions": 0
            },
            {
                "sha": "e7a037d6923dbc99e89a2e3e392cc5e6cbdae968",
                "filename": "src/site/apt/examples/adding-filtering-webresources.apt.vm",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/66273676d348a7c5ddb4d43927f890c5956456e5/src/site/apt/examples/adding-filtering-webresources.apt.vm",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/66273676d348a7c5ddb4d43927f890c5956456e5/src/site/apt/examples/adding-filtering-webresources.apt.vm",
                "status": "modified",
                "changes": 4,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/src/site/apt/examples/adding-filtering-webresources.apt.vm?ref=66273676d348a7c5ddb4d43927f890c5956456e5",
                "patch": "@@ -3,7 +3,7 @@\n  ------\n  Pete Marvin King\n  ------\n- 2010-12-17\n+ 2012-09-25\n  ------\n \n ~~ Licensed to the Apache Software Foundation (ASF) under one\n@@ -204,6 +204,8 @@ documentedproject-1.0-SNAPSHOT.war\n         <configuration>\n           <webResources>\n             <resource>\n+              <!-- this is relative to the pom.xml directory -->\n+              <directory>resource2</directory>\n               <!-- the default value is ** -->\n               <includes>\n                 <include>**/pattern1</include>",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "maven-war-plugin",
        "message": "[MWAR-170] fix possible NPE\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@712569 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-war-plugin/commit/e9b81f38154125e473c7ac2eebae0a0d72cec92d",
        "parent": "https://github.com/apache/maven-war-plugin/commit/b7bac1ecdb96ade8e60524b83b48da97614c8b44",
        "bug_id": "maven-war-plugin_2",
        "file": [
            {
                "sha": "8f440fa90ca0b494f9c6001833e9171110a54dd6",
                "filename": "src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/e9b81f38154125e473c7ac2eebae0a0d72cec92d/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/e9b81f38154125e473c7ac2eebae0a0d72cec92d/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "status": "modified",
                "changes": 4,
                "additions": 4,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java?ref=e9b81f38154125e473c7ac2eebae0a0d72cec92d",
                "patch": "@@ -106,6 +106,10 @@ public List getDependenciesInfo()\n     public List getDependencies()\n     {\n         final List result = new ArrayList();\n+        if ( dependenciesInfo == null )\n+        {\n+            return result;\n+        }\n         final Iterator it = dependenciesInfo.iterator();\n         while ( it.hasNext() )\n         {",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "maven-war-plugin",
        "message": "[MWAR-275] An incomplete fix for the NPE bugs in WebappStructure.java\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@1390192 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-war-plugin/commit/2940b2a22f01f380e2ad01b3020a484ba7f1d1c4",
        "parent": "https://github.com/apache/maven-war-plugin/commit/19aebb539d94a3c4c2e2a3da3834994d551426fb",
        "bug_id": "maven-war-plugin_3",
        "file": [
            {
                "sha": "27a5e7f90e5304fce2af4b71afa8e5786f6274cd",
                "filename": "src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/2940b2a22f01f380e2ad01b3020a484ba7f1d1c4/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/2940b2a22f01f380e2ad01b3020a484ba7f1d1c4/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "status": "modified",
                "changes": 13,
                "additions": 8,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java?ref=2940b2a22f01f380e2ad01b3020a484ba7f1d1c4",
                "patch": "@@ -386,13 +386,16 @@ else if ( dependency.isOptional() != previousDep.isOptional() )\n      */\n     public void registerTargetFileName( Artifact artifact, String targetFileName )\n     {\n-        final Iterator it = dependenciesInfo.iterator();\n-        while ( it.hasNext() )\n+        if ( dependenciesInfo != null )\n         {\n-            DependencyInfo dependencyInfo = (DependencyInfo) it.next();\n-            if ( WarUtils.isRelated( artifact, dependencyInfo.getDependency() ) )\n+            final Iterator it = dependenciesInfo.iterator();\n+            while ( it.hasNext() )\n             {\n-                dependencyInfo.setTargetFileName( targetFileName );\n+                DependencyInfo dependencyInfo = (DependencyInfo) it.next();\n+                if ( WarUtils.isRelated( artifact, dependencyInfo.getDependency() ) )\n+                {\n+                    dependencyInfo.setTargetFileName( targetFileName );\n+                }\n             }\n         }\n     }",
                "deletions": 5
            }
        ]
    },
    {
        "repo": "maven-war-plugin",
        "message": "- fix possible NPE when building a war project without dependency\n- upgrade to parent snapshot (temove redundant plugin declaration)\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@636544 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-war-plugin/commit/e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb",
        "parent": "https://github.com/apache/maven-war-plugin/commit/314ad2c57c9b09c0c1a2fc4deb67e2f7b6e0e45d",
        "bug_id": "maven-war-plugin_4",
        "file": [
            {
                "sha": "07f0da078e2f6e4842d6a5514e7d10ca7808cab9",
                "filename": "pom.xml",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb/pom.xml",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb/pom.xml",
                "status": "modified",
                "changes": 10,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/pom.xml?ref=e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb",
                "patch": "@@ -22,7 +22,7 @@ under the License.\n   <parent>\n     <artifactId>maven-plugins</artifactId>\n     <groupId>org.apache.maven.plugins</groupId>\n-    <version>10</version>\n+    <version>11-SNAPSHOT</version>\n   </parent>\n   <modelVersion>4.0.0</modelVersion>\n   <artifactId>maven-war-plugin</artifactId>\n@@ -118,14 +118,6 @@ under the License.\n     </dependency>\n   </dependencies>\n   <build>\n-    <pluginManagement>\n-       <plugins>\n-         <plugin>\n-           <artifactId>maven-surefire-plugin</artifactId>\n-           <version>2.4.1</version>\n-         </plugin>\n-       </plugins>\n-    </pluginManagement>\n     <plugins>\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>",
                "deletions": 9
            },
            {
                "sha": "775c57de863f763948213f0a147054ff3a135a2c",
                "filename": "src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "blob_url": "https://github.com/apache/maven-war-plugin/blob/e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "raw_url": "https://github.com/apache/maven-war-plugin/raw/e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java",
                "status": "modified",
                "changes": 3,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-war-plugin/contents/src/main/java/org/apache/maven/plugin/war/util/WebappStructure.java?ref=e3c7ce2bff55fcfbbd6c12bed818196d6ef188eb",
                "patch": "@@ -25,6 +25,7 @@\n \n import java.io.IOException;\n import java.util.ArrayList;\n+import java.util.Collections;\n import java.util.HashMap;\n import java.util.Iterator;\n import java.util.List;\n@@ -447,7 +448,7 @@ private List createDependenciesInfoList( List dependencies )\n     {\n         if ( dependencies == null )\n         {\n-            return null;\n+            return Collections.EMPTY_LIST;\n         }\n         final List result = new ArrayList();\n         final Iterator it = dependencies.iterator();",
                "deletions": 1
            }
        ]
    }
]