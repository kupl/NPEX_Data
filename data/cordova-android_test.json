{
    "cordova-android_403297d": {
        "bug_id": "cordova-android_403297d",
        "commit": "https://github.com/apache/cordova-android/commit/403297d96795882de5f8103e51fbd2c38e758846",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/cordova-android/blob/403297d96795882de5f8103e51fbd2c38e758846/framework/src/org/apache/cordova/CordovaActivity.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/cordova-android/contents/framework/src/org/apache/cordova/CordovaActivity.java?ref=403297d96795882de5f8103e51fbd2c38e758846",
                "deletions": 11,
                "filename": "framework/src/org/apache/cordova/CordovaActivity.java",
                "patch": "@@ -856,18 +856,13 @@ protected void onActivityResult(int requestCode, int resultCode, Intent intent)\n             mUploadMessage = null;\n         }\n         CordovaPlugin callback = this.activityResultCallback;\n-        if(callback == null)\n-        {\n-            if(initCallbackClass != null)\n-            {\n-                this.activityResultCallback = appView.pluginManager.getPlugin(initCallbackClass);\n-                callback = activityResultCallback;\n-                LOG.d(TAG, \"We have a callback to send this result to\");\n-                callback.onActivityResult(requestCode, resultCode, intent);\n-            }\n+        if(callback == null && initCallbackClass != null) {\n+            // The application was restarted, but had defined an initial callback\n+            // before being shut down.\n+            this.activityResultCallback = appView.pluginManager.getPlugin(initCallbackClass);\n+            callback = this.activityResultCallback;\n         }\n-        else\n-        {\n+        if(callback != null) {\n             LOG.d(TAG, \"We have a callback to send this result to\");\n             callback.onActivityResult(requestCode, resultCode, intent);\n         }",
                "raw_url": "https://github.com/apache/cordova-android/raw/403297d96795882de5f8103e51fbd2c38e758846/framework/src/org/apache/cordova/CordovaActivity.java",
                "sha": "4042b6be65dfaef956a9d242c663830913a42c91",
                "status": "modified"
            }
        ],
        "message": "CB-3523: Fix NPE on app restart with outstanding callback",
        "parent": "https://github.com/apache/cordova-android/commit/abba254a380818142c2ea8d42e29ab5530b24052",
        "patched_files": [
            "CordovaActivity.java"
        ],
        "repo": "cordova-android",
        "unit_tests": [
            "CordovaActivityTest.java"
        ]
    },
    "cordova-android_a9ebf50": {
        "bug_id": "cordova-android_a9ebf50",
        "commit": "https://github.com/apache/cordova-android/commit/a9ebf50b86bcb9de40cbf4013e98fd1a24be25e8",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/cordova-android/blob/a9ebf50b86bcb9de40cbf4013e98fd1a24be25e8/framework/src/org/apache/cordova/CordovaActivity.java",
                "changes": 12,
                "contents_url": "https://api.github.com/repos/apache/cordova-android/contents/framework/src/org/apache/cordova/CordovaActivity.java?ref=a9ebf50b86bcb9de40cbf4013e98fd1a24be25e8",
                "deletions": 8,
                "filename": "framework/src/org/apache/cordova/CordovaActivity.java",
                "patch": "@@ -858,8 +858,8 @@ protected void onActivityResult(int requestCode, int resultCode, Intent intent)\n         LOG.d(TAG, \"Incoming Result\");\n         super.onActivityResult(requestCode, resultCode, intent);\n         Log.d(TAG, \"Request code = \" + requestCode);\n-        ValueCallback<Uri> mUploadMessage = this.appView.getWebChromeClient().getValueCallback();\n-        if (requestCode == CordovaChromeClient.FILECHOOSER_RESULTCODE) {\n+        if (appView != null && requestCode == CordovaChromeClient.FILECHOOSER_RESULTCODE) {\n+        \tValueCallback<Uri> mUploadMessage = this.appView.getWebChromeClient().getValueCallback();\n             Log.d(TAG, \"did we get here?\");\n             if (null == mUploadMessage)\n                 return;\n@@ -1079,9 +1079,7 @@ public void run() {\n     @Override\n     public boolean onKeyUp(int keyCode, KeyEvent event)\n     {\n-        //Get whatever has focus!\n-        View childView = appView.getFocusedChild();\n-        if ((appView.isCustomViewShowing() || childView != null ) &&\n+        if (appView != null && (appView.isCustomViewShowing() || appView.getFocusedChild() != null ) &&\n                 (keyCode == KeyEvent.KEYCODE_BACK || keyCode == KeyEvent.KEYCODE_MENU)) {\n             return appView.onKeyUp(keyCode, event);\n         } else {\n@@ -1099,10 +1097,8 @@ public boolean onKeyUp(int keyCode, KeyEvent event)\n     @Override\n     public boolean onKeyDown(int keyCode, KeyEvent event)\n     {\n-        //Get whatever has focus!\n-        View childView = appView.getFocusedChild();\n         //Determine if the focus is on the current view or not\n-        if (childView != null && (keyCode == KeyEvent.KEYCODE_BACK || keyCode == KeyEvent.KEYCODE_MENU)) {\n+        if (appView != null && appView.getFocusedChild() != null && (keyCode == KeyEvent.KEYCODE_BACK || keyCode == KeyEvent.KEYCODE_MENU)) {\n                     return appView.onKeyDown(keyCode, event);\n         }\n         else",
                "raw_url": "https://github.com/apache/cordova-android/raw/a9ebf50b86bcb9de40cbf4013e98fd1a24be25e8/framework/src/org/apache/cordova/CordovaActivity.java",
                "sha": "6f9bc91fd4d379b82e5c5f56775fb0a956550106",
                "status": "modified"
            }
        ],
        "message": "Prevent NPE in case webview is lately initialized",
        "parent": "https://github.com/apache/cordova-android/commit/8d8cbf6e284bc67c4e8502a6238c83d2645b815e",
        "patched_files": [
            "CordovaActivity.java"
        ],
        "repo": "cordova-android",
        "unit_tests": [
            "CordovaActivityTest.java"
        ]
    }
}