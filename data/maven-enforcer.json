{
    "maven-enforcer_87645fb": {
        "bug_id": "maven-enforcer_87645fb",
        "commit": "https://github.com/apache/maven-enforcer/commit/87645fbbbdb7489a544b7675ce1f134756fc27ad",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/maven-enforcer/blob/87645fbbbdb7489a544b7675ce1f134756fc27ad/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/RequireNoRepositories.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/maven-enforcer/contents/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/RequireNoRepositories.java?ref=87645fbbbdb7489a544b7675ce1f134756fc27ad",
                "deletions": 1,
                "filename": "enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/RequireNoRepositories.java",
                "patch": "@@ -171,14 +171,21 @@ public void execute( EnforcerRuleHelper helper )\n         }\n     }\n \n+    /**\n+     * \n+     * @param repos all repositories, never {@code null}\n+     * @param allowedRepos allowed repositories, never {@code null}\n+     * @param allowSnapshots \n+     * @return\n+     */\n     private static List<String> findBannedRepositories( List<Repository> repos, List<String> allowedRepos, boolean allowSnapshots )\n     {\n         List<String> bannedRepos = new ArrayList<String>( allowedRepos.size() );\n         for ( Repository r : repos )\n         {\n             if ( !allowedRepos.contains( r.getId() ) )\n             {\n-                if ( !allowSnapshots || r.getReleases().isEnabled() )\n+                if ( !allowSnapshots || r.getReleases() == null || r.getReleases().isEnabled() )\n                 {\n                     // if we are not allowing snapshots and this repo is enabled for releases\n                     // it is banned.  We don't care whether it is enabled for snapshots",
                "raw_url": "https://github.com/apache/maven-enforcer/raw/87645fbbbdb7489a544b7675ce1f134756fc27ad/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/RequireNoRepositories.java",
                "sha": "1bc3e431292ef92d0f020e62206f79fb27a3eab3",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-enforcer/blob/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/invoker.properties",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-enforcer/contents/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/invoker.properties?ref=87645fbbbdb7489a544b7675ce1f134756fc27ad",
                "deletions": 0,
                "filename": "maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/invoker.properties",
                "patch": "@@ -0,0 +1 @@\n+invoker.buildResult=failure\n\\ No newline at end of file",
                "raw_url": "https://github.com/apache/maven-enforcer/raw/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/invoker.properties",
                "sha": "324b5fb99b06736bf400ab7fc2d26d63ea97bc70",
                "status": "added"
            },
            {
                "additions": 60,
                "blob_url": "https://github.com/apache/maven-enforcer/blob/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/pom.xml",
                "changes": 60,
                "contents_url": "https://api.github.com/repos/apache/maven-enforcer/contents/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/pom.xml?ref=87645fbbbdb7489a544b7675ce1f134756fc27ad",
                "deletions": 0,
                "filename": "maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/pom.xml",
                "patch": "@@ -0,0 +1,60 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n+\r\n+<!--\r\n+Licensed to the Apache Software Foundation (ASF) under one\r\n+or more contributor license agreements.  See the NOTICE file\r\n+distributed with this work for additional information\r\n+regarding copyright ownership.  The ASF licenses this file\r\n+to you under the Apache License, Version 2.0 (the\r\n+\"License\"); you may not use this file except in compliance\r\n+with the License.  You may obtain a copy of the License at\r\n+\r\n+  http://www.apache.org/licenses/LICENSE-2.0\r\n+\r\n+Unless required by applicable law or agreed to in writing,\r\n+software distributed under the License is distributed on an\r\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+KIND, either express or implied.  See the License for the\r\n+specific language governing permissions and limitations\r\n+under the License.\r\n+-->\r\n+\r\n+<project>\r\n+  <modelVersion>4.0.0</modelVersion>\r\n+\r\n+  <groupId>org.apache.maven.its.enforcer</groupId>\r\n+  <artifactId>test</artifactId>\r\n+  <version>1.0</version>\r\n+\r\n+  <repositories>\r\n+    <repository>\r\n+      <id>com.asual.maven.public</id>\r\n+      <name>Asual Public Repository</name>\r\n+      <url>http://localhost</url>\r\n+    </repository>\r\n+  </repositories> \r\n+\r\n+  <build>\r\n+    <plugins>\r\n+      <plugin>\r\n+        <groupId>org.apache.maven.plugins</groupId>\r\n+        <artifactId>maven-enforcer-plugin</artifactId>\r\n+        <version>@project.version@</version>\r\n+        <executions>\r\n+          <execution>\r\n+            <id>test</id>\r\n+            <goals>\r\n+              <goal>enforce</goal>\r\n+            </goals>\r\n+            <configuration>\r\n+              <rules>\r\n+                <requireNoRepositories>\r\n+                </requireNoRepositories>\r\n+              </rules>\r\n+            </configuration>\r\n+          </execution>\r\n+        </executions>\r\n+      </plugin>\r\n+    </plugins>\r\n+  </build>\r\n+</project>\r",
                "raw_url": "https://github.com/apache/maven-enforcer/raw/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/pom.xml",
                "sha": "2075770c1a59df65997afd290e952e6410d5ddf4",
                "status": "added"
            },
            {
                "additions": 22,
                "blob_url": "https://github.com/apache/maven-enforcer/blob/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/verify.groovy",
                "changes": 22,
                "contents_url": "https://api.github.com/repos/apache/maven-enforcer/contents/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/verify.groovy?ref=87645fbbbdb7489a544b7675ce1f134756fc27ad",
                "deletions": 0,
                "filename": "maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/verify.groovy",
                "patch": "@@ -0,0 +1,22 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *   http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+File buildLog = new File( basedir, 'build.log' )\r\n+assert buildLog.text.contains( '[WARNING] Rule 0: org.apache.maven.plugins.enforcer.RequireNoRepositories failed with message:' )\r\n+assert buildLog.text.contains( 'Some poms have repositories defined:' )\r\n+assert buildLog.text.contains( 'org.apache.maven.its.enforcer:test version:1.0 has repositories [com.asual.maven.public]' )\r",
                "raw_url": "https://github.com/apache/maven-enforcer/raw/87645fbbbdb7489a544b7675ce1f134756fc27ad/maven-enforcer-plugin/src/it/projects/require-no-repositories_failure/verify.groovy",
                "sha": "c0657656b03b661143c0b03f447942b708562256",
                "status": "added"
            }
        ],
        "message": "[MENFORCER-122] Adding repository causes NPE during mvn install\nAdd IT, can't reproduce issue although found a potential NPE when Repository.getReleases() == null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/enforcer/trunk@1490031 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-enforcer/commit/7b1345d0ac7ccc72eaaa95b63ac4b0aa9d5d4282",
        "repo": "maven-enforcer",
        "unit_tests": [
            "TestRequireNoRepositories.java"
        ]
    }
}