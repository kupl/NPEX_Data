{
    "maven-jxr_243c403": {
        "bug_id": "maven-jxr_243c403",
        "commit": "https://github.com/apache/maven-jxr/commit/243c4039fa895a84b3202912a898f0e7b9b1c85c",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/maven-jxr/blob/243c4039fa895a84b3202912a898f0e7b9b1c85c/maven-jxr/src/main/java/org/apache/maven/jxr/pacman/JavaFileImpl.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr/src/main/java/org/apache/maven/jxr/pacman/JavaFileImpl.java?ref=243c4039fa895a84b3202912a898f0e7b9b1c85c",
                "deletions": 3,
                "filename": "maven-jxr/src/main/java/org/apache/maven/jxr/pacman/JavaFileImpl.java",
                "patch": "@@ -85,14 +85,14 @@ private void parse()\n                 }\n \n                 //set the package\n-                if ( stok.sval.equals( \"package\" ) )\n+                if ( \"package\".equals( stok.sval ) && stok.ttype != '\\\"' )\n                 {\n                     stok.nextToken();\n                     this.setPackageType( new PackageType( stok.sval ) );\n                 }\n \n                 //set the imports\n-                if ( stok.sval.equals( \"import\" ) )\n+                if ( \"import\".equals( stok.sval )  && stok.ttype != '\\\"' )\n                 {\n                     stok.nextToken();\n \n@@ -115,7 +115,8 @@ and packages that are imported with this (ex \"test.*\") will be\n \n                 // Add the class or classes. There can be several classes in one file so\n                 // continue with the while loop to get them all.\n-                if ( stok.sval.equals( \"class\" ) || stok.sval.equals( \"interface\" ) || stok.sval.equals( \"enum\" ) )\n+                if ( ( \"class\".equals( stok.sval ) || \"interface\".equals( stok.sval ) || \"enum\".equals( stok.sval ) )\n+                    &&  stok.ttype != '\\\"' )\n                 {\n                     stok.nextToken();\n                     this.addClassType( new ClassType( stok.sval,",
                "raw_url": "https://github.com/apache/maven-jxr/raw/243c4039fa895a84b3202912a898f0e7b9b1c85c/maven-jxr/src/main/java/org/apache/maven/jxr/pacman/JavaFileImpl.java",
                "sha": "5e54d9eb79b6bf0f510c12b8ffebdbb9a6917d9a",
                "status": "modified"
            }
        ],
        "message": "o Flip a couple of equals() to avoid NPEs.\no Do not set package, add import or add classType (for class, interface or enum) for tokens that are quoted strings.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/jxr/trunk@516976 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-jxr/commit/c2b88fc7cad348f90e14e1569d9fc7fdb4550611",
        "repo": "maven-jxr",
        "unit_tests": [
            "JavaFileImplTest.java"
        ]
    },
    "maven-jxr_49b4b00": {
        "bug_id": "maven-jxr_49b4b00",
        "commit": "https://github.com/apache/maven-jxr/commit/49b4b00f3033333644aaba6cc6b36317304ade31",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/pom.xml",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/pom.xml?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 1,
                "filename": "maven-jxr-plugin/pom.xml",
                "patch": "@@ -184,7 +184,7 @@ under the License.\n           <plugin>\n             <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-invoker-plugin</artifactId>\n-            <version>1.3</version>\n+            <version>1.5</version>\n             <configuration>\n               <projectsDirectory>src/it</projectsDirectory>\n               <cloneProjectsTo>${project.build.directory}/it</cloneProjectsTo>",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/pom.xml",
                "sha": "bbc3edec4dc4796b7c04dc1c3f2b5df534917c08",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/p2/src/test/java/org/apache/maven/jxr/it2/AppTest.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/it/aggregate/p2/src/test/java/org/apache/maven/jxr/it2/AppTest.java?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 1,
                "filename": "maven-jxr-plugin/src/it/aggregate/p2/src/test/java/org/apache/maven/jxr/it2/AppTest.java",
                "patch": "@@ -1,4 +1,4 @@\n-package org.apache.maven.jxr.it;\n+package org.apache.maven.jxr.it2;\n \n /*\n  * Licensed to the Apache Software Foundation (ASF) under one",
                "previous_filename": "maven-jxr-plugin/src/it/aggregate/p2/src/test/java/org/apache/maven/jxr/it/AppTest.java",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/p2/src/test/java/org/apache/maven/jxr/it2/AppTest.java",
                "sha": "e2b9ebf5e1edea84f116a8ad5024183cff9fa848",
                "status": "renamed"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/pom.xml",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/it/aggregate/pom.xml?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 1,
                "filename": "maven-jxr-plugin/src/it/aggregate/pom.xml",
                "patch": "@@ -53,7 +53,7 @@ under the License.\n \t<executions>\n \t  <execution>\n \t    <id>aggregate</id>\n-\t    <goals><goal>aggregate</goal></goals>\n+\t    <goals><goal>aggregate</goal><goal>test-aggregate</goal></goals>\n \t    <phase>site</phase>\n \t  </execution>\n \t</executions>\n@@ -67,6 +67,7 @@ under the License.\n             <id>aggregate</id>\n             <goals>\n               <goal>aggregate</goal>\n+              <goal>test-aggregate</goal>\n             </goals>\n             <phase>site</phase>\n           </execution>",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/pom.xml",
                "sha": "d96896f59d3268a2ca86d99a5f32e0149947e295",
                "status": "modified"
            },
            {
                "additions": 43,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/verify.groovy",
                "changes": 43,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/it/aggregate/verify.groovy?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 0,
                "filename": "maven-jxr-plugin/src/it/aggregate/verify.groovy",
                "patch": "@@ -0,0 +1,43 @@\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+assert new File( basedir, 'target/site' ).exists();\n+\n+content = new File( basedir, 'target/site/project-reports.html' ).text;\n+\n+assert content.contains( 'xref/index.html' );\n+assert content.contains( 'xref-test/index.html' );\n+\n+assert new File( basedir, 'target/site/xref' ).exists();\n+assert new File( basedir, 'target/site/xref/index.html' ).exists();\n+assert new File( basedir, 'target/site/xref/org/apache/maven/jxr/it/App.html' ).exists();\n+assert new File( basedir, 'target/site/xref/org/apache/maven/jxr/it2/App.html' ).exists();\n+\n+assert new File( basedir, 'target/site/xref-test' ).exists();\n+assert new File( basedir, 'target/site/xref-test/index.html' ).exists();\n+assert new File( basedir, 'target/site/xref-test/org/apache/maven/jxr/it/AppTest.html' ).exists();\n+assert new File( basedir, 'target/site/xref-test/org/apache/maven/jxr/it2/AppTest.html' ).exists();\n+\n+content = new File( basedir, 'target/site/xref/org/apache/maven/jxr/it/App.html' ).text;\n+assert content.contains( 'App2.html' );\n+\n+content = new File( basedir, 'target/site/xref/org/apache/maven/jxr/it2/App.html' ).text;\n+assert content.contains( 'App2.html' );\n+\n+return true;\n\\ No newline at end of file",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/it/aggregate/verify.groovy",
                "sha": "461a7c71ca6073812bc81bbeb5029c23fd66b730",
                "status": "added"
            },
            {
                "additions": 37,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/AggregatorJxrTestReport.java",
                "changes": 37,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/AggregatorJxrTestReport.java?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 0,
                "filename": "maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/AggregatorJxrTestReport.java",
                "patch": "@@ -0,0 +1,37 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.maven.plugin.jxr;\n+\n+/**\n+ * Generates a combined JXR report for test code in an aggregating project.\n+ * \n+ * @goal test-aggregate\n+ * @aggregator\n+ * @since 2.3\n+ *\n+ */\n+public class AggregatorJxrTestReport\n+    extends JxrTestReport\n+{\n+    protected boolean isAggregate()\n+    {\n+        return true;\n+    }\n+\n+}",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/AggregatorJxrTestReport.java",
                "sha": "bf5492d6d9fd9c440c580d6b134b87a8b79e1acf",
                "status": "added"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrReportUtil.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrReportUtil.java?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 0,
                "filename": "maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrReportUtil.java",
                "patch": "@@ -57,6 +57,7 @@\n \n     /**\n      * Determine if javadoc is aggregated in this project, paying attention to both\n+     * TODO: take cognizance of javadoc versus test-javadoc\n      * the old parameter and the new mojo.\n      * @param project\n      * @return",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrReportUtil.java",
                "sha": "2de209f0cc93ff982f3d540eeccb5f0cf1b6d89c",
                "status": "modified"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/maven-jxr/blob/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrTestReport.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-jxr/contents/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrTestReport.java?ref=49b4b00f3033333644aaba6cc6b36317304ade31",
                "deletions": 5,
                "filename": "maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrTestReport.java",
                "patch": "@@ -91,11 +91,6 @@ protected List getSourceRoots( MavenProject project )\n     {\n         List l = new ArrayList();\n \n-        if ( !\"pom\".equals( project.getPackaging().toLowerCase() ) )\n-        {\n-            l.addAll( project.getExecutionProject().getTestCompileSourceRoots() );\n-        }\n-\n         if ( project.getExecutionProject() != null )\n         {\n             if ( !\"pom\".equals( project.getExecutionProject().getPackaging().toLowerCase() ) )",
                "raw_url": "https://github.com/apache/maven-jxr/raw/49b4b00f3033333644aaba6cc6b36317304ade31/maven-jxr-plugin/src/main/java/org/apache/maven/plugin/jxr/JxrTestReport.java",
                "sha": "1e8bd02fc131336f77efe8f8493c1736183b138c",
                "status": "modified"
            }
        ],
        "message": "JXR-88: jxr:aggregate and jxr:test-aggregate\no add code, and test coverage, for test-aggregate\no repair NPE in test report; someone seemed to have left two copies of something in there, and one of the two\nlacked protection from an NPE case. I'm puzzled as to why this bit me, but the fix seems clear enough.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/jxr/trunk@1145180 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-jxr/commit/47ceb81607619daf17273f95e8b2279334518c8c",
        "repo": "maven-jxr",
        "unit_tests": [
            "JxrTestReportTest.java"
        ]
    }
}