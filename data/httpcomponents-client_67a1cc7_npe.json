[
    {
        "repo": "httpcomponents-client",
        "commit": "https://github.com/apache/httpcomponents-client/commit/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1",
        "bug_id": "httpcomponents-client_67a1cc7",
        "message": "HTTPCLIENT-1470 CachingExec(ClientExecChain, HttpCache, CacheConfig, AsynchronousValidator) throws NPE if config is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1570963 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/httpcomponents-client/commit/50b27ac7908615d8e5cf9e13b9a9a7b67cb4c1af",
        "patched_files": [
            "CachingExec.java",
            "RELEASE_NOTES.txt"
        ],
        "file": [
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/RELEASE_NOTES.txt",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/RELEASE_NOTES.txt?ref=67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1",
                "filename": "RELEASE_NOTES.txt",
                "deletions": 0,
                "sha": "607fc3e86259bb3b7d26aa8a5ec3c515488bea5c",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/RELEASE_NOTES.txt",
                "patch": "@@ -4,6 +4,8 @@ Changes for 4.4-alpha1\n Changelog:\n -------------------\n \n+* [HTTPCLIENT-1470] CachingExec(ClientExecChain, HttpCache, CacheConfig, AsynchronousValidator) throws NPE if config is null\n+\n * [HTTPCLIENT-1466] FileBodyPart#generateContentType() ignores custom ContentType values.\n   Contributed by Oleg Kalnichevski <olegk at apache.org>\n ",
                "changes": 2
            },
            {
                "status": "modified",
                "additions": 2,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingExec.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingExec.java?ref=67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1",
                "filename": "httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingExec.java",
                "deletions": 2,
                "sha": "cc267cf73fa0f0f28a30858af7180b59150d2580",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingExec.java",
                "patch": "@@ -136,10 +136,10 @@ public CachingExec(\n         this.validityPolicy = new CacheValidityPolicy();\n         this.responseGenerator = new CachedHttpResponseGenerator(this.validityPolicy);\n         this.cacheableRequestPolicy = new CacheableRequestPolicy();\n-        this.suitabilityChecker = new CachedResponseSuitabilityChecker(this.validityPolicy, config);\n+        this.suitabilityChecker = new CachedResponseSuitabilityChecker(this.validityPolicy, this.cacheConfig);\n         this.conditionalRequestBuilder = new ConditionalRequestBuilder();\n         this.responseCompliance = new ResponseProtocolCompliance();\n-        this.requestCompliance = new RequestProtocolCompliance(config.isWeakETagOnPutDeleteAllowed());\n+        this.requestCompliance = new RequestProtocolCompliance(this.cacheConfig.isWeakETagOnPutDeleteAllowed());\n         this.responseCachingPolicy = new ResponseCachingPolicy(\n                 this.cacheConfig.getMaxObjectSize(), this.cacheConfig.isSharedCache(),\n                 this.cacheConfig.isNeverCacheHTTP10ResponsesWithQuery(), this.cacheConfig.is303CachingEnabled());",
                "changes": 4
            },
            {
                "status": "modified",
                "additions": 5,
                "raw_url": "https://github.com/apache/httpcomponents-client/raw/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestRFC5861Compliance.java",
                "contents_url": "https://api.github.com/repos/apache/httpcomponents-client/contents/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestRFC5861Compliance.java?ref=67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1",
                "filename": "httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestRFC5861Compliance.java",
                "deletions": 0,
                "sha": "aacd68c035cacdceee9364d0edfd6c4c77b1e749",
                "blob_url": "https://github.com/apache/httpcomponents-client/blob/67a1cc719969e0f4604cb3a34cb2ba42e1c4caa1/httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestRFC5861Compliance.java",
                "patch": "@@ -366,6 +366,11 @@ public void testStaleWhileRevalidateReturnsStaleEntryWithWarning()\n         assertTrue(warning110Found);\n     }\n \n+    @Test\n+    public void testHTTPCLIENT1470() {\n+        impl = new CachingExec(mockBackend, cache, null, new AsynchronousValidator(config));\n+    }\n+\n     @Test\n     public void testStaleWhileRevalidateReturnsStaleNonRevalidatableEntryWithWarning()\n         throws Exception {",
                "changes": 5
            }
        ],
        "unit_tests": [
            "TestRFC5861Compliance.java",
            "TestCachingExec.java"
        ]
    },
    {
        "buggy": false,
        "test_file": "httpclient-cache/src/test/java/org/apache/http/impl/client/cache/TestRFC5861Compliance.java",
        "buggy_files": [
            "httpclient-cache/src/main/java/org/apache/http/impl/client/cache/CachingExec.java",
            "RELEASE_NOTES.txt"
        ],
        "fixed": true
    }
]