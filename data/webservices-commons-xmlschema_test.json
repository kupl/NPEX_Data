{
    "webservices-commons-xmlschema_44858a8": {
        "repo": "webservices-commons-xmlschema",
        "message": "Fixed NPE when running with debug\n\ngit-svn-id: https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/XmlSchema@423411 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/webservices-commons-xmlschema/commit/44858a89c7dabad6f3644e028343dd385c297b42",
        "parent": "https://github.com/apache/webservices-commons-xmlschema/commit/a26f51280165733c75a5082b5c4731aa01635561",
        "bug_id": "webservices-commons-xmlschema_44858a8",
        "file": [
            {
                "sha": "e6291563c2c15e6544dbc19f27489fe6953197aa",
                "filename": "test/tests/w3c/TestRoundTripXSD.java",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/44858a89c7dabad6f3644e028343dd385c297b42/test/tests/w3c/TestRoundTripXSD.java",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/44858a89c7dabad6f3644e028343dd385c297b42/test/tests/w3c/TestRoundTripXSD.java",
                "status": "modified",
                "changes": 10,
                "additions": 6,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test/tests/w3c/TestRoundTripXSD.java?ref=44858a89c7dabad6f3644e028343dd385c297b42",
                "patch": "@@ -175,14 +175,16 @@ public int differenceFound(Difference difference) {\n         }\r\n     }\r\n \r\n-\r\n     private void printFailureDetail(XmlSchema schema, DetailedDiff detaileddiffs) {\r\n         System.err.println(super.getName() + \" failure detail\");\r\n         System.err.println(\"-----\");\r\n         schema.write(System.err);\r\n-        ListIterator li = detaileddiffs.getAllDifferences().listIterator();\r\n-        while (li.hasNext()) {\r\n-            System.err.println(li.next());\r\n+        if (detaileddiffs != null) {\r\n+            ListIterator li = detaileddiffs.getAllDifferences().listIterator();\r\n+\r\n+            while (li.hasNext()) {\r\n+                System.err.println(li.next());\r\n+            }\r\n         }\r\n     }\r\n \r",
                "deletions": 4
            }
        ],
        "patched_files": [],
        "unit_tests": [
            "TestRoundTripXSD.java"
        ]
    },
    "webservices-commons-xmlschema_16de61d": {
        "repo": "webservices-commons-xmlschema",
        "message": "Fix for WSCOMMONS-31 from Brent Ulbricht - NPE in SchemaBuilder when using redefine\n\ngit-svn-id: https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/XmlSchema@408555 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/webservices-commons-xmlschema/commit/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
        "parent": "https://github.com/apache/webservices-commons-xmlschema/commit/1eaac8bff6d848ad02de80181e48a9367d9960d5",
        "bug_id": "webservices-commons-xmlschema_16de61d",
        "file": [
            {
                "sha": "f7579b9c58ca7090b14f08fd533f176c626f1151",
                "filename": "src/org/apache/ws/commons/schema/XmlSchemaRedefine.java",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/src/org/apache/ws/commons/schema/XmlSchemaRedefine.java",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/src/org/apache/ws/commons/schema/XmlSchemaRedefine.java",
                "status": "modified",
                "changes": 113,
                "additions": 58,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/src/org/apache/ws/commons/schema/XmlSchemaRedefine.java?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -1,55 +1,58 @@\n-/*\r\n- * Copyright 2004,2005 The Apache Software Foundation.\r\n- *\r\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n- * you may not use this file except in compliance with the License.\r\n- * You may obtain a copy of the License at\r\n- *\r\n- *      http://www.apache.org/licenses/LICENSE-2.0\r\n- *\r\n- * Unless required by applicable law or agreed to in writing, software\r\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n- * See the License for the specific language governing permissions and\r\n- * limitations under the License.\r\n- */\r\n-\r\n-package org.apache.ws.commons.schema;\r\n-\r\n-/**\r\n- * Allows simple and complex types, groups, and attribute groups from\r\n- * external schema files to be redefined in the current schema. This\r\n- * class provides versioning for the schema elements. Represents the\r\n- * World Wide Web Consortium (W3C) redefine element.\r\n- */\r\n-\r\n-public class XmlSchemaRedefine extends XmlSchemaExternal {\r\n-\r\n-    /**\r\n-     * Creates new XmlSchemaRedefine\r\n-     */\r\n-    public XmlSchemaRedefine() {\r\n-        items = new XmlSchemaObjectCollection();\r\n-    }\r\n-\r\n-    XmlSchemaObjectTable attributeGroups, groups, schemaTypes;\r\n-\r\n-    public XmlSchemaObjectTable getAttributeGroup() {\r\n-        return attributeGroups;\r\n-    }\r\n-\r\n-    public XmlSchemaObjectTable getGroup() {\r\n-        return groups;\r\n-    }\r\n-\r\n-    XmlSchemaObjectCollection items;\r\n-\r\n-    public XmlSchemaObjectCollection getItems() {\r\n-        return items;\r\n-    }\r\n-\r\n-    public XmlSchemaObjectTable getSchemaTypes() {\r\n-        return schemaTypes;\r\n-    }\r\n-\r\n-}\r\n+/*\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ws.commons.schema;\n+\n+/**\n+ * Allows simple and complex types, groups, and attribute groups from\n+ * external schema files to be redefined in the current schema. This\n+ * class provides versioning for the schema elements. Represents the\n+ * World Wide Web Consortium (W3C) redefine element.\n+ */\n+\n+public class XmlSchemaRedefine extends XmlSchemaExternal {\n+\n+    /**\n+     * Creates new XmlSchemaRedefine\n+     */\n+    public XmlSchemaRedefine() {\n+        items = new XmlSchemaObjectCollection();\n+        schemaTypes = new XmlSchemaObjectTable();\n+        groups = new XmlSchemaObjectTable();\n+        attributeGroups = new XmlSchemaObjectTable();\n+    }\n+\n+    XmlSchemaObjectTable attributeGroups, groups, schemaTypes;\n+\n+    public XmlSchemaObjectTable getAttributeGroup() {\n+        return attributeGroups;\n+    }\n+\n+    public XmlSchemaObjectTable getGroup() {\n+        return groups;\n+    }\n+\n+    XmlSchemaObjectCollection items;\n+\n+    public XmlSchemaObjectCollection getItems() {\n+        return items;\n+    }\n+\n+    public XmlSchemaObjectTable getSchemaTypes() {\n+        return schemaTypes;\n+    }\n+\n+}",
                "deletions": 55
            },
            {
                "sha": "c5231c66cac6ce2b873a1d67db84f4cf0496106f",
                "filename": "test-resources/redefine1.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine1.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine1.xsd",
                "status": "added",
                "changes": 34,
                "additions": 34,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine1.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,34 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+  \n+  <complexType name=\"person\">\n+    <sequence>\n+      <element name=\"firstname\" type=\"string\"/>\n+      <element name=\"lastname\" type=\"string\"/>\n+    </sequence>\n+  </complexType>\n+\n+  <element name=\"customer\" type=\"tns:person\"/>\n+\n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "ecf555c7cfdb4180537103789bfad66d50fd13c7",
                "filename": "test-resources/redefine2.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine2.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine2.xsd",
                "status": "added",
                "changes": 39,
                "additions": 39,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine2.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,39 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+\n+  <redefine schemaLocation=\"test-resources/redefine1.xsd\">\n+    <complexType name=\"person\">\n+      <complexContent>\n+        <extension base=\"tns:person\">\n+          <sequence>\n+            <element name=\"id\" type=\"string\"/>\n+          </sequence>\n+        </extension>\n+      </complexContent>\n+    </complexType>\n+  </redefine>\n+\n+  <element name=\"vip\" type=\"tns:person\"/>\n+\n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "7050f2d7185e1f72305ca047757e01d6370f4554",
                "filename": "test-resources/redefine3.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine3.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine3.xsd",
                "status": "added",
                "changes": 28,
                "additions": 28,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine3.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,28 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\n+  \n+  <xsd:simpleType name=\"drinksize\">\n+    <xsd:restriction base=\"xsd:integer\"/>\n+  </xsd:simpleType>\n+          \n+  <xsd:element name=\"size\" type=\"drinksize\"/>\n+\n+</xsd:schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "bb5019198a6ed87d20636a5f26a8856b21d385ef",
                "filename": "test-resources/redefine4.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine4.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine4.xsd",
                "status": "added",
                "changes": 36,
                "additions": 36,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine4.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,36 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+\n+  <redefine schemaLocation=\"test-resources/redefine3.xsd\">\n+    <simpleType name=\"drinksize\">\n+      <restriction base=\"tns:drinksize\">\n+        <minInclusive value=\"1\"/>\n+        <maxInclusive value=\"3\"/>\n+      </restriction>\n+    </simpleType>\n+  </redefine>\n+          \n+  <element name=\"childsizedrink\" type=\"tns:drinksize\"/>\n+\n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "87bebffcd89c9d0e6b0d4fc2c6ba3cd5a26b4130",
                "filename": "test-resources/redefine5.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine5.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine5.xsd",
                "status": "added",
                "changes": 33,
                "additions": 33,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine5.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,33 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+  \n+  <group name=\"PrologGroup\">\n+    <sequence>\n+      <element name=\"date\" type=\"string\"/>\n+      <element name=\"author\" type=\"string\"/>\n+      <element name=\"defect\" type=\"integer\"/>\n+    </sequence>\n+  </group>\n+          \n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "e162fab4e8a1d3ceabaf8e85aa3e32c2d840f7f1",
                "filename": "test-resources/redefine6.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine6.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine6.xsd",
                "status": "added",
                "changes": 34,
                "additions": 34,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine6.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,34 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+\n+  <redefine schemaLocation=\"test-resources/redefine5.xsd\">\n+    <group name=\"PrologGroup\">\n+      <sequence>\n+        <group ref=\"tns:PrologGroup\"/>\n+        <element name=\"description\" type=\"string\"/>\n+      </sequence>\n+    </group>\n+  </redefine>\n+\n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "e85b8d3f87e86a8f129a1fd0ec83a3947c76e406",
                "filename": "test-resources/redefine7.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine7.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine7.xsd",
                "status": "added",
                "changes": 31,
                "additions": 31,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine7.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,31 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+  \n+  <attributeGroup name=\"AttribGroup\">\n+    <attribute name=\"type\" type=\"string\"/>\n+    <attribute name=\"units\" type=\"string\"/>\n+    <attribute name=\"serialId\" type=\"string\"/>\n+  </attributeGroup>\n+          \n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "fc3fcda0ad214a705c7b076709f0572d8a94d3cf",
                "filename": "test-resources/redefine8.xsd",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine8.xsd",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test-resources/redefine8.xsd",
                "status": "added",
                "changes": 32,
                "additions": 32,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test-resources/redefine8.xsd?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,32 @@\n+<!--\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+-->\n+\n+<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+        xmlns:tns=\"http://soapinterop.org/types\"\n+        targetNamespace=\"http://soapinterop.org/types\">\n+\n+  <redefine schemaLocation=\"test-resources/redefine7.xsd\">\n+    <attributeGroup name=\"AttribGroup\">\n+      <attribute name=\"type\" type=\"string\"/>\n+      <attribute name=\"units\" type=\"string\"/>\n+    </attributeGroup>\n+  </redefine>\n+\n+</schema>\n\\ No newline at end of file",
                "deletions": 0
            },
            {
                "sha": "6d439b023f8b2ca89f7bab388d3b0f0c4b8a4183",
                "filename": "test/tests/RedefineTest.java",
                "blob_url": "https://github.com/apache/webservices-commons-xmlschema/blob/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test/tests/RedefineTest.java",
                "raw_url": "https://github.com/apache/webservices-commons-xmlschema/raw/16de61de07a5b0f483ef7bf4f1b4d846096ef8a6/test/tests/RedefineTest.java",
                "status": "added",
                "changes": 459,
                "additions": 459,
                "contents_url": "https://api.github.com/repos/apache/webservices-commons-xmlschema/contents/test/tests/RedefineTest.java?ref=16de61de07a5b0f483ef7bf4f1b4d846096ef8a6",
                "patch": "@@ -0,0 +1,459 @@\n+package tests;\n+\n+import java.io.FileInputStream;\n+import java.io.InputStream;\n+\n+import java.util.Iterator;\n+import java.util.Set;\n+import java.util.HashSet;\n+\n+import javax.xml.namespace.QName;\n+\n+import javax.xml.transform.stream.StreamSource;\n+\n+import junit.framework.TestCase;\n+\n+import org.apache.ws.commons.schema.XmlSchema;\n+import org.apache.ws.commons.schema.XmlSchemaType;\n+import org.apache.ws.commons.schema.XmlSchemaCollection;\n+import org.apache.ws.commons.schema.XmlSchemaSimpleType;\n+import org.apache.ws.commons.schema.XmlSchemaSimpleTypeRestriction;\n+import org.apache.ws.commons.schema.XmlSchemaElement;\n+import org.apache.ws.commons.schema.XmlSchemaObjectCollection;\n+import org.apache.ws.commons.schema.XmlSchemaSequence;\n+import org.apache.ws.commons.schema.XmlSchemaObjectTable;\n+import org.apache.ws.commons.schema.XmlSchemaRedefine;\n+import org.apache.ws.commons.schema.XmlSchemaComplexType;\n+import org.apache.ws.commons.schema.XmlSchemaParticle;\n+import org.apache.ws.commons.schema.XmlSchemaContentModel;\n+import org.apache.ws.commons.schema.XmlSchemaComplexContentExtension;\n+import org.apache.ws.commons.schema.XmlSchemaMinInclusiveFacet;\n+import org.apache.ws.commons.schema.XmlSchemaMaxInclusiveFacet;\n+import org.apache.ws.commons.schema.XmlSchemaGroup;\n+import org.apache.ws.commons.schema.XmlSchemaGroupRef;\n+import org.apache.ws.commons.schema.XmlSchemaAttributeGroup;\n+import org.apache.ws.commons.schema.XmlSchemaAttribute;\n+\n+/*\n+ * Copyright 2004,2005 The Apache Software Foundation.\n+ * Copyright 2006 International Business Machines Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \n+ * @author Brent Ulbricht \n+ */\n+public class RedefineTest extends TestCase {\n+\n+    /**\n+     * This method will test a complex type redefine.\n+     *\n+     * @throws Exception Any exception encountered\n+     */\n+    public void testComplexTypeRedefine() throws Exception {\n+\n+        /*\n+        redefine1.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+  \n+          <complexType name=\"person\">\n+            <sequence>\n+              <element name=\"firstname\" type=\"string\"/>\n+              <element name=\"lastname\" type=\"string\"/>\n+            </sequence>\n+          </complexType>\n+\n+          <element name=\"customer\" type=\"tns:person\"/>\n+\n+        </schema>\n+        \n+                         \n+        redefine2.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+\n+          <redefine schemaLocation=\"test-resources/redefine1.xsd\">\n+            <complexType name=\"person\">\n+              <complexContent>\n+                <extension base=\"tns:person\">\n+                  <sequence>\n+                    <element name=\"id\" type=\"string\"/>\n+                  </sequence>\n+                </extension>\n+              </complexContent>\n+            </complexType>\n+          </redefine>\n+\n+          <element name=\"vip\" type=\"tns:person\"/>\n+\n+        </schema>\n+        */\n+\n+        InputStream is = new FileInputStream(\"test-resources/redefine2.xsd\");\n+        XmlSchemaCollection schemaCol = new XmlSchemaCollection();\n+        XmlSchema schema = schemaCol.read(new StreamSource(is), null);\n+\n+        XmlSchemaObjectTable xsot = schema.getElements();\n+        assertEquals(1, xsot.getCount());\n+\n+        XmlSchemaElement xse = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xse = (XmlSchemaElement)i.next();\n+        }\n+        assertEquals(\"vip\", xse.getName());\n+        assertEquals(new QName(\"http://soapinterop.org/types\",\n+                               \"person\"),\n+                     xse.getSchemaTypeName());\n+\n+        XmlSchemaObjectCollection xsoc = schema.getIncludes();\n+        assertEquals(1, xsoc.getCount());\n+        \n+        XmlSchemaRedefine xsr = (XmlSchemaRedefine)xsoc.getItem(0);\n+        xsot = xsr.getSchemaTypes();\n+        assertEquals(1, xsot.getCount());\n+\n+        for (Iterator i = xsot.getNames(); i.hasNext(); ) {\n+            QName qname = (QName)i.next();\n+            assertEquals(new QName(\"http://soapinterop.org/types\",\n+                                   \"person\"), qname);\n+        }\n+\n+        XmlSchemaComplexType xsct = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xsct = (XmlSchemaComplexType)i.next();\n+        }\n+        assertNotNull(xsct);\n+\n+        XmlSchemaContentModel xscm = xsct.getContentModel();\n+        assertNotNull(xscm);\n+\n+        XmlSchemaComplexContentExtension xscce =\n+            (XmlSchemaComplexContentExtension)xscm.getContent();\n+        assertEquals(new QName(\"http://soapinterop.org/types\",\n+                               \"person\"),\n+                     xscce.getBaseTypeName());\n+\n+        XmlSchemaSequence xsp = (XmlSchemaSequence)xscce.getParticle();\n+        assertNotNull(xsp);\n+\n+        XmlSchemaObjectCollection c = xsp.getItems();\n+        assertEquals(1, c.getCount());\n+\n+        xse = null;\n+        for (int i = 0; i < c.getCount(); i++) {\n+            xse = (XmlSchemaElement)c.getItem(i);\n+        }\n+        assertEquals(\"id\", xse.getName());\n+        assertEquals(new QName(\"http://www.w3.org/2001/XMLSchema\",\n+                               \"string\"),\n+                     xse.getSchemaTypeName());\n+\n+    }\n+\n+    /**\n+     * This method will test a simple type redefine.\n+     *\n+     * @throws Exception Any exception encountered\n+     */\n+    public void testSimpleTypeRedefine() throws Exception {\n+        /*\n+        \n+        redefine3.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+  \n+          <simpleType name=\"drinksize\">\n+            <restriction base=\"integer\"/>\n+          </simpleType>\n+          \n+          <element name=\"size\" type=\"tns:drinksize\"/>\n+\n+        </schema>\n+        \n+                                                  \n+        redefine4.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+\n+          <redefine schemaLocation=\"test-resources/redefine3.xsd\">\n+            <simpleType name=\"drinksize\">\n+              <restriction base=\"tns:drinksize\">\n+                <minInclusive value=\"1\"/>\n+                <maxInclusive value=\"3\"/>\n+              </restriction>\n+            </simpleType>\n+          </redefine>\n+          \n+          <element name=\"childsizedrink\" type=\"tns:drinksize\"/>\n+\n+        </schema>\n+        */\n+\n+        InputStream is = new FileInputStream(\"test-resources/redefine4.xsd\");\n+        XmlSchemaCollection schemaCol = new XmlSchemaCollection();\n+        XmlSchema schema = schemaCol.read(new StreamSource(is), null);\n+\n+        XmlSchemaObjectTable xsot = schema.getElements();\n+        assertEquals(1, xsot.getCount());\n+\n+        XmlSchemaElement xse = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xse = (XmlSchemaElement)i.next();\n+        }\n+        assertEquals(\"childsizedrink\", xse.getName());\n+        assertEquals(new QName(\"http://soapinterop.org/types\",\n+                               \"drinksize\"),\n+                     xse.getSchemaTypeName());\n+\n+        XmlSchemaObjectCollection xsoc = schema.getIncludes();\n+        assertEquals(1, xsoc.getCount());\n+        \n+        XmlSchemaRedefine xsr = (XmlSchemaRedefine)xsoc.getItem(0);\n+        xsot = xsr.getSchemaTypes();\n+        assertEquals(1, xsot.getCount());\n+\n+        for (Iterator i = xsot.getNames(); i.hasNext(); ) {\n+            QName qname = (QName)i.next();\n+            assertEquals(new QName(\"http://soapinterop.org/types\",\n+                                   \"drinksize\"), qname);\n+        }\n+\n+        XmlSchemaSimpleType xsst = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xsst = (XmlSchemaSimpleType)i.next();\n+        }\n+        assertNotNull(xsst);\n+\n+        XmlSchemaSimpleTypeRestriction xsstr =\n+            (XmlSchemaSimpleTypeRestriction)xsst.getContent();\n+        assertEquals(new QName(\"http://soapinterop.org/types\",\n+                               \"drinksize\"),\n+                     xsstr.getBaseTypeName());\n+\n+        xsoc = xsstr.getFacets();\n+\n+        Set s = new HashSet();\n+        s.add(XmlSchemaMinInclusiveFacet.class.getName());\n+        s.add(XmlSchemaMaxInclusiveFacet.class.getName());\n+        for (Iterator i  = xsoc.getIterator(); i.hasNext(); ) {\n+            Object o = i.next();\n+            assertTrue(s.remove(o.getClass().getName()));\n+            if (o instanceof XmlSchemaMinInclusiveFacet) {\n+                assertEquals(\"1\", ((XmlSchemaMinInclusiveFacet)o).getValue());\n+            } else if (o instanceof XmlSchemaMaxInclusiveFacet) {\n+                assertEquals(\"3\", ((XmlSchemaMaxInclusiveFacet)o).getValue());\n+            } else {\n+                fail(\"Unexpected object encountered: \"\n+                     + o.getClass().getName());\n+            }\n+        }\n+\n+        assertTrue(\"The set should have been empty, but instead contained: \"\n+                   + s + \".\",\n+                   s.isEmpty());\n+\n+    }\n+\n+    /**\n+     * This method will test a group redefine.\n+     *\n+     * @throws Exception Any exception encountered\n+     */\n+    public void testGroupRedefine() throws Exception {\n+\n+        /*\n+        redefine5.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+  \n+          <group name=\"PrologGroup\">\n+            <sequence>\n+              <element name=\"date\" type=\"string\"/>\n+              <element name=\"author\" type=\"string\"/>\n+              <element name=\"defect\" type=\"integer\"/>\n+            </sequence>\n+          </group>\n+          \n+        </schema>\n+\n+\n+        redefine6.xsd\n+        -----------------\n+\n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+\n+          <redefine schemaLocation=\"redefine5.xsd\">\n+            <group name=\"PrologGroup\">\n+              <sequence>\n+                <group ref=\"tns:PrologGroup\"/>\n+                <element name=\"description\" type=\"string\"/>\n+              </sequence>\n+            </group>\n+          </redefine>\n+\n+        </schema>\n+        */\n+\n+        InputStream is = new FileInputStream(\"test-resources/redefine6.xsd\");\n+        XmlSchemaCollection schemaCol = new XmlSchemaCollection();\n+        XmlSchema schema = schemaCol.read(new StreamSource(is), null);\n+\n+        XmlSchemaObjectCollection xsoc = schema.getIncludes();\n+        assertEquals(1, xsoc.getCount());\n+        \n+        XmlSchemaRedefine xsr = (XmlSchemaRedefine)xsoc.getItem(0);\n+        XmlSchemaObjectTable xsot = xsr.getGroup();\n+        assertEquals(1, xsot.getCount());\n+\n+        for (Iterator i = xsot.getNames(); i.hasNext(); ) {\n+            assertEquals(\"PrologGroup\", (String)i.next());\n+        }\n+\n+        XmlSchemaGroup xsg = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xsg = (XmlSchemaGroup)i.next();\n+        }\n+\n+        XmlSchemaSequence xss = (XmlSchemaSequence)xsg.getParticle();\n+\n+        xsoc = xss.getItems();\n+        assertEquals(2, xsoc.getCount());\n+        \n+        Set s = new HashSet();\n+        s.add(XmlSchemaGroupRef.class.getName());\n+        s.add(XmlSchemaElement.class.getName());\n+        for (Iterator i  = xsoc.getIterator(); i.hasNext(); ) {\n+            Object o = i.next();\n+            assertTrue(s.remove(o.getClass().getName()));\n+            if (o instanceof XmlSchemaGroupRef) {\n+                assertEquals(new QName(\"http://soapinterop.org/types\",\n+                                       \"PrologGroup\"),\n+                             ((XmlSchemaGroupRef)o).getRefName());\n+            } else if (o instanceof XmlSchemaElement) {\n+                assertEquals(\"description\", ((XmlSchemaElement)o).getName());\n+            } else {\n+                fail(\"Unexpected object encountered: \"\n+                     + o.getClass().getName());\n+            }\n+        }\n+\n+        assertTrue(\"The set should have been empty, but instead contained: \"\n+                   + s + \".\",\n+                   s.isEmpty());\n+\n+    }\n+\n+    /**\n+     * This method will test a attribute group redefine.\n+     *\n+     * @throws Exception Any exception encountered\n+     */\n+    public void testAttributeGroupRedefine() throws Exception {\n+\n+        /*\n+        redefine7.xsd\n+        -----------------\n+        \n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+  \n+          <attributeGroup name=\"AttribGroup\">\n+            <attribute name=\"type\" type=\"string\"/>\n+            <attribute name=\"units\" type=\"string\"/>\n+            <attribute name=\"serialId\" type=\"string\"/>\n+          </attributeGroup>\n+          \n+        </schema>\n+\n+\n+        redefine8.xsd\n+        -----------------\n+\n+        <schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n+                xmlns:tns=\"http://soapinterop.org/types\"\n+                targetNamespace=\"http://soapinterop.org/types\">\n+\n+          <redefine schemaLocation=\"redefine7.xsd\">\n+            <attributeGroup name=\"AttribGroup\">\n+              <attribute name=\"type\" type=\"string\"/>\n+              <attribute name=\"units\" type=\"string\"/>\n+            </attributeGroup>\n+          </redefine>\n+\n+        </schema>\n+        */\n+\n+        InputStream is = new FileInputStream(\"test-resources/redefine8.xsd\");\n+        XmlSchemaCollection schemaCol = new XmlSchemaCollection();\n+        XmlSchema schema = schemaCol.read(new StreamSource(is), null);\n+\n+        XmlSchemaObjectCollection xsoc = schema.getIncludes();\n+        assertEquals(1, xsoc.getCount());\n+        \n+        XmlSchemaRedefine xsr = (XmlSchemaRedefine)xsoc.getItem(0);\n+        XmlSchemaObjectTable xsot = xsr.getAttributeGroup();\n+        assertEquals(1, xsot.getCount());\n+\n+        for (Iterator i = xsot.getNames(); i.hasNext(); ) {\n+            assertEquals(\"AttribGroup\", (String)i.next());\n+        }\n+\n+        XmlSchemaAttributeGroup xsag = null;\n+        for (Iterator i = xsot.getValues(); i.hasNext(); ) {\n+            xsag = (XmlSchemaAttributeGroup)i.next();\n+        }\n+        assertEquals(\"AttribGroup\", xsag.getName());\n+        xsoc = xsag.getAttributes();\n+\n+        Set s = new HashSet();\n+        s.add(\"type\");\n+        s.add(\"units\");\n+        for (Iterator i  = xsoc.getIterator(); i.hasNext(); ) {\n+            XmlSchemaAttribute xsa = (XmlSchemaAttribute)i.next();\n+            assertTrue(s.remove(xsa.getName()));\n+        }\n+\n+        assertTrue(\"The set should have been empty, but instead contained: \"\n+                   + s + \".\",\n+                   s.isEmpty());\n+        \n+    }\n+\n+\n+}\n\\ No newline at end of file",
                "deletions": 0
            }
        ],
        "patched_files": [
            "XmlSchemaRedefine.java"
        ],
        "unit_tests": [
            "RedefineTest.java"
        ]
    }
}