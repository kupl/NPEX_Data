{
    "uima-ducc_1d5b054": {
        "bug_id": "uima-ducc_1d5b054",
        "commit": "https://github.com/apache/uima-ducc/commit/1d5b0540424ceadbe4d32d257229f396f805215c",
        "file": [
            {
                "additions": 48,
                "blob_url": "https://github.com/apache/uima-ducc/blob/1d5b0540424ceadbe4d32d257229f396f805215c/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/event/common/DuccProcessWorkItems.java",
                "changes": 57,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/event/common/DuccProcessWorkItems.java?ref=1d5b0540424ceadbe4d32d257229f396f805215c",
                "deletions": 9,
                "filename": "uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/event/common/DuccProcessWorkItems.java",
                "patch": "@@ -129,35 +129,74 @@ public void setMillisMin(long value) {\n \t}\n \t@Override\n \tpublic long getMillisAvg() {\n-\t\treturn doneMillisAvg.get();\n+\t\tlong retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisAvg.get();\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn retVal;\n \t}\n \n \t@Override\n \tpublic long getMillisMax() {\n-\t\treturn doneMillisMax.get();\n+\t\tlong retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisMax.get();\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn retVal;\n \t}\n \n \t@Override\n \tpublic long getMillisMin() {\n-\t\treturn doneMillisMin.get();\n+\t\tlong retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisMin.get();\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn retVal;\n \t}\n \n \t@Override\n \tpublic long getSecsAvg() {\n-\t\tdouble value = doneMillisAvg.get()/1000.0;\n-\t\treturn (long) value;\n+\t\tdouble retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisAvg.get()/1000.0;\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn (long) retVal;\n \t}\n \n \t@Override\n \tpublic long getSecsMax() {\n-\t\tdouble value = doneMillisMax.get()/1000.0;\n-\t\treturn (long) value;\n+\t\tdouble retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisMax.get()/1000.0;\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn (long) retVal;\n \t}\n \n \t@Override\n \tpublic long getSecsMin() {\n-\t\tdouble value = doneMillisMin.get()/1000.0;\n-\t\treturn (long) value;\n+\t\tdouble retVal = 0;\n+\t\ttry {\n+\t\t\tretVal = doneMillisMin.get()/1000.0;\n+\t\t}\n+\t\tcatch(Exception e) {\n+\t\t\t// oh well\n+\t\t}\n+\t\treturn (long) retVal;\n \t}\n \n }",
                "raw_url": "https://github.com/apache/uima-ducc/raw/1d5b0540424ceadbe4d32d257229f396f805215c/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/event/common/DuccProcessWorkItems.java",
                "sha": "941b3720568810486cfe157c55f9109e59a8725d",
                "status": "modified"
            }
        ],
        "message": "UIMA-4303 DUCC Web Server (WS) fix NPE\n\n[or]\n\n- default (machine) reservation class should be Reserve, not Fixed\n\ngit-svn-id: https://svn.apache.org/repos/asf/uima/sandbox/uima-ducc/trunk@1668961 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/uima-ducc/commit/0e794fa4f784913446119d4e77136ce169fefa8b",
        "patched_files": [
            "DuccProcessWorkItems.java"
        ],
        "repo": "uima-ducc",
        "unit_tests": [
            "DuccProcessWorkItemsTest.java"
        ]
    },
    "uima-ducc_bb04b4d": {
        "bug_id": "uima-ducc_bb04b4d",
        "commit": "https://github.com/apache/uima-ducc/commit/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
        "file": [
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/main/java/org/apache/uima/ducc/container/jd/JobDriver.java",
                "changes": 21,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/main/java/org/apache/uima/ducc/container/jd/JobDriver.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 4,
                "filename": "uima-ducc-container/src/main/java/org/apache/uima/ducc/container/jd/JobDriver.java",
                "patch": "@@ -20,6 +20,7 @@\n \n import java.util.Map;\n import java.util.concurrent.ConcurrentHashMap;\n+import java.util.concurrent.CountDownLatch;\n \n import org.apache.uima.ducc.common.jd.files.workitem.IRemoteLocation;\n import org.apache.uima.ducc.common.jd.files.workitem.IWorkItemStateKeeper;\n@@ -55,20 +56,32 @@\n \t\n \tprivate static JobDriver instance = null;\n \t\n+\tprivate static CountDownLatch latch = new CountDownLatch(1);\n+\t\n \tpublic synchronized static JobDriver getInstance() {\n \t\tString location = \"getInstance\";\n-\t\tif(instance == null) {\n+\t\twhile(true) {\n \t\t\ttry {\n-\t\t\t\tinstance = new JobDriver();\n-\t\t\t} catch (JobDriverException e) {\n+\t\t\t\tlatch.await();\n+\t\t\t\tbreak;\n+\t\t\t}\n+\t\t\tcatch(Exception e) {\n \t\t\t\tlogger.error(location, ILogger.null_id, e);\n \t\t\t}\n \t\t}\n \t\treturn instance;\n \t}\n \t\n-\tpublic synchronized static JobDriver getNewInstance() {\n+\tpublic synchronized static JobDriver getNewInstance() throws JobDriverException {\n+\t\tString location = \"getNewInstance\";\n \t\tinstance = null;\n+\t\ttry {\n+\t\t\tinstance = new JobDriver();\n+\t\t\tlatch.countDown();\n+\t\t} catch (JobDriverException e) {\n+\t\t\tlogger.error(location, ILogger.null_id, e);\n+\t\t\tthrow e;\n+\t\t}\n \t\treturn getInstance();\n \t}\n \t",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/main/java/org/apache/uima/ducc/container/jd/JobDriver.java",
                "sha": "3e0a06907a5f409f4bbcd1e3f891a596bda115bd",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test0.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test0.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test0.java",
                "patch": "@@ -30,7 +30,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test0.java",
                "sha": "ed1578a2e133abf5f9edbff2f644ba6898e7bb5a",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test1.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test1.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test1.java",
                "patch": "@@ -33,7 +33,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test1.java",
                "sha": "a1c7fa2616189625127d0ea3215990dae5a04d6a",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test2.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test2.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test2.java",
                "patch": "@@ -42,7 +42,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/Test2.java",
                "sha": "101fb2a775a79d00b5abbccf4885896124bd6194",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/classloading/TestClassLoading.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/classloading/TestClassLoading.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/classloading/TestClassLoading.java",
                "patch": "@@ -53,7 +53,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/classloading/TestClassLoading.java",
                "sha": "42b84f8307ef8e9b5ab013cc7b7aedc455d52f37",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/fsm/TestWiFsm.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/fsm/TestWiFsm.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/fsm/TestWiFsm.java",
                "patch": "@@ -49,7 +49,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/fsm/TestWiFsm.java",
                "sha": "c38e4ef17a3cc19cffb92c6d1bf9b6a6333190aa",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/statefile/TestWiStateFile.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/statefile/TestWiStateFile.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/statefile/TestWiStateFile.java",
                "patch": "@@ -40,7 +40,7 @@\n \t@Before\n     public void setUp() throws JobDriverException {\n         initialize();\n-        jd = JobDriver.getInstance();\n+        jd = JobDriver.getNewInstance();\n     }\n \t\n \t@Test",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-container/src/test/java/org/apache/uima/ducc/container/jd/test/wi/statefile/TestWiStateFile.java",
                "sha": "8f54723aa09e41f7caf0e695f209c5a0f34c782a",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/uima-ducc/blob/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/configuration/jd/JobDriverComponent.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/configuration/jd/JobDriverComponent.java?ref=bb04b4d23c9dc13c7500939ea403b1bacdfeb4be",
                "deletions": 1,
                "filename": "uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/configuration/jd/JobDriverComponent.java",
                "patch": "@@ -30,6 +30,8 @@\n import org.apache.uima.ducc.common.utils.DuccLoggerComponents;\r\n import org.apache.uima.ducc.common.utils.id.DuccId;\r\n import org.apache.uima.ducc.container.jd.JobDriver;\r\n+import org.apache.uima.ducc.container.jd.cas.CasManager;\r\n+import org.apache.uima.ducc.container.jd.cas.CasManagerStats;\r\n import org.apache.uima.ducc.container.jd.mh.IMessageHandler;\r\n import org.apache.uima.ducc.container.net.iface.IMetaCasTransaction;\r\n import org.apache.uima.ducc.transport.configuration.jd.iface.IJobDriverComponent;\r\n@@ -83,7 +85,10 @@ private void verifySystemProperties() {\n \tprivate void createInstance() {\r\n \t\tString location = \"createInstance\";\r\n \t\ttry {\r\n-\t\t\tint total = JobDriver.getInstance().getCasManager().getCasManagerStats().getCrTotal();\r\n+\t\t\tJobDriver jobDriver = JobDriver.getNewInstance();\r\n+\t\t\tCasManager casManager = jobDriver.getCasManager();\r\n+\t\t\tCasManagerStats casManagerStats = casManager.getCasManagerStats();\r\n+\t\t\tint total = casManagerStats.getCrTotal();\r\n \t\t\tlogger.info(location, jobid, \"total: \"+total);\r\n \t\t}\r\n \t\tcatch(Exception e) {\r",
                "raw_url": "https://github.com/apache/uima-ducc/raw/bb04b4d23c9dc13c7500939ea403b1bacdfeb4be/uima-ducc-transport/src/main/java/org/apache/uima/ducc/transport/configuration/jd/JobDriverComponent.java",
                "sha": "d7106616b3f84be1d02330a0cdfc9fb36b2a27b5",
                "status": "modified"
            }
        ],
        "message": "UIMA-4800 DUCC Job Driver (JD) CR error causes NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/uima/sandbox/uima-ducc/trunk@1734234 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/uima-ducc/commit/d26f5f6f4ebee68fdca42d0fc1f6cd1540168757",
        "patched_files": [
            "JobDriver.java",
            "WiFsm.java",
            "JobDriverComponent.java"
        ],
        "repo": "uima-ducc",
        "unit_tests": [
            "TestWiFsm.java",
            "Test1.java",
            "Test2.java",
            "Test0.java",
            "TestWiStateFile.java",
            "TestClassLoading.java"
        ]
    },
    "uima-ducc_c728f2a": {
        "bug_id": "uima-ducc_c728f2a",
        "commit": "https://github.com/apache/uima-ducc/commit/c728f2a336cabdf4afeb4d73583713cba8672334",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/uima-ducc/blob/c728f2a336cabdf4afeb4d73583713cba8672334/uima-ducc-common/src/main/java/org/apache/uima/ducc/common/NodeConfiguration.java",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/uima-ducc/contents/uima-ducc-common/src/main/java/org/apache/uima/ducc/common/NodeConfiguration.java?ref=c728f2a336cabdf4afeb4d73583713cba8672334",
                "deletions": 0,
                "filename": "uima-ducc-common/src/main/java/org/apache/uima/ducc/common/NodeConfiguration.java",
                "patch": "@@ -159,6 +159,7 @@ public NodeConfiguration(String config_file_name, String ducc_nodes, String ducc\n     String resolve(String file)\n         throws IllegalConfigurationException\n     {\n+    \t\tif ( file == null ) return null;\n         if ( !file.startsWith(\"/\") ) {\n             file = ducc_home + \"/resources/\" + file;\n         }",
                "raw_url": "https://github.com/apache/uima-ducc/raw/c728f2a336cabdf4afeb4d73583713cba8672334/uima-ducc-common/src/main/java/org/apache/uima/ducc/common/NodeConfiguration.java",
                "sha": "fab8479bbe547e2777a740f8bbf9c45c8a6c330d",
                "status": "modified"
            }
        ],
        "message": "UIMA-4275 Fix NPE if ducc.users is not passed in to configuration.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/uima/sandbox/uima-ducc/trunk@1664995 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/uima-ducc/commit/fc9cee25337205373ac6d3e1fb5bd7191ad2d404",
        "patched_files": [
            "NodeConfiguration.java"
        ],
        "repo": "uima-ducc",
        "unit_tests": [
            "NodeConfigurationTest.java"
        ]
    }
}