[{"commit": "https://github.com/apache/netbeans-html4j/commit/1ce523aa194335b6b416b1aae075942a42c39c37", "parent": "https://github.com/apache/netbeans-html4j/commit/a45f1341c358ff4ad58272bad1d11152055a2c71", "message": "Avoid NPE as ref can be null for null presenters", "bug_id": "netbeans-html4j_1", "file": [{"additions": 1, "raw_url": "https://github.com/apache/netbeans-html4j/raw/1ce523aa194335b6b416b1aae075942a42c39c37/ko4j/src/main/java/org/netbeans/html/ko4j/CacheObjs.java", "blob_url": "https://github.com/apache/netbeans-html4j/blob/1ce523aa194335b6b416b1aae075942a42c39c37/ko4j/src/main/java/org/netbeans/html/ko4j/CacheObjs.java", "sha": "3a1e63f356e41a87b44db6a57af2e440db41b59b", "changes": 2, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/netbeans-html4j/contents/ko4j/src/main/java/org/netbeans/html/ko4j/CacheObjs.java?ref=1ce523aa194335b6b416b1aae075942a42c39c37", "patch": "@@ -36,7 +36,7 @@ private CacheObjs(Fn.Presenter p) {\n     }\n \n     Fn.Presenter get() {\n-        return ref.presenter();\n+        return ref == null ? null : ref.presenter();\n     }\n \n     static synchronized CacheObjs find(Fn.Presenter key) {", "filename": "ko4j/src/main/java/org/netbeans/html/ko4j/CacheObjs.java"}, {"additions": 7, "raw_url": "https://github.com/apache/netbeans-html4j/raw/1ce523aa194335b6b416b1aae075942a42c39c37/ko4j/src/test/java/org/netbeans/html/ko4j/MapObjsTest.java", "blob_url": "https://github.com/apache/netbeans-html4j/blob/1ce523aa194335b6b416b1aae075942a42c39c37/ko4j/src/test/java/org/netbeans/html/ko4j/MapObjsTest.java", "sha": "f2f8c71657d72cdc69d6656fb64bc600a4668c90", "changes": 7, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/netbeans-html4j/contents/ko4j/src/test/java/org/netbeans/html/ko4j/MapObjsTest.java?ref=1ce523aa194335b6b416b1aae075942a42c39c37", "patch": "@@ -62,6 +62,13 @@ public void testValuesForP1P2() {\n         assertEquals(v2.get(p2), null);\n     }\n \n+    @Test\n+    public void cacheForNull() {\n+        CacheObjs c1 = CacheObjs.find(null);\n+        CacheObjs c2 = CacheObjs.find(null);\n+        assertSame(c1, c2);\n+    }\n+\n     private static final class Value {\n         private Object now;\n ", "filename": "ko4j/src/test/java/org/netbeans/html/ko4j/MapObjsTest.java"}], "repo": "netbeans-html4j"}]
