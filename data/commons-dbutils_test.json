{
    "commons-dbutils_5d50c24": {
        "bug_id": "commons-dbutils_5d50c24",
        "commit": "https://github.com/apache/commons-dbutils/commit/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/commons-dbutils/blob/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e/src/java/org/apache/commons/dbutils/QueryRunner.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/commons-dbutils/contents/src/java/org/apache/commons/dbutils/QueryRunner.java?ref=5d50c24831281dcaf7d3f8b80d30194d9dd7f40e",
                "deletions": 0,
                "filename": "src/java/org/apache/commons/dbutils/QueryRunner.java",
                "patch": "@@ -186,6 +186,9 @@ protected PreparedStatement prepareStatement(Connection conn, String sql)\n      * @since DbUtils 1.1\n      */\n     protected Connection prepareConnection() throws SQLException {\n+        if(this.getDataSource() == null) {\n+            throw new SQLException(\"QueryRunner requires a DataSource to be invoked in this way, or a Connection should be passed in\");\n+        }\n         return this.getDataSource().getConnection();\n     }\n ",
                "raw_url": "https://github.com/apache/commons-dbutils/raw/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e/src/java/org/apache/commons/dbutils/QueryRunner.java",
                "sha": "0067ce2321fa82af6593104292a8d95b574e4091",
                "status": "modified"
            }
        ],
        "message": "It can be confusing to get a NullPointerException when you forget to set the DataSource or include the Connection parameter, so I've added a dedicated exception for this event\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/dbutils/trunk@348539 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-dbutils/commit/32b0ed2c92338c022a733c0d4ef5bb15c87cb01f",
        "patched_files": [
            "QueryRunner.java"
        ],
        "repo": "commons-dbutils",
        "unit_tests": [
            "QueryRunnerTest.java"
        ]
    }
}