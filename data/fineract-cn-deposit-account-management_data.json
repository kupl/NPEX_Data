[
    {
        "repo": "fineract-cn-deposit-account-management",
        "message": "fixed NPE in Term",
        "commit": "https://github.com/apache/fineract-cn-deposit-account-management/commit/619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab",
        "parent": "https://github.com/apache/fineract-cn-deposit-account-management/commit/36e1587d7e863be73c92b4610feb17f23d7272e6",
        "bug_id": "fineract-cn-deposit-account-management_1",
        "file": [
            {
                "sha": "b72c30e46869060809197212bca6115e5467ccc3",
                "filename": "api/src/main/java/io/mifos/deposit/api/v1/definition/domain/Term.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/Term.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/Term.java",
                "status": "modified",
                "changes": 10,
                "additions": 8,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/Term.java?ref=619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab",
                "patch": "@@ -40,11 +40,17 @@ public void setPeriod(final Integer period) {\n   }\n \n   public String getTimeUnit() {\n-    return this.timeUnit.name();\n+    if (this.timeUnit != null) {\n+      return this.timeUnit.name();\n+    } else {\n+      return null;\n+    }\n   }\n \n   public void setTimeUnit(final String timeUnit) {\n-    this.timeUnit = TimeUnit.valueOf(timeUnit);\n+    if (timeUnit != null) {\n+      this.timeUnit = TimeUnit.valueOf(timeUnit);\n+    }\n   }\n \n   public String getInterestPayable() {",
                "deletions": 2
            },
            {
                "sha": "ce98239c8d8cf47ab37a510f29ce20920eb4d0b6",
                "filename": "service/src/main/java/io/mifos/deposit/service/internal/mapper/TermMapper.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab/service/src/main/java/io/mifos/deposit/service/internal/mapper/TermMapper.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab/service/src/main/java/io/mifos/deposit/service/internal/mapper/TermMapper.java",
                "status": "modified",
                "changes": 4,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/service/src/main/java/io/mifos/deposit/service/internal/mapper/TermMapper.java?ref=619cbc7ccd188f5ce4ecdb23e5f8eea7e13754ab",
                "patch": "@@ -36,7 +36,9 @@ public static TermEntity map(final Term term) {\n   public static Term map(final TermEntity termEntity) {\n     final Term term = new Term();\n     term.setPeriod(termEntity.getPeriod());\n-    term.setTimeUnit(termEntity.getTimeUnit());\n+    if (termEntity.getTimeUnit() != null) {\n+      term.setTimeUnit(termEntity.getTimeUnit());\n+    }\n     term.setInterestPayable(termEntity.getInterestPayable());\n \n     return term;",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "fineract-cn-deposit-account-management",
        "message": "Merge pull request #9 from markvanveen/develop\n\nAdd null check to prevent NPE when saving product definition without \u2026",
        "commit": "https://github.com/apache/fineract-cn-deposit-account-management/commit/addc4cb4909201e84643f3505a3af0564b9ee9e8",
        "parent": "https://github.com/apache/fineract-cn-deposit-account-management/commit/102f0d7de9cead9a398a58b55bb42f00c26300c9",
        "bug_id": "fineract-cn-deposit-account-management_2",
        "file": [
            {
                "sha": "17ef7cd616f673ce3a395e66c19a968f5bc01b2b",
                "filename": "api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/addc4cb4909201e84643f3505a3af0564b9ee9e8/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/addc4cb4909201e84643f3505a3af0564b9ee9e8/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java?ref=addc4cb4909201e84643f3505a3af0564b9ee9e8",
                "patch": "@@ -50,6 +50,7 @@\n   private Term term;\n   @Valid\n   private Set<Charge> charges;\n+  @NotNull\n   private Boolean flexible;\n   private Boolean active;\n ",
                "deletions": 0
            },
            {
                "sha": "b67ed48d6adcd6da732563cde4a9e37987873161",
                "filename": "service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/addc4cb4909201e84643f3505a3af0564b9ee9e8/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/addc4cb4909201e84643f3505a3af0564b9ee9e8/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "status": "modified",
                "changes": 20,
                "additions": 11,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java?ref=addc4cb4909201e84643f3505a3af0564b9ee9e8",
                "patch": "@@ -228,15 +228,17 @@ void saveDependingEntities(final ProductDefinition productDefinition, final Prod\n     termEntity.setProductDefinition(savedProductEntity);\n     this.termRepository.save(termEntity);\n \n-    this.chargeRepository.save(productDefinition.getCharges()\n-        .stream()\n-        .map(charge -> {\n-          final ChargeEntity chargeEntity = ChargeMapper.map(charge, this.actionRepository);\n-          chargeEntity.setProductDefinition(savedProductEntity);\n-          return chargeEntity;\n-        })\n-        .collect(Collectors.toSet())\n-    );\n+    if (productDefinition.getCharges() != null && !productDefinition.getCharges().isEmpty()) {\n+      this.chargeRepository.save(productDefinition.getCharges()\n+              .stream()\n+              .map(charge -> {\n+                final ChargeEntity chargeEntity = ChargeMapper.map(charge, this.actionRepository);\n+                chargeEntity.setProductDefinition(savedProductEntity);\n+                return chargeEntity;\n+              })\n+              .collect(Collectors.toSet())\n+      );\n+    }\n   }\n \n   void deleteDependingEntities(final ProductDefinitionEntity productDefinitionEntity) {",
                "deletions": 9
            }
        ]
    },
    {
        "repo": "fineract-cn-deposit-account-management",
        "message": "Add null check to prevent NPE when saving product definition without charges\nAdd null check for flexible to prevent SQL exception",
        "commit": "https://github.com/apache/fineract-cn-deposit-account-management/commit/a646446245d4cf44c9108adaf6f1a38f4c4aa51e",
        "parent": "https://github.com/apache/fineract-cn-deposit-account-management/commit/102f0d7de9cead9a398a58b55bb42f00c26300c9",
        "bug_id": "fineract-cn-deposit-account-management_3",
        "file": [
            {
                "sha": "17ef7cd616f673ce3a395e66c19a968f5bc01b2b",
                "filename": "api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/a646446245d4cf44c9108adaf6f1a38f4c4aa51e/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/a646446245d4cf44c9108adaf6f1a38f4c4aa51e/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/api/src/main/java/io/mifos/deposit/api/v1/definition/domain/ProductDefinition.java?ref=a646446245d4cf44c9108adaf6f1a38f4c4aa51e",
                "patch": "@@ -50,6 +50,7 @@\n   private Term term;\n   @Valid\n   private Set<Charge> charges;\n+  @NotNull\n   private Boolean flexible;\n   private Boolean active;\n ",
                "deletions": 0
            },
            {
                "sha": "b67ed48d6adcd6da732563cde4a9e37987873161",
                "filename": "service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "blob_url": "https://github.com/apache/fineract-cn-deposit-account-management/blob/a646446245d4cf44c9108adaf6f1a38f4c4aa51e/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "raw_url": "https://github.com/apache/fineract-cn-deposit-account-management/raw/a646446245d4cf44c9108adaf6f1a38f4c4aa51e/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java",
                "status": "modified",
                "changes": 20,
                "additions": 11,
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-deposit-account-management/contents/service/src/main/java/io/mifos/deposit/service/internal/command/handler/ProductDefinitionAggregate.java?ref=a646446245d4cf44c9108adaf6f1a38f4c4aa51e",
                "patch": "@@ -228,15 +228,17 @@ void saveDependingEntities(final ProductDefinition productDefinition, final Prod\n     termEntity.setProductDefinition(savedProductEntity);\n     this.termRepository.save(termEntity);\n \n-    this.chargeRepository.save(productDefinition.getCharges()\n-        .stream()\n-        .map(charge -> {\n-          final ChargeEntity chargeEntity = ChargeMapper.map(charge, this.actionRepository);\n-          chargeEntity.setProductDefinition(savedProductEntity);\n-          return chargeEntity;\n-        })\n-        .collect(Collectors.toSet())\n-    );\n+    if (productDefinition.getCharges() != null && !productDefinition.getCharges().isEmpty()) {\n+      this.chargeRepository.save(productDefinition.getCharges()\n+              .stream()\n+              .map(charge -> {\n+                final ChargeEntity chargeEntity = ChargeMapper.map(charge, this.actionRepository);\n+                chargeEntity.setProductDefinition(savedProductEntity);\n+                return chargeEntity;\n+              })\n+              .collect(Collectors.toSet())\n+      );\n+    }\n   }\n \n   void deleteDependingEntities(final ProductDefinitionEntity productDefinitionEntity) {",
                "deletions": 9
            }
        ]
    }
]