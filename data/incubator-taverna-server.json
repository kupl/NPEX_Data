{
    "incubator-taverna-server_f3f80d2": {
        "bug_id": "incubator-taverna-server_f3f80d2",
        "commit": "https://github.com/apache/incubator-taverna-server/commit/f3f80d2fded75a883d74ebab6ab9bc64939d4493",
        "file": [
            {
                "additions": 13,
                "blob_url": "https://github.com/apache/incubator-taverna-server/blob/f3f80d2fded75a883d74ebab6ab9bc64939d4493/server-webapp/src/main/java/org/taverna/server/master/TavernaServerImpl.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/incubator-taverna-server/contents/server-webapp/src/main/java/org/taverna/server/master/TavernaServerImpl.java?ref=f3f80d2fded75a883d74ebab6ab9bc64939d4493",
                "deletions": 2,
                "filename": "server-webapp/src/main/java/org/taverna/server/master/TavernaServerImpl.java",
                "patch": "@@ -71,6 +71,7 @@\n import org.taverna.server.master.interfaces.Policy;\n import org.taverna.server.master.interfaces.RunStore;\n import org.taverna.server.master.interfaces.TavernaRun;\n+import org.taverna.server.master.interfaces.TavernaSecurityContext;\n import org.taverna.server.master.rest.DirectoryContents;\n import org.taverna.server.master.rest.ListenerDefinition;\n import org.taverna.server.master.rest.MakeOrUpdateDirEntry;\n@@ -334,7 +335,12 @@ public Listeners getDescription(UriInfo ui) {\n \t\t\t@Override\n \t\t\tpublic String getOwner() {\n \t\t\t\tinvokes++;\n-\t\t\t\treturn run.getSecurityContext().getOwner().getName();\n+\t\t\t\t// TODO: Not yet really implemented\n+\t\t\t\tTavernaSecurityContext c = run.getSecurityContext();\n+\t\t\t\tif (c == null)\n+\t\t\t\t\treturn \"<NOBODY>\";\n+\t\t\t\tPrincipal owner = c.getOwner();\n+\t\t\t\treturn owner == null ? \"<NOBODY>\" : owner.getName();\n \t\t\t}\n \n \t\t\t@Override\n@@ -796,7 +802,12 @@ public void setRunStatus(String runName, Status s)\n \t@Override\n \tpublic String getRunOwner(String runName) throws UnknownRunException {\n \t\tinvokes++;\n-\t\treturn getRun(runName).getSecurityContext().getOwner().getName();\n+\t\t// TODO: Not yet really implemented\n+\t\tTavernaSecurityContext c = getRun(runName).getSecurityContext();\n+\t\tif (c == null)\n+\t\t\treturn \"<NOBODY>\";\n+\t\tPrincipal owner = c.getOwner();\n+\t\treturn owner == null ? \"<NOBODY>\" : owner.getName();\n \t}\n \n \t// -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-",
                "raw_url": "https://github.com/apache/incubator-taverna-server/raw/f3f80d2fded75a883d74ebab6ab9bc64939d4493/server-webapp/src/main/java/org/taverna/server/master/TavernaServerImpl.java",
                "sha": "63f24107b5b959fc3600063931a0f1201c7d738f",
                "status": "modified"
            }
        ],
        "message": "More robust handling of requests for the owner; no NPEs!",
        "parent": "https://github.com/apache/incubator-taverna-server/commit/0a294ceccb599920dc6fdb1e7f451562ce1b1ef7",
        "repo": "incubator-taverna-server",
        "unit_tests": [
            "TavernaServerImplTest.java"
        ]
    }
}