[
    {
        "repo": "karaf-jclouds",
        "message": "Merge pull request #20 from andrewgaul/blobstore-read-npe\n\nAddress NPE when reading blob",
        "commit": "https://github.com/apache/karaf-jclouds/commit/9710a2f5e9f253b00531b55772f15285d361dab7",
        "parent": "https://github.com/apache/karaf-jclouds/commit/9f56ac7ba7bd09136672d8ef9ffcedac9cc597e3",
        "bug_id": "karaf-jclouds_1",
        "file": [
            {
                "sha": "408a0b42c5143020da092975bf590bead1b06588",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/9710a2f5e9f253b00531b55772f15285d361dab7/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/9710a2f5e9f253b00531b55772f15285d361dab7/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java?ref=9710a2f5e9f253b00531b55772f15285d361dab7",
                "patch": "@@ -47,7 +47,7 @@\n    String file;\n \n    @Option(name = \"-d\", aliases = \"--display\", description = \"Display the content to the console\", required = false, multiValued = false)\n-   Boolean display;\n+   boolean display;\n \n    @Override\n    protected Object doExecute() throws Exception {",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "JCLOUDS-1191: Avoid NPE and let commands properly print the stacktraces",
        "commit": "https://github.com/apache/karaf-jclouds/commit/214ec7a0cad5b913ed1862274b50808fe267b8a1",
        "parent": "https://github.com/apache/karaf-jclouds/commit/d858d8a720be531bd864d535a0bbafb71a628090",
        "bug_id": "karaf-jclouds_2",
        "file": [
            {
                "sha": "656936b7dd830b804ca11c57c9635ca0086ff15b",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandWithOptions.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandWithOptions.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandWithOptions.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandWithOptions.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -87,7 +87,7 @@ protected ComputeService getComputeService() throws IOException {\n       String apiValue = EnvHelper.getComputeApi(api);\n       String identityValue = EnvHelper.getComputeIdentity(identity);\n       String credentialValue = EnvHelper.getComputeCredential(credential);\n-      if (providerValue.equals(\"google-compute-engine\")) {\n+      if (providerValue != null && credentialValue != null && providerValue.equals(\"google-compute-engine\")) {\n          credentialValue = EnvHelper.getGoogleCredentialFromJsonFile(credentialValue);\n       }\n       String endpointValue = EnvHelper.getComputeEndpoint(endpoint);",
                "deletions": 1
            },
            {
                "sha": "20dd5f7eb7fb998df0c90c4f7c2dc89cc0426f9d",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/HardwareListCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/HardwareListCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/HardwareListCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/HardwareListCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -30,6 +30,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       printHardwares(service, service.listHardwareProfiles(), System.out);",
                "deletions": 0
            },
            {
                "sha": "da51eff33d31f4dccae40e40f6af8da1bc4ac18c",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/ImageCreateCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageCreateCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageCreateCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageCreateCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -42,6 +42,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n ",
                "deletions": 0
            },
            {
                "sha": "ab9c8db373636e356f21071a4d74f6b21aa00091",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/ImageListCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageListCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageListCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/ImageListCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -35,6 +35,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n      printImages(service, service.listImages(), System.out);",
                "deletions": 0
            },
            {
                "sha": "08a7351837f8939409ba1d15dce92f581519bd76",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/LocationListCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/LocationListCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/LocationListCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/LocationListCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -30,6 +30,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       printLocations(service, System.out);",
                "deletions": 0
            },
            {
                "sha": "5451e6f1075c09788f9e0f16c3c08b1133ff2cff",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -95,6 +95,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n ",
                "deletions": 0
            },
            {
                "sha": "78a2814eaf49a0bf05d1d7bf91bbeaad2f3a24a2",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyAllCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyAllCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyAllCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyAllCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -37,6 +37,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       Set<? extends NodeMetadata> nodeMetadatas = service.destroyNodesMatching(new Predicate<NodeMetadata>() {",
                "deletions": 0
            },
            {
                "sha": "e7be6db7a210a325c9647b41f8d85e67719ec912",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeDestroyCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -37,6 +37,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n ",
                "deletions": 0
            },
            {
                "sha": "dd69441faccb48f05b790ce4dd9fc58153924e3b",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeInfoCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeInfoCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeInfoCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeInfoCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -37,6 +37,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n ",
                "deletions": 0
            },
            {
                "sha": "45a1ff6cd0baa40b858076015e162d161ca5d700",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeListCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeListCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeListCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeListCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -43,6 +43,7 @@ protected Object doExecute() throws Exception {\n       service = getComputeService();\n     } catch (Throwable t) {\n       System.err.println(t.getMessage());\n+      t.printStackTrace(System.err);\n       return null;\n     }\n ",
                "deletions": 0
            },
            {
                "sha": "2039e0ab9a8fe6c9f526a65478a8107783bddbdc",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeResumeCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeResumeCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeResumeCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeResumeCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -34,6 +34,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       service.resumeNode(id);",
                "deletions": 0
            },
            {
                "sha": "2a0c34b0de98ca0ac18597b1263b04611e5c2e74",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeSuspendCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeSuspendCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeSuspendCommand.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeSuspendCommand.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -34,6 +34,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       service.suspendNode(id);",
                "deletions": 0
            },
            {
                "sha": "e846987e1a3a846820e14dd470135aa1e1935225",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/RunScriptBase.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/RunScriptBase.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/214ec7a0cad5b913ed1862274b50808fe267b8a1/commands/src/main/java/org/jclouds/karaf/commands/compute/RunScriptBase.java",
                "status": "modified",
                "changes": 1,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/RunScriptBase.java?ref=214ec7a0cad5b913ed1862274b50808fe267b8a1",
                "patch": "@@ -67,6 +67,7 @@ protected Object doExecute() throws Exception {\n          service = getComputeService();\n       } catch (Throwable t) {\n          System.err.println(t.getMessage());\n+         t.printStackTrace(System.err);\n          return null;\n       }\n       Set<? extends NodeMetadata> nodeMetaDataSet = service.listNodesDetailsMatching(getComputeFilter());",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Address NPE when reading blob\n\nObject Boolean default value is null which causes a NPE when\nauto-unboxing.  Primitive boolean default value is the expected false.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/4fd7490acb1d85f97c9b9161a1b46981e59b6845",
        "parent": "https://github.com/apache/karaf-jclouds/commit/9f56ac7ba7bd09136672d8ef9ffcedac9cc597e3",
        "bug_id": "karaf-jclouds_3",
        "file": [
            {
                "sha": "408a0b42c5143020da092975bf590bead1b06588",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/4fd7490acb1d85f97c9b9161a1b46981e59b6845/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/4fd7490acb1d85f97c9b9161a1b46981e59b6845/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java?ref=4fd7490acb1d85f97c9b9161a1b46981e59b6845",
                "patch": "@@ -47,7 +47,7 @@\n    String file;\n \n    @Option(name = \"-d\", aliases = \"--display\", description = \"Display the content to the console\", required = false, multiValued = false)\n-   Boolean display;\n+   boolean display;\n \n    @Override\n    protected Object doExecute() throws Exception {",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Avoid NPE when no location specified",
        "commit": "https://github.com/apache/karaf-jclouds/commit/95b1c7abb0fc93b5415b5817bad65e49ff0b6284",
        "parent": "https://github.com/apache/karaf-jclouds/commit/5c88006e56171147d84813f8172726077a638135",
        "bug_id": "karaf-jclouds_4",
        "file": [
            {
                "sha": "1760c4a30c5180e10f82ca9e30018268f25c2058",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobCreateCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/95b1c7abb0fc93b5415b5817bad65e49ff0b6284/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobCreateCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/95b1c7abb0fc93b5415b5817bad65e49ff0b6284/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobCreateCommand.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobCreateCommand.java?ref=95b1c7abb0fc93b5415b5817bad65e49ff0b6284",
                "patch": "@@ -37,7 +37,7 @@\n    List<String> containerNames;\n \n    @Option(name = \"-l\", aliases = \"--location\", description = \"Location to create container in\", required = false, multiValued = false)\n-   String locationString;\n+   String locationString = \"\";\n \n    @Override\n    protected Object doExecute() throws Exception {",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Avoid NPE in blobstore read without an argument",
        "commit": "https://github.com/apache/karaf-jclouds/commit/9dcae346ed211bbf4a7b2b147e11e0b16800251a",
        "parent": "https://github.com/apache/karaf-jclouds/commit/d7bc6fecd0579c9aba05011851803225c5544750",
        "bug_id": "karaf-jclouds_5",
        "file": [
            {
                "sha": "a4ac6baa3c14f27103eb26a85495c189ae886a91",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/9dcae346ed211bbf4a7b2b147e11e0b16800251a/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/9dcae346ed211bbf4a7b2b147e11e0b16800251a/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java",
                "status": "modified",
                "changes": 4,
                "additions": 4,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobReadCommand.java?ref=9dcae346ed211bbf4a7b2b147e11e0b16800251a",
                "patch": "@@ -23,6 +23,7 @@\n \n import org.apache.felix.gogo.commands.Argument;\n import org.apache.felix.gogo.commands.Command;\n+import org.apache.felix.gogo.commands.CommandException;\n import org.apache.felix.gogo.commands.Option;\n import org.jclouds.blobstore.BlobStore;\n import org.jclouds.blobstore.KeyNotFoundException;\n@@ -71,6 +72,9 @@ protected Object doExecute() throws Exception {\n          CharStreams.copy(CharStreams.newReaderSupplier(supplier, Charsets.UTF_8), System.err);\n          System.err.flush();\n       } else {\n+         if (fileName == null) {\n+            throw new CommandException(\"Must specify --exists, --display, or file name\");\n+         }\n          File file = new File(fileName);\n          if (!file.exists() && !file.createNewFile()) {\n             throw new IOException(\"Could not create: \" + file);",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Fixed a possible NPE when node creation fails.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/04bc7214008bf15be8873cfd8012eee603ed6512",
        "parent": "https://github.com/apache/karaf-jclouds/commit/048b1c2f3c8b0b2dc9f64035a3d4fabd2cc207b9",
        "bug_id": "karaf-jclouds_6",
        "file": [
            {
                "sha": "d4835acbe5441dbc63f44daa593aa04a501c0646",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/04bc7214008bf15be8873cfd8012eee603ed6512/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/04bc7214008bf15be8873cfd8012eee603ed6512/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java",
                "status": "modified",
                "changes": 24,
                "additions": 12,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/NodeCreateCommand.java?ref=04bc7214008bf15be8873cfd8012eee603ed6512",
                "patch": "@@ -143,18 +143,18 @@ protected Object doExecute() throws Exception {\n          System.out.println(\"Failed to create nodes:\" + ex.getMessage());\n       }\n \n-      if (metadatas != null && !metadatas.isEmpty()) {\n-         System.out.println(\"Created nodes:\");\n-         printNodes(service, metadatas, System.out);\n-      }\n-\n-      for (NodeMetadata node : metadatas) {\n-        for (String cacheKey : findCacheKeysForService(service)) {\n-          cacheProvider.getProviderCacheForType(Constants.ACTIVE_NODE_CACHE).put(cacheKey, node.getId());\n-          cacheProvider.getProviderCacheForType(Constants.INACTIVE_NODE_CACHE).put(cacheKey, node.getId());\n-          cacheProvider.getProviderCacheForType(Constants.SUSPENDED_NODE_CACHE).put(cacheKey, node.getId());\n-        }\n-      }\n+     if (metadatas != null && !metadatas.isEmpty()) {\n+       System.out.println(\"Created nodes:\");\n+       printNodes(service, metadatas, System.out);\n+\n+       for (NodeMetadata node : metadatas) {\n+         for (String cacheKey : findCacheKeysForService(service)) {\n+           cacheProvider.getProviderCacheForType(Constants.ACTIVE_NODE_CACHE).put(cacheKey, node.getId());\n+           cacheProvider.getProviderCacheForType(Constants.INACTIVE_NODE_CACHE).put(cacheKey, node.getId());\n+           cacheProvider.getProviderCacheForType(Constants.SUSPENDED_NODE_CACHE).put(cacheKey, node.getId());\n+         }\n+       }\n+     }\n \n       return null;\n    }",
                "deletions": 12
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Fixed a potential NPE in the managed shell table factory.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/abd006243460fe4faa4ebb4777db6c8c4aa32fa0",
        "parent": "https://github.com/apache/karaf-jclouds/commit/9908f5424a09c775653075326225a0207a6e2bfc",
        "bug_id": "karaf-jclouds_7",
        "file": [
            {
                "sha": "57b08045fea76321f7919e4e45e0b2c52f6de148",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/table/internal/ManagedShellTableFactory.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/abd006243460fe4faa4ebb4777db6c8c4aa32fa0/commands/src/main/java/org/jclouds/karaf/commands/table/internal/ManagedShellTableFactory.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/abd006243460fe4faa4ebb4777db6c8c4aa32fa0/commands/src/main/java/org/jclouds/karaf/commands/table/internal/ManagedShellTableFactory.java",
                "status": "modified",
                "changes": 14,
                "additions": 8,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/table/internal/ManagedShellTableFactory.java?ref=abd006243460fe4faa4ebb4777db6c8c4aa32fa0",
                "patch": "@@ -56,12 +56,14 @@\n    */\n   @Override\n   public void updated(Dictionary properties) throws ConfigurationException {\n-    Enumeration keys = properties.keys();\n-    getProperties().clear();\n-    while (keys.hasMoreElements()) {\n-      Object key = keys.nextElement();\n-      Object value = properties.get(key);\n-      getProperties().put(key, value);\n+    if (properties != null) {\n+      Enumeration keys = properties.keys();\n+      getProperties().clear();\n+      while (keys.hasMoreElements()) {\n+        Object key = keys.nextElement();\n+        Object value = properties.get(key);\n+        getProperties().put(key, value);\n+      }\n     }\n   }\n }",
                "deletions": 6
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Added some NPE checks in the credential store implementations.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/89a417b0b50090dfd7dd5a15990d932e5a70e1d1",
        "parent": "https://github.com/apache/karaf-jclouds/commit/5687ed29be2b93699762720f372845fa3f3c1aec",
        "bug_id": "karaf-jclouds_8",
        "file": [
            {
                "sha": "994bf623d72d678cd35aa926a20628750dea1d8f",
                "filename": "services/src/main/java/org/jclouds/karaf/services/modules/ConfigurationAdminCredentialStore.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/89a417b0b50090dfd7dd5a15990d932e5a70e1d1/services/src/main/java/org/jclouds/karaf/services/modules/ConfigurationAdminCredentialStore.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/89a417b0b50090dfd7dd5a15990d932e5a70e1d1/services/src/main/java/org/jclouds/karaf/services/modules/ConfigurationAdminCredentialStore.java",
                "status": "modified",
                "changes": 32,
                "additions": 20,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/services/src/main/java/org/jclouds/karaf/services/modules/ConfigurationAdminCredentialStore.java?ref=89a417b0b50090dfd7dd5a15990d932e5a70e1d1",
                "patch": "@@ -122,20 +122,28 @@ public Credentials get(Object o) {\n         }\n \n         public Credentials put(String s, Credentials credentials) {\n-            try {\n-                Dictionary dictionary = configuration.getProperties();\n-                if (dictionary == null) {\n-                }\n-                String identityKey = s + \"/identity\";\n-                String credentialKey = s + \"/credential\";\n-                dictionary.put(identityKey, credentials.identity);\n-                dictionary.put(credentialKey, credentials.credential);\n+            if (credentials != null) {\n+                try {\n+                    Dictionary dictionary = configuration.getProperties();\n+                    if (dictionary == null) {\n+                    }\n+                    String identityKey = s + \"/identity\";\n+                    String credentialKey = s + \"/credential\";\n \n-                configuration.update(dictionary);\n-            } catch (IOException e) {\n-                LOGGER.warn(\"Failed to store jclouds credentials to configuration admin.\",e);\n+                    if (credentials.identity != null) {\n+                        dictionary.put(identityKey, credentials.identity);\n+                    }\n+                    if (credentials.credential != null) {\n+                        dictionary.put(credentialKey, credentials.credential);\n+                    }\n+\n+                    configuration.update(dictionary);\n+                } catch (IOException e) {\n+                    LOGGER.warn(\"Failed to store jclouds credentials to configuration admin.\", e);\n+                }\n+                return credentialsMap.put(s, credentials);\n             }\n-            return credentialsMap.put(s, credentials);\n+            return credentials;\n         }\n \n         public Credentials remove(Object o) {",
                "deletions": 12
            },
            {
                "sha": "8e6e44c319f5a705f1a0487d1d5522425bcf34e8",
                "filename": "services/src/main/java/org/jclouds/karaf/services/modules/PropertiesCredentialStore.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/89a417b0b50090dfd7dd5a15990d932e5a70e1d1/services/src/main/java/org/jclouds/karaf/services/modules/PropertiesCredentialStore.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/89a417b0b50090dfd7dd5a15990d932e5a70e1d1/services/src/main/java/org/jclouds/karaf/services/modules/PropertiesCredentialStore.java",
                "status": "modified",
                "changes": 19,
                "additions": 13,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/services/src/main/java/org/jclouds/karaf/services/modules/PropertiesCredentialStore.java?ref=89a417b0b50090dfd7dd5a15990d932e5a70e1d1",
                "patch": "@@ -140,12 +140,19 @@ public Credentials get(Object o) {\n         }\n \n         public Credentials put(String s, Credentials credentials) {\n-            String identityKey = s + \"/identity\";\n-            String credentialKey = s + \"/credential\";\n-            properties.put(identityKey, credentials.identity);\n-            properties.put(credentialKey, credentials.credential);\n-            save();\n-            return credentialsMap.put(s, credentials);\n+            if (credentials != null) {\n+                String identityKey = s + \"/identity\";\n+                String credentialKey = s + \"/credential\";\n+                if (credentials.identity != null) {\n+                    properties.put(identityKey, credentials.identity);\n+                }\n+                if (credentials.credential != null) {\n+                    properties.put(credentialKey, credentials.credential);\n+                }\n+                save();\n+                return credentialsMap.put(s, credentials);\n+            }\n+            return credentials;\n         }\n \n         public Credentials remove(Object o) {",
                "deletions": 6
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Fixed an NPE when invoking the blobsotre commands outside OSGi.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/81de39a5d041d59b47bccf35e6563d1fc4b23f3c",
        "parent": "https://github.com/apache/karaf-jclouds/commit/3418988ba9cbf658ef8967084f41ec871ed4ebce",
        "bug_id": "karaf-jclouds_9",
        "file": [
            {
                "sha": "f932e1fcb54a3e1b3b441cce4121ee88e2678c51",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobStoreCommandSupport.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/81de39a5d041d59b47bccf35e6563d1fc4b23f3c/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobStoreCommandSupport.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/81de39a5d041d59b47bccf35e6563d1fc4b23f3c/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobStoreCommandSupport.java",
                "status": "modified",
                "changes": 3,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/blobstore/BlobStoreCommandSupport.java?ref=81de39a5d041d59b47bccf35e6563d1fc4b23f3c",
                "patch": "@@ -27,6 +27,7 @@\n import org.jclouds.blobstore.BlobStoreContext;\n import org.jclouds.blobstore.domain.Blob;\n import org.jclouds.blobstore.util.BlobStoreUtils;\n+import org.jclouds.karaf.cache.BasicCacheProvider;\n import org.jclouds.karaf.cache.CacheProvider;\n import org.jclouds.karaf.utils.EnvHelper;\n import org.jclouds.karaf.utils.blobstore.BlobStoreHelper;\n@@ -59,7 +60,7 @@\n     private List<BlobStore> services = new ArrayList<BlobStore>();\n \n \n-    protected CacheProvider cacheProvider;\n+    protected CacheProvider cacheProvider = new BasicCacheProvider();\n \n     @Option(name = \"--provider\", description = \"The provider or api to use.\")\n     protected String provider;",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Fixed an NPE with the blobstore context factory.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/6799f752714c0d1d9275e0f38eae645b91f6a774",
        "parent": "https://github.com/apache/karaf-jclouds/commit/e131eac89786d10c4592705a575c0bb03f59e02f",
        "bug_id": "karaf-jclouds_10",
        "file": [
            {
                "sha": "45148256f7df28b386419b0200f5d553e12b1a1b",
                "filename": "services/src/main/java/org/jclouds/karaf/services/BlobStoreServiceFactory.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/6799f752714c0d1d9275e0f38eae645b91f6a774/services/src/main/java/org/jclouds/karaf/services/BlobStoreServiceFactory.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/6799f752714c0d1d9275e0f38eae645b91f6a774/services/src/main/java/org/jclouds/karaf/services/BlobStoreServiceFactory.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/services/src/main/java/org/jclouds/karaf/services/BlobStoreServiceFactory.java?ref=6799f752714c0d1d9275e0f38eae645b91f6a774",
                "patch": "@@ -109,7 +109,7 @@ public void updated(String pid, Dictionary properties) throws ConfigurationExcep\n                 } else {\n                     return;\n                 }\n-                builder.credentials(identity, credential)\n+                context = builder.credentials(identity, credential)\n                         .modules(ImmutableSet.<Module>of(new Log4JLoggingModule()))\n                         .overrides(props)\n                         .build(BlobStoreContext.class);",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "karaf-jclouds",
        "message": "Fixed NPE when listing images with some providers. Improved formatting of commands.",
        "commit": "https://github.com/apache/karaf-jclouds/commit/6f355246176bc34ef3f9b3a25acd680ebb72e99e",
        "parent": "https://github.com/apache/karaf-jclouds/commit/1df12cce71ea60287603a24b8c782d4aac9192ed",
        "bug_id": "karaf-jclouds_11",
        "file": [
            {
                "sha": "445873b55ca94cfdfad39fce567b5baeee52b5ed",
                "filename": "commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandSupport.java",
                "blob_url": "https://github.com/apache/karaf-jclouds/blob/6f355246176bc34ef3f9b3a25acd680ebb72e99e/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandSupport.java",
                "raw_url": "https://github.com/apache/karaf-jclouds/raw/6f355246176bc34ef3f9b3a25acd680ebb72e99e/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandSupport.java",
                "status": "modified",
                "changes": 11,
                "additions": 7,
                "contents_url": "https://api.github.com/repos/apache/karaf-jclouds/contents/commands/src/main/java/org/jclouds/karaf/commands/compute/ComputeCommandSupport.java?ref=6f355246176bc34ef3f9b3a25acd680ebb72e99e",
                "patch": "@@ -42,10 +42,10 @@\n public abstract class ComputeCommandSupport extends OsgiCommandSupport {\n \n \n-    public static final String NODEFORMAT = \"%s%-30s %-20s %-20s %-20s %-20s\";\n+    public static final String NODEFORMAT = \"%s%-30s %-32s %-20s %-12s %-12s\";\n     public static final String HARDWAREFORMAT = \"%s%-20s %5s %7s %6s\";\n-    public static final String IMAGEFORMAT = \"%s%-30s %-20s %s\";\n-    public static final String LOCATIONFORMAT = \"%-30s %-9s %s\";\n+    public static final String IMAGEFORMAT = \"%s%-30s %-32s %s\";\n+    public static final String LOCATIONFORMAT = \"%-32s %-9s %s\";\n \n     private ConfigurationAdmin configurationAdmin;\n     private List<ComputeService> services;\n@@ -76,7 +76,10 @@ protected void printHardwares(Set<? extends Hardware> hardwares, String indent,\n     protected void printImages(Set<? extends Image> images, String indent, PrintStream out) {\n         out.println(String.format(IMAGEFORMAT, indent, \"[id]\", \"[location]\", \"[description]\"));\n         for (Image image : images) {\n-            out.println(String.format(IMAGEFORMAT, indent, image.getId(), image.getLocation().getId(), image.getDescription()));\n+            String id = image.getId();\n+            String location = image.getLocation() != null ? image.getLocation().getId() : \"\";\n+            String description = image.getDescription();\n+            out.println(String.format(IMAGEFORMAT, indent, id, location, description));\n             CacheProvider.getCache(\"image\").add(image.getId());\n         }\n     }",
                "deletions": 4
            }
        ]
    }
]