{
    "opennlp_f418eed": {
        "repo": "opennlp",
        "message": "OPENNLP-1078: Fix NPE in irishsentencebank reader\n\ncloses apache/opennlp#219",
        "commit": "https://github.com/apache/opennlp/commit/f418eed3089d74caa11affaf947a40b774e9c8cb",
        "parent": "https://github.com/apache/opennlp/commit/e972869486f85c3424875a443eb04bda2eeb6bd3",
        "bug_id": "opennlp_f418eed",
        "file": [
            {
                "sha": "2fe9231e772469ebff2fcc7be40008152b050de8",
                "filename": "opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "blob_url": "https://github.com/apache/opennlp/blob/f418eed3089d74caa11affaf947a40b774e9c8cb/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "raw_url": "https://github.com/apache/opennlp/raw/f418eed3089d74caa11affaf947a40b774e9c8cb/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "status": "modified",
                "changes": 4,
                "additions": 4,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java?ref=f418eed3089d74caa11affaf947a40b774e9c8cb",
                "patch": "@@ -242,6 +242,10 @@ public static IrishSentenceBankDocument parse(InputStream is) throws IOException\n           IrishSentenceBankFlex[] flexa = new IrishSentenceBankFlex[flexes];\n           for (Integer flexidx : toks.keySet()) {\n             String left = toks.get(flexidx);\n+            if (flx.get(flexidx) == null) {\n+              flexa = null;\n+              break;\n+            }\n             int rsize = flx.get(flexidx).size();\n             String[] right = new String[rsize];\n             right = flx.get(flexidx).toArray(right);",
                "deletions": 0
            }
        ],
        "patched_files": [
            "IrishSentenceBankDocument.java"
        ],
        "unit_tests": [
            "IrishSentenceBankDocumentTest.java"
        ]
    },
    "opennlp_cb6ee2c": {
        "repo": "opennlp",
        "message": "OPENNLP-1056: Fix NullPointerException in DictionaryLemmatizer",
        "commit": "https://github.com/apache/opennlp/commit/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
        "parent": "https://github.com/apache/opennlp/commit/60792b8f369b73316fce6310330c28a7a0d45246",
        "bug_id": "opennlp_cb6ee2c",
        "file": [
            {
                "sha": "37d488c594a2536f288279336316b28c7a748fdd",
                "filename": "opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "patch": "@@ -114,7 +114,7 @@ private String lemmatize(final String word, final String postag) {\n     final List<String> keys = this.getDictKeys(word, postag);\n     // lookup lemma as value of the map\n     final List<String> keyValues = this.dictMap.get(keys);\n-    if (!keyValues.isEmpty()) {\n+    if ( keyValues != null && !keyValues.isEmpty()) {\n       lemma = keyValues.get(0);\n     } else {\n       lemma = \"O\";",
                "deletions": 1
            },
            {
                "sha": "6cf72cffa520d8d86e8daba4872222e45febddfe",
                "filename": "opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "status": "added",
                "changes": 49,
                "additions": 49,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "patch": "@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package opennlp.tools.lemmatizer;\n+\n+import org.junit.Assert;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+public class DictionaryLemmatizerTest {\n+\n+  private static DictionaryLemmatizer dictionaryLemmatizer;\n+\n+  @BeforeClass\n+  public static void loadDictionary() throws Exception {\n+    dictionaryLemmatizer = new DictionaryLemmatizer(\n+        DictionaryLemmatizerTest.class.getResourceAsStream(\"/opennlp/tools/lemmatizer/smalldictionary.dict\") \n+    );\n+  }\n+  \n+  @Test\n+  public void testForNullPointerException() {\n+    String[] sentence = new String[]{\"The\",\"dogs\",\"were\",\"running\",\"and\",\"barking\",\"down\",\"the\",\"street\"};\n+    String[] sentencePOS = new String[]{\"DT\",\"NNS\",\"VBD\",\"VBG\",\"CC\",\"VBG\",\"RP\",\"DT\",\"NN\"};\n+    String[] expectedLemma = new String[]{\"the\",\"dog\",\"is\",\"run\",\"and\",\"bark\",\"down\",\"the\",\"street\"};\n+    \n+    String[] actualLemma = dictionaryLemmatizer.lemmatize(sentence, sentencePOS);\n+    \n+    for (int i = 0;i < sentence.length;i++) {\n+      // don't compare cases where the word is not in the dictionary...\n+      if (!actualLemma[i].equals(\"O\")) Assert.assertEquals(expectedLemma[i], actualLemma[i]);\n+    }\n+  }\n+\n+}",
                "deletions": 0
            },
            {
                "sha": "edeb7a002953568bbc8e5a3875aa624a3ad940fc",
                "filename": "opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "status": "added",
                "changes": 5,
                "additions": 5,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "patch": "@@ -0,0 +1,5 @@\n+barking\tVBG\tbark\n+dogs\tNNS\tdog\n+running\tVBG\trun\n+down\tRP\tdown\n+street\tNN\tstreet\n\\ No newline at end of file",
                "deletions": 0
            }
        ],
        "patched_files": [
            "DictionaryLemmatizer.java"
        ],
        "unit_tests": [
            "DictionaryLemmatizerTest.java"
        ]
    }
}