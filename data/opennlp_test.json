{
    "opennlp_3226bd3": {
        "bug_id": "opennlp_3226bd3",
        "commit": "https://github.com/apache/opennlp/commit/3226bd3b2e6898c297bb22a5226bcffb28f55b72",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/opennlp/blob/3226bd3b2e6898c297bb22a5226bcffb28f55b72/opennlp-tools/src/main/java/opennlp/tools/util/StringUtil.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/util/StringUtil.java?ref=3226bd3b2e6898c297bb22a5226bcffb28f55b72",
                "deletions": 1,
                "filename": "opennlp-tools/src/main/java/opennlp/tools/util/StringUtil.java",
                "patch": "@@ -111,6 +111,6 @@ public static String toUpperCase(CharSequence string) {\n     * @since 1.5.1\n     */\n   public static boolean isEmpty(CharSequence theString) {\n-\treturn theString == null || theString.length() == 0;\n+\treturn theString.length() == 0;\n   }\n }",
                "raw_url": "https://github.com/apache/opennlp/raw/3226bd3b2e6898c297bb22a5226bcffb28f55b72/opennlp-tools/src/main/java/opennlp/tools/util/StringUtil.java",
                "sha": "01274d1c77c9b364f1ab6a3e432cf145457b787e",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/opennlp/blob/3226bd3b2e6898c297bb22a5226bcffb28f55b72/opennlp-tools/src/test/java/opennlp/tools/util/StringUtilTest.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/test/java/opennlp/tools/util/StringUtilTest.java?ref=3226bd3b2e6898c297bb22a5226bcffb28f55b72",
                "deletions": 1,
                "filename": "opennlp-tools/src/test/java/opennlp/tools/util/StringUtilTest.java",
                "patch": "@@ -52,9 +52,14 @@ public void testToUpperCase() {\n   \n   @Test\n   public void testIsEmpty() {\n-    assertTrue(StringUtil.isEmpty(null));\n     assertTrue(StringUtil.isEmpty(\"\"));\n     assertTrue(!StringUtil.isEmpty(\"a\"));\n   }\n+  \n+  @Test(expected=NullPointerException.class)\n+  public void testIsEmptyWithNullString() {\n+\t// should raise a NPE  \n+    StringUtil.isEmpty(null);\n+  }\n \n }",
                "raw_url": "https://github.com/apache/opennlp/raw/3226bd3b2e6898c297bb22a5226bcffb28f55b72/opennlp-tools/src/test/java/opennlp/tools/util/StringUtilTest.java",
                "sha": "df33d46a7140564976e95423fcf609950b160d52",
                "status": "modified"
            }
        ],
        "message": "OPENNLP-40 removed null validation from isEmpty. It will throw a NullPointerException if a null string is passed.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1049662 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/opennlp/commit/dadd4a00ced234bd3cf81531b6451844e4bc8147",
        "patched_files": [
            "StringUtil.java"
        ],
        "repo": "opennlp",
        "unit_tests": [
            "StringUtilTest.java"
        ]
    },
    "opennlp_7197b5c": {
        "bug_id": "opennlp_7197b5c",
        "commit": "https://github.com/apache/opennlp/commit/7197b5c68d36f1bdd2d926dadf2f774656d64f58",
        "file": [
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/opennlp/blob/7197b5c68d36f1bdd2d926dadf2f774656d64f58/opennlp-tools/src/main/java/opennlp/tools/ml/TrainerFactory.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/ml/TrainerFactory.java?ref=7197b5c68d36f1bdd2d926dadf2f774656d64f58",
                "deletions": 3,
                "filename": "opennlp-tools/src/main/java/opennlp/tools/ml/TrainerFactory.java",
                "patch": "@@ -66,15 +66,17 @@ public static boolean isSupportEvent(Map<String, String> trainParams) {\n     String trainerType = trainParams.get(AbstractTrainer.TRAINER_TYPE_PARAM);\n     \n     if (trainerType == null) {\n-      trainerType = getPluggableTrainerType(trainParams.get(AbstractTrainer.ALGORITHM_PARAM));\n+      String alogrithmValue = trainParams.get(AbstractTrainer.ALGORITHM_PARAM);\n+      if (alogrithmValue != null) {\n+        trainerType = getPluggableTrainerType(trainParams.get(AbstractTrainer.ALGORITHM_PARAM));\n+      }\n     }\n     \n     if (trainParams.get(AbstractTrainer.TRAINER_TYPE_PARAM) != null) {\n       return EventTrainer.EVENT_VALUE.equals(trainParams\n           .get(AbstractTrainer.TRAINER_TYPE_PARAM));\n     } \n     \n-    // default\n     return true;\n   }\n \n@@ -83,7 +85,10 @@ public static boolean isSupportSequence(Map<String, String> trainParams) {\n     String trainerType = trainParams.get(AbstractTrainer.TRAINER_TYPE_PARAM);\n     \n     if (trainerType == null) {\n-      trainerType = getPluggableTrainerType(trainParams.get(AbstractTrainer.ALGORITHM_PARAM));\n+      String alogrithmValue = trainParams.get(AbstractTrainer.ALGORITHM_PARAM);\n+      if (alogrithmValue != null) {\n+        trainerType = getPluggableTrainerType(trainParams.get(AbstractTrainer.ALGORITHM_PARAM));\n+      }\n     }\n     \n     if (SequenceTrainer.SEQUENCE_VALUE.equals(trainerType)) {",
                "raw_url": "https://github.com/apache/opennlp/raw/7197b5c68d36f1bdd2d926dadf2f774656d64f58/opennlp-tools/src/main/java/opennlp/tools/ml/TrainerFactory.java",
                "sha": "4cf1df0f4636239daeb994e6a8972f0b92190081",
                "status": "modified"
            }
        ],
        "message": "No jira, fixed a null check to avoid a NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1560972 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/opennlp/commit/cf3d1823589c6200bc43dae7b34ce45ffd9caef8",
        "patched_files": [
            "TrainerFactory.java"
        ],
        "repo": "opennlp",
        "unit_tests": [
            "TrainerFactoryTest.java"
        ]
    },
    "opennlp_cb6ee2c": {
        "bug_id": "opennlp_cb6ee2c",
        "commit": "https://github.com/apache/opennlp/commit/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "deletions": 1,
                "filename": "opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "patch": "@@ -114,7 +114,7 @@ private String lemmatize(final String word, final String postag) {\n     final List<String> keys = this.getDictKeys(word, postag);\n     // lookup lemma as value of the map\n     final List<String> keyValues = this.dictMap.get(keys);\n-    if (!keyValues.isEmpty()) {\n+    if ( keyValues != null && !keyValues.isEmpty()) {\n       lemma = keyValues.get(0);\n     } else {\n       lemma = \"O\";",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/main/java/opennlp/tools/lemmatizer/DictionaryLemmatizer.java",
                "sha": "37d488c594a2536f288279336316b28c7a748fdd",
                "status": "modified"
            },
            {
                "additions": 49,
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "changes": 49,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "deletions": 0,
                "filename": "opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "patch": "@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package opennlp.tools.lemmatizer;\n+\n+import org.junit.Assert;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+public class DictionaryLemmatizerTest {\n+\n+  private static DictionaryLemmatizer dictionaryLemmatizer;\n+\n+  @BeforeClass\n+  public static void loadDictionary() throws Exception {\n+    dictionaryLemmatizer = new DictionaryLemmatizer(\n+        DictionaryLemmatizerTest.class.getResourceAsStream(\"/opennlp/tools/lemmatizer/smalldictionary.dict\") \n+    );\n+  }\n+  \n+  @Test\n+  public void testForNullPointerException() {\n+    String[] sentence = new String[]{\"The\",\"dogs\",\"were\",\"running\",\"and\",\"barking\",\"down\",\"the\",\"street\"};\n+    String[] sentencePOS = new String[]{\"DT\",\"NNS\",\"VBD\",\"VBG\",\"CC\",\"VBG\",\"RP\",\"DT\",\"NN\"};\n+    String[] expectedLemma = new String[]{\"the\",\"dog\",\"is\",\"run\",\"and\",\"bark\",\"down\",\"the\",\"street\"};\n+    \n+    String[] actualLemma = dictionaryLemmatizer.lemmatize(sentence, sentencePOS);\n+    \n+    for (int i = 0;i < sentence.length;i++) {\n+      // don't compare cases where the word is not in the dictionary...\n+      if (!actualLemma[i].equals(\"O\")) Assert.assertEquals(expectedLemma[i], actualLemma[i]);\n+    }\n+  }\n+\n+}",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/java/opennlp/tools/lemmatizer/DictionaryLemmatizerTest.java",
                "sha": "6cf72cffa520d8d86e8daba4872222e45febddfe",
                "status": "added"
            },
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/opennlp/blob/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict?ref=cb6ee2cbdeadad5d277a6e7293d88bb915090c4f",
                "deletions": 0,
                "filename": "opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "patch": "@@ -0,0 +1,5 @@\n+barking\tVBG\tbark\n+dogs\tNNS\tdog\n+running\tVBG\trun\n+down\tRP\tdown\n+street\tNN\tstreet\n\\ No newline at end of file",
                "raw_url": "https://github.com/apache/opennlp/raw/cb6ee2cbdeadad5d277a6e7293d88bb915090c4f/opennlp-tools/src/test/resources/opennlp/tools/lemmatizer/smalldictionary.dict",
                "sha": "edeb7a002953568bbc8e5a3875aa624a3ad940fc",
                "status": "added"
            }
        ],
        "message": "OPENNLP-1056: Fix NullPointerException in DictionaryLemmatizer",
        "parent": "https://github.com/apache/opennlp/commit/60792b8f369b73316fce6310330c28a7a0d45246",
        "patched_files": [
            "smalldictionary.dict",
            "DictionaryLemmatizer.java"
        ],
        "repo": "opennlp",
        "unit_tests": [
            "DictionaryLemmatizerTest.java"
        ]
    },
    "opennlp_f418eed": {
        "bug_id": "opennlp_f418eed",
        "commit": "https://github.com/apache/opennlp/commit/f418eed3089d74caa11affaf947a40b774e9c8cb",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/opennlp/blob/f418eed3089d74caa11affaf947a40b774e9c8cb/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/opennlp/contents/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java?ref=f418eed3089d74caa11affaf947a40b774e9c8cb",
                "deletions": 0,
                "filename": "opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "patch": "@@ -242,6 +242,10 @@ public static IrishSentenceBankDocument parse(InputStream is) throws IOException\n           IrishSentenceBankFlex[] flexa = new IrishSentenceBankFlex[flexes];\n           for (Integer flexidx : toks.keySet()) {\n             String left = toks.get(flexidx);\n+            if (flx.get(flexidx) == null) {\n+              flexa = null;\n+              break;\n+            }\n             int rsize = flx.get(flexidx).size();\n             String[] right = new String[rsize];\n             right = flx.get(flexidx).toArray(right);",
                "raw_url": "https://github.com/apache/opennlp/raw/f418eed3089d74caa11affaf947a40b774e9c8cb/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java",
                "sha": "2fe9231e772469ebff2fcc7be40008152b050de8",
                "status": "modified"
            }
        ],
        "message": "OPENNLP-1078: Fix NPE in irishsentencebank reader\n\ncloses apache/opennlp#219",
        "parent": "https://github.com/apache/opennlp/commit/e972869486f85c3424875a443eb04bda2eeb6bd3",
        "patched_files": [
            "IrishSentenceBankDocument.java"
        ],
        "repo": "opennlp",
        "unit_tests": [
            "IrishSentenceBankDocumentTest.java"
        ]
    }
}