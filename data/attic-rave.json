{
    "attic-rave_0f19844": {
        "bug_id": "attic-rave_0f19844",
        "commit": "https://github.com/apache/attic-rave/commit/0f198448f3ec01087720469e3d39926f71023558",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/attic-rave/blob/0f198448f3ec01087720469e3d39926f71023558/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionPermissionEvaluator.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/attic-rave/contents/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionPermissionEvaluator.java?ref=0f198448f3ec01087720469e3d39926f71023558",
                "deletions": 1,
                "filename": "rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionPermissionEvaluator.java",
                "patch": "@@ -201,7 +201,8 @@ private boolean isRegionMember(Authentication authentication, Region region, Lis\n         String viewer = ((User)authentication.getPrincipal()).getUsername();\r\n         do {\r\n             for (PageUser pageUser:containerPage.getMembers()){\r\n-                if (userRepository.get(pageUser.getUserId()).getUsername().equals(viewer)){\r\n+                User user = userRepository.get(pageUser.getUserId());\r\n+                if (user != null && user.getUsername().equals(viewer)){\r\n                     log.info(\"User \"+viewer+\" is a member of page \"+containerPage.getId());\r\n                     if(checkEditorStatus){\r\n                         return pageUser.isEditor();\r",
                "raw_url": "https://github.com/apache/attic-rave/raw/0f198448f3ec01087720469e3d39926f71023558/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionPermissionEvaluator.java",
                "sha": "fb6cc19d29d493d71e61a60582f3820b46e45669",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/attic-rave/blob/0f198448f3ec01087720469e3d39926f71023558/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionWidgetPermissionEvaluator.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/attic-rave/contents/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionWidgetPermissionEvaluator.java?ref=0f198448f3ec01087720469e3d39926f71023558",
                "deletions": 1,
                "filename": "rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionWidgetPermissionEvaluator.java",
                "patch": "@@ -206,7 +206,8 @@ private boolean isRegionWidgetMember(Authentication authentication,\n         String viewer = ((User)authentication.getPrincipal()).getUsername();\r\n         do {\r\n             for (PageUser pageUser:containerPage.getMembers()){\r\n-                if (userRepository.get(pageUser.getUserId()).getUsername().equals(viewer)){\r\n+                User user = userRepository.get(pageUser.getUserId());\r\n+                if (user != null && user.getUsername().equals(viewer)){\r\n                     log.info(\"User \"+viewer+\" is a member of page \"+containerPage.getId());\r\n                     if(checkEditorStatus){\r\n                         return pageUser.isEditor();\r",
                "raw_url": "https://github.com/apache/attic-rave/raw/0f198448f3ec01087720469e3d39926f71023558/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultRegionWidgetPermissionEvaluator.java",
                "sha": "d521e7fe8250e3a295f4fe558d89692e592cf2c2",
                "status": "modified"
            }
        ],
        "message": "RAVE-1274 | Ensure a null user won't throw an NPE",
        "parent": "https://github.com/apache/attic-rave/commit/22e16c6aeafc7c3101bca3749fc074ebc60a23e6",
        "repo": "attic-rave",
        "unit_tests": [
            "DefaultRegionWidgetPermissionEvaluatorTest.java"
        ]
    },
    "attic-rave_a79d859": {
        "bug_id": "attic-rave_a79d859",
        "commit": "https://github.com/apache/attic-rave/commit/a79d859bd559f956fa638d8045d9af85ed6285e3",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/attic-rave/blob/a79d859bd559f956fa638d8045d9af85ed6285e3/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultPagePermissionEvaluator.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/attic-rave/contents/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultPagePermissionEvaluator.java?ref=a79d859bd559f956fa638d8045d9af85ed6285e3",
                "deletions": 2,
                "filename": "rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultPagePermissionEvaluator.java",
                "patch": "@@ -224,7 +224,8 @@ private boolean isPageMember(Authentication authentication, Page page, List<Page\n         List<PageUser> members = trustedPage.getMembers();\n         if (members != null) {\n             for (PageUser pageUser : members){\n-                if (userRepository.get(pageUser.getUserId()).getUsername().equals(viewer)){\n+                User user = userRepository.get(pageUser.getUserId());\n+                if (user != null && user.getUsername().equals(viewer)){\n                     log.info(\"User \"+viewer+\" is a member of page \"+trustedPage.getId());\n                     if(checkEditorStatus){\n                         log.info(\"checking editor:\"+trustedPage.getId()+\"@\"+viewer+\"@\"+pageUser.isEditor());\n@@ -238,4 +239,4 @@ private boolean isPageMember(Authentication authentication, Page page, List<Page\n         return false;\n     }\n \n-}\n\\ No newline at end of file\n+}",
                "raw_url": "https://github.com/apache/attic-rave/raw/a79d859bd559f956fa638d8045d9af85ed6285e3/rave-components/rave-core/src/main/java/org/apache/rave/portal/security/impl/DefaultPagePermissionEvaluator.java",
                "sha": "81cf436bb9f001b8a0a403ed1931d13243cc644b",
                "status": "modified"
            }
        ],
        "message": "RAVE-1273 | Orphaned page members shouldn't cause an NPE",
        "parent": "https://github.com/apache/attic-rave/commit/126f1fe4154e06ad29024346114478363674e697",
        "repo": "attic-rave",
        "unit_tests": [
            "DefaultPagePermissionEvaluatorTest.java"
        ]
    }
}