[
    {
        "repo": "jackrabbit-filevault",
        "message": "trivial: prevent potential NPEs in test\n\ngit-svn-id: https://svn.apache.org/repos/asf/jackrabbit/commons/filevault/trunk@1873526 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/jackrabbit-filevault/commit/f7364c705626862235db8d327b5076c6acf376d8",
        "parent": "https://github.com/apache/jackrabbit-filevault/commit/079c8f5cfcd37e00e412287c0ecbb6622e43da21",
        "bug_id": "jackrabbit-filevault_1",
        "file": [
            {
                "sha": "2089117cd93088b3c66c5f75fb11c494dfc0e976",
                "filename": "vault-validation/src/test/java/org/apache/jackrabbit/vault/validation/ValidationExecutorFactoryTest.java",
                "blob_url": "https://github.com/apache/jackrabbit-filevault/blob/f7364c705626862235db8d327b5076c6acf376d8/vault-validation/src/test/java/org/apache/jackrabbit/vault/validation/ValidationExecutorFactoryTest.java",
                "raw_url": "https://github.com/apache/jackrabbit-filevault/raw/f7364c705626862235db8d327b5076c6acf376d8/vault-validation/src/test/java/org/apache/jackrabbit/vault/validation/ValidationExecutorFactoryTest.java",
                "status": "modified",
                "changes": 6,
                "additions": 6,
                "contents_url": "https://api.github.com/repos/apache/jackrabbit-filevault/contents/vault-validation/src/test/java/org/apache/jackrabbit/vault/validation/ValidationExecutorFactoryTest.java?ref=f7364c705626862235db8d327b5076c6acf376d8",
                "patch": "@@ -90,6 +90,9 @@ public void setUp() {\n     public void testOrderOfValidators() throws ParserConfigurationException, SAXException {\n         // first validate order\n         ValidationExecutor executor =  executorFactory.createValidationExecutor(context, true, true, validatorsSettings);\n+        if (executor == null) {\n+            throw new IllegalStateException(\"Could not create validation executor!\");\n+        }\n         Map<String, Validator> actualValidators = executor.getAllValidatorsById();\n         Map<String, Validator> expectedValidators = new LinkedHashMap<>();\n         expectedValidators.put(\"id1\", validator1);\n@@ -101,6 +104,9 @@ public void testOrderOfValidators() throws ParserConfigurationException, SAXExce\n         Collections.shuffle(validatorFactories);\n         executorFactory = new ValidationExecutorFactory(validatorFactories);\n         executor =  executorFactory.createValidationExecutor(context, true, true, validatorsSettings);\n+        if (executor == null) {\n+            throw new IllegalStateException(\"Could not create validation executor!\");\n+        }\n         actualValidators = executor.getAllValidatorsById();\n         // the returned validators should still have the same order\n         Assert.assertEquals(expectedValidators.toString(), actualValidators.toString());",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "jackrabbit-filevault",
        "message": "JCRVLT-158 Assert causing a NPE if executed\n\ngit-svn-id: https://svn.apache.org/repos/asf/jackrabbit/commons/filevault/trunk@1788832 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/jackrabbit-filevault/commit/e8f6ee147204bb6261fca3ba41cf9d6c1ace7306",
        "parent": "https://github.com/apache/jackrabbit-filevault/commit/97b6fd22423f07f481dd9d0a5788a989f775a029",
        "bug_id": "jackrabbit-filevault_2",
        "file": [
            {
                "sha": "4db55b103b51e3d46ab888d3d5c16c19f28da04e",
                "filename": "vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/AggregateManagerImpl.java",
                "blob_url": "https://github.com/apache/jackrabbit-filevault/blob/e8f6ee147204bb6261fca3ba41cf9d6c1ace7306/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/AggregateManagerImpl.java",
                "raw_url": "https://github.com/apache/jackrabbit-filevault/raw/e8f6ee147204bb6261fca3ba41cf9d6c1ace7306/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/AggregateManagerImpl.java",
                "status": "modified",
                "changes": 1,
                "additions": 0,
                "contents_url": "https://api.github.com/repos/apache/jackrabbit-filevault/contents/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/AggregateManagerImpl.java?ref=e8f6ee147204bb6261fca3ba41cf9d6c1ace7306",
                "patch": "@@ -156,7 +156,6 @@ public static AggregateManager mount(VaultFsConfig config,\n                                          RepositoryAddress mountpoint,\n                                          Session session)\n             throws RepositoryException {\n-        assert mountpoint.getWorkspace().equals(session.getWorkspace().getName());\n         if (config == null) {\n             config = getDefaultConfig();\n         }",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "jackrabbit-filevault",
        "message": "JCRVLT-34 NPE in MemoryArchive\n\ngit-svn-id: https://svn.apache.org/repos/asf/jackrabbit/commons/filevault/trunk@1569889 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/jackrabbit-filevault/commit/cea682bccc5dc9a54df30dadcdb26b18e36c20ee",
        "parent": "https://github.com/apache/jackrabbit-filevault/commit/cd3bbab97b37f7a77e16bc16c48f6ab11ded3fd3",
        "bug_id": "jackrabbit-filevault_3",
        "file": [
            {
                "sha": "c613bc8f2be474d1a7ba9161dcbdee3799179143",
                "filename": "vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/MemoryArchive.java",
                "blob_url": "https://github.com/apache/jackrabbit-filevault/blob/cea682bccc5dc9a54df30dadcdb26b18e36c20ee/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/MemoryArchive.java",
                "raw_url": "https://github.com/apache/jackrabbit-filevault/raw/cea682bccc5dc9a54df30dadcdb26b18e36c20ee/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/MemoryArchive.java",
                "status": "modified",
                "changes": 5,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/jackrabbit-filevault/contents/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/io/MemoryArchive.java?ref=cea682bccc5dc9a54df30dadcdb26b18e36c20ee",
                "patch": "@@ -23,6 +23,7 @@\n import java.io.InputStreamReader;\n import java.io.Reader;\n import java.util.Collection;\n+import java.util.Collections;\n import java.util.LinkedHashMap;\n import java.util.Map;\n import java.util.zip.ZipEntry;\n@@ -234,11 +235,11 @@ public boolean isDirectory() {\n         }\n \n         public Collection<? extends Entry> getChildren() {\n-            return children.values();\n+            return children == null ? Collections.<Entry>emptyList() : children.values();\n         }\n \n         public Entry getChild(String name) {\n-            return children.get(name);\n+            return children == null ? null : children.get(name);\n         }\n \n         public VirtualEntry add(String name, long time, byte[] data) {",
                "deletions": 2
            }
        ]
    },
    {
        "repo": "jackrabbit-filevault",
        "message": "JCR-3644 vlt: NPE when checkout is executed outside jcr_root\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jackrabbit/commons/filevault/trunk@1515662 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/jackrabbit-filevault/commit/3a00d83970d80adab7e8f305b6c712d02a9d377c",
        "parent": "https://github.com/apache/jackrabbit-filevault/commit/2f21afa1963120b2549dcf06cb5e263919931df4",
        "bug_id": "jackrabbit-filevault_4",
        "file": [
            {
                "sha": "7d664ff9d0c87eec7d9fc0b5b2d879a82d6d1a73",
                "filename": "vault-vlt/src/main/java/org/apache/jackrabbit/vault/vlt/actions/Checkout.java",
                "blob_url": "https://github.com/apache/jackrabbit-filevault/blob/3a00d83970d80adab7e8f305b6c712d02a9d377c/vault-vlt/src/main/java/org/apache/jackrabbit/vault/vlt/actions/Checkout.java",
                "raw_url": "https://github.com/apache/jackrabbit-filevault/raw/3a00d83970d80adab7e8f305b6c712d02a9d377c/vault-vlt/src/main/java/org/apache/jackrabbit/vault/vlt/actions/Checkout.java",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/jackrabbit-filevault/contents/vault-vlt/src/main/java/org/apache/jackrabbit/vault/vlt/actions/Checkout.java?ref=3a00d83970d80adab7e8f305b6c712d02a9d377c",
                "patch": "@@ -71,6 +71,8 @@ public void run(VltContext ctx) throws VltException {\n             String path = ctx.getExportRoot().getJcrRoot().getPath();\n             if (force) {\n                 ctx.printMessage(\"Checkout \" + mountPoint.resolve(remoteDir) + \" with local files using root at \" + path);\n+                // ensure we use the calculated jcr_root\n+                localDir = ctx.getExportRoot().getJcrRoot();\n             } else {\n                 throw ctx.error(localDir.getPath(),\n                         \"there seems to be already a checkout at \" + path + \". \" +",
                "deletions": 0
            }
        ]
    }
]