{
    "lenya_06f0c37": {
        "bug_id": "lenya_06f0c37",
        "commit": "https://github.com/apache/lenya/commit/06f0c37c65d1df32b4e573fed7b2641840aba5f8",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/lenya/blob/06f0c37c65d1df32b4e573fed7b2641840aba5f8/src/java/org/apache/lenya/cms/publication/URLInformation.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/lenya/contents/src/java/org/apache/lenya/cms/publication/URLInformation.java?ref=06f0c37c65d1df32b4e573fed7b2641840aba5f8",
                "deletions": 2,
                "filename": "src/java/org/apache/lenya/cms/publication/URLInformation.java",
                "patch": "@@ -53,8 +53,9 @@ public String getArea() {\n      * @return A string.\n      */\n     public String getCompleteArea() {\n-        if (this.completeArea == null) {\n-            String pubUrl = this.url.substring(getPublicationId().length());\n+        String pubId = getPublicationId();\n+        if (this.completeArea == null && pubId != null) {\n+            String pubUrl = this.url.substring(pubId.length());\n             if (pubUrl.startsWith(\"/\")) {\n                 this.completeArea = extractBeforeSlash(pubUrl.substring(1));\n             } else {",
                "raw_url": "https://github.com/apache/lenya/raw/06f0c37c65d1df32b4e573fed7b2641840aba5f8/src/java/org/apache/lenya/cms/publication/URLInformation.java",
                "sha": "bc8f53d75244b73ae00a682b942587bafc21abec",
                "status": "modified"
            }
        ],
        "message": "URLInformation: avoid NPE for '/' URLs\n\ngit-svn-id: https://svn.apache.org/repos/asf/lenya/trunk@550461 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/lenya/commit/233e23b0e96b861b8de98ec9aa45cfbce22029e9",
        "repo": "lenya",
        "unit_tests": [
            "URLInformationTest.java"
        ]
    },
    "lenya_0da9bc3": {
        "bug_id": "lenya_0da9bc3",
        "commit": "https://github.com/apache/lenya/commit/0da9bc340236e6f10911b2a1c67c383e529d7c63",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/lenya/blob/0da9bc340236e6f10911b2a1c67c383e529d7c63/src/java/org/apache/lenya/cms/publication/DefaultDocument.java",
                "changes": 9,
                "contents_url": "https://api.github.com/repos/apache/lenya/contents/src/java/org/apache/lenya/cms/publication/DefaultDocument.java?ref=0da9bc340236e6f10911b2a1c67c383e529d7c63",
                "deletions": 3,
                "filename": "src/java/org/apache/lenya/cms/publication/DefaultDocument.java",
                "patch": "@@ -1,5 +1,5 @@\n /*\n-$Id: DefaultDocument.java,v 1.20 2003/07/31 11:56:42 andreas Exp $\n+$Id: DefaultDocument.java,v 1.21 2003/08/08 08:35:58 gregor Exp $\n <License>\n \n  ============================================================================\n@@ -105,9 +105,11 @@ protected DefaultDocument(Publication publication, String id, String area) {\n \n         assert (publication != null) && !\"\".equals(publication);\n         this.publication = publication;\n+\n+\t\tsetArea(area);\n+\n \t\tthis.dublincore =  new DublinCore(this);\n \n-        setArea(area);\n     }\n \n \t/**\n@@ -124,9 +126,10 @@ protected DefaultDocument(Publication publication, String id, String area, Strin\n \t\tassert (publication != null) && !\"\".equals(publication);\n \t\tthis.publication = publication;\n \t\tthis.language = language;\n+\t\tsetArea(area);\n+\n \t\tthis.dublincore =  new DublinCore(this);\n \n-\t\tsetArea(area);\n \t}\n \n     /**",
                "raw_url": "https://github.com/apache/lenya/raw/0da9bc340236e6f10911b2a1c67c383e529d7c63/src/java/org/apache/lenya/cms/publication/DefaultDocument.java",
                "sha": "31fd40418246754dea36f5aea99419b697317728",
                "status": "modified"
            }
        ],
        "message": "we need to set the area before we call the DublinCore constructor or we'll get a NPE\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/lenya/trunk@40628 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/lenya/commit/7893547264e5734ac63d6f1fb3f6682420465f37",
        "repo": "lenya",
        "unit_tests": [
            "DefaultDocumentTest.java"
        ]
    },
    "lenya_2c9f20d": {
        "bug_id": "lenya_2c9f20d",
        "commit": "https://github.com/apache/lenya/commit/2c9f20dbf6d8813f8662f4c4b904684f799289eb",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/lenya/blob/2c9f20dbf6d8813f8662f4c4b904684f799289eb/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/lenya/contents/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java?ref=2c9f20dbf6d8813f8662f4c4b904684f799289eb",
                "deletions": 1,
                "filename": "src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java",
                "patch": "@@ -86,9 +86,11 @@ protected void advanceState(String event) {\n \n     /**\n      * @see org.apache.lenya.cms.usecase.Usecase#getSourceURL()\n+     * We don't use getParameterAsString() because this will typically\n+     * cause stack overflows or NPEs in connection with initParameters().\n      */\n     public String getSourceURL() {\n-        return getParameterAsString(SOURCE_URL);\n+        return (String) this.parameters.get(SOURCE_URL);\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/lenya/raw/2c9f20dbf6d8813f8662f4c4b904684f799289eb/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java",
                "sha": "0c4794e5e1671bc3792288dbc9991f5c09363462",
                "status": "modified"
            }
        ],
        "message": "AbstractUsecase.getSourceURL() doesn't use getParameter() to avoid NPEs\n\ngit-svn-id: https://svn.apache.org/repos/asf/lenya/trunk@509212 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/lenya/commit/c6a254b0d3f138f57d0a626976573a734f31ae3a",
        "repo": "lenya",
        "unit_tests": [
            "AbstractUsecaseTest.java"
        ]
    }
}