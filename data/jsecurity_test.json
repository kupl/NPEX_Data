{
    "jsecurity_3b4259d": {
        "bug_id": "jsecurity_3b4259d",
        "commit": "https://github.com/apache/jsecurity/commit/3b4259dca2170219a58b69e8b4e3ce7cf636f76b",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/jsecurity/blob/3b4259dca2170219a58b69e8b4e3ce7cf636f76b/src/org/jsecurity/web/WebRememberMeManager.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/web/WebRememberMeManager.java?ref=3b4259dca2170219a58b69e8b4e3ce7cf636f76b",
                "deletions": 0,
                "filename": "src/org/jsecurity/web/WebRememberMeManager.java",
                "patch": "@@ -18,6 +18,8 @@\n  */\n package org.jsecurity.web;\n \n+import org.apache.commons.logging.Log;\n+import org.apache.commons.logging.LogFactory;\n import org.jsecurity.codec.Base64;\n import org.jsecurity.subject.AbstractRememberMeManager;\n import org.jsecurity.web.attr.CookieAttribute;\n@@ -58,6 +60,8 @@\n      */\n     public static final String DEFAULT_REMEMBER_ME_COOKIE_NAME = \"rememberMe\";\n \n+    private static final Log log = LogFactory.getLog(WebRememberMeManager.class);\n+\n     protected WebAttribute<String> identityAttribute = null;\n \n     public WebRememberMeManager() {",
                "raw_url": "https://github.com/apache/jsecurity/raw/3b4259dca2170219a58b69e8b4e3ce7cf636f76b/src/org/jsecurity/web/WebRememberMeManager.java",
                "sha": "b6af3ddef49aedfe3cc4b63e1c64bae2341a7a8d",
                "status": "modified"
            },
            {
                "additions": 23,
                "blob_url": "https://github.com/apache/jsecurity/blob/3b4259dca2170219a58b69e8b4e3ce7cf636f76b/src/org/jsecurity/web/WebUtils.java",
                "changes": 27,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/web/WebUtils.java?ref=3b4259dca2170219a58b69e8b4e3ce7cf636f76b",
                "deletions": 4,
                "filename": "src/org/jsecurity/web/WebUtils.java",
                "patch": "@@ -53,6 +53,15 @@\n \n     private static final Log log = LogFactory.getLog(WebUtils.class);\n \n+\n+    /**\n+     * Message displayed when a servlet request or response is not bound to the current thread context.\n+     */\n+    private static final String NOT_BOUND_ERROR_MESSAGE =\n+            \"Make sure WebUtils.bind() is being called. (typically called by JSecurityFilter)  \" +\n+            \"This could also happen when running integration tests that don't properly call WebUtils.bind().\";\n+\n+\n     public static final String SERVLET_REQUEST_KEY = ServletRequest.class.getName() + \"_JSECURITY_THREAD_CONTEXT_KEY\";\n     public static final String SERVLET_RESPONSE_KEY = ServletResponse.class.getName() + \"_JSECURITY_THREAD_CONTEXT_KEY\";\n \n@@ -300,10 +309,15 @@ public static void unbindInetAddressFromThread() {\n      * This method only returns the bound value if it exists - it does not remove it\n      * from the thread.  To remove it, one must call {@link #unbindServletRequest() unbindServletRequest} instead.\n      *\n-     * @return the ServletRequest bound to the thread, or <tt>null</tt> if there isn't one bound.\n+     * @return the ServletRequest bound to the thread.  Never returns null.\n+     * @throws IllegalStateException if no servlet request is bound in the thread context.\n      */\n     public static ServletRequest getServletRequest() {\n-        return (ServletRequest) ThreadContext.get(SERVLET_REQUEST_KEY);\n+        ServletRequest request = (ServletRequest) ThreadContext.get(SERVLET_REQUEST_KEY);\n+        if( request == null ) {\n+            throw new IllegalStateException( \"No ServletRequest found in ThreadContext. \" + NOT_BOUND_ERROR_MESSAGE );\n+        }        \n+        return request;\n     }\n \n     /**\n@@ -353,10 +367,15 @@ public static ServletRequest unbindServletRequest() {\n      * This method only returns the bound value if it exists - it does not remove it\n      * from the thread.  To remove it, one must call {@link #unbindServletResponse() unbindServletResponse} instead.\n      *\n-     * @return the ServletResponse bound to the thread, or <tt>null</tt> if there isn't one bound.\n+     * @return the ServletResponse bound to the thread.  Never returns null.\n+     * @throws IllegalStateException if no servlet response is bound in the thread context.\n      */\n     public static ServletResponse getServletResponse() {\n-        return (ServletResponse) ThreadContext.get(SERVLET_RESPONSE_KEY);\n+        ServletResponse response = (ServletResponse) ThreadContext.get(SERVLET_RESPONSE_KEY);\n+        if( response == null ) {\n+            throw new IllegalStateException( \"No ServletResponse found in ThreadContext. \" + NOT_BOUND_ERROR_MESSAGE );\n+        }\n+        return response;\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/jsecurity/raw/3b4259dca2170219a58b69e8b4e3ce7cf636f76b/src/org/jsecurity/web/WebUtils.java",
                "sha": "a9b01ca46c0302a379bcae2a8e892bc9a0791367",
                "status": "modified"
            }
        ],
        "message": "Throw exception when request/response isn't set on WebUtils so that you get a nice error instead of a NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/jsecurity/trunk@711068 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/jsecurity/commit/e38b3bf552fd0377ef94b21314519e869cbe6ea6",
        "patched_files": [
            "WebRememberMeManager.java"
        ],
        "repo": "jsecurity",
        "unit_tests": [
            "WebRememberMeManagerTest.java"
        ]
    },
    "jsecurity_5f0ca39": {
        "bug_id": "jsecurity_5f0ca39",
        "commit": "https://github.com/apache/jsecurity/commit/5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c",
        "file": [
            {
                "additions": 19,
                "blob_url": "https://github.com/apache/jsecurity/blob/5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c/src/org/jsecurity/authc/SimpleAuthenticationInfo.java",
                "changes": 33,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/authc/SimpleAuthenticationInfo.java?ref=5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c",
                "deletions": 14,
                "filename": "src/org/jsecurity/authc/SimpleAuthenticationInfo.java",
                "patch": "@@ -70,38 +70,43 @@ public void setCredentials(Object credentials) {\n \n     @SuppressWarnings(\"unchecked\")\n     public void merge(AuthenticationInfo info) {\n-        if (info == null || info.getPrincipals() == null) {\n+        if (info == null || info.getPrincipals() == null || info.getPrincipals().isEmpty()) {\n             return;\n         }\n \n         if (this.principals == null) {\n-            this.principals = new SimplePrincipalCollection();\n-        }\n-\n-        if (this.principals instanceof MutablePrincipalCollection) {\n-            ((MutablePrincipalCollection) this.principals).addAll(info.getPrincipals());\n+            this.principals = info.getPrincipals();\n         } else {\n-            throw new IllegalStateException(\"Attempt to merge authentication info, but PrincipalCollection is not an \" +\n-                    \"instance of MutablePrincipalCollection.\");\n+            if (this.principals instanceof MutablePrincipalCollection) {\n+                ((MutablePrincipalCollection) this.principals).addAll(info.getPrincipals());\n+            } else {\n+                this.principals = new SimplePrincipalCollection(this.principals);\n+            }\n         }\n \n         Object thisCredentials = getCredentials();\n         Object otherCredentials = info.getCredentials();\n \n+        if (otherCredentials == null) {\n+            return;\n+        }\n+\n+        if (thisCredentials == null) {\n+            this.credentials = otherCredentials;\n+            return;\n+        }\n+\n         if (!(thisCredentials instanceof Collection)) {\n             Set newSet = new HashSet();\n-            if (thisCredentials != null) {\n-                newSet.add(thisCredentials);\n-                setCredentials(newSet);\n-            }\n+            newSet.add(thisCredentials);\n+            setCredentials(newSet);\n         }\n \n         // At this point, the credentials should be a collection\n         Collection credentialCollection = (Collection) getCredentials();\n         if (otherCredentials instanceof Collection) {\n             credentialCollection.addAll((Collection) otherCredentials);\n-\n-        } else if (otherCredentials != null) {\n+        } else {\n             credentialCollection.add(otherCredentials);\n         }\n     }",
                "raw_url": "https://github.com/apache/jsecurity/raw/5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c/src/org/jsecurity/authc/SimpleAuthenticationInfo.java",
                "sha": "0a442cb52c518edbafc83db955f2bc25c859beed",
                "status": "modified"
            },
            {
                "additions": 45,
                "blob_url": "https://github.com/apache/jsecurity/blob/5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c/test/org/jsecurity/authc/SimpleAuthenticationInfoTest.java",
                "changes": 45,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/test/org/jsecurity/authc/SimpleAuthenticationInfoTest.java?ref=5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c",
                "deletions": 0,
                "filename": "test/org/jsecurity/authc/SimpleAuthenticationInfoTest.java",
                "patch": "@@ -0,0 +1,45 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one\r\n+ * or more contributor license agreements.  See the NOTICE file\r\n+ * distributed with this work for additional information\r\n+ * regarding copyright ownership.  The ASF licenses this file\r\n+ * to you under the Apache License, Version 2.0 (the\r\n+ * \"License\"); you may not use this file except in compliance\r\n+ * with the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *     http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing,\r\n+ * software distributed under the License is distributed on an\r\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n+ * KIND, either express or implied.  See the License for the\r\n+ * specific language governing permissions and limitations\r\n+ * under the License.\r\n+ */\r\n+package org.jsecurity.authc;\r\n+\r\n+import org.junit.Test;\r\n+\r\n+/**\r\n+ * @author Les Hazlewood\r\n+ * @since 0.9\r\n+ */\r\n+public class SimpleAuthenticationInfoTest {\r\n+\r\n+    @Test\r\n+    public void testMergeWithEmptyInstances() {\r\n+        SimpleAuthenticationInfo aggregate = new SimpleAuthenticationInfo();\r\n+        SimpleAuthenticationInfo local = new SimpleAuthenticationInfo();\r\n+        aggregate.merge(local);\r\n+    }\r\n+\r\n+    /**\r\n+     * Verifies fix for JSEC-122\r\n+     */\r\n+    @Test\r\n+    public void testMergeWithAggregateNullCredentials() {\r\n+        SimpleAuthenticationInfo aggregate = new SimpleAuthenticationInfo();\r\n+        SimpleAuthenticationInfo local = new SimpleAuthenticationInfo(\"username\", \"password\", \"testRealm\");\r\n+        aggregate.merge(local);\r\n+    }\r\n+}\r",
                "raw_url": "https://github.com/apache/jsecurity/raw/5f0ca39abf9ef3f0ad7fd538792da3c2c9ff847c/test/org/jsecurity/authc/SimpleAuthenticationInfoTest.java",
                "sha": "2d449c80dbf52face34d4af5ae7c4fabe3427c3e",
                "status": "added"
            }
        ],
        "message": "JSEC-122 - fixed NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/jsecurity/trunk@711065 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/jsecurity/commit/dfd906d3e2500db2f1c1a28fdbcaccc169d15f66",
        "patched_files": [
            "SimpleAuthenticationInfo.java"
        ],
        "repo": "jsecurity",
        "unit_tests": [
            "SimpleAuthenticationInfoTest.java"
        ]
    },
    "jsecurity_a06428e": {
        "bug_id": "jsecurity_a06428e",
        "commit": "https://github.com/apache/jsecurity/commit/a06428e57c8fed438a9b765e9e59eb23ae8e9509",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/ivy.xml",
                "changes": 1,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/ivy.xml?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 0,
                "filename": "ivy.xml",
                "patch": "@@ -33,6 +33,7 @@\n         <dependency org=\"net.sourceforge.retroweaver\" name=\"retroweaver\" rev=\"2.0.5\" conf=\"compile\"/>\n         <dependency org=\"net.sourceforge.retroweaver\" name=\"retroweaver-rt\" rev=\"2.0.5\" conf=\"compile\"/>        \n         <dependency org=\"net.sf.ehcache\" name=\"ehcache\" rev=\"1.4.1\" transitive=\"false\" conf=\"compile,samples\"/>\n+        <dependency org=\"backport-util-concurrent\" name=\"backport-util-concurrent\" rev=\"3.1\" transitive=\"false\" conf=\"samples\"/>\n         <dependency org=\"quartz\" name=\"quartz\" rev=\"1.5.2\" transitive=\"false\" conf=\"compile\"/>\n         <dependency org=\"org.springframework\" name=\"spring\" rev=\"2.5.1\" transitive=\"false\" conf=\"compile,samples\"/>\n         <dependency org=\"org.springframework\" name=\"spring-webmvc\" rev=\"2.5.1\" transitive=\"false\" conf=\"samples\"/>",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/ivy.xml",
                "sha": "5f13b556c342b510fc628a0882eb88cda3906569",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/samples/quickstart/WEB-INF/web.xml",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/samples/quickstart/WEB-INF/web.xml?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 2,
                "filename": "samples/quickstart/WEB-INF/web.xml",
                "patch": "@@ -8,7 +8,7 @@\n     <filter>\n         <filter-name>JSecurityFilter</filter-name>\n         <filter-class>org.jsecurity.web.servlet.JSecurityFilter</filter-class>\n-        <init-param><param-name>config</param-name><param-value>\n+        <!-- <init-param><param-name>config</param-name><param-value>\n \n             # The JSecurityFilter configuration is very powerful and flexible, while still remaining succinct.\n             # Please read the comprehensive example, with full comments and explanations, in the JavaDoc:\n@@ -21,7 +21,7 @@\n             [urls]\n             /account/** = authc\n             /remoting/** = authc, roles[b2bClient], perms[remote:invoke:\"lan,wan\"]\n-        </param-value></init-param>\n+        </param-value></init-param> -->\n     </filter>\n \n     <filter-mapping>",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/samples/quickstart/WEB-INF/web.xml",
                "sha": "733c9e32b1f28bbeab91d765b2c5c677545599b6",
                "status": "modified"
            },
            {
                "additions": 17,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/config/ReflectionBuilder.java",
                "changes": 32,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/config/ReflectionBuilder.java?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 15,
                "filename": "src/org/jsecurity/config/ReflectionBuilder.java",
                "patch": "@@ -27,18 +27,20 @@\n import java.util.Scanner;\r\n \r\n /**\r\n- * @since 0.9\r\n  * @author Les Hazlewood\r\n+ * @since 0.9\r\n  */\r\n public class ReflectionBuilder {\r\n \r\n     protected transient final Log log = LogFactory.getLog(getClass());\r\n \r\n-    protected Map<String,Object> objects = new LinkedHashMap<String,Object>();\r\n+    protected Map<String, Object> objects;\r\n \r\n-    public ReflectionBuilder(){}\r\n+    public ReflectionBuilder() {\r\n+        setObjects(new LinkedHashMap<String, Object>());\r\n+    }\r\n \r\n-    public ReflectionBuilder( Map<String,Object> defaults ) {\r\n+    public ReflectionBuilder(Map<String, Object> defaults) {\r\n         setObjects(defaults);\r\n     }\r\n \r\n@@ -50,7 +52,7 @@ public void setObjects(Map<String, Object> objects) {\n         this.objects = objects;\r\n     }\r\n \r\n-    private static String[] splitKeyValue( String line ) {\r\n+    private static String[] splitKeyValue(String line) {\r\n         try {\r\n             return StringUtils.splitKeyValue(line);\r\n         } catch (ParseException e) {\r\n@@ -93,12 +95,11 @@ public void setObjects(Map<String, Object> objects) {\n         return objects;\r\n     }\r\n \r\n-    public Map<String,Object> buildObjects( Map<String,String> kvPairs ) {\r\n-        if ( kvPairs == null || kvPairs.isEmpty() ) {\r\n-            return null;\r\n-        }\r\n-        for( Map.Entry<String,String> entry : kvPairs.entrySet() ) {\r\n-            applyProperty(entry.getKey(), entry.getValue(), objects );\r\n+    public Map<String, Object> buildObjects(Map<String, String> kvPairs) {\r\n+        if (kvPairs != null && !kvPairs.isEmpty()) {\r\n+            for (Map.Entry<String, String> entry : kvPairs.entrySet()) {\r\n+                applyProperty(entry.getKey(), entry.getValue(), objects);\r\n+            }\r\n         }\r\n \r\n         return objects;\r\n@@ -152,12 +153,13 @@ public void applyProperty(Object object, String propertyName, String value) {\n         } catch (Exception e) {\r\n             //perhaps the value was a reference to an object already defined:\r\n \r\n-            Object o = ( objects != null && !objects.isEmpty() ? objects.get(value) : null );\r\n-            if ( o != null ) {\r\n+            Object o = (objects != null && !objects.isEmpty() ? objects.get(value) : null);\r\n+            if (o != null) {\r\n                 try {\r\n-                    BeanUtils.setProperty(object, propertyName, o );\r\n+                    BeanUtils.setProperty(object, propertyName, o);\r\n                     return;\r\n-                } catch (Exception ignored) {}\r\n+                } catch (Exception ignored) {\r\n+                }\r\n             }\r\n \r\n             String msg = \"Unable to set property [\" + propertyName + \"] with value [\" + value + \"]\";\r",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/config/ReflectionBuilder.java",
                "sha": "238cfe867500fefc96a4599048fc3597287ff4e3",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/crypto/hash/AbstractHash.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/crypto/hash/AbstractHash.java?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 1,
                "filename": "src/org/jsecurity/crypto/hash/AbstractHash.java",
                "patch": "@@ -32,7 +32,7 @@\n  * can be useful.\n  * \n  * <p>This class and its subclasses support hashing with additional capabilities of salting and multiple iterations via\n- * overloaded constructors</tt>.\n+ * overloaded constructors</p>.\n  *\n  * @author Les Hazlewood\n  * @since 0.9",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/crypto/hash/AbstractHash.java",
                "sha": "8b80a4c188b287a7767792b92f68e0b676b3ded8",
                "status": "modified"
            },
            {
                "additions": 8,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/io/IniResource.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/io/IniResource.java?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 6,
                "filename": "src/org/jsecurity/io/IniResource.java",
                "patch": "@@ -38,26 +38,28 @@\n \r\n     protected Map<String, Map<String,String>> sections = new LinkedHashMap<String, Map<String,String>>();\r\n \r\n-    public IniResource(){}\r\n+    public IniResource(){\r\n+    }\r\n \r\n     public IniResource(String configBodyOrResourcePath) {\r\n-        super(configBodyOrResourcePath);\r\n+        load(configBodyOrResourcePath);\r\n     }\r\n \r\n     public IniResource(String configBodyOrResourcePath, String charsetName) {\r\n-        super(configBodyOrResourcePath, charsetName);\r\n+        setCharsetName(charsetName);\r\n+        load( configBodyOrResourcePath );\r\n     }\r\n \r\n     public IniResource(InputStream is) {\r\n-        super(is);\r\n+        load(is);\r\n     }\r\n \r\n     public IniResource(Reader r) {\r\n-        super(r);\r\n+        load(r);\r\n     }\r\n \r\n     public IniResource(Scanner s) {\r\n-        super(s);\r\n+        load(s);\r\n     }\r\n \r\n     public Map<String, Map<String, String>> getSections() {\r",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/io/IniResource.java",
                "sha": "7af2bc89d8260fc0e6c408d0a36d0c5d807d8f9d",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/io/TextResource.java",
                "changes": 4,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/src/org/jsecurity/io/TextResource.java?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 2,
                "filename": "src/org/jsecurity/io/TextResource.java",
                "patch": "@@ -64,8 +64,8 @@ public void load( String configBodyOrResourcePath ) {\n         try {\r\n             super.load(configBodyOrResourcePath);\r\n         } catch ( Exception e ) {\r\n-            if ( log.isDebugEnabled() ) {\r\n-                log.debug( \"Unable to load text resource from the string argument.  Attempting to use the string \" +\r\n+            if ( log.isTraceEnabled() ) {\r\n+                log.trace( \"Unable to load text resource from the string argument.  Attempting to use the string \" +\r\n                         \"argument as the text resource itself...\", e );\r\n             }\r\n             StringReader sr = new StringReader(configBodyOrResourcePath);\r",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/src/org/jsecurity/io/TextResource.java",
                "sha": "cf7ca1ca590f13b3d1edb578aa93f7270cd6a400",
                "status": "modified"
            },
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/jsecurity/blob/a06428e57c8fed438a9b765e9e59eb23ae8e9509/test/org/jsecurity/web/servlet/JSecurityFilterTest.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/jsecurity/contents/test/org/jsecurity/web/servlet/JSecurityFilterTest.java?ref=a06428e57c8fed438a9b765e9e59eb23ae8e9509",
                "deletions": 5,
                "filename": "test/org/jsecurity/web/servlet/JSecurityFilterTest.java",
                "patch": "@@ -17,7 +17,6 @@\n \n import static org.easymock.EasyMock.*;\n import org.jsecurity.mgt.SecurityManager;\n-import org.junit.Before;\n import org.junit.Test;\n \n import javax.servlet.FilterConfig;\n@@ -33,16 +32,14 @@\n     private FilterConfig mockFilterConfig;\n     private ServletContext mockServletContext;\n \n-    @Before\n-    public void setUp() throws Exception {\n+    protected void setUp(String config) {\n         mockFilterConfig = createMock(FilterConfig.class);\n         mockServletContext = createMock(ServletContext.class);\n \n         expect(mockFilterConfig.getServletContext()).andReturn(mockServletContext);\n         expect(mockFilterConfig.getInitParameter(JSecurityFilter.CONFIG_CLASS_NAME_INIT_PARAM_NAME)).andReturn(null).once();\n-        expect(mockFilterConfig.getInitParameter(JSecurityFilter.CONFIG_INIT_PARAM_NAME)).andReturn(null).once();\n+        expect(mockFilterConfig.getInitParameter(JSecurityFilter.CONFIG_INIT_PARAM_NAME)).andReturn(config).once();\n \n-        //expect(mockServletContext.getAttribute(SecurityManagerListener.SECURITY_MANAGER_CONTEXT_KEY)).andReturn(null).atLeastOnce();\n         mockServletContext.setAttribute(eq(SecurityManagerListener.SECURITY_MANAGER_CONTEXT_KEY),isA(SecurityManager.class));\n     }\n \n@@ -74,6 +71,14 @@ protected void replayAndVerify() throws Exception {\n \n     @Test\n     public void testDefaultConfig() throws Exception {\n+        setUp(null);\n+        replayAndVerify();\n+    }\n+\n+    @Test\n+    public void testSimpleConfig() throws Exception {\n+        setUp(\"[interceptors]\\n\" +\n+                \"authc.successUrl = /index.jsp\");\n         replayAndVerify();\n     }\n }",
                "raw_url": "https://github.com/apache/jsecurity/raw/a06428e57c8fed438a9b765e9e59eb23ae8e9509/test/org/jsecurity/web/servlet/JSecurityFilterTest.java",
                "sha": "869968fa862a9f4b2a376f58b8c5a6b5d91fd911",
                "status": "modified"
            }
        ],
        "message": "Fixed NPE and classpath dependency for sample app\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/jsecurity/trunk@710923 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/jsecurity/commit/83ec275c4fa2681c6312f6f245d0411d0864d2c5",
        "patched_files": [
            "JSecurityFilter.java",
            "AbstractHash.java",
            "TextResource.java",
            "IniResource.java",
            "web.java",
            "ReflectionBuilder.java",
            "ivy.java"
        ],
        "repo": "jsecurity",
        "unit_tests": [
            "JSecurityFilterTest.java"
        ]
    }
}