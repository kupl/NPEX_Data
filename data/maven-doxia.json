{
    "maven-doxia_1cc2b08": {
        "bug_id": "maven-doxia_1cc2b08",
        "commit": "https://github.com/apache/maven-doxia/commit/1cc2b088baaf26f66eb0f03fad13687fdfb47afc",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/maven-doxia/blob/1cc2b088baaf26f66eb0f03fad13687fdfb47afc/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java?ref=1cc2b088baaf26f66eb0f03fad13687fdfb47afc",
                "deletions": 5,
                "filename": "doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java",
                "patch": "@@ -174,6 +174,11 @@ else if ( parser.getName().equals( MACRO_TAG.toString() ) )\n             {\n                 macroName = parser.getAttributeValue( null, Attribute.NAME.toString() );\n \n+                if ( macroParameters == null )\n+                {\n+                    macroParameters = new HashMap();\n+                }\n+\n                 if ( StringUtils.isEmpty( macroName ) )\n                 {\n                     throw new MacroExecutionException( \"The '\" + Attribute.NAME.toString() + \"' attribute for the '\"\n@@ -187,11 +192,6 @@ else if ( parser.getName().equals( Tag.PARAM.toString() ) )\n             {\n                 if ( StringUtils.isNotEmpty( macroName ) )\n                 {\n-                    if ( macroParameters == null )\n-                    {\n-                        macroParameters = new HashMap();\n-                    }\n-\n                     String paramName = parser.getAttributeValue( null, Attribute.NAME.toString() );\n                     String paramValue = parser.getAttributeValue( null, Attribute.VALUE.toString() );\n ",
                "raw_url": "https://github.com/apache/maven-doxia/raw/1cc2b088baaf26f66eb0f03fad13687fdfb47afc/doxia-modules/doxia-module-xdoc/src/main/java/org/apache/maven/doxia/module/xdoc/XdocParser.java",
                "sha": "680dacf02214b980b058a4254c50b1a9ceb2d989",
                "status": "modified"
            }
        ],
        "message": "DOXIA-240: NPE when building documentation\n\no moved the init of macroParameters to the <macro/> tag init\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@656475 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/3bce1c7d2e5b9fc54384a5df9769f76b31c25403",
        "repo": "maven-doxia",
        "unit_tests": [
            "XdocParserTest.java"
        ]
    },
    "maven-doxia_54a9c4d": {
        "bug_id": "maven-doxia_54a9c4d",
        "commit": "https://github.com/apache/maven-doxia/commit/54a9c4db6c936d774f60146487b85f84f78971b9",
        "file": [
            {
                "additions": 9,
                "blob_url": "https://github.com/apache/maven-doxia/blob/54a9c4db6c936d774f60146487b85f84f78971b9/doxia-core/src/main/java/org/apache/maven/doxia/sink/AbstractXmlSink.java",
                "changes": 18,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-core/src/main/java/org/apache/maven/doxia/sink/AbstractXmlSink.java?ref=54a9c4db6c936d774f60146487b85f84f78971b9",
                "deletions": 9,
                "filename": "doxia-core/src/main/java/org/apache/maven/doxia/sink/AbstractXmlSink.java",
                "patch": "@@ -80,9 +80,9 @@ protected void writeStartTag( Tag t )\n      * &lt;tag attName=\"attValue\"&gt;\n      * </pre>\n      *\n-     * @param t a non null tag\n-     * @param att a set of attributes\n-     * @see #writeStartTag(javax.swing.text.html.HTML.Tag, javax.swing.text.MutableAttributeSet, boolean)\n+     * @param t a non null tag.\n+     * @param att a set of attributes. May be null.\n+     * @see #writeStartTag(javax.swing.text.html.HTML.Tag, javax.swing.text.MutableAttributeSet, boolean).\n      */\n     protected void writeStartTag( Tag t, MutableAttributeSet att )\n     {\n@@ -95,9 +95,9 @@ protected void writeStartTag( Tag t, MutableAttributeSet att )\n      * &lt;tag attName=\"attValue\"&gt;\n      * </pre>\n      *\n-     * @param t a non null tag\n-     * @param att a set of attributes\n-     * @param isSimpleTag boolean to write as a simple tag\n+     * @param t a non null tag.\n+     * @param att a set of attributes. May be null.\n+     * @param isSimpleTag boolean to write as a simple tag.\n      */\n     protected void writeStartTag( Tag t, MutableAttributeSet att, boolean isSimpleTag )\n     {\n@@ -180,9 +180,9 @@ protected void writeSimpleTag( Tag t )\n      * &lt;tag attName=\"attValue\" /&gt;\n      * </pre>\n      *\n-     * @param t a non null tag\n-     * @param att a set of attributes\n-     * @see #writeStartTag(javax.swing.text.html.HTML.Tag, javax.swing.text.MutableAttributeSet, boolean)\n+     * @param t a non null tag.\n+     * @param att a set of attributes. May be null.\n+     * @see #writeStartTag(javax.swing.text.html.HTML.Tag, javax.swing.text.MutableAttributeSet, boolean).\n      */\n     protected void writeSimpleTag( Tag t, MutableAttributeSet att )\n     {",
                "raw_url": "https://github.com/apache/maven-doxia/raw/54a9c4db6c936d774f60146487b85f84f78971b9/doxia-core/src/main/java/org/apache/maven/doxia/sink/AbstractXmlSink.java",
                "sha": "261cc8c569b1aeab9185332f0e2e0f4328ad10f5",
                "status": "modified"
            },
            {
                "additions": 13,
                "blob_url": "https://github.com/apache/maven-doxia/blob/54a9c4db6c936d774f60146487b85f84f78971b9/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "changes": 19,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java?ref=54a9c4db6c936d774f60146487b85f84f78971b9",
                "deletions": 6,
                "filename": "doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "patch": "@@ -394,7 +394,7 @@ public void section5_()\n      * Starts a section. The default class style is <code>section</code>.\n      *\n      * @param depth The level of the section.\n-     * @param attributes some attributes.\n+     * @param attributes some attributes. May be null.\n      * @see javax.swing.text.html.HTML.Tag#DIV\n      */\n     protected void onSection( int depth, SinkEventAttributes attributes )\n@@ -430,7 +430,7 @@ protected void onSection_( int depth )\n      * Starts a section title.\n      *\n      * @param depth The level of the section title.\n-     * @param attributes some attributes.\n+     * @param attributes some attributes. May be null.\n      * @see javax.swing.text.html.HTML.Tag#H2\n      * @see javax.swing.text.html.HTML.Tag#H3\n      * @see javax.swing.text.html.HTML.Tag#H4\n@@ -1500,11 +1500,18 @@ public void link( String name )\n     /** {@inheritDoc} */\n     public void link( String name, SinkEventAttributes attributes )\n     {\n-        String target = (String) attributes.getAttribute( Attribute.TARGET.toString() );\n-        MutableAttributeSet atts = SinkUtils.filterAttributes(\n-                attributes, SinkUtils.SINK_LINK_ATTRIBUTES  );\n+        if ( attributes == null )\n+        {\n+            link( name, null, null );\n+        }\n+        else\n+        {\n+            String target = (String) attributes.getAttribute( Attribute.TARGET.toString() );\n+            MutableAttributeSet atts = SinkUtils.filterAttributes(\n+                    attributes, SinkUtils.SINK_LINK_ATTRIBUTES  );\n \n-        link( name, target, atts );\n+            link( name, target, atts );\n+        }\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/maven-doxia/raw/54a9c4db6c936d774f60146487b85f84f78971b9/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "sha": "265fadd447053570c9669d216a5c35bf3a9e7d7a",
                "status": "modified"
            }
        ],
        "message": "Fix potential NPE when calling link with attributes. Clarify javadocs.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@752799 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/c7d677731b80d86b160610f1559d411fe2300f55",
        "repo": "maven-doxia",
        "unit_tests": [
            "XhtmlBaseSinkTest.java"
        ]
    },
    "maven-doxia_638f05e": {
        "bug_id": "maven-doxia_638f05e",
        "commit": "https://github.com/apache/maven-doxia/commit/638f05e7a4feb0a165bc6a1834a70b6e0101b490",
        "file": [
            {
                "additions": 41,
                "blob_url": "https://github.com/apache/maven-doxia/blob/638f05e7a4feb0a165bc6a1834a70b6e0101b490/doxia-modules/doxia-module-fml/src/main/java/org/apache/maven/doxia/module/fml/FmlParser.java",
                "changes": 45,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-modules/doxia-module-fml/src/main/java/org/apache/maven/doxia/module/fml/FmlParser.java?ref=638f05e7a4feb0a165bc6a1834a70b6e0101b490",
                "deletions": 4,
                "filename": "doxia-modules/doxia-module-fml/src/main/java/org/apache/maven/doxia/module/fml/FmlParser.java",
                "patch": "@@ -117,6 +117,10 @@ else if ( parser.getName().equals( PART_TAG.toString() ) )\n         }\n         else if ( parser.getName().equals( Tag.TITLE.toString() ) )\n         {\n+            if ( currentPart == null )\n+            {\n+                throw new XmlPullParserException( \"The currentPart is not set\" );\n+            }\n             try\n             {\n                 currentPart.setTitle( parser.nextText().trim() );\n@@ -187,12 +191,20 @@ else if ( parser.getName().equals( PART_TAG.toString() ) )\n         }\n         else if ( parser.getName().equals( FAQ_TAG.toString() ) )\n         {\n+            if ( currentPart == null )\n+            {\n+                throw new XmlPullParserException( \"The currentPart is not set\" );\n+            }\n             currentPart.addFaq( currentFaq );\n \n             currentFaq = null;\n         }\n-        if ( parser.getName().equals( QUESTION_TAG.toString() ) )\n+        else if ( parser.getName().equals( QUESTION_TAG.toString() ) )\n         {\n+            if ( currentFaq == null )\n+            {\n+                throw new XmlPullParserException( \"The currentFaq is not set\" );\n+            }\n             buffer.append( String.valueOf( LESS_THAN ) ).append( String.valueOf( SLASH ) )\n                 .append( parser.getName() ).append( String.valueOf( GREATER_THAN ) );\n \n@@ -202,6 +214,10 @@ else if ( parser.getName().equals( FAQ_TAG.toString() ) )\n         }\n         else if ( parser.getName().equals( ANSWER_TAG.toString() ) )\n         {\n+            if ( currentFaq == null )\n+            {\n+                throw new XmlPullParserException( \"The currentFaq is not set\" );\n+            }\n             buffer.append( String.valueOf( LESS_THAN ) ).append( String.valueOf( SLASH ) )\n                 .append( parser.getName() ).append( String.valueOf( GREATER_THAN ) );\n \n@@ -313,7 +329,14 @@ private void writeFaqs( Faqs faqs, Sink sink )\n                 Faq faq = (Faq) faqIterator.next();\n                 sink.numberedListItem();\n                 sink.link( faq.getId() );\n-                xdocParser.parse( faq.getQuestion(), sink );\n+                if ( StringUtils.isNotEmpty( faq.getQuestion() ) )\n+                {\n+                    xdocParser.parse( faq.getQuestion(), sink );\n+                }\n+                else\n+                {\n+                    throw new ParseException( \"Question is missing for the FAQ '\" + faq.getId() + \"'\" );\n+                }\n                 sink.link_();\n                 sink.numberedListItem_();\n             }\n@@ -348,12 +371,26 @@ private void writeFaqs( Faqs faqs, Sink sink )\n \n                 sink.definedTerm();\n                 sink.anchor( faq.getId() );\n-                xdocParser.parse( faq.getQuestion(), sink );\n+                if ( StringUtils.isNotEmpty( faq.getQuestion() ) )\n+                {\n+                    xdocParser.parse( faq.getQuestion(), sink );\n+                }\n+                else\n+                {\n+                    throw new ParseException( \"Question is missing for the FAQ '\" + faq.getId() + \"'\" );\n+                }\n                 sink.anchor_();\n                 sink.definedTerm_();\n \n                 sink.definition();\n-                xdocParser.parse( faq.getAnswer(), sink );\n+                if ( StringUtils.isNotEmpty( faq.getAnswer() ) )\n+                {\n+                    xdocParser.parse( faq.getAnswer(), sink );\n+                }\n+                else\n+                {\n+                    throw new ParseException( \"Answer is missing for the FAQ '\" + faq.getId() + \"'\" );\n+                }\n \n                 if ( faqs.isToplink() )\n                 {",
                "raw_url": "https://github.com/apache/maven-doxia/raw/638f05e7a4feb0a165bc6a1834a70b6e0101b490/doxia-modules/doxia-module-fml/src/main/java/org/apache/maven/doxia/module/fml/FmlParser.java",
                "sha": "02ccf7bca18c5ffbb8a0dfb9431127c084ab1119",
                "status": "modified"
            }
        ],
        "message": "o prevent NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@645499 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/c38bf5ba23753342b80876909cb1e105e3926409",
        "repo": "maven-doxia",
        "unit_tests": [
            "FmlParserTest.java"
        ]
    },
    "maven-doxia_6897654": {
        "bug_id": "maven-doxia_6897654",
        "commit": "https://github.com/apache/maven-doxia/commit/68976543c0dce4bed28bae63d203e29c325989f4",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/maven-doxia/blob/68976543c0dce4bed28bae63d203e29c325989f4/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoSink.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoSink.java?ref=68976543c0dce4bed28bae63d203e29c325989f4",
                "deletions": 0,
                "filename": "doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoSink.java",
                "patch": "@@ -114,6 +114,11 @@ protected FoSink( Writer writer )\n      */\n     protected FoSink( Writer writer, String encoding )\n     {\n+        if ( writer == null )\n+        {\n+            throw new NullPointerException( \"Null writer in FO Sink!\" );\n+        }\n+\n         this.out = writer;\n         this.tempWriter = new StringWriter();\n         this.encoding = encoding;",
                "raw_url": "https://github.com/apache/maven-doxia/raw/68976543c0dce4bed28bae63d203e29c325989f4/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoSink.java",
                "sha": "ca72ab074a5d3c0eeeaf4251b5c6b4ada42c470e",
                "status": "modified"
            }
        ],
        "message": "Throw early NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@764172 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/183f0483f34a3e96870ab2c12882dcf7c51fa79e",
        "repo": "maven-doxia",
        "unit_tests": [
            "FoSinkTest.java"
        ]
    },
    "maven-doxia_70c86b7": {
        "bug_id": "maven-doxia_70c86b7",
        "commit": "https://github.com/apache/maven-doxia/commit/70c86b74d24779fbc6817903909456124a1cbd44",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/maven-doxia/blob/70c86b74d24779fbc6817903909456124a1cbd44/doxia-core/src/main/java/org/apache/maven/doxia/parser/XhtmlBaseParser.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-core/src/main/java/org/apache/maven/doxia/parser/XhtmlBaseParser.java?ref=70c86b74d24779fbc6817903909456124a1cbd44",
                "deletions": 3,
                "filename": "doxia-core/src/main/java/org/apache/maven/doxia/parser/XhtmlBaseParser.java",
                "patch": "@@ -274,11 +274,11 @@ else if ( parser.getName().equals( Tag.TABLE.toString() ) )\n \n             String align = parser.getAttributeValue( null, Attribute.ALIGN.toString() );\n \n-            int[] justif = { JUSTIFY_CENTER };\n+            int[] justif = { JUSTIFY_LEFT };\n \n-            if ( \"left\".equals( align ) )\n+            if ( \"center\".equals( align ) )\n             {\n-                justif[0] = JUSTIFY_LEFT;\n+                justif[0] = JUSTIFY_CENTER;\n             }\n             else if ( \"right\".equals( align ) )\n             {",
                "raw_url": "https://github.com/apache/maven-doxia/raw/70c86b74d24779fbc6817903909456124a1cbd44/doxia-core/src/main/java/org/apache/maven/doxia/parser/XhtmlBaseParser.java",
                "sha": "d5d783c1e9f4500e95bb7029cf10931fae163b02",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/maven-doxia/blob/70c86b74d24779fbc6817903909456124a1cbd44/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java?ref=70c86b74d24779fbc6817903909456124a1cbd44",
                "deletions": 1,
                "filename": "doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "patch": "@@ -804,7 +804,7 @@ public void tableCell( boolean headerRow, String width )\n \n         if ( cellJustif != null && isCellJustif )\n         {\n-            switch ( cellJustif[cellCount] )\n+            switch ( cellJustif[Math.min( cellCount, cellJustif.length - 1 )] )\n             {\n                 case Parser.JUSTIFY_LEFT:\n                     justif = \"left\";",
                "raw_url": "https://github.com/apache/maven-doxia/raw/70c86b74d24779fbc6817903909456124a1cbd44/doxia-core/src/main/java/org/apache/maven/doxia/sink/XhtmlBaseSink.java",
                "sha": "70284f3062e44d43af12d9422e445604cd56e4e9",
                "status": "modified"
            }
        ],
        "message": "[DOXIA-221] Fix NPE when the celljustif array is shorter than the cell count.\n            Switch to left default justification in XhtmlBaseParser.\nSubmitted by: Benjamin Bentmann\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@628439 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/88a35eb38ed24d480bedb97d9fa9591519ac3ed8",
        "repo": "maven-doxia",
        "unit_tests": [
            "XhtmlBaseSinkTest.java"
        ]
    },
    "maven-doxia_de5be0f": {
        "bug_id": "maven-doxia_de5be0f",
        "commit": "https://github.com/apache/maven-doxia/commit/de5be0fa868a6139dcba598303a7eda4cd0e4d64",
        "file": [
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/maven-doxia/blob/de5be0fa868a6139dcba598303a7eda4cd0e4d64/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoAggregateSink.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-doxia/contents/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoAggregateSink.java?ref=de5be0fa868a6139dcba598303a7eda4cd0e4d64",
                "deletions": 0,
                "filename": "doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoAggregateSink.java",
                "patch": "@@ -30,6 +30,7 @@\n import org.apache.maven.doxia.document.DocumentTOC;\n import org.apache.maven.doxia.document.DocumentTOCItem;\n import org.apache.maven.doxia.util.HtmlTools;\n+import org.codehaus.plexus.util.StringUtils;\n \n /**\n  * A Doxia Sink that produces an aggregated FO model.\n@@ -193,6 +194,12 @@ public void setDocumentModel( DocumentModel model )\n      */\n     private String getIdName( String name )\n     {\n+        if ( StringUtils.isEmpty( name ) )\n+        {\n+            // TODO log this behavior\n+            return \"\";\n+        }\n+\n         String idName = name;\n \n         // prepend \"./\" and strip extension",
                "raw_url": "https://github.com/apache/maven-doxia/raw/de5be0fa868a6139dcba598303a7eda4cd0e4d64/doxia-modules/doxia-module-fo/src/main/java/org/apache/maven/doxia/module/fo/FoAggregateSink.java",
                "sha": "8104ea5beb23d3dcd3217ef67dd9970e7fc1a824",
                "status": "modified"
            }
        ],
        "message": "o fixed potential NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia/trunk@619375 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-doxia/commit/1c7f54e839ec8dfe69a2dca9a63996f0794b39a7",
        "repo": "maven-doxia",
        "unit_tests": [
            "FoAggregateSinkTest.java"
        ]
    }
}