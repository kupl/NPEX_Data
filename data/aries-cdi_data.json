[{"commit": "https://github.com/apache/aries-cdi/commit/7a6b36905a3046772f0909877835ef226f8c839b", "parent": "https://github.com/apache/aries-cdi/commit/d600cf0bfe07f0037f015c743755392a7d30caee", "message": "[CDI] prevent NPE\n\nSigned-off-by: Raymond Auge <rotty3000@apache.org>\n\ngit-svn-id: https://svn.apache.org/repos/asf/aries/trunk@1845398 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "aries-cdi_1", "file": [{"additions": 5, "raw_url": "https://github.com/apache/aries-cdi/raw/7a6b36905a3046772f0909877835ef226f8c839b/cdi-extension-http/src/main/java/org/apache/aries/cdi/extension/http/HttpExtension.java", "blob_url": "https://github.com/apache/aries-cdi/blob/7a6b36905a3046772f0909877835ef226f8c839b/cdi-extension-http/src/main/java/org/apache/aries/cdi/extension/http/HttpExtension.java", "sha": "0af0fb4837a9e974f1bd262bdef96ecf3c7009c0", "changes": 8, "status": "modified", "deletions": 3, "contents_url": "https://api.github.com/repos/apache/aries-cdi/contents/cdi-extension-http/src/main/java/org/apache/aries/cdi/extension/http/HttpExtension.java?ref=7a6b36905a3046772f0909877835ef226f8c839b", "patch": "@@ -14,8 +14,8 @@\n \n package org.apache.aries.cdi.extension.http;\n \n-import static org.osgi.namespace.extender.ExtenderNamespace.*;\n-import static org.osgi.service.cdi.CDIConstants.*;\n+import static org.osgi.namespace.extender.ExtenderNamespace.EXTENDER_NAMESPACE;\n+import static org.osgi.service.cdi.CDIConstants.CDI_CAPABILITY_NAME;\n \n import java.util.Collections;\n import java.util.Dictionary;\n@@ -74,7 +74,9 @@ void afterDeploymentValidation(\n \t}\n \n \tvoid beforeShutdown(@Observes BeforeShutdown bs) {\n-\t\t_listenerRegistration.unregister();\n+\t\tif (_listenerRegistration != null) {\n+\t\t\t_listenerRegistration.unregister();\n+\t\t}\n \t}\n \n \tprivate Map<String, Object> getAttributes() {", "filename": "cdi-extension-http/src/main/java/org/apache/aries/cdi/extension/http/HttpExtension.java"}], "repo": "aries-cdi"}]
