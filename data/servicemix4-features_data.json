[{"commit": "https://github.com/apache/servicemix4-features/commit/560f837a46bf323d759744b6b176ca1a77895970", "parent": "https://github.com/apache/servicemix4-features/commit/532beb2d2a840fcb7139df827a82d90ee2bf8d58", "message": "SMXCOMP-662: NPE installing drools su\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@830181 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_1", "file": [{"additions": 1, "raw_url": "https://github.com/apache/servicemix4-features/raw/560f837a46bf323d759744b6b176ca1a77895970/assembly/src/main/filtered-resources/features.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/560f837a46bf323d759744b6b176ca1a77895970/assembly/src/main/filtered-resources/features.xml", "sha": "56c8410b7f5c8129c2418063907bf55e3a6e84d3", "changes": 1, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/assembly/src/main/filtered-resources/features.xml?ref=560f837a46bf323d759744b6b176ca1a77895970", "patch": "@@ -228,6 +228,7 @@\n         <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jdt-core/${jdt.core.version}</bundle>\n         <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.antlr-runtime/${antlr.version}</bundle>\n         <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.drools/${drools.version}</bundle>\n+        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.mvel/${mvel.version}</bundle>\n         <bundle>mvn:org.apache.servicemix/servicemix-drools/${servicemix-drools-version}</bundle>\n     </feature>\n     <feature name=\"servicemix-cxf-se\" version=\"${servicemix-cxf-se-version}\">", "filename": "assembly/src/main/filtered-resources/features.xml"}, {"additions": 2, "raw_url": "https://github.com/apache/servicemix4-features/raw/560f837a46bf323d759744b6b176ca1a77895970/pom.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/560f837a46bf323d759744b6b176ca1a77895970/pom.xml", "sha": "e495a051dafcbd9bbff4334ca6da94759394237e", "changes": 3, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/pom.xml?ref=560f837a46bf323d759744b6b176ca1a77895970", "patch": "@@ -89,7 +89,7 @@\n       <commons.jexl.version>1.1_1</commons.jexl.version>\n       <cxf.version>2.2.4</cxf.version>\n       <dom4j.version>1.6_1</dom4j.version>\n-      <drools.version>4.0.7_1</drools.version>\n+      <drools.version>4.0.7_4</drools.version>\n       <depends.maven.plugin.version>1.2-SNAPSHOT</depends.maven.plugin.version>\n       <equinox.version>3.5.0.v20090520</equinox.version>\n       <fastinfoset.version>1.2.2_1</fastinfoset.version>\n@@ -156,6 +156,7 @@\n       <junit.version>4.4</junit.version>\n       <junit.bundle.version>4.4_1</junit.bundle.version>\n       <log4j.version>1.2.14</log4j.version>\n+      <mvel.version>1.3.12_1</mvel.version>\n       <mina.version>2.0.0-M6</mina.version>\n       <mina.original.version>1.1.6</mina.original.version>\n       <neethi.version>2.0.4_1</neethi.version>", "filename": "pom.xml"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/f1a83e9865d64a466b95bfa0a713c3b487c79ce9", "parent": "https://github.com/apache/servicemix4-features/commit/77b51a92d7950ccf267ef938cde7ab56c8a7d65f", "message": "Fix NPE using cxf-transport-nmr\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@646472 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_2", "file": [{"additions": 0, "raw_url": "https://github.com/apache/servicemix4-features/raw/f1a83e9865d64a466b95bfa0a713c3b487c79ce9/ejb3/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestination.java", "blob_url": "https://github.com/apache/servicemix4-features/blob/f1a83e9865d64a466b95bfa0a713c3b487c79ce9/ejb3/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestination.java", "sha": "345ba6ddefded8e2d00d5c7d2c590b7abbe61931", "changes": 1, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/ejb3/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestination.java?ref=f1a83e9865d64a466b95bfa0a713c3b487c79ce9", "patch": "@@ -84,7 +84,6 @@ protected Conduit getInbuiltBackChannel(Message inMessage) {\n     }\n     \n     public void shutdown() {\n-        nmr.getEndpointRegistry().unregister(this, properties);\n     }\n \n     public void deactivate() {", "filename": "ejb3/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestination.java"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/e9c1275fd70056d1e639cb50ea3c1a454fb3c265", "parent": "https://github.com/apache/servicemix4-features/commit/5a2f860e9fb92d813d9349f9fc3cd88358ae6e25", "message": "Try to get rid of the NPE in surefire\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@612483 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_3", "file": [{"additions": 6, "raw_url": "https://github.com/apache/servicemix4-features/raw/e9c1275fd70056d1e639cb50ea3c1a454fb3c265/war/deployer/pom.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/e9c1275fd70056d1e639cb50ea3c1a454fb3c265/war/deployer/pom.xml", "sha": "6ba55cb4aa411bfe9ec9777fa11274ef190f7f09", "changes": 6, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/war/deployer/pom.xml?ref=e9c1275fd70056d1e639cb50ea3c1a454fb3c265", "patch": "@@ -52,6 +52,12 @@\n \t        <version>${felix.osgi.version}</version>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <version>${junit.version}</version>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n     <build>", "filename": "war/deployer/pom.xml"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/5a2f860e9fb92d813d9349f9fc3cd88358ae6e25", "parent": "https://github.com/apache/servicemix4-features/commit/2f44ec90cc4ccebe2ca2b69707d625a4757ae24c", "message": "Try to get rid of the NPE in surefire\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@612479 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_4", "file": [{"additions": 6, "raw_url": "https://github.com/apache/servicemix4-features/raw/5a2f860e9fb92d813d9349f9fc3cd88358ae6e25/war/bundles/jasper/pom.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/5a2f860e9fb92d813d9349f9fc3cd88358ae6e25/war/bundles/jasper/pom.xml", "sha": "f9e2b3a90c8567f94b84ccbbb32b084572972395", "changes": 6, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/war/bundles/jasper/pom.xml?ref=5a2f860e9fb92d813d9349f9fc3cd88358ae6e25", "patch": "@@ -58,5 +58,11 @@\n             <version>${pkgVersion}</version>\r\n             <optional>true</optional>\r\n         </dependency>\r\n+        <dependency>\r\n+            <groupId>junit</groupId>\r\n+            <artifactId>junit</artifactId>\r\n+            <version>${junit.version}</version>\r\n+            <scope>test</scope>\r\n+        </dependency>\r\n     </dependencies>\r\n </project>\r", "filename": "war/bundles/jasper/pom.xml"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/b0fd6b3a205d928e9bfa13694e4f87a860cabb04", "parent": "https://github.com/apache/servicemix4-features/commit/8149b735ee33f538734ce2b08e66ea52b40af901", "message": "SMX4-1314  CXF NMR transport throws NPE when it handles the fault message\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@1417303 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_5", "file": [{"additions": 3, "raw_url": "https://github.com/apache/servicemix4-features/raw/b0fd6b3a205d928e9bfa13694e4f87a860cabb04/cxf/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestinationOutputStream.java", "blob_url": "https://github.com/apache/servicemix4-features/blob/b0fd6b3a205d928e9bfa13694e4f87a860cabb04/cxf/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestinationOutputStream.java", "sha": "5af4a74181c9289e40ba680e4ed34646bcca4e50", "changes": 6, "status": "modified", "deletions": 3, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/cxf/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestinationOutputStream.java?ref=b0fd6b3a205d928e9bfa13694e4f87a860cabb04", "patch": "@@ -88,11 +88,11 @@ private void commitOutputMessage() throws IOException {\n                 LOG.fine(new org.apache.cxf.common.i18n.Message(\"CREATE.NORMALIZED.MESSAGE\", LOG).toString());\n                 if (inMessage.getExchange().getOutFaultMessage() != null) {\n                     org.apache.cxf.interceptor.Fault f = (org.apache.cxf.interceptor.Fault) inMessage.getContent(Exception.class);\n-                    if (f.hasDetails()) {\n-                        xchng.getFault().setBody(new DOMSource(doc));\n-                    } else {\n+                    if (!f.hasDetails()) {\n                         xchng.setError(f);\n                     }\n+                    // As the fault is already marshalled by the fault handler\n+                    xchng.getFault().setBody(new DOMSource(doc));\n                 } else {\n                     //copy attachments\n                     if (outMessage != null && outMessage.getAttachments() != null) {", "filename": "cxf/cxf-transport-nmr/src/main/java/org/apache/servicemix/cxf/transport/nmr/NMRDestinationOutputStream.java"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/ec98ba129cdd2618d751feb55eb71acf358b2b94", "parent": "https://github.com/apache/servicemix4-features/commit/e662ee4aaa07caabf0ccb26ecab1319019456c38", "message": "[SMX4-278]cxf-transport-osgi: OsgiServlet fails to set Message.REQUEST_URI property, resulting in NPE in JAXRSInInterceptor\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@767355 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_6", "file": [{"additions": 2, "raw_url": "https://github.com/apache/servicemix4-features/raw/ec98ba129cdd2618d751feb55eb71acf358b2b94/cxf/cxf-transport-osgi/src/main/java/org/apache/servicemix/cxf/transport/http_osgi/OsgiServlet.java", "blob_url": "https://github.com/apache/servicemix4-features/blob/ec98ba129cdd2618d751feb55eb71acf358b2b94/cxf/cxf-transport-osgi/src/main/java/org/apache/servicemix/cxf/transport/http_osgi/OsgiServlet.java", "sha": "3b7b681793ebf39c3c5028a7a6f57df155e7c242", "changes": 2, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/cxf/cxf-transport-osgi/src/main/java/org/apache/servicemix/cxf/transport/http_osgi/OsgiServlet.java?ref=ec98ba129cdd2618d751feb55eb71acf358b2b94", "patch": "@@ -249,7 +249,9 @@ public void invokeDestination(final HttpServletRequest request, HttpServletRespo\n             inMessage.put(AbstractHTTPDestination.HTTP_REQUEST, request);\n             inMessage.put(AbstractHTTPDestination.HTTP_RESPONSE, response);\n             inMessage.put(AbstractHTTPDestination.HTTP_CONTEXT, getServletContext());\n+            inMessage.put(AbstractHTTPDestination.HTTP_CONFIG, getServletConfig());\n             inMessage.put(Message.HTTP_REQUEST_METHOD, request.getMethod());\n+            inMessage.put(Message.REQUEST_URI, request.getRequestURI());\n             inMessage.put(Message.PATH_INFO, request.getPathInfo());\n             inMessage.put(Message.QUERY_STRING, request.getQueryString());\n             inMessage.put(Message.CONTENT_TYPE, request.getContentType());", "filename": "cxf/cxf-transport-osgi/src/main/java/org/apache/servicemix/cxf/transport/http_osgi/OsgiServlet.java"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/e0a32df4ee4cf3f57fd68f0075112f22d7be4a95", "parent": "https://github.com/apache/servicemix4-features/commit/f5f21a1a86f8ab3d5104db677884aaf5f3885842", "message": "SMX4-32: NPE in ServiceMixProducer when running the cxf-camel-nmr demo\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@675936 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_7", "file": [{"additions": 1, "raw_url": "https://github.com/apache/servicemix4-features/raw/e0a32df4ee4cf3f57fd68f0075112f22d7be4a95/examples/cxf-camel-nmr/src/main/resources/META-INF/spring/beans.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/e0a32df4ee4cf3f57fd68f0075112f22d7be4a95/examples/cxf-camel-nmr/src/main/resources/META-INF/spring/beans.xml", "sha": "9f4c4eaf7163865d8ab424bbf634cc0a16329540", "changes": 1, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/examples/cxf-camel-nmr/src/main/resources/META-INF/spring/beans.xml?ref=e0a32df4ee4cf3f57fd68f0075112f22d7be4a95", "patch": "@@ -33,6 +33,7 @@\n     <import resource=\"classpath:META-INF/cxf/cxf.xml\" />\n     <import resource=\"classpath:META-INF/cxf/cxf-extension-soap.xml\" />\n     <import resource=\"classpath:META-INF/cxf/transport/nmr/cxf-transport-nmr.xml\" />\n+    <import resource=\"classpath:org/apache/servicemix/camel/camel-nmr.xml\" />\n \n     <camel-osgi:camelContext xmlns=\"http://activemq.apache.org/camel/schema/spring\">\n         <!-- Route periodically sent events into the NMR -->", "filename": "examples/cxf-camel-nmr/src/main/resources/META-INF/spring/beans.xml"}], "repo": "servicemix4-features"}, {"commit": "https://github.com/apache/servicemix4-features/commit/d08dcbf3cef56f88c387e7889ac6edae0a4b1cc8", "parent": "https://github.com/apache/servicemix4-features/commit/55f10ca8518c951d548bc66d117b1bca5ca48644", "message": "[SMX4-253]add servlet-name osgi service property for org.apache.servicemix.cxf.transport.http_osgi.SpringOsgiServlet to avoid NPE in pax.web.extender\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx4/features/trunk@755146 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "servicemix4-features_8", "file": [{"additions": 1, "raw_url": "https://github.com/apache/servicemix4-features/raw/d08dcbf3cef56f88c387e7889ac6edae0a4b1cc8/cxf/cxf-transport-osgi/src/main/resources/META-INF/spring/cxf-transport-osgi.xml", "blob_url": "https://github.com/apache/servicemix4-features/blob/d08dcbf3cef56f88c387e7889ac6edae0a4b1cc8/cxf/cxf-transport-osgi/src/main/resources/META-INF/spring/cxf-transport-osgi.xml", "sha": "b5e5870b2b07cb48a5c6fa30f0cdbb79754da52a", "changes": 1, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/servicemix4-features/contents/cxf/cxf-transport-osgi/src/main/resources/META-INF/spring/cxf-transport-osgi.xml?ref=d08dcbf3cef56f88c387e7889ac6edae0a4b1cc8", "patch": "@@ -33,6 +33,7 @@ http://www.springframework.org/schema/osgi  http://www.springframework.org/schem\n     <osgi:service ref=\"osgiServlet\" interface=\"javax.servlet.Servlet\">\n         <osgi:service-properties>\n             <entry key=\"alias\" value=\"/cxf\" />\n+            <entry key=\"servlet-name\" value=\"cxf-transport-osgi-servlet\"/>\n         </osgi:service-properties>\n     </osgi:service>\n ", "filename": "cxf/cxf-transport-osgi/src/main/resources/META-INF/spring/cxf-transport-osgi.xml"}], "repo": "servicemix4-features"}]
