{
    "maven-shared_0f9c478": {
        "bug_id": "maven-shared_0f9c478",
        "commit": "https://github.com/apache/maven-shared/commit/0f9c4783604809d7e497022af3f89b3364a63777",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/maven-shared/blob/0f9c4783604809d7e497022af3f89b3364a63777/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenResourcesFiltering.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenResourcesFiltering.java?ref=0f9c4783604809d7e497022af3f89b3364a63777",
                "deletions": 2,
                "filename": "maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenResourcesFiltering.java",
                "patch": "@@ -40,7 +40,6 @@\n \n /**\n  * @author Olivier Lamy\n- *\n  * @plexus.component role=\"org.apache.maven.shared.filtering.MavenResourcesFiltering\"\n  * role-hint=\"default\"\n  */\n@@ -124,8 +123,12 @@ public boolean filteredFileExtension( String fileName, List<String> userNonFilte\n         return filteredFileExtension;\n     }\n \n-    public List getDefaultNonFilteredFileExtensions()\n+    public List<String> getDefaultNonFilteredFileExtensions()\n     {\n+        if ( this.defaultNonFilteredFileExtensions == null )\n+        {\n+            this.defaultNonFilteredFileExtensions = new ArrayList<String>();\n+        }\n         return this.defaultNonFilteredFileExtensions;\n     }\n ",
                "raw_url": "https://github.com/apache/maven-shared/raw/0f9c4783604809d7e497022af3f89b3364a63777/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenResourcesFiltering.java",
                "sha": "9cd5e9fde3563c0532d64372c10226bceb79a68f",
                "status": "modified"
            }
        ],
        "message": "more generics and prevent NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@1358529 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/a7dc99cd560b941812c8e9cf3540c77bf007c043",
        "repo": "maven-shared",
        "unit_tests": [
            "DefaultMavenResourcesFilteringTest.java"
        ]
    },
    "maven-shared_30cd2ec": {
        "bug_id": "maven-shared_30cd2ec",
        "commit": "https://github.com/apache/maven-shared/commit/30cd2ec7a9b4875a3aa1e7cab0588f79e9ef2463",
        "file": [
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/maven-shared/blob/30cd2ec7a9b4875a3aa1e7cab0588f79e9ef2463/maven-repository-builder/src/main/java/org/apache/maven/shared/repository/DefaultRepositoryAssembler.java",
                "changes": 17,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-repository-builder/src/main/java/org/apache/maven/shared/repository/DefaultRepositoryAssembler.java?ref=30cd2ec7a9b4875a3aa1e7cab0588f79e9ef2463",
                "deletions": 7,
                "filename": "maven-repository-builder/src/main/java/org/apache/maven/shared/repository/DefaultRepositoryAssembler.java",
                "patch": "@@ -332,13 +332,16 @@ private void addPomWithAncestry( Artifact artifact, List remoteArtifactRepositor\n \n             setAlignment( artifact, groupVersionAlignments );\n \n-//            File sourceFile = new File( localRepository.getBasedir(), localRepository.pathOf( artifact ) );\n-//\n-//            if ( !sourceFile.exists() )\n-//            {\n-//                break;\n-//            }\n-//\n+            if ( ( sourceFile == null ) || !sourceFile.exists() )\n+            {\n+                sourceFile = new File( localRepository.getBasedir(), localRepository.pathOf( artifact ) );\n+            }\n+\n+            if ( !sourceFile.exists() )\n+            {\n+                break;\n+            }\n+\n             File targetFile = new File( targetRepository.getBasedir(), targetRepository.pathOf( artifact ) );\n \n             try",
                "raw_url": "https://github.com/apache/maven-shared/raw/30cd2ec7a9b4875a3aa1e7cab0588f79e9ef2463/maven-repository-builder/src/main/java/org/apache/maven/shared/repository/DefaultRepositoryAssembler.java",
                "sha": "dba3b88c6375f43eec58e160352d95693fad5285",
                "status": "modified"
            }
        ],
        "message": "OPEN - issue MASSEMBLY-210: repository does not include the parent pom \nhttp://jira.codehaus.org/browse/MASSEMBLY-210\n\nFixing NPE when copying a parent-POM whose MavenProject.getFile() returns null.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@548510 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/3fbe2e2d0547fd9169611fc6f7233a73726cacf5",
        "repo": "maven-shared",
        "unit_tests": [
            "DefaultRepositoryAssemblerTest.java"
        ]
    },
    "maven-shared_4777ada": {
        "bug_id": "maven-shared_4777ada",
        "commit": "https://github.com/apache/maven-shared/commit/4777adaf6badd1dd4f2a5f22d77c93be2dc16766",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/maven-shared/blob/4777adaf6badd1dd4f2a5f22d77c93be2dc16766/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenFileFilter.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenFileFilter.java?ref=4777adaf6badd1dd4f2a5f22d77c93be2dc16766",
                "deletions": 1,
                "filename": "maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenFileFilter.java",
                "patch": "@@ -214,7 +214,12 @@ public void copyFile( File from, File to, boolean filtering, List<FileUtils.Filt\n             {\n                 @SuppressWarnings( \"unchecked\" )\n                 List<String> buildFilters = new ArrayList<String>( request.getMavenProject().getBuild().getFilters() );\n-                buildFilters.removeAll( request.getFileFilters() );\n+\n+                // JDK-8015656: (coll) unexpected NPE from removeAll \n+                if ( request.getFileFilters() != null )\n+                {\n+                    buildFilters.removeAll( request.getFileFilters() );\n+                }\n \n                 loadProperties( filterProperties, buildFilters, baseProps );\n             }",
                "raw_url": "https://github.com/apache/maven-shared/raw/4777adaf6badd1dd4f2a5f22d77c93be2dc16766/maven-filtering/src/main/java/org/apache/maven/shared/filtering/DefaultMavenFileFilter.java",
                "sha": "7fbf119715814dfed1a5095d5709275e0f91bd5b",
                "status": "modified"
            }
        ],
        "message": "[MSHARED-319] Filtering throws NPE when using JDK8\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@1563467 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/07dc0e2c9cd3ffaa058c824f95931ae57acf9435",
        "repo": "maven-shared",
        "unit_tests": [
            "DefaultMavenFileFilterTest.java"
        ]
    },
    "maven-shared_593b376": {
        "bug_id": "maven-shared_593b376",
        "commit": "https://github.com/apache/maven-shared/commit/593b376f3e360cf7f646f58d036f40b5bc10c0dd",
        "file": [
            {
                "additions": 13,
                "blob_url": "https://github.com/apache/maven-shared/blob/593b376f3e360cf7f646f58d036f40b5bc10c0dd/maven-common-artifact-filters/src/main/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilter.java",
                "changes": 14,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-common-artifact-filters/src/main/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilter.java?ref=593b376f3e360cf7f646f58d036f40b5bc10c0dd",
                "deletions": 1,
                "filename": "maven-common-artifact-filters/src/main/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilter.java",
                "patch": "@@ -139,7 +139,19 @@ else if ( Artifact.SCOPE_SYSTEM.equals( artifact.getScope() ) )\n \n         if ( !result )\n         {\n-            filteredArtifactIds.add( artifact.getId() );\n+            // We have to be very careful with artifacts that have ranges, \n+            // because artifact.getId() will throw a NPE if a range is specified.\n+            String id;\n+            if ( artifact.getVersionRange() != null )\n+            {\n+                id = artifact.getDependencyConflictId() + \":\" + artifact.getVersionRange();\n+            }\n+            else\n+            {\n+                id = artifact.getId();\n+            }\n+            \n+            filteredArtifactIds.add( id );\n         }\n \n         return result;",
                "raw_url": "https://github.com/apache/maven-shared/raw/593b376f3e360cf7f646f58d036f40b5bc10c0dd/maven-common-artifact-filters/src/main/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilter.java",
                "sha": "b2d281d5d590202aef018f602f28e484736a170d",
                "status": "modified"
            },
            {
                "additions": 21,
                "blob_url": "https://github.com/apache/maven-shared/blob/593b376f3e360cf7f646f58d036f40b5bc10c0dd/maven-common-artifact-filters/src/test/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilterTest.java",
                "changes": 39,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-common-artifact-filters/src/test/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilterTest.java?ref=593b376f3e360cf7f646f58d036f40b5bc10c0dd",
                "deletions": 18,
                "filename": "maven-common-artifact-filters/src/test/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilterTest.java",
                "patch": "@@ -18,16 +18,29 @@\n  */\n package org.apache.maven.shared.artifact.filter;\n \n-import junit.framework.TestCase;\n-\n import org.apache.maven.artifact.Artifact;\n+import org.apache.maven.artifact.factory.ArtifactFactory;\n import org.apache.maven.artifact.resolver.filter.ArtifactFilter;\n+import org.apache.maven.artifact.versioning.VersionRange;\n import org.apache.maven.shared.tools.easymock.MockManager;\n+import org.codehaus.plexus.PlexusTestCase;\n import org.easymock.MockControl;\n \n public class ScopeArtifactFilterTest\n-    extends TestCase\n+    extends PlexusTestCase\n {\n+    \n+    public void testExcludedArtifactWithRangeShouldNotCauseNPE()\n+        throws Exception\n+    {\n+        ArtifactFactory factory = (ArtifactFactory) lookup( ArtifactFactory.ROLE );\n+        \n+        Artifact excluded = factory.createDependencyArtifact( \"group\", \"artifact\", VersionRange.createFromVersionSpec( \"[1.2.3]\" ), \"jar\", null, Artifact.SCOPE_PROVIDED );\n+        \n+        ArtifactFilter filter = new ScopeArtifactFilter( Artifact.SCOPE_RUNTIME );\n+        \n+        assertFalse( filter.include( excluded ) );\n+    }\n \n     private MockManager mockManager = new MockManager();\n \n@@ -148,31 +161,21 @@ private void verifyExcluded( String filterScope, String artifactScope )\n \n         MockControl control;\n \n-        private final String scope;\n-\n         ArtifactMockAndControl( String scope )\n         {\n-            this.scope = scope;\n-\n             control = MockControl.createControl( Artifact.class );\n             mockManager.add( control );\n \n             artifact = (Artifact) control.getMock();\n \n-            enableGetScope();\n-            enableGetId();\n-        }\n-\n-        void enableGetScope()\n-        {\n             artifact.getScope();\n-            control.setReturnValue( scope, MockControl.ONE_OR_MORE );\n-        }\n-\n-        void enableGetId()\n-        {\n+            control.setReturnValue( scope, MockControl.ZERO_OR_MORE );\n+            \n             artifact.getId();\n             control.setReturnValue( \"group:artifact:type:version\", MockControl.ZERO_OR_MORE );\n+            \n+            artifact.getVersionRange();\n+            control.setReturnValue( null, MockControl.ZERO_OR_MORE );\n         }\n     }\n ",
                "raw_url": "https://github.com/apache/maven-shared/raw/593b376f3e360cf7f646f58d036f40b5bc10c0dd/maven-common-artifact-filters/src/test/java/org/apache/maven/shared/artifact/filter/ScopeArtifactFilterTest.java",
                "sha": "13b6c75764414c1bcf16c73572d3895d9395b236",
                "status": "modified"
            }
        ],
        "message": "[MSHARED-74] Fix NPE for Artifact.getId() when artifact uses a version range instead of a single version...this is triggered when an artifact is excluded from the ScopeArtifactFilter.include() method.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@697220 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/7807d967971ba93f2a11ee2c3040ade32003766a",
        "repo": "maven-shared",
        "unit_tests": [
            "ScopeArtifactFilterTest.java"
        ]
    },
    "maven-shared_a808a89": {
        "bug_id": "maven-shared_a808a89",
        "commit": "https://github.com/apache/maven-shared/commit/a808a89dbcc0fa5377e03ed27bcdd7cd6115009f",
        "file": [
            {
                "additions": 7,
                "blob_url": "https://github.com/apache/maven-shared/blob/a808a89dbcc0fa5377e03ed27bcdd7cd6115009f/maven-project-utils/src/main/java/org/apache/maven/shared/project/utils/ProjectUtils.java",
                "changes": 11,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-project-utils/src/main/java/org/apache/maven/shared/project/utils/ProjectUtils.java?ref=a808a89dbcc0fa5377e03ed27bcdd7cd6115009f",
                "deletions": 4,
                "filename": "maven-project-utils/src/main/java/org/apache/maven/shared/project/utils/ProjectUtils.java",
                "patch": "@@ -48,12 +48,15 @@ public static boolean isRootProject( MavenProject project )\n         @SuppressWarnings( \"unchecked\" )\r\n         List<MavenProject> collectedProjects = (List<MavenProject>) parent.getCollectedProjects();\r\n \r\n-        for ( MavenProject collectedProject : collectedProjects )\r\n+        if ( collectedProjects != null )\r\n         {\r\n-            if ( project.getId().equals( collectedProject.getId() ) )\r\n+            for ( MavenProject collectedProject : collectedProjects )\r\n             {\r\n-                // project is a module of its parent\r\n-                return false;\r\n+                if ( project.getId().equals( collectedProject.getId() ) )\r\n+                {\r\n+                    // project is a module of its parent\r\n+                    return false;\r\n+                }\r\n             }\r\n         }\r\n \r",
                "raw_url": "https://github.com/apache/maven-shared/raw/a808a89dbcc0fa5377e03ed27bcdd7cd6115009f/maven-project-utils/src/main/java/org/apache/maven/shared/project/utils/ProjectUtils.java",
                "sha": "20cde56b6ebc88d6f9a100490e248bba88070735",
                "status": "modified"
            }
        ],
        "message": "avoid NPE if parent has no modules\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@1475951 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/b8ed5986ba64023d84826b1c3f4e0b5fae5eca7e",
        "repo": "maven-shared",
        "unit_tests": [
            "ProjectUtilsTest.java"
        ]
    },
    "maven-shared_b590c92": {
        "bug_id": "maven-shared_b590c92",
        "commit": "https://github.com/apache/maven-shared/commit/b590c92bb40a1da53073840f7af3ed8c083675da",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/maven-shared/blob/b590c92bb40a1da53073840f7af3ed8c083675da/maven-dependency-analyzer/src/main/java/org/apache/maven/shared/dependency/analyzer/DefaultProjectDependencyAnalyzer.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/maven-shared/contents/maven-dependency-analyzer/src/main/java/org/apache/maven/shared/dependency/analyzer/DefaultProjectDependencyAnalyzer.java?ref=b590c92bb40a1da53073840f7af3ed8c083675da",
                "deletions": 0,
                "filename": "maven-dependency-analyzer/src/main/java/org/apache/maven/shared/dependency/analyzer/DefaultProjectDependencyAnalyzer.java",
                "patch": "@@ -82,6 +82,11 @@ public ProjectDependencyAnalysis analyze( MavenProject project )\n             Set dependencyClasses = buildDependencyClasses( project );\n \n             Set declaredArtifacts = project.getDependencyArtifacts();\n+            \n+            if ( declaredArtifacts == null )\n+            {\n+                declaredArtifacts = Collections.EMPTY_SET;\n+            }\n \n             Set usedArtifacts = new HashSet();\n ",
                "raw_url": "https://github.com/apache/maven-shared/raw/b590c92bb40a1da53073840f7af3ed8c083675da/maven-dependency-analyzer/src/main/java/org/apache/maven/shared/dependency/analyzer/DefaultProjectDependencyAnalyzer.java",
                "sha": "8d7eb86d263bd023099b471c6157b2e9c4bb5671",
                "status": "modified"
            }
        ],
        "message": "Fixed potential NPE when project's dependencies are not yet initialised.\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@575733 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/maven-shared/commit/77902661d49c471f7d2800bb8b40a200da9c267d",
        "repo": "maven-shared",
        "unit_tests": [
            "DefaultProjectDependencyAnalyzerTest.java"
        ]
    }
}