{
    "commons-codec_71e7260": {
        "bug_id": "commons-codec_71e7260",
        "commit": "https://github.com/apache/commons-codec/commit/71e7260746a902d1070a190fd78bd560464860b9",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/commons-codec/blob/71e7260746a902d1070a190fd78bd560464860b9/src/java/org/apache/commons/codec/StringEncoderComparator.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/commons-codec/contents/src/java/org/apache/commons/codec/StringEncoderComparator.java?ref=71e7260746a902d1070a190fd78bd560464860b9",
                "deletions": 4,
                "filename": "src/java/org/apache/commons/codec/StringEncoderComparator.java",
                "patch": "@@ -36,13 +36,15 @@\n     /**\n      * Internal encoder instance.\n      */\n-    private StringEncoder stringEncoder;\n+    private final StringEncoder stringEncoder;\n \n     /**\n      * Constructs a new instance.\n+     * @deprecated as creating without a StringEncoder will lead to a \n+     *             broken NullPointerException creating comparator.\n      */\n     public StringEncoderComparator() {\n-        // no init.\n+        stringEncoder = null;   // Trying to use this will cause things to break\n     }\n \n     /**\n@@ -71,8 +73,8 @@ public int compare(Object o1, Object o2) {\n         int compareCode = 0;\n \n         try {\n-            Comparable s1 = (Comparable) ((Encoder) this.stringEncoder).encode(o1);\n-            Comparable s2 = (Comparable) ((Encoder) this.stringEncoder).encode(o2);\n+            Comparable s1 = (Comparable) this.stringEncoder.encode(o1);\n+            Comparable s2 = (Comparable) this.stringEncoder.encode(o2);\n             compareCode = s1.compareTo(s2);\n         } \n         catch (EncoderException ee) {",
                "raw_url": "https://github.com/apache/commons-codec/raw/71e7260746a902d1070a190fd78bd560464860b9/src/java/org/apache/commons/codec/StringEncoderComparator.java",
                "sha": "49d0f8457b43112939dfdee577b2456eb7217c45",
                "status": "modified"
            }
        ],
        "message": "stringEncoder variable is now final to tighten it up, the empty constructor is deprecated as it will only lead to a broken NPE producing comparator and I've removed the unnecessary casting\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/codec/trunk@582444 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-codec/commit/c0467593241c6dcd72da142ab8d292df86a949c5",
        "repo": "commons-codec",
        "unit_tests": [
            "StringEncoderComparatorTest.java"
        ]
    }
}