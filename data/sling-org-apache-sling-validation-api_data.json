[{"commit": "https://github.com/apache/sling-org-apache-sling-validation-api/commit/2aee074a1b80e3d8c218e33cc56a4d2f9cf0f272", "parent": "https://github.com/apache/sling-org-apache-sling-validation-api/commit/7b4dc4ad6656747b209932e8bb375f06b7313a2d", "message": "SLING-6569 NPE in DefaultValidationFailure when resource bundle is null\n\nthrow meaningful NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1785186 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "sling-org-apache-sling-validation-api_1", "file": [{"additions": 3, "raw_url": "https://github.com/apache/sling-org-apache-sling-validation-api/raw/2aee074a1b80e3d8c218e33cc56a4d2f9cf0f272/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-validation-api/blob/2aee074a1b80e3d8c218e33cc56a4d2f9cf0f272/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java", "sha": "b6257d75243297743d818686715b61e67e3edcaa", "changes": 7, "status": "modified", "deletions": 4, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-validation-api/contents/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java?ref=2aee074a1b80e3d8c218e33cc56a4d2f9cf0f272", "patch": "@@ -61,11 +61,10 @@ public DefaultValidationFailure(@Nonnull String location, Integer severity, @Non\n     @SuppressWarnings(\"null\")\n     @Override\n     public @Nonnull String getMessage(@Nonnull ResourceBundle resourceBundle) {\n-        if (resourceBundle != null) {\n-            return MessageFormat.format(resourceBundle.getString(messageKey), messageArguments);\n-        } else {\n-            return \"\";\n+        if (resourceBundle == null) {\n+            throw new NullPointerException(\"ResourceBundle must not be null\");\n         }\n+        return MessageFormat.format(resourceBundle.getString(messageKey), messageArguments);\n     }\n \n     @Override", "filename": "src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java"}], "repo": "sling-org-apache-sling-validation-api"}, {"commit": "https://github.com/apache/sling-org-apache-sling-validation-api/commit/320d8151f16fffda48eccd25b993ba4d95565ee8", "parent": "https://github.com/apache/sling-org-apache-sling-validation-api/commit/236c179ab2044956c5f9a94bb69c5124ea8cae39", "message": "SLING-6569 NPE in DefaultValidationFailure when resource bundle is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1784472 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "sling-org-apache-sling-validation-api_2", "file": [{"additions": 5, "raw_url": "https://github.com/apache/sling-org-apache-sling-validation-api/raw/320d8151f16fffda48eccd25b993ba4d95565ee8/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-validation-api/blob/320d8151f16fffda48eccd25b993ba4d95565ee8/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java", "sha": "335b42342d20abf551bff255c6985fe3bf21e2f5", "changes": 6, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-validation-api/contents/src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java?ref=320d8151f16fffda48eccd25b993ba4d95565ee8", "patch": "@@ -61,7 +61,11 @@ public DefaultValidationFailure(@Nonnull String location, Integer severity, @Non\n     @SuppressWarnings(\"null\")\n     @Override\n     public @Nonnull String getMessage(@Nonnull ResourceBundle resourceBundle) {\n-        return MessageFormat.format(resourceBundle.getString(messageKey), messageArguments);\n+        if (resourceBundle != null) {\n+            return MessageFormat.format(resourceBundle.getString(messageKey), messageArguments);\n+        } else {\n+            return \"\";\n+        }\n     }\n \n     @Override", "filename": "src/main/java/org/apache/sling/validation/spi/DefaultValidationFailure.java"}], "repo": "sling-org-apache-sling-validation-api"}]
