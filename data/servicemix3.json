{
    "servicemix3_4d6dddb": {
        "bug_id": "servicemix3_4d6dddb",
        "commit": "https://github.com/apache/servicemix3/commit/4d6dddbc07ce6b42fe81da89786f95cdd6a5ca27",
        "file": [
            {
                "additions": 18,
                "blob_url": "https://github.com/apache/servicemix3/blob/4d6dddbc07ce6b42fe81da89786f95cdd6a5ca27/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/DeliveryChannelImpl.java",
                "changes": 32,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/DeliveryChannelImpl.java?ref=4d6dddbc07ce6b42fe81da89786f95cdd6a5ca27",
                "deletions": 14,
                "filename": "servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/DeliveryChannelImpl.java",
                "patch": "@@ -280,26 +280,30 @@ private void traceMessageExchange(String header, MessageExchange me) {\n             sb.append(\"  id: \").append(me.getExchangeId()).append('\\n');\n             sb.append(\"  status: \").append(me.getStatus()).append('\\n');\n             if (me.getMessage(\"in\") != null) {\n-                Node node = new SourceTransformer().toDOMNode(me.getMessage(\"in\").getContent());\n-                me.getMessage(\"in\").setContent(new DOMSource(node));\n-                String str = DOMUtil.asXML(node);\n                 sb.append(\"  in: \");\n-                if (str.length() > 150) {\n-                    sb.append(str.substring(0, 150)).append(\"...\");\n-                } else {\n-                    sb.append(str);\n+                if (me.getMessage(\"in\").getContent() != null) {\n+                    Node node = new SourceTransformer().toDOMNode(me.getMessage(\"in\").getContent());\n+                    me.getMessage(\"in\").setContent(new DOMSource(node));\n+                    String str = DOMUtil.asXML(node);\n+                    if (str.length() > 150) {\n+                        sb.append(str.substring(0, 150)).append(\"...\");\n+                    } else {\n+                        sb.append(str);\n+                    }\n                 }\n                 sb.append('\\n');\n             }\n             if (me.getMessage(\"out\") != null) {\n-                Node node = new SourceTransformer().toDOMNode(me.getMessage(\"out\").getContent());\n-                me.getMessage(\"out\").setContent(new DOMSource(node));\n-                String str = DOMUtil.asXML(node);\n                 sb.append(\"  out: \");\n-                if (str.length() > 150) {\n-                    sb.append(str.substring(0, 150)).append(\"...\");\n-                } else {\n-                    sb.append(str);\n+                if (me.getMessage(\"out\").getContent() != null) {\n+                    Node node = new SourceTransformer().toDOMNode(me.getMessage(\"out\").getContent());\n+                    me.getMessage(\"out\").setContent(new DOMSource(node));\n+                    String str = DOMUtil.asXML(node);\n+                    if (str.length() > 150) {\n+                        sb.append(str.substring(0, 150)).append(\"...\");\n+                    } else {\n+                        sb.append(str);\n+                    }\n                 }\n                 sb.append('\\n');\n             }",
                "raw_url": "https://github.com/apache/servicemix3/raw/4d6dddbc07ce6b42fe81da89786f95cdd6a5ca27/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/DeliveryChannelImpl.java",
                "sha": "c2939b5cef9f3c2cbea1ff2d683a16d8815d963d",
                "status": "modified"
            }
        ],
        "message": "Fix NPE in DeliveryChannelImpl.traceMessageExchange\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/servicemix/trunk@379808 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/f4501e28e704b99c0fdaa078ff829e101da3d5ef",
        "repo": "servicemix3",
        "unit_tests": [
            "DeliveryChannelImplTest.java"
        ]
    },
    "servicemix3_56153fa": {
        "bug_id": "servicemix3_56153fa",
        "commit": "https://github.com/apache/servicemix3/commit/56153fa3ea1b21883c06a99ecc931b646660a8b0",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/servicemix3/blob/56153fa3ea1b21883c06a99ecc931b646660a8b0/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "changes": 8,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java?ref=56153fa3ea1b21883c06a99ecc931b646660a8b0",
                "deletions": 2,
                "filename": "core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "patch": "@@ -232,7 +232,9 @@ protected void onExchangeSent(ExchangeEvent event) {\n                     if (EndpointSupport.getKey(ses[i]).equals(source)) {\n                         source = EndpointSupport.getUniqueKey(ses[i]);\n                         EndpointStats stats = endpointStats.get(source);\n-                        stats.incrementOutbound();\n+                        if (stats != null) {\n+                            stats.incrementOutbound();\n+                        }\n                         break;\n                     }\n                 }\n@@ -250,7 +252,9 @@ protected void onExchangeAccepted(ExchangeEvent event) {\n                 && me instanceof MessageExchangeImpl) {\n             String source = EndpointSupport.getUniqueKey(me.getEndpoint());\n             EndpointStats stats = endpointStats.get(source);\n-            stats.incrementInbound();\n+            if (stats != null) {\n+                stats.incrementInbound();\n+            }\n         }        \n     }\n     ",
                "raw_url": "https://github.com/apache/servicemix3/raw/56153fa3ea1b21883c06a99ecc931b646660a8b0/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "sha": "ccbb023f351bd7a678ccbb24829e6fa34907ac56",
                "status": "modified"
            }
        ],
        "message": "[SM-1926]  Statistics Service throws NPE with DynamicEndpoints\n\ngit-svn-id: https://svn.apache.org/repos/asf/servicemix/smx3/trunk@916100 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/42160568ae4a080471cefc7abaea2628e023afa8",
        "repo": "servicemix3",
        "unit_tests": [
            "StatisticsServiceTest.java"
        ]
    },
    "servicemix3_5ece0f4": {
        "bug_id": "servicemix3_5ece0f4",
        "commit": "https://github.com/apache/servicemix3/commit/5ece0f4cf71d2762f1a62d90e49af84305fe3471",
        "file": [
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/servicemix3/blob/5ece0f4cf71d2762f1a62d90e49af84305fe3471/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/MessageExchangeImpl.java",
                "changes": 10,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/MessageExchangeImpl.java?ref=5ece0f4cf71d2762f1a62d90e49af84305fe3471",
                "deletions": 4,
                "filename": "servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/MessageExchangeImpl.java",
                "patch": "@@ -719,10 +719,10 @@ private void display(String msg, StringBuffer sb, SourceTransformer st) {\n         if (getMessage(msg) != null) {\n             sb.append(\"  \").append(msg).append(\": \");\n             try {\n-                if (preserveContent) {\n-                    sb.append(getMessage(msg).getContent().getClass());\n-                } else {\n-                    if (getMessage(msg).getContent() != null) {\n+                if (getMessage(msg).getContent() != null) {\n+                    if (preserveContent) {\n+                        sb.append(getMessage(msg).getContent().getClass());\n+                    } else {\n                         Node node = st.toDOMNode(getMessage(msg).getContent());\n                         getMessage(msg).setContent(new DOMSource(node));\n                         String str = st.toString(node);\n@@ -732,6 +732,8 @@ private void display(String msg, StringBuffer sb, SourceTransformer st) {\n                             sb.append(str);\n                         }\n                     }\n+                } else {\n+                    sb.append(\"null\");\n                 }\n             } catch (Exception e) {\n                 sb.append(\"Unable to display: \").append(e);",
                "raw_url": "https://github.com/apache/servicemix3/raw/5ece0f4cf71d2762f1a62d90e49af84305fe3471/servicemix-core/src/main/java/org/apache/servicemix/jbi/messaging/MessageExchangeImpl.java",
                "sha": "3fcb7a3e371b15ba0f21864981cfdd10620e72b4",
                "status": "modified"
            }
        ],
        "message": "Fix possible NPE, thx to Robert H. Pollack\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/servicemix/trunk@434178 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/aabfe637f216a76e310860a606b35b9b8f82fa66",
        "repo": "servicemix3",
        "unit_tests": [
            "MessageExchangeImplTest.java"
        ]
    },
    "servicemix3_7280b59": {
        "bug_id": "servicemix3_7280b59",
        "commit": "https://github.com/apache/servicemix3/commit/7280b59407c41953b8049fc291d56eecbbd1db35",
        "file": [
            {
                "additions": 41,
                "blob_url": "https://github.com/apache/servicemix3/blob/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/log4j-tests.properties",
                "changes": 41,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/common/servicemix-soap2/src/test/resources/log4j-tests.properties?ref=7280b59407c41953b8049fc291d56eecbbd1db35",
                "deletions": 0,
                "filename": "common/servicemix-soap2/src/test/resources/log4j-tests.properties",
                "patch": "@@ -0,0 +1,41 @@\n+# \n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+# \n+#   http://www.apache.org/licenses/LICENSE-2.0\n+# \n+# Unless required by applicable law or agreed to in writing, software\n+# distributed  under the  License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT  WARRANTIES OR CONDITIONS  OF ANY KIND, either  express  or\n+# implied.\n+#  \n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+#\n+\n+#\n+# The logging properties used during tests..\n+#\n+log4j.rootLogger=DEBUG, out\n+\n+log4j.logger.org.apache.activemq=INFO\n+log4j.logger.org.apache.activemq.spring=WARN\n+log4j.logger.org.apache.activemq.store.journal=INFO\n+log4j.logger.org.activeio.journal=INFO\n+\n+# CONSOLE appender not used by default\n+log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n+log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n+log4j.appender.stdout.layout.ConversionPattern=%d [%-15.15t] %-5p %-30.30c{1} - %m%n\n+\n+# File appender\n+log4j.appender.out=org.apache.log4j.FileAppender\n+log4j.appender.out.layout=org.apache.log4j.PatternLayout\n+log4j.appender.out.layout.ConversionPattern=%d [%-15.15t] %-5p %-30.30c{1} - %m%n\n+log4j.appender.out.file=target/servicemix-test.log\n+log4j.appender.out.append=true",
                "raw_url": "https://github.com/apache/servicemix3/raw/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/log4j-tests.properties",
                "sha": "16d3be78d5858de6d9730b3a0d6425aa37f38fb6",
                "status": "added"
            },
            {
                "additions": 41,
                "blob_url": "https://github.com/apache/servicemix3/blob/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/log4j.properties",
                "changes": 41,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/common/servicemix-soap2/src/test/resources/log4j.properties?ref=7280b59407c41953b8049fc291d56eecbbd1db35",
                "deletions": 0,
                "filename": "common/servicemix-soap2/src/test/resources/log4j.properties",
                "patch": "@@ -0,0 +1,41 @@\n+# \n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+# \n+#   http://www.apache.org/licenses/LICENSE-2.0\n+# \n+# Unless required by applicable law or agreed to in writing, software\n+# distributed  under the  License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT  WARRANTIES OR CONDITIONS  OF ANY KIND, either  express  or\n+# implied.\n+#  \n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+#\n+\n+#\n+# The logging properties used during tests..\n+#\n+log4j.rootLogger=DEBUG, stdout\n+\n+log4j.logger.org.apache.activemq=INFO\n+log4j.logger.org.apache.activemq.spring=WARN\n+log4j.logger.org.apache.activemq.store.journal=INFO\n+log4j.logger.org.activeio.journal=INFO\n+\n+# CONSOLE appender not used by default\n+log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n+log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n+log4j.appender.stdout.layout.ConversionPattern=%d [%-15.15t] %-5p %-30.30c{1} - %m%n\n+\n+# File appender\n+log4j.appender.out=org.apache.log4j.FileAppender\n+log4j.appender.out.layout=org.apache.log4j.PatternLayout\n+log4j.appender.out.layout.ConversionPattern=%d [%-15.15t] %-5p %-30.30c{1} - %m%n\n+log4j.appender.out.file=target/servicemix-test.log\n+log4j.appender.out.append=true",
                "raw_url": "https://github.com/apache/servicemix3/raw/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/log4j.properties",
                "sha": "49315a2a9085737408e8285939f07a5cef302f35",
                "status": "added"
            },
            {
                "additions": 0,
                "blob_url": "https://github.com/apache/servicemix3/blob/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/org/apache/servicemix/soap/Person.wsdl2",
                "changes": 0,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/common/servicemix-soap2/src/test/resources/org/apache/servicemix/soap/Person.wsdl2?ref=7280b59407c41953b8049fc291d56eecbbd1db35",
                "deletions": 0,
                "filename": "common/servicemix-soap2/src/test/resources/org/apache/servicemix/soap/Person.wsdl2",
                "previous_filename": "common/servicemix-soap2/src/test/java/org/apache/servicemix/soap/Person.wsdl2",
                "raw_url": "https://github.com/apache/servicemix3/raw/7280b59407c41953b8049fc291d56eecbbd1db35/common/servicemix-soap2/src/test/resources/org/apache/servicemix/soap/Person.wsdl2",
                "sha": "1cc0a71b691ad3d85fc51aadb3a99b3375b384cd",
                "status": "renamed"
            }
        ],
        "message": "SM-898: soap2 unit tests fail with NPE\nPatch provided by Gert Vanthienen, thx !\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/servicemix/trunk@522809 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/bfa2f3f09e21a474961878ab83ed3246abf0a351",
        "repo": "servicemix3",
        "unit_tests": [
            "PersonTest.java"
        ]
    },
    "servicemix3_a176e79": {
        "bug_id": "servicemix3_a176e79",
        "commit": "https://github.com/apache/servicemix3/commit/a176e79e088adb905ba198cd4e2e268938979d14",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/servicemix3/blob/a176e79e088adb905ba198cd4e2e268938979d14/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java?ref=a176e79e088adb905ba198cd4e2e268938979d14",
                "deletions": 1,
                "filename": "core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "patch": "@@ -215,12 +215,15 @@ protected void onComponentShutDown(ComponentEvent event) {\n         ComponentMBeanImpl component = event.getComponent();\n         String key = component.getName();\n         ComponentStats stats = (ComponentStats) componentStats.remove(key);\n+        if (stats == null) {\n+            return;\n+        }\n         // Register MBean\n         ManagementContext context= container.getManagementContext();\n         try {\n             context.unregisterMBean(context.createObjectName(context.createObjectNameProps(stats, true)));\n         } catch (Exception e) {\n-            log.info(\"Unable to unregister component statistics MBean: \" + e.getMessage());\n+            log.info(\"Unable to unregister component statistics MBean: \" + e);\n             if (log.isDebugEnabled()) {\n                 log.debug(\"Unable to unregister component statistics MBean\", e);\n             }",
                "raw_url": "https://github.com/apache/servicemix3/raw/a176e79e088adb905ba198cd4e2e268938979d14/core/servicemix-core/src/main/java/org/apache/servicemix/jbi/monitoring/StatisticsService.java",
                "sha": "7735f48764fed91aee7d2bcfc198517aab8b4cf5",
                "status": "modified"
            }
        ],
        "message": "Avoid NPE when component shuts down and the stats mbean is not registered\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/servicemix/trunk@486645 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/541bb4164bd76df5badc503ae287ac2426eba1eb",
        "repo": "servicemix3",
        "unit_tests": [
            "StatisticsServiceTest.java"
        ]
    },
    "servicemix3_c924afd": {
        "bug_id": "servicemix3_c924afd",
        "commit": "https://github.com/apache/servicemix3/commit/c924afdbe0a5947c50732919c692d2d10792a071",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/servicemix3/blob/c924afdbe0a5947c50732919c692d2d10792a071/web/servicemix-web-console/src/main/java/org/apache/servicemix/web/model/Registry.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/servicemix3/contents/web/servicemix-web-console/src/main/java/org/apache/servicemix/web/model/Registry.java?ref=c924afdbe0a5947c50732919c692d2d10792a071",
                "deletions": 1,
                "filename": "web/servicemix-web-console/src/main/java/org/apache/servicemix/web/model/Registry.java",
                "patch": "@@ -89,7 +89,7 @@ public Endpoint getEndpoint(ObjectName objectName) {\n     public List<Endpoint> getEndpoints(Component component) throws Exception {\r\n         List<Endpoint> endpoints = new ArrayList<Endpoint>();\r\n         for (Endpoint endpoint : getEndpoints()) {\r\n-            if (endpoint.getComponent().equals(component)) {\r\n+            if (component.equals(endpoint.getComponent())) {\r\n                 endpoints.add(endpoint);\r\n             }\r\n         }\r",
                "raw_url": "https://github.com/apache/servicemix3/raw/c924afdbe0a5947c50732919c692d2d10792a071/web/servicemix-web-console/src/main/java/org/apache/servicemix/web/model/Registry.java",
                "sha": "15812d112d56ddad2a574e5f2ee00abca1ee3cb9",
                "status": "modified"
            }
        ],
        "message": "SM-923: NPE in web console when viewing component with lightweight components deployed\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/servicemix/trunk@526105 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/servicemix3/commit/f0818732a9f96ed8752712ef617ee0cff5a96b88",
        "repo": "servicemix3",
        "unit_tests": [
            "RegistryTest.java"
        ]
    }
}