{
    "incubator-dlab_92cfb32": {
        "bug_id": "incubator-dlab_92cfb32",
        "commit": "https://github.com/apache/incubator-dlab/commit/92cfb32d88be185729fe6f5fb688577b07cfb13a",
        "file": [
            {
                "additions": 10,
                "blob_url": "https://github.com/apache/incubator-dlab/blob/92cfb32d88be185729fe6f5fb688577b07cfb13a/services/self-service/src/main/java/com/epam/dlab/backendapi/dao/EnvStatusDAO.java",
                "changes": 16,
                "contents_url": "https://api.github.com/repos/apache/incubator-dlab/contents/services/self-service/src/main/java/com/epam/dlab/backendapi/dao/EnvStatusDAO.java?ref=92cfb32d88be185729fe6f5fb688577b07cfb13a",
                "deletions": 6,
                "filename": "services/self-service/src/main/java/com/epam/dlab/backendapi/dao/EnvStatusDAO.java",
                "patch": "@@ -103,9 +103,10 @@ public EnvResourceList findEnvResources(String user) {\n \t\t\t\t\t((List<Document>) exp.getOrDefault(COMPUTATIONAL_RESOURCES, Collections.emptyList()))\n \t\t\t\t\t\t\t.forEach(comp -> {\n \t\t\t\t\t\t\t\tfinal List<EnvResource> resourceList = DataEngineType.CLOUD_SERVICE ==\n-\t\t\t\t\t\t\t\t\t\tDataEngineType.fromDockerImageName(comp.getString(IMAGE)) ? clusterList : hostList;\n-\t\t\t\t\t\taddResource(resourceList, comp, STATUS);\n-\t\t\t\t\t});\n+\t\t\t\t\t\t\t\t\t\tDataEngineType.fromDockerImageName(comp.getString(IMAGE)) ? clusterList :\n+\t\t\t\t\t\t\t\t\t\thostList;\n+\t\t\t\t\t\t\t\taddResource(resourceList, comp, STATUS);\n+\t\t\t\t\t\t\t});\n \t\t\t\t});\n \n \t\treturn new EnvResourceList()\n@@ -212,9 +213,12 @@ private boolean instanceIdPresent(Document d) {\n \t * @param id   the id of instance or cluster.\n \t */\n \tprivate Optional<EnvResource> getEnvResourceAndRemove(List<EnvResource> list, String id) {\n-\t\treturn IntStream.range(0, list.size())\n-\t\t\t\t.filter(i -> list.get(i).getId().equals(id))\n-\t\t\t\t.mapToObj(i -> getAndRemove(list, i)).findAny();\n+\t\tif (list != null) {\n+\t\t\treturn IntStream.range(0, list.size())\n+\t\t\t\t\t.filter(i -> list.get(i).getId().equals(id))\n+\t\t\t\t\t.mapToObj(i -> getAndRemove(list, i)).findAny();\n+\t\t}\n+\t\treturn Optional.empty();\n \t}\n \n \tprivate EnvResource getAndRemove(List<EnvResource> list, int i) {",
                "raw_url": "https://github.com/apache/incubator-dlab/raw/92cfb32d88be185729fe6f5fb688577b07cfb13a/services/self-service/src/main/java/com/epam/dlab/backendapi/dao/EnvStatusDAO.java",
                "sha": "ba76176b3eedbfa66d1a0cb999a51b4ffff984aa",
                "status": "modified"
            }
        ],
        "message": "EPMCDLAB-1366 added checking for null to prevent NPE during status update",
        "parent": "https://github.com/apache/incubator-dlab/commit/ed633b00c32b2a919db3739235240d3d65f4b239",
        "patched_files": [
            "EnvStatusDAO.java"
        ],
        "repo": "incubator-dlab",
        "unit_tests": [
            "EnvStatusDAOTest.java"
        ]
    }
}