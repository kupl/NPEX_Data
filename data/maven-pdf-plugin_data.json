[{"commit": "https://github.com/apache/maven-pdf-plugin/commit/02fa33b494594b210adfec67efb72e8b85d587df", "parent": "https://github.com/apache/maven-pdf-plugin/commit/f8879044416b2f112b7a84293edbecb86844036d", "message": "[MPDF-35] NPE when document descriptor has no meta information\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/plugins/trunk@891591 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "maven-pdf-plugin_1", "file": [{"additions": 6, "raw_url": "https://github.com/apache/maven-pdf-plugin/raw/02fa33b494594b210adfec67efb72e8b85d587df/src/main/java/org/apache/maven/plugins/pdf/PdfMojo.java", "blob_url": "https://github.com/apache/maven-pdf-plugin/blob/02fa33b494594b210adfec67efb72e8b85d587df/src/main/java/org/apache/maven/plugins/pdf/PdfMojo.java", "sha": "b588667fd8700df82636f7f1b444fd622d042b2f", "changes": 6, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/maven-pdf-plugin/contents/src/main/java/org/apache/maven/plugins/pdf/PdfMojo.java?ref=02fa33b494594b210adfec67efb72e8b85d587df", "patch": "@@ -49,6 +49,7 @@\n import org.apache.maven.doxia.docrenderer.DocumentRendererContext;\n import org.apache.maven.doxia.docrenderer.DocumentRendererException;\n import org.apache.maven.doxia.docrenderer.pdf.PdfRenderer;\n+import org.apache.maven.doxia.document.DocumentMeta;\n import org.apache.maven.doxia.document.DocumentModel;\n import org.apache.maven.doxia.document.DocumentTOCItem;\n import org.apache.maven.doxia.document.io.xpp3.DocumentXpp3Writer;\n@@ -782,6 +783,11 @@ private DocumentModel getDocumentModelFromDescriptor( Locale locale )\n             throw new MojoExecutionException( \"Error opening DocumentDescriptor!\", io );\n         }\n \n+        if ( model.getMeta() == null )\n+        {\n+            model.setMeta( new DocumentMeta() );\n+        }\n+\n         if ( StringUtils.isEmpty( model.getMeta().getLanguage() ) )\n         {\n             model.getMeta().setLanguage( locale.getLanguage() );", "filename": "src/main/java/org/apache/maven/plugins/pdf/PdfMojo.java"}], "repo": "maven-pdf-plugin"}]
