[
    {
        "commit": "https://github.com/apache/incubator-retired-s4/commit/6a39823906baebb449f17fee4f2397a6c3899d9c",
        "file": [
            {
                "patch": "@@ -11,7 +11,7 @@\n     @Parameter(names = \"-help\", description = \"usage\")\n     boolean help = false;\n \n-    @Parameter(names = \"-s4ScriptPath\", description = \"path of the S4 script\", hidden = true, required = true)\n+    @Parameter(names = \"-s4ScriptPath\", description = \"path of the S4 script\", hidden = true, required = false)\n     String s4ScriptPath;\n \n     @Parameter(names = \"-gradleOpts\", variableArity = true, description = \"gradle system properties (as in GRADLE_OPTS environment properties) passed to gradle scripts\", required = false, converter = GradleOptsConverter.class)",
                "additions": 1,
                "raw_url": "https://github.com/apache/incubator-retired-s4/raw/6a39823906baebb449f17fee4f2397a6c3899d9c/subprojects/s4-tools/src/main/java/org/apache/s4/tools/S4ArgsBase.java",
                "status": "modified",
                "changes": 2,
                "deletions": 1,
                "sha": "52f180095980e1357525bad30a1373f06219ebbe",
                "blob_url": "https://github.com/apache/incubator-retired-s4/blob/6a39823906baebb449f17fee4f2397a6c3899d9c/subprojects/s4-tools/src/main/java/org/apache/s4/tools/S4ArgsBase.java",
                "filename": "subprojects/s4-tools/src/main/java/org/apache/s4/tools/S4ArgsBase.java",
                "contents_url": "https://api.github.com/repos/apache/incubator-retired-s4/contents/subprojects/s4-tools/src/main/java/org/apache/s4/tools/S4ArgsBase.java?ref=6a39823906baebb449f17fee4f2397a6c3899d9c"
            },
            {
                "patch": "@@ -2,6 +2,7 @@\n \n import java.io.File;\n import java.util.ArrayList;\n+import java.util.Collections;\n import java.util.List;\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n@@ -52,14 +53,18 @@ public void createDefaultNameSpace(ZkClient zkClient) {\n \n             // now upload cluster configs if specified or if using test mode\n             List<ClusterConfig> clusterConfigs = zkArgs.clusterConfigs;\n-            if (zkArgs.testMode && (clusterConfigs == null)) {\n-                logger.info(\"Initializing test mode with default clusters configurations\");\n-                clusterConfigs = new ArrayList<ZKServer.ClusterConfig>() {\n-                    {\n-                        add(new ClusterConfig(TEST_MODE_CLUSTER_CONF_1));\n-                        add(new ClusterConfig(TEST_MODE_CLUSTER_CONF_2));\n-                    }\n-                };\n+            if (clusterConfigs == null) {\n+                if (zkArgs.testMode) {\n+                    logger.info(\"Initializing test mode with default clusters configurations\");\n+                    clusterConfigs = new ArrayList<ZKServer.ClusterConfig>() {\n+                        {\n+                            add(new ClusterConfig(TEST_MODE_CLUSTER_CONF_1));\n+                            add(new ClusterConfig(TEST_MODE_CLUSTER_CONF_2));\n+                        }\n+                    };\n+                } else {\n+                    clusterConfigs = Collections.emptyList();\n+                }\n             }\n             for (ClusterConfig config : clusterConfigs) {\n                 TaskSetup taskSetup = new TaskSetup(\"localhost:\" + zkArgs.zkPort);",
                "additions": 13,
                "raw_url": "https://github.com/apache/incubator-retired-s4/raw/6a39823906baebb449f17fee4f2397a6c3899d9c/subprojects/s4-tools/src/main/java/org/apache/s4/tools/ZKServer.java",
                "status": "modified",
                "changes": 21,
                "deletions": 8,
                "sha": "668499a6839a0e22e646baf7cd660f5b60e21a49",
                "blob_url": "https://github.com/apache/incubator-retired-s4/blob/6a39823906baebb449f17fee4f2397a6c3899d9c/subprojects/s4-tools/src/main/java/org/apache/s4/tools/ZKServer.java",
                "filename": "subprojects/s4-tools/src/main/java/org/apache/s4/tools/ZKServer.java",
                "contents_url": "https://api.github.com/repos/apache/incubator-retired-s4/contents/subprojects/s4-tools/src/main/java/org/apache/s4/tools/ZKServer.java?ref=6a39823906baebb449f17fee4f2397a6c3899d9c"
            }
        ],
        "bug_id": "incubator-retired-s4_1",
        "parent": "https://github.com/apache/incubator-retired-s4/commit/e438fbff99a8a15ae9c3d8184a32d51f256e30bd",
        "message": "s4 node command / development mode improvements:\n- set s4ScriptPath parameter as optional\n- fixed an NPE",
        "repo": "incubator-retired-s4"
    }
]