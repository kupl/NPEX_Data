[
    {
        "repo": "maven-dependency-tree",
        "message": "Handle potential NPE when things go wrong inside Maven\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@553244 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-dependency-tree/commit/1e426a92e24dc8b59a696b12d621e4a79e35068f",
        "parent": "https://github.com/apache/maven-dependency-tree/commit/3893751384bb6c0c8c41f3aa8915a40201ffa4eb",
        "bug_id": "maven-dependency-tree_1",
        "file": [
            {
                "sha": "f67ca52503d3c7299e90bead68f29ccb08d7db2f",
                "filename": "src/test/java/org/apache/maven/shared/dependency/tree/ResolutionNodeUtils.java",
                "blob_url": "https://github.com/apache/maven-dependency-tree/blob/1e426a92e24dc8b59a696b12d621e4a79e35068f/src/test/java/org/apache/maven/shared/dependency/tree/ResolutionNodeUtils.java",
                "raw_url": "https://github.com/apache/maven-dependency-tree/raw/1e426a92e24dc8b59a696b12d621e4a79e35068f/src/test/java/org/apache/maven/shared/dependency/tree/ResolutionNodeUtils.java",
                "status": "modified",
                "changes": 2,
                "additions": 1,
                "contents_url": "https://api.github.com/repos/apache/maven-dependency-tree/contents/src/test/java/org/apache/maven/shared/dependency/tree/ResolutionNodeUtils.java?ref=1e426a92e24dc8b59a696b12d621e4a79e35068f",
                "patch": "@@ -127,7 +127,7 @@ private static StringBuffer append( StringBuffer buffer, ResolutionNode node, in\n         buffer.append( node );\n         buffer.append( System.getProperty( \"line.separator\" ) );\n         \n-        if ( node.isResolved() )\n+        if ( node != null && node.isResolved() )\n         {\n             append( buffer, node.getChildrenIterator(), depth + 1 );\n         }",
                "deletions": 1
            }
        ]
    },
    {
        "repo": "maven-dependency-tree",
        "message": "o Changed commented-out testProjectWithConflictDependencyScope to the behaviour Maven appears to exhibit - real expected outcome is still preserved in comments\n\no Added commented-out testProjectWithConflictDependencyScopeReversedOrder to fix corrected NPE - cannot uncomment since Maven's internal resolution tree is contradictory to the events it fires\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/shared/trunk@556047 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/maven-dependency-tree/commit/ba1caa65f7044e1cb41db4f3273ac78c3590c68a",
        "parent": "https://github.com/apache/maven-dependency-tree/commit/67d5930df277d088d64b57d04193cbefad35a718",
        "bug_id": "maven-dependency-tree_2",
        "file": [
            {
                "sha": "38a94e9cb61b8a813b912cba42cced6cb6eb7f89",
                "filename": "src/test/java/org/apache/maven/shared/dependency/tree/DependencyTreeBuilderTest.java",
                "blob_url": "https://github.com/apache/maven-dependency-tree/blob/ba1caa65f7044e1cb41db4f3273ac78c3590c68a/src/test/java/org/apache/maven/shared/dependency/tree/DependencyTreeBuilderTest.java",
                "raw_url": "https://github.com/apache/maven-dependency-tree/raw/ba1caa65f7044e1cb41db4f3273ac78c3590c68a/src/test/java/org/apache/maven/shared/dependency/tree/DependencyTreeBuilderTest.java",
                "status": "modified",
                "changes": 46,
                "additions": 44,
                "contents_url": "https://api.github.com/repos/apache/maven-dependency-tree/contents/src/test/java/org/apache/maven/shared/dependency/tree/DependencyTreeBuilderTest.java?ref=ba1caa65f7044e1cb41db4f3273ac78c3590c68a",
                "patch": "@@ -227,15 +227,57 @@ public void testProjectWithConflictDependencyScope() throws DependencyTreeBuilde\n \n         MavenProject project = createProject( projectArtifact, new Artifact[] { childArtifact } );\n \n+        // TODO: i would have expected this..\n+//        DependencyNode expectedRootNode = createNode( \"g:p:t:1\" );\n+//        DependencyNode childArtifactNode = createNode( \"g:a:t:1\" );\n+//        expectedRootNode.addChild( childArtifactNode );\n+//        DependencyNode nearestArtifactNode = createNode( \"g:c:t:1:compile\" );\n+//        nearestArtifactNode.setOriginalScope( \"test\" );\n+//        childArtifactNode.addChild( nearestArtifactNode );\n+//        DependencyNode grandchildArtifactNode = createNode( \"g:b:t:1\" );\n+//        childArtifactNode.addChild( grandchildArtifactNode );\n+//        grandchildArtifactNode.addChild( createNode( \"g:c:t:1:compile\", DependencyNode.OMITTED_FOR_DUPLICATE, nearestArtifactNode.getArtifact() ) );\n+\n         DependencyNode expectedRootNode = createNode( \"g:p:t:1\" );\n         DependencyNode childArtifactNode = createNode( \"g:a:t:1\" );\n         expectedRootNode.addChild( childArtifactNode );\n-        DependencyNode nearestArtifactNode = createNode( \"g:c:t:1:compile\" );\n+        DependencyNode farthestArtifactNode = createNode( \"g:c:t:1:compile\" );\n+        DependencyNode nearestArtifactNode = createNode( \"g:c:t:1:compile\", DependencyNode.OMITTED_FOR_DUPLICATE, farthestArtifactNode.getArtifact() );\n         nearestArtifactNode.setOriginalScope( \"test\" );\n         childArtifactNode.addChild( nearestArtifactNode );\n         DependencyNode grandchildArtifactNode = createNode( \"g:b:t:1\" );\n         childArtifactNode.addChild( grandchildArtifactNode );\n-        grandchildArtifactNode.addChild( createNode( \"g:c:t:1:compile\", DependencyNode.OMITTED_FOR_DUPLICATE, nearestArtifactNode.getArtifact() ) );\n+        grandchildArtifactNode.addChild( farthestArtifactNode );\n+        \n+        assertDependencyTree( expectedRootNode, project );\n+    }\n+    */\n+\n+    // TODO: fix when discussion resolved: http://www.mail-archive.com/dev@maven.apache.org/msg68011.html\n+    /*\n+    public void testProjectWithConflictDependencyScopeReversedOrder() throws DependencyTreeBuilderException, ArtifactResolutionException\n+    {\n+        Artifact projectArtifact = createArtifact( \"g:p:t:1\" );\n+        Artifact childArtifact = createArtifact( \"g:a:t:1\" );\n+        Artifact nearestArtifact = createArtifact( \"g:c:t:1:test\" );\n+        Artifact grandchildArtifact = createArtifact( \"g:b:t:1\" );\n+        Artifact farthestArtifact = createArtifact( \"g:c:t:1:compile\" );\n+        addArtifactMetadata( childArtifact, new Artifact[] { grandchildArtifact, nearestArtifact } );\n+        addArtifactMetadata( grandchildArtifact, farthestArtifact );\n+\n+        MavenProject project = createProject( projectArtifact, new Artifact[] { childArtifact } );\n+\n+        // TODO: add expected results as per above test method\n+        DependencyNode expectedRootNode = createNode( \"g:p:t:1\" );\n+        DependencyNode childArtifactNode = createNode( \"g:a:t:1\" );\n+        expectedRootNode.addChild( childArtifactNode );\n+        DependencyNode grandchildArtifactNode = createNode( \"g:b:t:1\" );\n+        childArtifactNode.addChild( grandchildArtifactNode );\n+        DependencyNode farthestArtifactNode = createNode( \"g:c:t:1:compile\" );\n+        grandchildArtifactNode.addChild( farthestArtifactNode );\n+        DependencyNode nearestArtifactNode = createNode( \"g:c:t:1:compile\", DependencyNode.OMITTED_FOR_DUPLICATE, farthestArtifactNode.getArtifact() );\n+        nearestArtifactNode.setOriginalScope( \"test\" );\n+        childArtifactNode.addChild( nearestArtifactNode );\n         \n         assertDependencyTree( expectedRootNode, project );\n     }",
                "deletions": 2
            }
        ]
    }
]