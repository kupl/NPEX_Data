{
    "commons-collections_34bc1b5": {
        "bug_id": "commons-collections_34bc1b5",
        "commit": "https://github.com/apache/commons-collections/commit/34bc1b54db9d78b983e9d48a0f1a5a1156393a95",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/commons-collections/blob/34bc1b54db9d78b983e9d48a0f1a5a1156393a95/src/java/org/apache/commons/collections/map/LRUMap.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/commons-collections/contents/src/java/org/apache/commons/collections/map/LRUMap.java?ref=34bc1b54db9d78b983e9d48a0f1a5a1156393a95",
                "deletions": 0,
                "filename": "src/java/org/apache/commons/collections/map/LRUMap.java",
                "patch": "@@ -191,6 +191,11 @@ protected void moveToMRU(LinkEntry entry) {\n         if (entry.after != header) {\n             modCount++;\n             // remove\n+            if(entry.before == null) {\n+                throw new IllegalStateException(\"Entry.before is null.\" + \n+                    \" Please check that your keys are immutable, and that you have used synchronization properly.\" +\n+                    \" If so, then please report this to dev@commons.apache.org as a bug.\");\n+            }\n             entry.before.after = entry.after;\n             entry.after.before = entry.before;\n             // add first",
                "raw_url": "https://github.com/apache/commons-collections/raw/34bc1b54db9d78b983e9d48a0f1a5a1156393a95/src/java/org/apache/commons/collections/map/LRUMap.java",
                "sha": "d0da4edd355baf6c7e0b26ce25885ba8e1c21664",
                "status": "modified"
            }
        ],
        "message": "Adding a state check as per COLLECTIONS-3. I got an NPE when running through tests without synchronization\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/collections/trunk@643755 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/commons-collections/commit/975baeba6172fd711f2a13db791464e6b272a120",
        "repo": "commons-collections",
        "unit_tests": [
            "LRUMapTest.java"
        ]
    }
}