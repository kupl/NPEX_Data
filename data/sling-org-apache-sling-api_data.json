[{"commit": "https://github.com/apache/sling-org-apache-sling-api/commit/c035e55b5e271dd9f220551f2240c85b2db66ddc", "parent": "https://github.com/apache/sling-org-apache-sling-api/commit/1a9d9925fb047b9c2ef4c13a143ed36cfd29e15a", "message": "SLING-1352 : ValueMapDecorator#get(String name, T defaultValue) throws NPE if default value is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@906858 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "sling-org-apache-sling-api_1", "file": [{"additions": 1, "raw_url": "https://github.com/apache/sling-org-apache-sling-api/raw/c035e55b5e271dd9f220551f2240c85b2db66ddc/src/main/java/org/apache/sling/api/resource/ValueMap.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-api/blob/c035e55b5e271dd9f220551f2240c85b2db66ddc/src/main/java/org/apache/sling/api/resource/ValueMap.java", "sha": "b40e726a9a4ed115c2152cc1b48f9023366b41d4", "changes": 2, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-api/contents/src/main/java/org/apache/sling/api/resource/ValueMap.java?ref=c035e55b5e271dd9f220551f2240c85b2db66ddc", "patch": "@@ -54,7 +54,7 @@\n      * @param defaultValue The default value to use if the named property does\n      *            not exist or cannot be converted to the requested type. The\n      *            default value is also used to define the type to convert the\n-     *            value to. If this is <code>null</code> any existing propert is\n+     *            value to. If this is <code>null</code> any existing property is\n      *            not converted.\n      * @return Return named value converted to type T or the default value if\n      *         non existing or can't be converted.", "filename": "src/main/java/org/apache/sling/api/resource/ValueMap.java"}, {"additions": 3, "raw_url": "https://github.com/apache/sling-org-apache-sling-api/raw/c035e55b5e271dd9f220551f2240c85b2db66ddc/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-api/blob/c035e55b5e271dd9f220551f2240c85b2db66ddc/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java", "sha": "d9c942ff6391680f801950ca560e93dd3678fd3d", "changes": 3, "status": "modified", "deletions": 0, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-api/contents/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java?ref=c035e55b5e271dd9f220551f2240c85b2db66ddc", "patch": "@@ -113,6 +113,9 @@ public ValueMapDecorator(Map<String, Object> base) {\n      */\n     @SuppressWarnings(\"unchecked\")\n     public <T> T get(String name, T defaultValue) {\n+        if ( defaultValue == null ) {\n+            return (T)get(name);\n+        }\n         T value = get(name, (Class<T>) defaultValue.getClass());\n         return value == null ? defaultValue : value;\n     }", "filename": "src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java"}], "repo": "sling-org-apache-sling-api"}]
