{
    "xmlgraphics-batik_24641b5": {
        "bug_id": "xmlgraphics-batik_24641b5",
        "commit": "https://github.com/apache/xmlgraphics-batik/commit/24641b566dfe9655b5bfd0ae31b54c64db2f06ff",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/24641b566dfe9655b5bfd0ae31b54c64db2f06ff/sources/org/apache/batik/bridge/BaseScriptingEnvironment.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/bridge/BaseScriptingEnvironment.java?ref=24641b566dfe9655b5bfd0ae31b54c64db2f06ff",
                "deletions": 1,
                "filename": "sources/org/apache/batik/bridge/BaseScriptingEnvironment.java",
                "patch": "@@ -429,7 +429,7 @@ public void loadScripts() {\n                         }\n                     }\n                     if (reader == null) {\n-                        if (mediaType.equals(APPLICATION_ECMASCRIPT)) {\n+                        if (APPLICATION_ECMASCRIPT.equals(mediaType)) {\n                             // No encoding was specified in the MIME type, so\n                             // infer it according to RFC 4329.\n                             if (purl.hasContentTypeParameter(\"version\")) {",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/24641b566dfe9655b5bfd0ae31b54c64db2f06ff/sources/org/apache/batik/bridge/BaseScriptingEnvironment.java",
                "sha": "bd3d9ce44da734ad112cbd5243d5f708d0cbf6e8",
                "status": "modified"
            },
            {
                "additions": 6,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/24641b566dfe9655b5bfd0ae31b54c64db2f06ff/sources/org/apache/batik/util/ParsedURLData.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/util/ParsedURLData.java?ref=24641b566dfe9655b5bfd0ae31b54c64db2f06ff",
                "deletions": 0,
                "filename": "sources/org/apache/batik/util/ParsedURLData.java",
                "patch": "@@ -320,6 +320,9 @@ public String getContentTypeCharset(String userAgent) {\n      */\n     public boolean hasContentTypeParameter(String userAgent, String param) {\n         getContentType(userAgent);\n+        if (contentType == null) {\n+            return false;\n+        }\n         int i = 0;\n         int len = contentType.length();\n         int plen = param.length();\n@@ -367,6 +370,9 @@ public boolean hasContentTypeParameter(String userAgent, String param) {\n      */\n     protected void extractContentTypeParts(String userAgent) {\n         getContentType(userAgent);\n+        if (contentType == null) {\n+            return;\n+        }\n         int i = 0;\n         int len = contentType.length();\n loop1:  while (i < len) {",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/24641b566dfe9655b5bfd0ae31b54c64db2f06ff/sources/org/apache/batik/util/ParsedURLData.java",
                "sha": "7656309dce0c7eb545016d4654bf9fe47bbc2dcf",
                "status": "modified"
            }
        ],
        "message": "1. Avoid NPEs when loading scripts from file: URIs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/xmlgraphics/batik/trunk@488643 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/xmlgraphics-batik/commit/73f1f9d88ea67e74723727d70e3bb71dc8c3eb8c",
        "repo": "xmlgraphics-batik",
        "unit_tests": [
            "ParsedURLDataTest.java"
        ]
    },
    "xmlgraphics-batik_2fcac4c": {
        "bug_id": "xmlgraphics-batik_2fcac4c",
        "commit": "https://github.com/apache/xmlgraphics-batik/commit/2fcac4c3828a56f09070673659da147ddf47aad8",
        "file": [
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/bridge/SVGGlyphElementBridge.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/bridge/SVGGlyphElementBridge.java?ref=2fcac4c3828a56f09070673659da147ddf47aad8",
                "deletions": 1,
                "filename": "sources/org/apache/batik/bridge/SVGGlyphElementBridge.java",
                "patch": "@@ -126,7 +126,8 @@ public Glyph createGlyph(BridgeContext ctx,\n         Shape dShape = null;\n         if (d.length() != 0) {\n             AWTPathProducer app = new AWTPathProducer();\n-            app.setWindingRule(CSSUtilities.convertFillRule(glyphElement));\n+            // Glyph is supposed to use properties from text element.\n+            app.setWindingRule(CSSUtilities.convertFillRule(textElement));\n             try {\n                 PathParser pathParser = new PathParser();\n                 pathParser.setPathHandler(app);",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/bridge/SVGGlyphElementBridge.java",
                "sha": "2339f55853b9ab209087518d68fe68a4f685ded8",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/dom/svg/SVGOMFEPointLightElement.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/dom/svg/SVGOMFEPointLightElement.java?ref=2fcac4c3828a56f09070673659da147ddf47aad8",
                "deletions": 1,
                "filename": "sources/org/apache/batik/dom/svg/SVGOMFEPointLightElement.java",
                "patch": "@@ -106,7 +106,7 @@ public SVGAnimatedNumber getY() {\n      * <b>DOM</b>: Implements {@link SVGFEPointLightElement#getZ()}.\n      */\n     public SVGAnimatedNumber getZ() {\n-        return getAnimatedNumberAttribute(null, SVG_Y_ATTRIBUTE, 0f);\n+        return getAnimatedNumberAttribute(null, SVG_Z_ATTRIBUTE, 0f);\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/dom/svg/SVGOMFEPointLightElement.java",
                "sha": "45b6cce742addd3ec218ae39c7f265db6f0ae417",
                "status": "modified"
            },
            {
                "additions": 2,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/ext/awt/geom/RectListManager.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/ext/awt/geom/RectListManager.java?ref=2fcac4c3828a56f09070673659da147ddf47aad8",
                "deletions": 0,
                "filename": "sources/org/apache/batik/ext/awt/geom/RectListManager.java",
                "patch": "@@ -618,6 +618,7 @@ public void add(RectListManager rlm) {\n     }\n \n     public void mergeRects(int overhead, int lineOverhead) {\n+        if (size == 0) return;\n         Rectangle r, cr, mr;\n         int cost1, cost2, cost3;\n         mr = new Rectangle();\n@@ -708,6 +709,7 @@ public void mergeRects(int overhead, int lineOverhead) {\n         }\n         size = j;\n         r = getBounds();\n+        if (r == null) return;\n         if (overhead + (r.height*lineOverhead) + (r.height*r.width) < area) {\n             rects[0] = r;\n             size=1;",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/2fcac4c3828a56f09070673659da147ddf47aad8/sources/org/apache/batik/ext/awt/geom/RectListManager.java",
                "sha": "245f04ba80d3e711043cab987251d4653d88b40e",
                "status": "modified"
            }
        ],
        "message": "1) Fixed NPE in RectListManager when the rect list was empty.\n2) FePointLightElement now returns the Z attribute not Y when appropriate.\n3) The glyph element's d attribute now uses the winding-rule property value\n   from the text element not from the glyph element (as per the SVG\n   specification)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/xmlgraphics/batik/trunk@201321 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/xmlgraphics-batik/commit/0a5a8102897a5b2cf5afc528c5962a83ab3a671d",
        "repo": "xmlgraphics-batik",
        "unit_tests": [
            "RectListManagerTest.java"
        ]
    },
    "xmlgraphics-batik_a7afbd4": {
        "bug_id": "xmlgraphics-batik_a7afbd4",
        "commit": "https://github.com/apache/xmlgraphics-batik/commit/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/CHANGES",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/CHANGES?ref=a7afbd4c9256bcd645a14d6ab485dc2aefe51a21",
                "deletions": 1,
                "filename": "CHANGES",
                "patch": "@@ -16,7 +16,7 @@ Bug fixing is an on-going task, so it is implied in all sub-releases.\n     42543, 42645, 42651, 42697, 42698, 42807, 42961, 42963, 42968,\n     43022, 43043, 43045, 43165, 43194, 43195, 43370, 43418, 43446,\n     43638, 43657, 43744, 43760, 43764, 43787, 43854, 43871, 43904,\n-    43953, 44029, 44092\n+    43953, 44029, 44054, 44092\n \n 2. New features\n ",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/CHANGES",
                "sha": "53981d963193e00a023e148339af826ceea67451",
                "status": "modified"
            },
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/sources/org/apache/batik/css/engine/CSSEngine.java",
                "changes": 2,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/css/engine/CSSEngine.java?ref=a7afbd4c9256bcd645a14d6ab485dc2aefe51a21",
                "deletions": 1,
                "filename": "sources/org/apache/batik/css/engine/CSSEngine.java",
                "patch": "@@ -824,7 +824,7 @@ public void property(String pname, LexicalUnit lu,\n                         styleDeclarationDocumentHandler.styleMap = null;\n                     } catch (Exception e) {\n                         String m = e.getMessage();\n-                        if (m == null) m = \"\";\n+                        if (m == null) m = e.getClass().getName();\n                         String u = ((documentURI == null)?\"<unknown>\":\n                                     documentURI.toString());\n                         String s = Messages.formatMessage",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/sources/org/apache/batik/css/engine/CSSEngine.java",
                "sha": "b4db90f275eb457dd2e486f49b0eb77075904df9",
                "status": "modified"
            },
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/xmlgraphics-batik/blob/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/sources/org/apache/batik/util/ParsedURL.java",
                "changes": 7,
                "contents_url": "https://api.github.com/repos/apache/xmlgraphics-batik/contents/sources/org/apache/batik/util/ParsedURL.java?ref=a7afbd4c9256bcd645a14d6ab485dc2aefe51a21",
                "deletions": 3,
                "filename": "sources/org/apache/batik/util/ParsedURL.java",
                "patch": "@@ -229,11 +229,12 @@ public ParsedURL(URL baseURL, String urlStr) {\n      *               the missing pieces will be taken from the baseURL.\n      */\n     public ParsedURL(ParsedURL baseURL, String urlStr) {\n-        userAgent = baseURL.getUserAgent();\n-        if (baseURL != null)\n+        if (baseURL != null) {\n+            userAgent = baseURL.getUserAgent();\n             data = parseURL(baseURL, urlStr);\n-        else\n+        } else {\n             data = parseURL(urlStr);\n+        }\n     }\n \n     /**",
                "raw_url": "https://github.com/apache/xmlgraphics-batik/raw/a7afbd4c9256bcd645a14d6ab485dc2aefe51a21/sources/org/apache/batik/util/ParsedURL.java",
                "sha": "1fbda9122aafe16895bc82372910a694053472ad",
                "status": "modified"
            }
        ],
        "message": "Avoid NPE in ParsedURL constructor.  Fixes bug 44054.\n\nSubmitted by: Jeremias M\u00e4rki <jeremias (at) apache.org>\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/xmlgraphics/batik/trunk@606891 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/xmlgraphics-batik/commit/4b319edb9ce72baddb758d4756c756a588977b83",
        "repo": "xmlgraphics-batik",
        "unit_tests": [
            "ParsedURLTest.java"
        ]
    }
}