{
    "giraph_ea0c721": {
        "bug_id": "giraph_ea0c721",
        "commit": "https://github.com/apache/giraph/commit/ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0",
        "file": [
            {
                "additions": 3,
                "blob_url": "https://github.com/apache/giraph/blob/ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0/CHANGELOG",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/giraph/contents/CHANGELOG?ref=ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0",
                "deletions": 0,
                "filename": "CHANGELOG",
                "patch": "@@ -2,6 +2,9 @@ Giraph Change Log\n \n Release 0.70.0 - unreleased\n \n+  GIRAPH-30: NPE in ZooKeeperManager if base directory cannot be\n+  created. apurtell via aching.\n+\n   GIRAPH-27: Mutable static global state in Vertex.java should be\n   refactored. jake.mannix via aching.\n  ",
                "raw_url": "https://github.com/apache/giraph/raw/ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0/CHANGELOG",
                "sha": "90c145d823259af90a0ecd36464672b9569d625a",
                "status": "modified"
            },
            {
                "additions": 15,
                "blob_url": "https://github.com/apache/giraph/blob/ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0/src/main/java/org/apache/giraph/zk/ZooKeeperManager.java",
                "changes": 15,
                "contents_url": "https://api.github.com/repos/apache/giraph/contents/src/main/java/org/apache/giraph/zk/ZooKeeperManager.java?ref=ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0",
                "deletions": 0,
                "filename": "src/main/java/org/apache/giraph/zk/ZooKeeperManager.java",
                "patch": "@@ -229,6 +229,21 @@ public void createCandidateStamp() {\n             LOG.error(\"createCandidateStamp: Failed to mkdirs \" +\n                       baseDirectory);\n         }\n+        // Check that the base directory exists and is a directory\n+        try {\n+            if (!fs.getFileStatus(baseDirectory).isDir()) {\n+                throw new IllegalArgumentException(\n+                    \"createCandidateStamp: \" + baseDirectory +\n+                    \" is not a directory, but should be.\");\n+            }\n+        } catch (IOException e) {\n+            throw new IllegalArgumentException(\n+                \"createCandidateStamp: Couldn't get file status \" +\n+                \"for base directory \" + baseDirectory + \".  If there is an \" +\n+                \"issue with this directory, please set an accesible \" +\n+                \"base directory with the Hadoop configuration option \" +\n+                GiraphJob.ZOOKEEPER_MANAGER_DIRECTORY);\n+        }\n \n         Path myCandidacyPath = new Path(\n             taskDirectory, myHostname +",
                "raw_url": "https://github.com/apache/giraph/raw/ea0c721e8dbdcf88e5e36103f7da7f69ab4a8da0/src/main/java/org/apache/giraph/zk/ZooKeeperManager.java",
                "sha": "dd13f5ba7995c6812f8dbf1991363435a11f0437",
                "status": "modified"
            }
        ],
        "message": "GIRAPH-30: NPE in ZooKeeperManager if base directory cannot be\ncreated. apurtell via aching.\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/giraph/trunk@1170427 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/giraph/commit/d0bb2a9a377bd78990736f858d57504befc95421",
        "repo": "giraph",
        "unit_tests": [
            "TestZooKeeperManager.java"
        ]
    }
}