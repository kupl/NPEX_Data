[{"commit": "https://github.com/apache/sling-org-apache-sling-event-dea/commit/2078d1825bf6f48a281be44122c49d457d013685", "parent": "https://github.com/apache/sling-org-apache-sling-event-dea/commit/bc4e06c18a99031aa56cfa66e112d858cd5af83f", "message": "SLING-5052 : avoid NPE when resource no longer exists\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1704664 13f79535-47bb-0310-9956-ffa450edef68", "bug_id": "sling-org-apache-sling-event-dea_1", "file": [{"additions": 3, "raw_url": "https://github.com/apache/sling-org-apache-sling-event-dea/raw/2078d1825bf6f48a281be44122c49d457d013685/src/main/java/org/apache/sling/event/dea/impl/DistributedEventSender.java", "blob_url": "https://github.com/apache/sling-org-apache-sling-event-dea/blob/2078d1825bf6f48a281be44122c49d457d013685/src/main/java/org/apache/sling/event/dea/impl/DistributedEventSender.java", "sha": "1cf81ec7f0d6c4daa8e79241b069a1aff2c939cb", "changes": 4, "status": "modified", "deletions": 1, "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-event-dea/contents/src/main/java/org/apache/sling/event/dea/impl/DistributedEventSender.java?ref=2078d1825bf6f48a281be44122c49d457d013685", "patch": "@@ -192,7 +192,9 @@ private void runInBackground() {\n                 try {\n                     resolver = this.resourceResolverFactory.getAdministrativeResourceResolver(null);\n                     final Resource eventResource = resolver.getResource(path);\n-                    if ( DistributedEventAdminImpl.RESOURCE_TYPE_EVENT.equals(eventResource.getResourceType())) {\n+                    if (eventResource == null) {\n+                        this.logger.warn(\"runInBackground : resource not found at \"+path);\n+                    } else if ( DistributedEventAdminImpl.RESOURCE_TYPE_EVENT.equals(eventResource.getResourceType())) {\n                         final Event e = this.readEvent(eventResource);\n                         if ( e != null ) {\n                             // we check event admin as processing is async", "filename": "src/main/java/org/apache/sling/event/dea/impl/DistributedEventSender.java"}], "repo": "sling-org-apache-sling-event-dea"}]
