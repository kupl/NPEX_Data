[
    {
        "repo": "chukwa",
        "message": "CHUKWA-93.  Fix NPE in SeqFileWriter.  (contributed by Jiaqi Tan)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/chukwa/trunk@762120 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/chukwa/commit/c62ccef000bef7c416fdee6f0ca65c645f87d368",
        "parent": "https://github.com/apache/chukwa/commit/2739a2be5b3fa32f9c2784f0a87162bbf327152d",
        "bug_id": "chukwa_1",
        "file": [
            {
                "sha": "d6ea761203694f8705120c1b49807a825af5f718",
                "filename": "CHANGES.txt",
                "blob_url": "https://github.com/apache/chukwa/blob/c62ccef000bef7c416fdee6f0ca65c645f87d368/CHANGES.txt",
                "raw_url": "https://github.com/apache/chukwa/raw/c62ccef000bef7c416fdee6f0ca65c645f87d368/CHANGES.txt",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/chukwa/contents/CHANGES.txt?ref=c62ccef000bef7c416fdee6f0ca65c645f87d368",
                "patch": "@@ -67,6 +67,8 @@ Trunk (unreleased changes)\n \n   BUG FIXES\n \n+    CHUKWA-93.  Fix NPE in SeqFileWriter.  (Jiaqi Tan via asrabkin)\n+\n     CHUKWA-1. Remove lzo job configuration from Chukwa data processors. (Contribute by Jerome Boulon via Eric Yang)\n \n     CHUKWA-40. Check for null pointer exception before unregister adaptor. (Contribute By Jerome Boulon via Eric Yang)",
                "deletions": 0
            },
            {
                "sha": "9544a1d41f4f0f60021411560a354ea15c93bb45",
                "filename": "src/java/org/apache/hadoop/chukwa/datacollection/writer/SeqFileWriter.java",
                "blob_url": "https://github.com/apache/chukwa/blob/c62ccef000bef7c416fdee6f0ca65c645f87d368/src/java/org/apache/hadoop/chukwa/datacollection/writer/SeqFileWriter.java",
                "raw_url": "https://github.com/apache/chukwa/raw/c62ccef000bef7c416fdee6f0ca65c645f87d368/src/java/org/apache/hadoop/chukwa/datacollection/writer/SeqFileWriter.java",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/chukwa/contents/src/java/org/apache/hadoop/chukwa/datacollection/writer/SeqFileWriter.java?ref=c62ccef000bef7c416fdee6f0ca65c645f87d368",
                "patch": "@@ -81,6 +81,8 @@ public SeqFileWriter() throws WriterException {\n   public void init(Configuration conf) throws WriterException {\n     outputDir = conf.get(\"chukwaCollector.outputDir\", \"/chukwa\");\n \n+    this.conf = conf;\n+\n     rotateInterval = conf.getInt(\"chukwaCollector.rotateInterval\",\n         1000 * 60 * 5);// defaults to 5 minutes\n     nextRotate = System.currentTimeMillis() + rotateInterval;",
                "deletions": 0
            }
        ]
    },
    {
        "repo": "chukwa",
        "message": "CHUKWA-494. NPE when no time range specified. Contributed by Bernd Fondermann\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/chukwa/trunk@963864 13f79535-47bb-0310-9956-ffa450edef68",
        "commit": "https://github.com/apache/chukwa/commit/24f766a4160ea9d18c78030c0d8d1e5bf0974228",
        "parent": "https://github.com/apache/chukwa/commit/5f8ee534ea4891b06042af11d3d30eb9d2f2793e",
        "bug_id": "chukwa_2",
        "file": [
            {
                "sha": "8917bc5df0a2352622516f4d271d2a4af500b58a",
                "filename": "CHANGES.txt",
                "blob_url": "https://github.com/apache/chukwa/blob/24f766a4160ea9d18c78030c0d8d1e5bf0974228/CHANGES.txt",
                "raw_url": "https://github.com/apache/chukwa/raw/24f766a4160ea9d18c78030c0d8d1e5bf0974228/CHANGES.txt",
                "status": "modified",
                "changes": 2,
                "additions": 2,
                "contents_url": "https://api.github.com/repos/apache/chukwa/contents/CHANGES.txt?ref=24f766a4160ea9d18c78030c0d8d1e5bf0974228",
                "patch": "@@ -24,6 +24,8 @@ Trunk (unreleased changes)\n \n   BUG FIXES\n \n+    CHHUKWA-494.  NPE when no time range is specified. (Bernd Fondermann via asrabkin)\n+\n     CHUKWA-492. Correction to database setup instruction. (Bernd Fondermann via Eric Yang)\n \n     CHUKWA-489. Fixed malformed SQL in MetricDataLoader when values contain single quote character. (Kirk True via Eric Yang)",
                "deletions": 0
            },
            {
                "sha": "183e2c2b05ffaaccc175bb7c6be5026d9a9229e1",
                "filename": "src/java/org/apache/hadoop/chukwa/hicc/TimeHandler.java",
                "blob_url": "https://github.com/apache/chukwa/blob/24f766a4160ea9d18c78030c0d8d1e5bf0974228/src/java/org/apache/hadoop/chukwa/hicc/TimeHandler.java",
                "raw_url": "https://github.com/apache/chukwa/raw/24f766a4160ea9d18c78030c0d8d1e5bf0974228/src/java/org/apache/hadoop/chukwa/hicc/TimeHandler.java",
                "status": "modified",
                "changes": 6,
                "additions": 3,
                "contents_url": "https://api.github.com/repos/apache/chukwa/contents/src/java/org/apache/hadoop/chukwa/hicc/TimeHandler.java?ref=24f766a4160ea9d18c78030c0d8d1e5bf0974228",
                "patch": "@@ -167,17 +167,17 @@ public void init(HttpServletRequest request) {\n       session.setAttribute(\"start\", \"\" + start);\n       session.setAttribute(\"end\", \"\" + end);\n     } else if (request.getParameter(\"period\") != null\n-        && !request.getParameter(\"period\").equals(\"\")) {\n+        && !\"\".equals(request.getParameter(\"period\"))) {\n       String period = xf.getParameter(\"period\");\n       parsePeriodValue(period);\n     } else if (request.getParameter(\"start\") != null\n         && request.getParameter(\"end\") != null) {\n       start = Long.parseLong(request.getParameter(\"start\"));\n       end = Long.parseLong(request.getParameter(\"end\"));\n-    } else if (session.getAttribute(\"time_type\").equals(\"range\")) {\n+    } else if (\"range\".equals(session.getAttribute(\"time_type\"))) {\n       start = Long.parseLong((String) session.getAttribute(\"start\"));\n       end = Long.parseLong((String) session.getAttribute(\"end\"));\n-    } else if (session.getAttribute(\"time_type\").equals(\"last\")\n+    } else if (\"last\".equals(session.getAttribute(\"time_type\"))\n         && session.getAttribute(\"period\") != null) {\n       String period = (String) session.getAttribute(\"period\");\n       parsePeriodValue(period);",
                "deletions": 3
            }
        ]
    }
]