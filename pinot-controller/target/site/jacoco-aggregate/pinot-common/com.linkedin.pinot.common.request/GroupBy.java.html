<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>GroupBy.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">pinot-controller</a> &gt; <a href="../index.html" class="el_bundle">pinot-common</a> &gt; <a href="index.source.html" class="el_package">com.linkedin.pinot.common.request</a> &gt; <span class="el_source">GroupBy.java</span></div><h1>GroupBy.java</h1><pre class="source lang-java linenums">/**
 * Autogenerated by Thrift Compiler (0.9.2)
 *
 * DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
 *  @generated
 */
package com.linkedin.pinot.common.request;

import org.apache.thrift.scheme.IScheme;
import org.apache.thrift.scheme.SchemeFactory;
import org.apache.thrift.scheme.StandardScheme;

import org.apache.thrift.scheme.TupleScheme;
import org.apache.thrift.protocol.TTupleProtocol;
import org.apache.thrift.protocol.TProtocolException;
import org.apache.thrift.EncodingUtils;
import org.apache.thrift.TException;
import org.apache.thrift.async.AsyncMethodCallback;
import org.apache.thrift.server.AbstractNonblockingServer.*;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;
import java.util.EnumMap;
import java.util.Set;
import java.util.HashSet;
import java.util.EnumSet;
import java.util.Collections;
import java.util.BitSet;
import java.nio.ByteBuffer;
import java.util.Arrays;
import javax.annotation.Generated;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

@SuppressWarnings({&quot;cast&quot;, &quot;rawtypes&quot;, &quot;serial&quot;, &quot;unchecked&quot;})
/**
 * AUTO GENERATED: DO NOT EDIT
 * GroupBy
 * 
 */
@Generated(value = &quot;Autogenerated by Thrift Compiler (0.9.2)&quot;, date = &quot;2017-5-24&quot;)
public class GroupBy implements org.apache.thrift.TBase&lt;GroupBy, GroupBy._Fields&gt;, java.io.Serializable, Cloneable, Comparable&lt;GroupBy&gt; {
<span class="fc" id="L44">  private static final org.apache.thrift.protocol.TStruct STRUCT_DESC = new org.apache.thrift.protocol.TStruct(&quot;GroupBy&quot;);</span>

<span class="fc" id="L46">  private static final org.apache.thrift.protocol.TField COLUMNS_FIELD_DESC = new org.apache.thrift.protocol.TField(&quot;columns&quot;, org.apache.thrift.protocol.TType.LIST, (short)1);</span>
<span class="fc" id="L47">  private static final org.apache.thrift.protocol.TField TOP_N_FIELD_DESC = new org.apache.thrift.protocol.TField(&quot;topN&quot;, org.apache.thrift.protocol.TType.I64, (short)2);</span>
<span class="fc" id="L48">  private static final org.apache.thrift.protocol.TField EXPRESSIONS_FIELD_DESC = new org.apache.thrift.protocol.TField(&quot;expressions&quot;, org.apache.thrift.protocol.TType.LIST, (short)3);</span>

<span class="fc" id="L50">  private static final Map&lt;Class&lt;? extends IScheme&gt;, SchemeFactory&gt; schemes = new HashMap&lt;Class&lt;? extends IScheme&gt;, SchemeFactory&gt;();</span>
  static {
<span class="fc" id="L52">    schemes.put(StandardScheme.class, new GroupByStandardSchemeFactory());</span>
<span class="fc" id="L53">    schemes.put(TupleScheme.class, new GroupByTupleSchemeFactory());</span>
  }

  private List&lt;String&gt; columns; // optional
  private long topN; // optional
  private List&lt;String&gt; expressions; // optional

  /** The set of fields this struct contains, along with convenience methods for finding and manipulating them. */
<span class="pc" id="L61">  public enum _Fields implements org.apache.thrift.TFieldIdEnum {</span>
<span class="fc" id="L62">    COLUMNS((short)1, &quot;columns&quot;),</span>
<span class="fc" id="L63">    TOP_N((short)2, &quot;topN&quot;),</span>
<span class="fc" id="L64">    EXPRESSIONS((short)3, &quot;expressions&quot;);</span>

<span class="fc" id="L66">    private static final Map&lt;String, _Fields&gt; byName = new HashMap&lt;String, _Fields&gt;();</span>

    static {
<span class="fc bfc" id="L69" title="All 2 branches covered.">      for (_Fields field : EnumSet.allOf(_Fields.class)) {</span>
<span class="fc" id="L70">        byName.put(field.getFieldName(), field);</span>
<span class="fc" id="L71">      }</span>
<span class="fc" id="L72">    }</span>

    /**
     * Find the _Fields constant that matches fieldId, or null if its not found.
     */
    public static _Fields findByThriftId(int fieldId) {
<span class="nc bnc" id="L78" title="All 4 branches missed.">      switch(fieldId) {</span>
        case 1: // COLUMNS
<span class="nc" id="L80">          return COLUMNS;</span>
        case 2: // TOP_N
<span class="nc" id="L82">          return TOP_N;</span>
        case 3: // EXPRESSIONS
<span class="nc" id="L84">          return EXPRESSIONS;</span>
        default:
<span class="nc" id="L86">          return null;</span>
      }
    }

    /**
     * Find the _Fields constant that matches fieldId, throwing an exception
     * if it is not found.
     */
    public static _Fields findByThriftIdOrThrow(int fieldId) {
<span class="nc" id="L95">      _Fields fields = findByThriftId(fieldId);</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">      if (fields == null) throw new IllegalArgumentException(&quot;Field &quot; + fieldId + &quot; doesn't exist!&quot;);</span>
<span class="nc" id="L97">      return fields;</span>
    }

    /**
     * Find the _Fields constant that matches name, or null if its not found.
     */
    public static _Fields findByName(String name) {
<span class="nc" id="L104">      return byName.get(name);</span>
    }

    private final short _thriftId;
    private final String _fieldName;

<span class="fc" id="L110">    _Fields(short thriftId, String fieldName) {</span>
<span class="fc" id="L111">      _thriftId = thriftId;</span>
<span class="fc" id="L112">      _fieldName = fieldName;</span>
<span class="fc" id="L113">    }</span>

    public short getThriftFieldId() {
<span class="nc" id="L116">      return _thriftId;</span>
    }

    public String getFieldName() {
<span class="fc" id="L120">      return _fieldName;</span>
    }
  }

  // isset id assignments
  private static final int __TOPN_ISSET_ID = 0;
<span class="pc" id="L126">  private byte __isset_bitfield = 0;</span>
<span class="fc" id="L127">  private static final _Fields optionals[] = {_Fields.COLUMNS,_Fields.TOP_N,_Fields.EXPRESSIONS};</span>
  public static final Map&lt;_Fields, org.apache.thrift.meta_data.FieldMetaData&gt; metaDataMap;
  static {
<span class="fc" id="L130">    Map&lt;_Fields, org.apache.thrift.meta_data.FieldMetaData&gt; tmpMap = new EnumMap&lt;_Fields, org.apache.thrift.meta_data.FieldMetaData&gt;(_Fields.class);</span>
<span class="fc" id="L131">    tmpMap.put(_Fields.COLUMNS, new org.apache.thrift.meta_data.FieldMetaData(&quot;columns&quot;, org.apache.thrift.TFieldRequirementType.OPTIONAL, </span>
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
            new org.apache.thrift.meta_data.FieldValueMetaData(org.apache.thrift.protocol.TType.STRING))));
<span class="fc" id="L134">    tmpMap.put(_Fields.TOP_N, new org.apache.thrift.meta_data.FieldMetaData(&quot;topN&quot;, org.apache.thrift.TFieldRequirementType.OPTIONAL, </span>
        new org.apache.thrift.meta_data.FieldValueMetaData(org.apache.thrift.protocol.TType.I64)));
<span class="fc" id="L136">    tmpMap.put(_Fields.EXPRESSIONS, new org.apache.thrift.meta_data.FieldMetaData(&quot;expressions&quot;, org.apache.thrift.TFieldRequirementType.OPTIONAL, </span>
        new org.apache.thrift.meta_data.ListMetaData(org.apache.thrift.protocol.TType.LIST, 
            new org.apache.thrift.meta_data.FieldValueMetaData(org.apache.thrift.protocol.TType.STRING))));
<span class="fc" id="L139">    metaDataMap = Collections.unmodifiableMap(tmpMap);</span>
<span class="fc" id="L140">    org.apache.thrift.meta_data.FieldMetaData.addStructMetaDataMap(GroupBy.class, metaDataMap);</span>
<span class="fc" id="L141">  }</span>

<span class="fc" id="L143">  public GroupBy() {</span>
<span class="fc" id="L144">  }</span>

  /**
   * Performs a deep copy on &lt;i&gt;other&lt;/i&gt;.
   */
<span class="nc" id="L149">  public GroupBy(GroupBy other) {</span>
<span class="nc" id="L150">    __isset_bitfield = other.__isset_bitfield;</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">    if (other.isSetColumns()) {</span>
<span class="nc" id="L152">      List&lt;String&gt; __this__columns = new ArrayList&lt;String&gt;(other.columns);</span>
<span class="nc" id="L153">      this.columns = __this__columns;</span>
    }
<span class="nc" id="L155">    this.topN = other.topN;</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">    if (other.isSetExpressions()) {</span>
<span class="nc" id="L157">      List&lt;String&gt; __this__expressions = new ArrayList&lt;String&gt;(other.expressions);</span>
<span class="nc" id="L158">      this.expressions = __this__expressions;</span>
    }
<span class="nc" id="L160">  }</span>

  public GroupBy deepCopy() {
<span class="nc" id="L163">    return new GroupBy(this);</span>
  }

  @Override
  public void clear() {
<span class="nc" id="L168">    this.columns = null;</span>
<span class="nc" id="L169">    setTopNIsSet(false);</span>
<span class="nc" id="L170">    this.topN = 0;</span>
<span class="nc" id="L171">    this.expressions = null;</span>
<span class="nc" id="L172">  }</span>

  public int getColumnsSize() {
<span class="nc bnc" id="L175" title="All 2 branches missed.">    return (this.columns == null) ? 0 : this.columns.size();</span>
  }

  public java.util.Iterator&lt;String&gt; getColumnsIterator() {
<span class="nc bnc" id="L179" title="All 2 branches missed.">    return (this.columns == null) ? null : this.columns.iterator();</span>
  }

  public void addToColumns(String elem) {
<span class="fc bfc" id="L183" title="All 2 branches covered.">    if (this.columns == null) {</span>
<span class="fc" id="L184">      this.columns = new ArrayList&lt;String&gt;();</span>
    }
<span class="fc" id="L186">    this.columns.add(elem);</span>
<span class="fc" id="L187">  }</span>

  public List&lt;String&gt; getColumns() {
<span class="fc" id="L190">    return this.columns;</span>
  }

  public void setColumns(List&lt;String&gt; columns) {
<span class="fc" id="L194">    this.columns = columns;</span>
<span class="fc" id="L195">  }</span>

  public void unsetColumns() {
<span class="nc" id="L198">    this.columns = null;</span>
<span class="nc" id="L199">  }</span>

  /** Returns true if field columns is set (has been assigned a value) and false otherwise */
  public boolean isSetColumns() {
<span class="fc bfc" id="L203" title="All 2 branches covered.">    return this.columns != null;</span>
  }

  public void setColumnsIsSet(boolean value) {
<span class="nc bnc" id="L207" title="All 2 branches missed.">    if (!value) {</span>
<span class="nc" id="L208">      this.columns = null;</span>
    }
<span class="nc" id="L210">  }</span>

  public long getTopN() {
<span class="fc" id="L213">    return this.topN;</span>
  }

  public void setTopN(long topN) {
<span class="fc" id="L217">    this.topN = topN;</span>
<span class="fc" id="L218">    setTopNIsSet(true);</span>
<span class="fc" id="L219">  }</span>

  public void unsetTopN() {
<span class="nc" id="L222">    __isset_bitfield = EncodingUtils.clearBit(__isset_bitfield, __TOPN_ISSET_ID);</span>
<span class="nc" id="L223">  }</span>

  /** Returns true if field topN is set (has been assigned a value) and false otherwise */
  public boolean isSetTopN() {
<span class="fc" id="L227">    return EncodingUtils.testBit(__isset_bitfield, __TOPN_ISSET_ID);</span>
  }

  public void setTopNIsSet(boolean value) {
<span class="fc" id="L231">    __isset_bitfield = EncodingUtils.setBit(__isset_bitfield, __TOPN_ISSET_ID, value);</span>
<span class="fc" id="L232">  }</span>

  public int getExpressionsSize() {
<span class="nc bnc" id="L235" title="All 2 branches missed.">    return (this.expressions == null) ? 0 : this.expressions.size();</span>
  }

  public java.util.Iterator&lt;String&gt; getExpressionsIterator() {
<span class="nc bnc" id="L239" title="All 2 branches missed.">    return (this.expressions == null) ? null : this.expressions.iterator();</span>
  }

  public void addToExpressions(String elem) {
<span class="fc bfc" id="L243" title="All 2 branches covered.">    if (this.expressions == null) {</span>
<span class="fc" id="L244">      this.expressions = new ArrayList&lt;String&gt;();</span>
    }
<span class="fc" id="L246">    this.expressions.add(elem);</span>
<span class="fc" id="L247">  }</span>

  public List&lt;String&gt; getExpressions() {
<span class="fc" id="L250">    return this.expressions;</span>
  }

  public void setExpressions(List&lt;String&gt; expressions) {
<span class="fc" id="L254">    this.expressions = expressions;</span>
<span class="fc" id="L255">  }</span>

  public void unsetExpressions() {
<span class="nc" id="L258">    this.expressions = null;</span>
<span class="nc" id="L259">  }</span>

  /** Returns true if field expressions is set (has been assigned a value) and false otherwise */
  public boolean isSetExpressions() {
<span class="fc bfc" id="L263" title="All 2 branches covered.">    return this.expressions != null;</span>
  }

  public void setExpressionsIsSet(boolean value) {
<span class="nc bnc" id="L267" title="All 2 branches missed.">    if (!value) {</span>
<span class="nc" id="L268">      this.expressions = null;</span>
    }
<span class="nc" id="L270">  }</span>

  public void setFieldValue(_Fields field, Object value) {
<span class="nc bnc" id="L273" title="All 4 branches missed.">    switch (field) {</span>
    case COLUMNS:
<span class="nc bnc" id="L275" title="All 2 branches missed.">      if (value == null) {</span>
<span class="nc" id="L276">        unsetColumns();</span>
      } else {
<span class="nc" id="L278">        setColumns((List&lt;String&gt;)value);</span>
      }
<span class="nc" id="L280">      break;</span>

    case TOP_N:
<span class="nc bnc" id="L283" title="All 2 branches missed.">      if (value == null) {</span>
<span class="nc" id="L284">        unsetTopN();</span>
      } else {
<span class="nc" id="L286">        setTopN((Long)value);</span>
      }
<span class="nc" id="L288">      break;</span>

    case EXPRESSIONS:
<span class="nc bnc" id="L291" title="All 2 branches missed.">      if (value == null) {</span>
<span class="nc" id="L292">        unsetExpressions();</span>
      } else {
<span class="nc" id="L294">        setExpressions((List&lt;String&gt;)value);</span>
      }
      break;

    }
<span class="nc" id="L299">  }</span>

  public Object getFieldValue(_Fields field) {
<span class="nc bnc" id="L302" title="All 4 branches missed.">    switch (field) {</span>
    case COLUMNS:
<span class="nc" id="L304">      return getColumns();</span>

    case TOP_N:
<span class="nc" id="L307">      return Long.valueOf(getTopN());</span>

    case EXPRESSIONS:
<span class="nc" id="L310">      return getExpressions();</span>

    }
<span class="nc" id="L313">    throw new IllegalStateException();</span>
  }

  /** Returns true if field corresponding to fieldID is set (has been assigned a value) and false otherwise */
  public boolean isSet(_Fields field) {
<span class="nc bnc" id="L318" title="All 2 branches missed.">    if (field == null) {</span>
<span class="nc" id="L319">      throw new IllegalArgumentException();</span>
    }

<span class="nc bnc" id="L322" title="All 4 branches missed.">    switch (field) {</span>
    case COLUMNS:
<span class="nc" id="L324">      return isSetColumns();</span>
    case TOP_N:
<span class="nc" id="L326">      return isSetTopN();</span>
    case EXPRESSIONS:
<span class="nc" id="L328">      return isSetExpressions();</span>
    }
<span class="nc" id="L330">    throw new IllegalStateException();</span>
  }

  @Override
  public boolean equals(Object that) {
<span class="nc bnc" id="L335" title="All 2 branches missed.">    if (that == null)</span>
<span class="nc" id="L336">      return false;</span>
<span class="nc bnc" id="L337" title="All 2 branches missed.">    if (that instanceof GroupBy)</span>
<span class="nc" id="L338">      return this.equals((GroupBy)that);</span>
<span class="nc" id="L339">    return false;</span>
  }

  public boolean equals(GroupBy that) {
<span class="nc bnc" id="L343" title="All 2 branches missed.">    if (that == null)</span>
<span class="nc" id="L344">      return false;</span>

<span class="nc" id="L346">    boolean this_present_columns = true &amp;&amp; this.isSetColumns();</span>
<span class="nc" id="L347">    boolean that_present_columns = true &amp;&amp; that.isSetColumns();</span>
<span class="nc bnc" id="L348" title="All 4 branches missed.">    if (this_present_columns || that_present_columns) {</span>
<span class="nc bnc" id="L349" title="All 4 branches missed.">      if (!(this_present_columns &amp;&amp; that_present_columns))</span>
<span class="nc" id="L350">        return false;</span>
<span class="nc bnc" id="L351" title="All 2 branches missed.">      if (!this.columns.equals(that.columns))</span>
<span class="nc" id="L352">        return false;</span>
    }

<span class="nc" id="L355">    boolean this_present_topN = true &amp;&amp; this.isSetTopN();</span>
<span class="nc" id="L356">    boolean that_present_topN = true &amp;&amp; that.isSetTopN();</span>
<span class="nc bnc" id="L357" title="All 4 branches missed.">    if (this_present_topN || that_present_topN) {</span>
<span class="nc bnc" id="L358" title="All 4 branches missed.">      if (!(this_present_topN &amp;&amp; that_present_topN))</span>
<span class="nc" id="L359">        return false;</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">      if (this.topN != that.topN)</span>
<span class="nc" id="L361">        return false;</span>
    }

<span class="nc" id="L364">    boolean this_present_expressions = true &amp;&amp; this.isSetExpressions();</span>
<span class="nc" id="L365">    boolean that_present_expressions = true &amp;&amp; that.isSetExpressions();</span>
<span class="nc bnc" id="L366" title="All 4 branches missed.">    if (this_present_expressions || that_present_expressions) {</span>
<span class="nc bnc" id="L367" title="All 4 branches missed.">      if (!(this_present_expressions &amp;&amp; that_present_expressions))</span>
<span class="nc" id="L368">        return false;</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">      if (!this.expressions.equals(that.expressions))</span>
<span class="nc" id="L370">        return false;</span>
    }

<span class="nc" id="L373">    return true;</span>
  }

  @Override
  public int hashCode() {
<span class="nc" id="L378">    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();</span>

<span class="nc" id="L380">    boolean present_columns = true &amp;&amp; (isSetColumns());</span>
<span class="nc" id="L381">    list.add(present_columns);</span>
<span class="nc bnc" id="L382" title="All 2 branches missed.">    if (present_columns)</span>
<span class="nc" id="L383">      list.add(columns);</span>

<span class="nc" id="L385">    boolean present_topN = true &amp;&amp; (isSetTopN());</span>
<span class="nc" id="L386">    list.add(present_topN);</span>
<span class="nc bnc" id="L387" title="All 2 branches missed.">    if (present_topN)</span>
<span class="nc" id="L388">      list.add(topN);</span>

<span class="nc" id="L390">    boolean present_expressions = true &amp;&amp; (isSetExpressions());</span>
<span class="nc" id="L391">    list.add(present_expressions);</span>
<span class="nc bnc" id="L392" title="All 2 branches missed.">    if (present_expressions)</span>
<span class="nc" id="L393">      list.add(expressions);</span>

<span class="nc" id="L395">    return list.hashCode();</span>
  }

  @Override
  public int compareTo(GroupBy other) {
<span class="nc bnc" id="L400" title="All 2 branches missed.">    if (!getClass().equals(other.getClass())) {</span>
<span class="nc" id="L401">      return getClass().getName().compareTo(other.getClass().getName());</span>
    }

<span class="nc" id="L404">    int lastComparison = 0;</span>

<span class="nc" id="L406">    lastComparison = Boolean.valueOf(isSetColumns()).compareTo(other.isSetColumns());</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">    if (lastComparison != 0) {</span>
<span class="nc" id="L408">      return lastComparison;</span>
    }
<span class="nc bnc" id="L410" title="All 2 branches missed.">    if (isSetColumns()) {</span>
<span class="nc" id="L411">      lastComparison = org.apache.thrift.TBaseHelper.compareTo(this.columns, other.columns);</span>
<span class="nc bnc" id="L412" title="All 2 branches missed.">      if (lastComparison != 0) {</span>
<span class="nc" id="L413">        return lastComparison;</span>
      }
    }
<span class="nc" id="L416">    lastComparison = Boolean.valueOf(isSetTopN()).compareTo(other.isSetTopN());</span>
<span class="nc bnc" id="L417" title="All 2 branches missed.">    if (lastComparison != 0) {</span>
<span class="nc" id="L418">      return lastComparison;</span>
    }
<span class="nc bnc" id="L420" title="All 2 branches missed.">    if (isSetTopN()) {</span>
<span class="nc" id="L421">      lastComparison = org.apache.thrift.TBaseHelper.compareTo(this.topN, other.topN);</span>
<span class="nc bnc" id="L422" title="All 2 branches missed.">      if (lastComparison != 0) {</span>
<span class="nc" id="L423">        return lastComparison;</span>
      }
    }
<span class="nc" id="L426">    lastComparison = Boolean.valueOf(isSetExpressions()).compareTo(other.isSetExpressions());</span>
<span class="nc bnc" id="L427" title="All 2 branches missed.">    if (lastComparison != 0) {</span>
<span class="nc" id="L428">      return lastComparison;</span>
    }
<span class="nc bnc" id="L430" title="All 2 branches missed.">    if (isSetExpressions()) {</span>
<span class="nc" id="L431">      lastComparison = org.apache.thrift.TBaseHelper.compareTo(this.expressions, other.expressions);</span>
<span class="nc bnc" id="L432" title="All 2 branches missed.">      if (lastComparison != 0) {</span>
<span class="nc" id="L433">        return lastComparison;</span>
      }
    }
<span class="nc" id="L436">    return 0;</span>
  }

  public _Fields fieldForId(int fieldId) {
<span class="nc" id="L440">    return _Fields.findByThriftId(fieldId);</span>
  }

  public void read(org.apache.thrift.protocol.TProtocol iprot) throws org.apache.thrift.TException {
<span class="nc" id="L444">    schemes.get(iprot.getScheme()).getScheme().read(iprot, this);</span>
<span class="nc" id="L445">  }</span>

  public void write(org.apache.thrift.protocol.TProtocol oprot) throws org.apache.thrift.TException {
<span class="fc" id="L448">    schemes.get(oprot.getScheme()).getScheme().write(oprot, this);</span>
<span class="fc" id="L449">  }</span>

  @Override
  public String toString() {
<span class="fc" id="L453">    StringBuilder sb = new StringBuilder(&quot;GroupBy(&quot;);</span>
<span class="fc" id="L454">    boolean first = true;</span>

<span class="fc bfc" id="L456" title="All 2 branches covered.">    if (isSetColumns()) {</span>
<span class="fc" id="L457">      sb.append(&quot;columns:&quot;);</span>
<span class="pc bpc" id="L458" title="1 of 2 branches missed.">      if (this.columns == null) {</span>
<span class="nc" id="L459">        sb.append(&quot;null&quot;);</span>
      } else {
<span class="fc" id="L461">        sb.append(this.columns);</span>
      }
<span class="fc" id="L463">      first = false;</span>
    }
<span class="pc bpc" id="L465" title="1 of 2 branches missed.">    if (isSetTopN()) {</span>
<span class="nc bnc" id="L466" title="All 2 branches missed.">      if (!first) sb.append(&quot;, &quot;);</span>
<span class="nc" id="L467">      sb.append(&quot;topN:&quot;);</span>
<span class="nc" id="L468">      sb.append(this.topN);</span>
<span class="nc" id="L469">      first = false;</span>
    }
<span class="fc bfc" id="L471" title="All 2 branches covered.">    if (isSetExpressions()) {</span>
<span class="fc bfc" id="L472" title="All 2 branches covered.">      if (!first) sb.append(&quot;, &quot;);</span>
<span class="fc" id="L473">      sb.append(&quot;expressions:&quot;);</span>
<span class="pc bpc" id="L474" title="1 of 2 branches missed.">      if (this.expressions == null) {</span>
<span class="nc" id="L475">        sb.append(&quot;null&quot;);</span>
      } else {
<span class="fc" id="L477">        sb.append(this.expressions);</span>
      }
<span class="fc" id="L479">      first = false;</span>
    }
<span class="fc" id="L481">    sb.append(&quot;)&quot;);</span>
<span class="fc" id="L482">    return sb.toString();</span>
  }

  public void validate() throws org.apache.thrift.TException {
    // check for required fields
    // check for sub-struct validity
<span class="fc" id="L488">  }</span>

  private void writeObject(java.io.ObjectOutputStream out) throws java.io.IOException {
    try {
<span class="nc" id="L492">      write(new org.apache.thrift.protocol.TCompactProtocol(new org.apache.thrift.transport.TIOStreamTransport(out)));</span>
<span class="nc" id="L493">    } catch (org.apache.thrift.TException te) {</span>
<span class="nc" id="L494">      throw new java.io.IOException(te);</span>
<span class="nc" id="L495">    }</span>
<span class="nc" id="L496">  }</span>

  private void readObject(java.io.ObjectInputStream in) throws java.io.IOException, ClassNotFoundException {
    try {
      // it doesn't seem like you should have to do this, but java serialization is wacky, and doesn't call the default constructor.
<span class="nc" id="L501">      __isset_bitfield = 0;</span>
<span class="nc" id="L502">      read(new org.apache.thrift.protocol.TCompactProtocol(new org.apache.thrift.transport.TIOStreamTransport(in)));</span>
<span class="nc" id="L503">    } catch (org.apache.thrift.TException te) {</span>
<span class="nc" id="L504">      throw new java.io.IOException(te);</span>
<span class="nc" id="L505">    }</span>
<span class="nc" id="L506">  }</span>

<span class="fc" id="L508">  private static class GroupByStandardSchemeFactory implements SchemeFactory {</span>
    public GroupByStandardScheme getScheme() {
<span class="fc" id="L510">      return new GroupByStandardScheme();</span>
    }
  }

<span class="fc" id="L514">  private static class GroupByStandardScheme extends StandardScheme&lt;GroupBy&gt; {</span>

    public void read(org.apache.thrift.protocol.TProtocol iprot, GroupBy struct) throws org.apache.thrift.TException {
      org.apache.thrift.protocol.TField schemeField;
<span class="nc" id="L518">      iprot.readStructBegin();</span>
      while (true)
      {
<span class="nc" id="L521">        schemeField = iprot.readFieldBegin();</span>
<span class="nc bnc" id="L522" title="All 2 branches missed.">        if (schemeField.type == org.apache.thrift.protocol.TType.STOP) { </span>
<span class="nc" id="L523">          break;</span>
        }
<span class="nc bnc" id="L525" title="All 4 branches missed.">        switch (schemeField.id) {</span>
          case 1: // COLUMNS
<span class="nc bnc" id="L527" title="All 2 branches missed.">            if (schemeField.type == org.apache.thrift.protocol.TType.LIST) {</span>
              {
<span class="nc" id="L529">                org.apache.thrift.protocol.TList _list36 = iprot.readListBegin();</span>
<span class="nc" id="L530">                struct.columns = new ArrayList&lt;String&gt;(_list36.size);</span>
                String _elem37;
<span class="nc bnc" id="L532" title="All 2 branches missed.">                for (int _i38 = 0; _i38 &lt; _list36.size; ++_i38)</span>
                {
<span class="nc" id="L534">                  _elem37 = iprot.readString();</span>
<span class="nc" id="L535">                  struct.columns.add(_elem37);</span>
                }
<span class="nc" id="L537">                iprot.readListEnd();</span>
              }
<span class="nc" id="L539">              struct.setColumnsIsSet(true);</span>
            } else { 
<span class="nc" id="L541">              org.apache.thrift.protocol.TProtocolUtil.skip(iprot, schemeField.type);</span>
            }
<span class="nc" id="L543">            break;</span>
          case 2: // TOP_N
<span class="nc bnc" id="L545" title="All 2 branches missed.">            if (schemeField.type == org.apache.thrift.protocol.TType.I64) {</span>
<span class="nc" id="L546">              struct.topN = iprot.readI64();</span>
<span class="nc" id="L547">              struct.setTopNIsSet(true);</span>
            } else { 
<span class="nc" id="L549">              org.apache.thrift.protocol.TProtocolUtil.skip(iprot, schemeField.type);</span>
            }
<span class="nc" id="L551">            break;</span>
          case 3: // EXPRESSIONS
<span class="nc bnc" id="L553" title="All 2 branches missed.">            if (schemeField.type == org.apache.thrift.protocol.TType.LIST) {</span>
              {
<span class="nc" id="L555">                org.apache.thrift.protocol.TList _list39 = iprot.readListBegin();</span>
<span class="nc" id="L556">                struct.expressions = new ArrayList&lt;String&gt;(_list39.size);</span>
                String _elem40;
<span class="nc bnc" id="L558" title="All 2 branches missed.">                for (int _i41 = 0; _i41 &lt; _list39.size; ++_i41)</span>
                {
<span class="nc" id="L560">                  _elem40 = iprot.readString();</span>
<span class="nc" id="L561">                  struct.expressions.add(_elem40);</span>
                }
<span class="nc" id="L563">                iprot.readListEnd();</span>
              }
<span class="nc" id="L565">              struct.setExpressionsIsSet(true);</span>
            } else { 
<span class="nc" id="L567">              org.apache.thrift.protocol.TProtocolUtil.skip(iprot, schemeField.type);</span>
            }
<span class="nc" id="L569">            break;</span>
          default:
<span class="nc" id="L571">            org.apache.thrift.protocol.TProtocolUtil.skip(iprot, schemeField.type);</span>
        }
<span class="nc" id="L573">        iprot.readFieldEnd();</span>
      }
<span class="nc" id="L575">      iprot.readStructEnd();</span>
<span class="nc" id="L576">      struct.validate();</span>
<span class="nc" id="L577">    }</span>

    public void write(org.apache.thrift.protocol.TProtocol oprot, GroupBy struct) throws org.apache.thrift.TException {
<span class="fc" id="L580">      struct.validate();</span>

<span class="fc" id="L582">      oprot.writeStructBegin(STRUCT_DESC);</span>
<span class="pc bpc" id="L583" title="1 of 2 branches missed.">      if (struct.columns != null) {</span>
<span class="pc bpc" id="L584" title="1 of 2 branches missed.">        if (struct.isSetColumns()) {</span>
<span class="fc" id="L585">          oprot.writeFieldBegin(COLUMNS_FIELD_DESC);</span>
          {
<span class="fc" id="L587">            oprot.writeListBegin(new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRING, struct.columns.size()));</span>
<span class="fc bfc" id="L588" title="All 2 branches covered.">            for (String _iter42 : struct.columns)</span>
            {
<span class="fc" id="L590">              oprot.writeString(_iter42);</span>
<span class="fc" id="L591">            }</span>
<span class="fc" id="L592">            oprot.writeListEnd();</span>
          }
<span class="fc" id="L594">          oprot.writeFieldEnd();</span>
        }
      }
<span class="pc bpc" id="L597" title="1 of 2 branches missed.">      if (struct.isSetTopN()) {</span>
<span class="fc" id="L598">        oprot.writeFieldBegin(TOP_N_FIELD_DESC);</span>
<span class="fc" id="L599">        oprot.writeI64(struct.topN);</span>
<span class="fc" id="L600">        oprot.writeFieldEnd();</span>
      }
<span class="pc bpc" id="L602" title="1 of 2 branches missed.">      if (struct.expressions != null) {</span>
<span class="nc bnc" id="L603" title="All 2 branches missed.">        if (struct.isSetExpressions()) {</span>
<span class="nc" id="L604">          oprot.writeFieldBegin(EXPRESSIONS_FIELD_DESC);</span>
          {
<span class="nc" id="L606">            oprot.writeListBegin(new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRING, struct.expressions.size()));</span>
<span class="nc bnc" id="L607" title="All 2 branches missed.">            for (String _iter43 : struct.expressions)</span>
            {
<span class="nc" id="L609">              oprot.writeString(_iter43);</span>
<span class="nc" id="L610">            }</span>
<span class="nc" id="L611">            oprot.writeListEnd();</span>
          }
<span class="nc" id="L613">          oprot.writeFieldEnd();</span>
        }
      }
<span class="fc" id="L616">      oprot.writeFieldStop();</span>
<span class="fc" id="L617">      oprot.writeStructEnd();</span>
<span class="fc" id="L618">    }</span>

  }

<span class="fc" id="L622">  private static class GroupByTupleSchemeFactory implements SchemeFactory {</span>
    public GroupByTupleScheme getScheme() {
<span class="nc" id="L624">      return new GroupByTupleScheme();</span>
    }
  }

<span class="nc" id="L628">  private static class GroupByTupleScheme extends TupleScheme&lt;GroupBy&gt; {</span>

    @Override
    public void write(org.apache.thrift.protocol.TProtocol prot, GroupBy struct) throws org.apache.thrift.TException {
<span class="nc" id="L632">      TTupleProtocol oprot = (TTupleProtocol) prot;</span>
<span class="nc" id="L633">      BitSet optionals = new BitSet();</span>
<span class="nc bnc" id="L634" title="All 2 branches missed.">      if (struct.isSetColumns()) {</span>
<span class="nc" id="L635">        optionals.set(0);</span>
      }
<span class="nc bnc" id="L637" title="All 2 branches missed.">      if (struct.isSetTopN()) {</span>
<span class="nc" id="L638">        optionals.set(1);</span>
      }
<span class="nc bnc" id="L640" title="All 2 branches missed.">      if (struct.isSetExpressions()) {</span>
<span class="nc" id="L641">        optionals.set(2);</span>
      }
<span class="nc" id="L643">      oprot.writeBitSet(optionals, 3);</span>
<span class="nc bnc" id="L644" title="All 2 branches missed.">      if (struct.isSetColumns()) {</span>
        {
<span class="nc" id="L646">          oprot.writeI32(struct.columns.size());</span>
<span class="nc bnc" id="L647" title="All 2 branches missed.">          for (String _iter44 : struct.columns)</span>
          {
<span class="nc" id="L649">            oprot.writeString(_iter44);</span>
<span class="nc" id="L650">          }</span>
        }
      }
<span class="nc bnc" id="L653" title="All 2 branches missed.">      if (struct.isSetTopN()) {</span>
<span class="nc" id="L654">        oprot.writeI64(struct.topN);</span>
      }
<span class="nc bnc" id="L656" title="All 2 branches missed.">      if (struct.isSetExpressions()) {</span>
        {
<span class="nc" id="L658">          oprot.writeI32(struct.expressions.size());</span>
<span class="nc bnc" id="L659" title="All 2 branches missed.">          for (String _iter45 : struct.expressions)</span>
          {
<span class="nc" id="L661">            oprot.writeString(_iter45);</span>
<span class="nc" id="L662">          }</span>
        }
      }
<span class="nc" id="L665">    }</span>

    @Override
    public void read(org.apache.thrift.protocol.TProtocol prot, GroupBy struct) throws org.apache.thrift.TException {
<span class="nc" id="L669">      TTupleProtocol iprot = (TTupleProtocol) prot;</span>
<span class="nc" id="L670">      BitSet incoming = iprot.readBitSet(3);</span>
<span class="nc bnc" id="L671" title="All 2 branches missed.">      if (incoming.get(0)) {</span>
        {
<span class="nc" id="L673">          org.apache.thrift.protocol.TList _list46 = new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRING, iprot.readI32());</span>
<span class="nc" id="L674">          struct.columns = new ArrayList&lt;String&gt;(_list46.size);</span>
          String _elem47;
<span class="nc bnc" id="L676" title="All 2 branches missed.">          for (int _i48 = 0; _i48 &lt; _list46.size; ++_i48)</span>
          {
<span class="nc" id="L678">            _elem47 = iprot.readString();</span>
<span class="nc" id="L679">            struct.columns.add(_elem47);</span>
          }
        }
<span class="nc" id="L682">        struct.setColumnsIsSet(true);</span>
      }
<span class="nc bnc" id="L684" title="All 2 branches missed.">      if (incoming.get(1)) {</span>
<span class="nc" id="L685">        struct.topN = iprot.readI64();</span>
<span class="nc" id="L686">        struct.setTopNIsSet(true);</span>
      }
<span class="nc bnc" id="L688" title="All 2 branches missed.">      if (incoming.get(2)) {</span>
        {
<span class="nc" id="L690">          org.apache.thrift.protocol.TList _list49 = new org.apache.thrift.protocol.TList(org.apache.thrift.protocol.TType.STRING, iprot.readI32());</span>
<span class="nc" id="L691">          struct.expressions = new ArrayList&lt;String&gt;(_list49.size);</span>
          String _elem50;
<span class="nc bnc" id="L693" title="All 2 branches missed.">          for (int _i51 = 0; _i51 &lt; _list49.size; ++_i51)</span>
          {
<span class="nc" id="L695">            _elem50 = iprot.readString();</span>
<span class="nc" id="L696">            struct.expressions.add(_elem50);</span>
          }
        }
<span class="nc" id="L699">        struct.setExpressionsIsSet(true);</span>
      }
<span class="nc" id="L701">    }</span>
  }

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>