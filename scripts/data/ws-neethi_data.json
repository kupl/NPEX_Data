[
    {
        "commit": "https://github.com/apache/ws-neethi/commit/6d9d71e9b2f5e19f94dabfdeda276921d64994f9",
        "file": [
            {
                "patch": "@@ -53,6 +53,9 @@ public void addPolicyComponents(List<? extends PolicyComponent> components) {\n     }\n \n     public PolicyComponent getFirstPolicyComponent() {\n+        if (policyComponents.isEmpty()) {\n+            return null;\n+        }\n         return policyComponents.get(0);\n     }\n ",
                "additions": 3,
                "raw_url": "https://github.com/apache/ws-neethi/raw/6d9d71e9b2f5e19f94dabfdeda276921d64994f9/src/main/java/org/apache/neethi/AbstractPolicyOperator.java",
                "status": "modified",
                "changes": 3,
                "deletions": 0,
                "sha": "6a467d7214cc312f9ca09dd621055972de545217",
                "blob_url": "https://github.com/apache/ws-neethi/blob/6d9d71e9b2f5e19f94dabfdeda276921d64994f9/src/main/java/org/apache/neethi/AbstractPolicyOperator.java",
                "filename": "src/main/java/org/apache/neethi/AbstractPolicyOperator.java",
                "contents_url": "https://api.github.com/repos/apache/ws-neethi/contents/src/main/java/org/apache/neethi/AbstractPolicyOperator.java?ref=6d9d71e9b2f5e19f94dabfdeda276921d64994f9"
            }
        ],
        "bug_id": "ws-neethi_1",
        "parent": "https://github.com/apache/ws-neethi/commit/6a7205ee4398b976408a261fe64afd6fa68e9229",
        "message": "[NEETHI-6] Return null from getFirstPolicyComponent if there are no\nchild components.  Don't NPE.",
        "repo": "ws-neethi"
    },
    {
        "commit": "https://github.com/apache/ws-neethi/commit/7a731395e44c98c6ce2c799250f4463a39275064",
        "file": [
            {
                "patch": "@@ -24,11 +24,14 @@\n import org.apache.axiom.om.OMElement;\n import org.apache.axiom.om.OMNamespace;\n import org.apache.axiom.om.impl.llom.factory.OMXMLBuilderFactory;\n+import org.apache.neethi.PolicyEngine;\n import org.apache.neethi.builders.AssertionBuilder;\n import javax.xml.namespace.QName;\n import javax.xml.stream.XMLInputFactory;\n import java.io.InputStream;\n import java.util.Iterator;\n+import org.apache.commons.logging.Log;\n+import org.apache.commons.logging.LogFactory;\n \n /**\n  * PolicyEngine provides set of methods to create a Policy object from an\n@@ -39,6 +42,7 @@\n  */\n public class PolicyEngine {\n \n+    private static final Log log = LogFactory.getLog(PolicyEngine.class);\n     public static final String POLICY_NAMESPACE = \"http://schemas.xmlsoap.org/ws/2004/09/policy\";\n \n     public static final String POLICY = \"Policy\";\n@@ -199,7 +203,16 @@ private static PolicyOperator processOperationElement(\n                 .hasNext();) {\n             childElement = (OMElement) iterator.next();\n \n-            if (Constants.URI_POLICY_NS.equals(childElement.getNamespace()\n+            if (childElement == null || \n+                    childElement.getNamespace() == null) {\n+                if (log.isDebugEnabled()) {\n+                    try {\n+                        log.debug(\"Skipping bad policy element \" + childElement);\n+                    } catch (Throwable t) {\n+                        log.debug(\"Problem occurred while logging trace \" + t);\n+                    }\n+                }\n+            } else if (Constants.URI_POLICY_NS.equals(childElement.getNamespace()\n                     .getNamespaceURI())) {\n \n                 if (Constants.ELEM_POLICY.equals(childElement.getLocalName())) {",
                "additions": 14,
                "raw_url": "https://github.com/apache/ws-neethi/raw/7a731395e44c98c6ce2c799250f4463a39275064/src/main/java/org/apache/neethi/PolicyEngine.java",
                "status": "modified",
                "changes": 15,
                "deletions": 1,
                "sha": "5b2fb92228df2a3a012a8cda05e4cef9faac1a6a",
                "blob_url": "https://github.com/apache/ws-neethi/blob/7a731395e44c98c6ce2c799250f4463a39275064/src/main/java/org/apache/neethi/PolicyEngine.java",
                "filename": "src/main/java/org/apache/neethi/PolicyEngine.java",
                "contents_url": "https://api.github.com/repos/apache/ws-neethi/contents/src/main/java/org/apache/neethi/PolicyEngine.java?ref=7a731395e44c98c6ce2c799250f4463a39275064"
            }
        ],
        "bug_id": "ws-neethi_2",
        "parent": "https://github.com/apache/ws-neethi/commit/81ff606a16adcceed298c630fcdc86c819607ebd",
        "message": "Quick change to avoid NPE when an element does not have a namespace.",
        "repo": "ws-neethi"
    }
]