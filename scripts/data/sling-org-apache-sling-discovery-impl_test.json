{
    "sling-org-apache-sling-discovery-impl_1adefb3": {
        "bug_id": "sling-org-apache-sling-discovery-impl_1adefb3",
        "commit": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/1adefb35a0d626724fd751b1630c274ddf487777",
        "file": [
            {
                "additions": 1,
                "blob_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/blob/1adefb35a0d626724fd751b1630c274ddf487777/src/main/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandler.java",
                "changes": 3,
                "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-discovery-impl/contents/src/main/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandler.java?ref=1adefb35a0d626724fd751b1630c274ddf487777",
                "deletions": 2,
                "filename": "src/main/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandler.java",
                "patch": "@@ -191,8 +191,7 @@ public synchronized void analyzeVotings(final ResourceResolver resourceResolver)\n \n         if (winningVote != null) {\n         \tif (logger.isDebugEnabled()) {\n-\t            logger.debug(\"analyzeVotings: done with vote-handling. there was a winner: \"\n-\t                    + winningVote);\n+\t            logger.debug(\"analyzeVotings: done with vote-handling. there was a winner.\");\n         \t}\n             return;\n         }",
                "raw_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/raw/1adefb35a0d626724fd751b1630c274ddf487777/src/main/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandler.java",
                "sha": "95178a7013401cf6c1dfae8ae75b4cf7489095e6",
                "status": "modified"
            }
        ],
        "message": "SLING-3431 : avoid a NPE when in log level DEBUG\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1574100 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/5d6bd2a5a33cdd899aa6926bc72213095d44f1fe",
        "patched_files": [
            "VotingHandler.java"
        ],
        "repo": "sling-org-apache-sling-discovery-impl",
        "unit_tests": [
            "VotingHandlerTest.java"
        ]
    },
    "sling-org-apache-sling-discovery-impl_9f3e5c0": {
        "bug_id": "sling-org-apache-sling-discovery-impl_9f3e5c0",
        "commit": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/9f3e5c040490781ea9873b29c93e1ef7981a823e",
        "file": [
            {
                "additions": 5,
                "blob_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/blob/9f3e5c040490781ea9873b29c93e1ef7981a823e/src/test/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandlerTest.java",
                "changes": 6,
                "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-discovery-impl/contents/src/test/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandlerTest.java?ref=9f3e5c040490781ea9873b29c93e1ef7981a823e",
                "deletions": 1,
                "filename": "src/test/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandlerTest.java",
                "patch": "@@ -535,7 +535,11 @@ public void doTestConcurrentVotes(int votingsLoopCnt, int perVotingInnerLoopCnt,\n //            if (expected>0) {\n //                assertEquals(expected, (int)noVotes);\n //            }\n-            totalPromotion += totalDetails.get(k).get(VotingDetail.PROMOTED);\n+            final Map<VotingDetail, Integer> map = totalDetails.get(k);\n+            final Integer i = map.get(VotingDetail.PROMOTED);\n+            if (i != null) {\n+                totalPromotion += i;\n+            }\n         }\n         assertEquals((int)votingsLoopCnt, totalPromotion);\n     }",
                "raw_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/raw/9f3e5c040490781ea9873b29c93e1ef7981a823e/src/test/java/org/apache/sling/discovery/impl/cluster/voting/VotingHandlerTest.java",
                "sha": "59b887d4b7ebd9ebcffb78d3b605cbdaf2923f8e",
                "status": "modified"
            }
        ],
        "message": "SLING-5918 : discovery: catching a NPE in a test\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1756373 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/46f69f47214f08369d805bfea3ad808284d0b394",
        "patched_files": [
            "VotingHandler.java"
        ],
        "repo": "sling-org-apache-sling-discovery-impl",
        "unit_tests": [
            "VotingHandlerTest.java"
        ]
    },
    "sling-org-apache-sling-discovery-impl_d9e7c4b": {
        "bug_id": "sling-org-apache-sling-discovery-impl_d9e7c4b",
        "commit": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/d9e7c4b628f8929c54e9b5e93474b9b019049b52",
        "file": [
            {
                "additions": 4,
                "blob_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/blob/d9e7c4b628f8929c54e9b5e93474b9b019049b52/src/test/java/org/apache/sling/discovery/impl/cluster/SingleInstanceTest.java",
                "changes": 5,
                "contents_url": "https://api.github.com/repos/apache/sling-org-apache-sling-discovery-impl/contents/src/test/java/org/apache/sling/discovery/impl/cluster/SingleInstanceTest.java?ref=d9e7c4b628f8929c54e9b5e93474b9b019049b52",
                "deletions": 1,
                "filename": "src/test/java/org/apache/sling/discovery/impl/cluster/SingleInstanceTest.java",
                "patch": "@@ -71,7 +71,10 @@ public void tearDown() throws Exception {\n         final org.apache.log4j.Logger discoveryLogger = LogManager.getRootLogger().getLogger(\"org.apache.sling.discovery\");\n         discoveryLogger.setLevel(logLevel);\n         logger.info(\"tearDown: stopping standalone instance\");\n-        instance.stop();\n+        if (instance!=null) {\n+            instance.stop();\n+            instance = null;\n+        }\n         logger.info(\"tearDown: stopping standalone instance done\");\n     }\n ",
                "raw_url": "https://github.com/apache/sling-org-apache-sling-discovery-impl/raw/d9e7c4b628f8929c54e9b5e93474b9b019049b52/src/test/java/org/apache/sling/discovery/impl/cluster/SingleInstanceTest.java",
                "sha": "bd30db5864f9b0963f9996c08e7e30068051ac92",
                "status": "modified"
            }
        ],
        "message": "no-jira : avoid NPE on teardown if instance was not successfully started\n\ngit-svn-id: https://svn.apache.org/repos/asf/sling/trunk@1655748 13f79535-47bb-0310-9956-ffa450edef68",
        "parent": "https://github.com/apache/sling-org-apache-sling-discovery-impl/commit/3825ef3d9c96a3b8e904b0395273e85854d3af91",
        "patched_files": [],
        "repo": "sling-org-apache-sling-discovery-impl",
        "unit_tests": [
            "SingleInstanceTest.java"
        ]
    }
}