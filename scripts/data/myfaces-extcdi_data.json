[
    {
        "commit": "https://github.com/apache/myfaces-extcdi/commit/660762ba9b0f8273f5b335f55d9586e7517ac0b8",
        "file": [
            {
                "patch": "@@ -25,6 +25,7 @@\n \n import javax.enterprise.event.Observes;\n import javax.faces.component.UIViewParameter;\n+import javax.faces.component.UIViewRoot;\n import javax.faces.context.FacesContext;\n import javax.faces.event.PhaseEvent;\n import javax.faces.view.ViewMetadata;\n@@ -82,7 +83,12 @@ public boolean checkForNewViewParameters()\n             return false;\n         }\n \n-        String viewId = facesContext.getViewRoot().getViewId();\n+        String viewId = getViewId(facesContext);\n+\n+        if (viewId == null)\n+        {\n+            return false;\n+        }\n \n         String currentViewParams = getViewParams(facesContext, viewId);\n         String oldViewParams = viewParametersForViewId.get(viewId);\n@@ -169,7 +175,27 @@ public void afterRenderResponse(@Observes @AfterPhase(JsfPhaseId.RENDER_RESPONSE\n             return;\n         }\n \n-        String viewId = facesContext.getViewRoot().getViewId();\n-        viewParametersForViewId.put(viewId, getViewParams(facesContext, viewId));\n+        String viewId = getViewId(facesContext);\n+        if (viewId != null)\n+        {\n+            viewParametersForViewId.put(viewId, getViewParams(facesContext, viewId));\n+        }\n+    }\n+\n+\n+    private String getViewId(FacesContext facesContext)\n+    {\n+        String viewId = null;\n+        if (facesContext != null)\n+        {\n+            UIViewRoot viewRoot = facesContext.getViewRoot();\n+            if (viewRoot != null)\n+            {\n+                viewId = viewRoot.getViewId();\n+            }\n+        }\n+\n+        return viewId;\n     }\n+\n }",
                "additions": 29,
                "raw_url": "https://github.com/apache/myfaces-extcdi/raw/660762ba9b0f8273f5b335f55d9586e7517ac0b8/jee-modules/jsf20-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/jsf2/impl/scope/conversation/JsfRestParameters.java",
                "status": "modified",
                "changes": 32,
                "deletions": 3,
                "sha": "21bfa7b6de2ca7ec449de781b4fee76b9e7bf9a3",
                "blob_url": "https://github.com/apache/myfaces-extcdi/blob/660762ba9b0f8273f5b335f55d9586e7517ac0b8/jee-modules/jsf20-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/jsf2/impl/scope/conversation/JsfRestParameters.java",
                "filename": "jee-modules/jsf20-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/jsf2/impl/scope/conversation/JsfRestParameters.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-extcdi/contents/jee-modules/jsf20-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/jsf2/impl/scope/conversation/JsfRestParameters.java?ref=660762ba9b0f8273f5b335f55d9586e7517ac0b8"
            }
        ],
        "bug_id": "myfaces-extcdi_1",
        "parent": "https://github.com/apache/myfaces-extcdi/commit/23622b76652ac16c9e24dfafe4440fde84456ca7",
        "message": "EXTCDI-232 fix NPE when view == null\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/myfaces/extensions/cdi/trunk@1197673 13f79535-47bb-0310-9956-ffa450edef68",
        "repo": "myfaces-extcdi"
    },
    {
        "commit": "https://github.com/apache/myfaces-extcdi/commit/8340d836ff0273d48422f10dd27617a37e9d4087",
        "file": [
            {
                "patch": "@@ -64,7 +64,9 @@\n                         \n                         <deployables>\n                             <deployable>\n-                                <!-- default deployable - this artifact -->\n+                                <groupId>org.apache.myfaces.extensions.cdi.test</groupId>\n+                                <artifactId>myfaces-extcdi-cargo-test</artifactId>\n+                                <type>war</type>\n                                 <properties>\n                                     <context>${cargo.context}</context>\n                                 </properties>",
                "additions": 3,
                "raw_url": "https://github.com/apache/myfaces-extcdi/raw/8340d836ff0273d48422f10dd27617a37e9d4087/test-modules/cargo-test-module/pom.xml",
                "status": "modified",
                "changes": 4,
                "deletions": 1,
                "sha": "94ba8452959f13e38230c9b0f4a82a31c2366a8f",
                "blob_url": "https://github.com/apache/myfaces-extcdi/blob/8340d836ff0273d48422f10dd27617a37e9d4087/test-modules/cargo-test-module/pom.xml",
                "filename": "test-modules/cargo-test-module/pom.xml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-extcdi/contents/test-modules/cargo-test-module/pom.xml?ref=8340d836ff0273d48422f10dd27617a37e9d4087"
            }
        ],
        "bug_id": "myfaces-extcdi_2",
        "parent": "https://github.com/apache/myfaces-extcdi/commit/91beb0c995a5b316ff8560a196614bdf9e18e04e",
        "message": "cargo: don't rely on the default deployable beeing this artifact, because hudson seems to fail here with a NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/myfaces/extensions/cdi/trunk@1039713 13f79535-47bb-0310-9956-ffa450edef68",
        "repo": "myfaces-extcdi"
    },
    {
        "commit": "https://github.com/apache/myfaces-extcdi/commit/c17e4ffa6e436404ad0f9398f5a10cef455863a0",
        "file": [
            {
                "patch": "@@ -44,16 +44,26 @@\n \r\n     private BeanManager beanManager;\r\n \r\n+    /** don't use it directly, use lazy initialising {@link #getBroadcaster()} instead */\r\n     private BeforeAfterFacesRequestBroadcaster beforeAfterFacesRequestBroadcaster;\r\n \r\n     CodiFacesContextWrapper(FacesContext wrappedFacesContext)\r\n     {\r\n         this.wrappedFacesContext = wrappedFacesContext;\r\n-        this.beanManager = BeanManagerProvider.getInstance().getBeanManager();\r\n+    }\r\n+\r\n+\r\n+    private BeforeAfterFacesRequestBroadcaster getBroadcaster()\r\n+    {\r\n+        if (beforeAfterFacesRequestBroadcaster == null)\r\n+        {\r\n+            this.beanManager = BeanManagerProvider.getInstance().getBeanManager();\r\n \r\n-        initBroadcaster();\r\n+            initBroadcaster();\r\n \r\n-        broadcastBeforeFacesRequestEvent();\r\n+            broadcastBeforeFacesRequestEvent();\r\n+        }\r\n+        return beforeAfterFacesRequestBroadcaster;\r\n     }\r\n \r\n     private void broadcastBeforeFacesRequestEvent()\r\n@@ -63,7 +73,7 @@ private void broadcastBeforeFacesRequestEvent()\n \r\n     private void broadcastAfterFacesRequestEvent()\r\n     {\r\n-        this.beforeAfterFacesRequestBroadcaster.broadcastAfterFacesRequestEvent(this);\r\n+        getBroadcaster().broadcastAfterFacesRequestEvent(this);\r\n     }\r\n \r\n     public ELContext getELContext()\r",
                "additions": 14,
                "raw_url": "https://github.com/apache/myfaces-extcdi/raw/c17e4ffa6e436404ad0f9398f5a10cef455863a0/jee-modules/jsf-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/javaee/jsf/impl/request/CodiFacesContextWrapper.java",
                "status": "modified",
                "changes": 18,
                "deletions": 4,
                "sha": "3dc91380f1229a71b25319cbc2e7729889d23c5d",
                "blob_url": "https://github.com/apache/myfaces-extcdi/blob/c17e4ffa6e436404ad0f9398f5a10cef455863a0/jee-modules/jsf-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/javaee/jsf/impl/request/CodiFacesContextWrapper.java",
                "filename": "jee-modules/jsf-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/javaee/jsf/impl/request/CodiFacesContextWrapper.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-extcdi/contents/jee-modules/jsf-module/impl/src/main/java/org/apache/myfaces/extensions/cdi/javaee/jsf/impl/request/CodiFacesContextWrapper.java?ref=c17e4ffa6e436404ad0f9398f5a10cef455863a0"
            }
        ],
        "bug_id": "myfaces-extcdi_3",
        "parent": "https://github.com/apache/myfaces-extcdi/commit/947cf283d2c73d704f98bee1fed2b323c87401cd",
        "message": "EXTCDI-28 lazy initialising BeanManger prevents NPE\n\nThis is a fix to get MyFaces starting again, but I don't\nthink it's a final solution yet...\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/myfaces/extensions/cdi/trunk@959247 13f79535-47bb-0310-9956-ffa450edef68",
        "repo": "myfaces-extcdi"
    }
]