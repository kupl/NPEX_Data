[
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/b099b53b614c54d6cb50fe4054547f1c1de911d6",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/123dcaeba2e0a74cb320f4b84d39b6b85e31be5d",
        "message": "Prevent NullPointerException",
        "bug_id": "myfaces-tobago_1",
        "file": [
            {
                "sha": "a3b1a3920498f8d1ea9d086040a543738e8757d7",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/CommandRendererBase.java",
                "status": "modified",
                "additions": 10,
                "deletions": 1,
                "changes": 11,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/b099b53b614c54d6cb50fe4054547f1c1de911d6/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/CommandRendererBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/b099b53b614c54d6cb50fe4054547f1c1de911d6/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/CommandRendererBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/CommandRendererBase.java?ref=b099b53b614c54d6cb50fe4054547f1c1de911d6",
                "patch": "@@ -45,16 +45,21 @@\n import org.apache.myfaces.tobago.renderkit.html.HtmlElements;\n import org.apache.myfaces.tobago.util.ComponentUtils;\n import org.apache.myfaces.tobago.webapp.TobagoResponseWriter;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n import javax.faces.component.UIComponent;\n import javax.faces.component.UIParameter;\n import javax.faces.context.FacesContext;\n import java.io.IOException;\n+import java.lang.invoke.MethodHandles;\n import java.util.ArrayList;\n import java.util.List;\n \n public abstract class CommandRendererBase extends DecodingCommandRendererBase {\n \n+  private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n+\n   @Override\n   public void encodeBegin(final FacesContext facesContext, final UIComponent component) throws IOException {\n \n@@ -124,7 +129,11 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n     final boolean defaultCommand = ComponentUtils.getBooleanAttribute(command, Attributes.defaultCommand);\n     if (defaultCommand) {\n       final AbstractUIFormBase form = ComponentUtils.findAncestor(command, AbstractUIFormBase.class);\n-      writer.writeAttribute(DataAttributes.DEFAULT, form.getClientId(facesContext), false);\n+      if (form != null) {\n+        writer.writeAttribute(DataAttributes.DEFAULT, form.getClientId(facesContext), false);\n+      } else {\n+        LOG.warn(\"No from found for {}\", clientId);\n+      }\n     }\n \n     final String image = ComponentUtils.getStringAttribute(command, Attributes.image);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/4a62b6d28b991f350db6ddac4781a984320eeae9",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4610ff07ec2de0bc346aca666ad9447c0f9b32e4",
        "message": "TOBAGO-1682 NullPointerException in CookieUtils\n* fixed NullPointerException\n[developed by hnoeth]",
        "bug_id": "myfaces-tobago_2",
        "file": [
            {
                "sha": "b37dcf12b4da410cc177d6271ac31cbcdb79dc04",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/CookieUtils.java",
                "status": "modified",
                "additions": 33,
                "deletions": 29,
                "changes": 62,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4a62b6d28b991f350db6ddac4781a984320eeae9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/CookieUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4a62b6d28b991f350db6ddac4781a984320eeae9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/CookieUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/CookieUtils.java?ref=4a62b6d28b991f350db6ddac4781a984320eeae9",
                "patch": "@@ -40,18 +40,20 @@ private CookieUtils() {\n   public static String getThemeNameFromCookie(HttpServletRequest request) {\n     String themeName = null;\n     final Cookie[] cookies = request.getCookies();\n-    for (Cookie cookie : cookies) {\n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"cookie name  ='{}'\", cookie.getName());\n-        LOG.debug(\"cookie value ='{}'\", cookie.getValue());\n-        LOG.debug(\"cookie path  ='{}'\", cookie.getPath());\n-      }\n-      if (THEME_PARAMETER.equals(cookie.getName())) {\n-        themeName = cookie.getValue();\n+    if (cookies != null) {\n+      for (Cookie cookie : cookies) {\n         if (LOG.isDebugEnabled()) {\n-          LOG.debug(\"theme from cookie {}='{}'\", THEME_PARAMETER, themeName);\n+          LOG.debug(\"cookie name  ='{}'\", cookie.getName());\n+          LOG.debug(\"cookie value ='{}'\", cookie.getValue());\n+          LOG.debug(\"cookie path  ='{}'\", cookie.getPath());\n+        }\n+        if (THEME_PARAMETER.equals(cookie.getName())) {\n+          themeName = cookie.getValue();\n+          if (LOG.isDebugEnabled()) {\n+            LOG.debug(\"theme from cookie {}='{}'\", THEME_PARAMETER, themeName);\n+          }\n+          break;\n         }\n-        break;\n       }\n     }\n     return themeName;\n@@ -64,30 +66,32 @@ public static void setThemeNameToCookie(\n     path = StringUtils.isBlank(path) ? \"/\" : path;\n     boolean found = false;\n     final Cookie[] cookies = request.getCookies();\n-    for (Cookie cookie : cookies) {\n-      if (THEME_PARAMETER.equals(cookie.getName())) {\n-        if (found) {\n-          if (LOG.isDebugEnabled()) {\n-            LOG.debug(\"Found more than one cookie {}, try to remove them...\", THEME_PARAMETER);\n-          }\n-          cookie.setMaxAge(0);\n-        } else {\n-          found = true;\n-          if (StringUtils.notEquals(cookie.getValue(), themeName)) {\n+    if (cookies != null) {\n+      for (Cookie cookie : cookies) {\n+        if (THEME_PARAMETER.equals(cookie.getName())) {\n+          if (found) {\n             if (LOG.isDebugEnabled()) {\n-              LOG.debug(\"update theme {} -> {}\", cookie.getValue(), themeName);\n+              LOG.debug(\"Found more than one cookie {}, try to remove them...\", THEME_PARAMETER);\n             }\n-            cookie.setValue(themeName);\n-          }\n-          if (StringUtils.notEquals(cookie.getPath(), path)) {\n-            if (LOG.isDebugEnabled()) {\n-              LOG.debug(\"update path  {} -> {}\", cookie.getPath(), path);\n+            cookie.setMaxAge(0);\n+          } else {\n+            found = true;\n+            if (StringUtils.notEquals(cookie.getValue(), themeName)) {\n+              if (LOG.isDebugEnabled()) {\n+                LOG.debug(\"update theme {} -> {}\", cookie.getValue(), themeName);\n+              }\n+              cookie.setValue(themeName);\n+            }\n+            if (StringUtils.notEquals(cookie.getPath(), path)) {\n+              if (LOG.isDebugEnabled()) {\n+                LOG.debug(\"update path  {} -> {}\", cookie.getPath(), path);\n+              }\n+              cookie.setPath(path);\n             }\n-            cookie.setPath(path);\n+            cookie.setMaxAge(ONE_YEAR_IN_SECONDS);\n           }\n-          cookie.setMaxAge(ONE_YEAR_IN_SECONDS);\n+          response.addCookie(cookie);\n         }\n-        response.addCookie(cookie);\n       }\n     }\n     if (!found) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/97c463dbccadc141f5b418badcdf0db28e7b609b",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/71deee508e28fc8cab2b07567852bef04efac590",
        "message": "TOBAGO-1727: NullPointerException in ComponentUtils",
        "bug_id": "myfaces-tobago_3",
        "file": [
            {
                "sha": "4b3d1a3f1eef79bfb76919d6b2915198dddb6312",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/97c463dbccadc141f5b418badcdf0db28e7b609b/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/97c463dbccadc141f5b418badcdf0db28e7b609b/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java?ref=97c463dbccadc141f5b418badcdf0db28e7b609b",
                "patch": "@@ -817,6 +817,9 @@ public static Object getDataAttribute(final UIComponent component, final String\n     return map != null ? map.get(name) : null;\n   }\n \n+  /**\n+   * May return null, if no converter can be find.\n+   */\n   public static Converter getConverter(\n       final FacesContext facesContext, final UIComponent component, final Object value) {\n \n@@ -835,7 +838,9 @@ public static Converter getConverter(\n           // ignore, seems not to be possible, when EL is a function like #{bean.getName(item.id)}\n         }\n         if (converterType == null) {\n-          converterType = value.getClass();\n+          if (value != null) {\n+            converterType = value.getClass();\n+          }\n         }\n         if (converterType != null && converterType != Object.class) {\n           converter = facesContext.getApplication().createConverter(converterType);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/dd0241524eddb0f1af02281edae0662d0ee8acdb",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/e01f840cc44569c5f089bc32b787c656d3a275b9",
        "message": "TOBAGO-1793 Ajax Error Handling\n* fix NullPointerException if no error page is defined in web.xml\n* improve AjaxExceptionHandler description",
        "bug_id": "myfaces-tobago_4",
        "file": [
            {
                "sha": "2d4a3d2a91531476591bfae6d0f2ec5053c1e874",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/WebXmlUtils.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/dd0241524eddb0f1af02281edae0662d0ee8acdb/tobago-core/src/main/java/org/apache/myfaces/tobago/util/WebXmlUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/dd0241524eddb0f1af02281edae0662d0ee8acdb/tobago-core/src/main/java/org/apache/myfaces/tobago/util/WebXmlUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/WebXmlUtils.java?ref=dd0241524eddb0f1af02281edae0662d0ee8acdb",
                "patch": "@@ -169,6 +169,10 @@ private static Document getWebXml(final DocumentBuilder documentBuilder, final U\n   }\n \n   private static String normalizePath(final ExternalContext externalContext, final String path) {\n+    if (path == null) {\n+      return null;\n+    }\n+\n     if (externalContext.getRequestPathInfo() != null) {\n       final String prefix = externalContext.getRequestServletPath();\n       if (path.startsWith(prefix)) {"
            },
            {
                "sha": "cdeed3210346c88238aabcd3a8d86b087a7fdc09",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/22-exception-handler/exception-handler.xhtml",
                "status": "modified",
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/dd0241524eddb0f1af02281edae0662d0ee8acdb/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/22-exception-handler/exception-handler.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/dd0241524eddb0f1af02281edae0662d0ee8acdb/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/22-exception-handler/exception-handler.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/22-exception-handler/exception-handler.xhtml?ref=dd0241524eddb0f1af02281edae0662d0ee8acdb",
                "patch": "@@ -26,10 +26,16 @@\n   <ui:param name=\"title\" value=\"#{demoBundle.exception_handler}\"/>\n   <p>Since Tobago 4.0.0 an AjaxExceptionHandler takes care of exceptions in ajax case.</p>\n   <p><span class=\"#{demo:bootstrapClass('BADGE')} #{demo:bootstrapClass('BADGE_DANGER')}\">Important!</span>\n-    The exception has to be throwns before the renderer phase.\n+    The exception has to be thrown before the renderer phase.\n     This is the case, in normal actions, but if you need e.\u00a0g. some initialization of data in a page, you\n     can achieve that with an\n     <code class=\"language-markup\">&lt;f:event type=\"preRenderView\" listener=\"\\#{bean.doSomeCriticalWork}\"/></code>.</p>\n+  <p>The AjaxExceptionHandler take the first exception that occurs and try to find a proper error page.\n+    Error pages are defined in the web.xml.</p>\n+  <p>If no proper error page could be found, the error page for error code 500 is displayed instead.\n+    If no 500-error-page is defined, the general error page (no exceptiontype or error code defined) is used.</p>\n+  <p>If there is no ajax case, the error page could not be found or the renderer phase is active,\n+    the AjaxExceptionHandler do nothing and let JSF handle the exception.</p>\n \n   <tc:section label=\"Example One\">\n     <p>The output field is updated after an change event of the input field.</p>"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/53dbbe53a8bed294d2caf05000683629925a91cc",
        "message": "Resolves same issue as MYFACES-4199\n* NPE inside empty <f:selectItem>",
        "bug_id": "myfaces-tobago_5",
        "file": [
            {
                "sha": "7f99f4948d729cdf1de5000ff7afb2f140d81d7a",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SelectManyRendererBase.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SelectManyRendererBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SelectManyRendererBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SelectManyRendererBase.java?ref=4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389",
                "patch": "@@ -675,7 +675,9 @@ public SelectItem next() {\n           // must be called on the string rendered attribute values\n           Object itemLabel = attributeMap.get(ITEM_LABEL_ATTR);\n           if (itemLabel == null) {\n-            itemLabel = itemValue.toString();\n+            if (itemValue != null) {\n+              itemLabel = itemValue.toString();\n+            }\n           } else {\n             itemLabel = itemLabel.toString();\n           }"
            },
            {
                "sha": "74a1b5e629920702ec4ea3262436459406459936",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/SelectItemUtils.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/SelectItemUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/SelectItemUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/SelectItemUtils.java?ref=4f7ea483cbbb4c1df8a56e9e40cd2d9da852c389",
                "patch": "@@ -139,7 +139,7 @@ public boolean hasNext() {\n           final boolean disabled = uiSelectItem.isItemDisabled();\n //          boolean escape = uiSelectItem.isItemEscaped();\n //          boolean noSelectionOption = uiSelectItem.isNoSelectionOption();\n-          if (label == null) {\n+          if (label == null && itemValue != null) {\n             label = itemValue.toString();\n           }\n           String image = null;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/67d762452a4ac83b66b9b7cb8d0301c6cddba21c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4a5633625c4638a7193ca159d485d8d652b7beb2",
        "message": "TOBAGO-1782: Clean up\n* aware NPE",
        "bug_id": "myfaces-tobago_6",
        "file": [
            {
                "sha": "ef5b0b4ee0f2bbdd6f04921bc21bff9ed2ea0c5e",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUITabGroup.java",
                "status": "modified",
                "additions": 8,
                "deletions": 9,
                "changes": 17,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/67d762452a4ac83b66b9b7cb8d0301c6cddba21c/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUITabGroup.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/67d762452a4ac83b66b9b7cb8d0301c6cddba21c/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUITabGroup.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUITabGroup.java?ref=67d762452a4ac83b66b9b7cb8d0301c6cddba21c",
                "patch": "@@ -144,8 +144,10 @@ public void processValidators(final FacesContext context) {\n       if (!isRendered()) {\n         return;\n       }\n-      final AbstractUITab renderedTab = getRenderedTab();\n-      renderedTab.processValidators(context);\n+      final AbstractUITab renderedTab = getTab(getRenderedIndex());\n+      if (renderedTab != null) {\n+        renderedTab.processValidators(context);\n+      }\n       for (final UIComponent facet : getFacets().values()) {\n         facet.processValidators(context);\n       }\n@@ -160,8 +162,10 @@ public void processUpdates(final FacesContext context) {\n       if (!isRendered()) {\n         return;\n       }\n-      final AbstractUITab renderedTab = getRenderedTab();\n-      renderedTab.processUpdates(context);\n+      final AbstractUITab renderedTab = getTab(getRenderedIndex());\n+      if (renderedTab != null) {\n+        renderedTab.processUpdates(context);\n+      }\n       for (final UIComponent facet : getFacets().values()) {\n         facet.processUpdates(context);\n       }\n@@ -249,11 +253,6 @@ private AbstractUITab getTab(final int index) {\n     return null;\n   }\n \n-  private AbstractUITab getRenderedTab() {\n-    return getTab(getRenderedIndex());\n-  }\n-\n-\n   /**\n    * @since 1.5.0\n    */"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/4a5633625c4638a7193ca159d485d8d652b7beb2",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/d0398107d5a16aad4454584d3e31678b21c682cd",
        "message": "TOBAGO-1782: Clean up\n* aware NPE",
        "bug_id": "myfaces-tobago_7",
        "file": [
            {
                "sha": "db1bb630c29570f76668eff8c327844ef45e86a4",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TreeEditorController.java",
                "status": "modified",
                "additions": 13,
                "deletions": 11,
                "changes": 24,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4a5633625c4638a7193ca159d485d8d652b7beb2/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TreeEditorController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4a5633625c4638a7193ca159d485d8d652b7beb2/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TreeEditorController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TreeEditorController.java?ref=4a5633625c4638a7193ca159d485d8d652b7beb2",
                "patch": "@@ -125,18 +125,20 @@ private DefaultMutableTreeNode cloneNode(final DefaultMutableTreeNode node) {\n \n   public String paste() {\n     final DefaultMutableTreeNode node = findFirstSelected();\n-    if (cutNode != null) {\n-      if (isBaseNodeContainSelectedNode(cutNode, node)) {\n-        FacesContext.getCurrentInstance().addMessage(null,\n-                new FacesMessage(FacesMessage.SEVERITY_INFO, \"Cannot past a cut node into itself.\", null));\n-      } else {\n-        node.insert(cutNode, 0);\n-        cutNode = null;\n+    if (node != null) {\n+      if (cutNode != null) {\n+        if (isBaseNodeContainSelectedNode(cutNode, node)) {\n+          FacesContext.getCurrentInstance().addMessage(null,\n+                  new FacesMessage(FacesMessage.SEVERITY_INFO, \"Cannot past a cut node into itself.\", null));\n+        } else {\n+          node.insert(cutNode, 0);\n+          cutNode = null;\n+        }\n+      } else if (copyNode != null) {\n+        node.insert(copyNode, 0);\n+        copyNode = null;\n+        deselectAllNodes(categoryTree);\n       }\n-    } else if (copyNode != null) {\n-      node.insert(copyNode, 0);\n-      copyNode = null;\n-      deselectAllNodes(categoryTree);\n     }\n     return null;\n   }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/d0398107d5a16aad4454584d3e31678b21c682cd",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/3c7484d90b6ad5d125ea82f6a4d56c63ab9a1542",
        "message": "TOBAGO-1782: Clean up\n* aware NPE",
        "bug_id": "myfaces-tobago_8",
        "file": [
            {
                "sha": "6302a9c71c97632c3eb3d08005cd2deaf101bf35",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "status": "modified",
                "additions": 11,
                "deletions": 3,
                "changes": 14,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/d0398107d5a16aad4454584d3e31678b21c682cd/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/d0398107d5a16aad4454584d3e31678b21c682cd/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java?ref=d0398107d5a16aad4454584d3e31678b21c682cd",
                "patch": "@@ -333,7 +333,10 @@ public Markup add(final Markup markup) {\n       Markup result = this;\n       if (markup.values != null) {\n         for (final String summand : markup.values) {\n-          result = result.add(summand);\n+          final Markup combined = result.add(summand);\n+          if (combined != null) {\n+            result = combined;\n+          }\n         }\n       }\n       return result;\n@@ -373,7 +376,12 @@ public Markup remove(final Markup markup) {\n       // this part is not optimized, but it will be used rarely, in the moment...\n       Markup result = this;\n       for (final String summand : markup.values) {\n-        result = result.remove(summand);\n+        final Markup removed = result.remove(summand);\n+        if (removed == null) {\n+          result = NULL;\n+        } else {\n+          result = removed;\n+        }\n       }\n       return result;\n     }\n@@ -398,7 +406,7 @@ private Markup remove(final String summand) {\n         final String[] strings = new String[values.length - 1];\n         int found = 0;\n         for (int i = 0; i < strings.length; i++) {\n-          if (values[i].equals(summand)) {\n+          if (summand.equals(values[i])) {\n             found++;\n           }\n           strings[i] = values[i + found];"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/bc14d8c3a227be1ee25cbdf90d7b37d3db830fce",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/a6c7ec53c17fe7cc525cf61035ebf1f815bd35b7",
        "message": "demo: using old URL like http://localhost:8080/faces/content/10-intro/intro.xhtml (with /faces) leads to NullPointerException",
        "bug_id": "myfaces-tobago_9",
        "file": [
            {
                "sha": "cfc7f501b242d462ff71f9878e3d2d2fdfceeab4",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/NavigationTree.java",
                "status": "modified",
                "additions": 7,
                "deletions": 5,
                "changes": 12,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/bc14d8c3a227be1ee25cbdf90d7b37d3db830fce/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/NavigationTree.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/bc14d8c3a227be1ee25cbdf90d7b37d3db830fce/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/NavigationTree.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/NavigationTree.java?ref=bc14d8c3a227be1ee25cbdf90d7b37d3db830fce",
                "patch": "@@ -129,11 +129,13 @@ protected void postConstruct() {\n   }\n \n   public NavigationNode findByViewId(String viewId) {\n-    final Enumeration enumeration = root.depthFirstEnumeration();\n-    while (enumeration.hasMoreElements()) {\n-      final NavigationNode node = (NavigationNode) enumeration.nextElement();\n-      if (node.getOutcome() != null && viewId.contains(node.getOutcome())) {\n-        return node;\n+    if (viewId != null) {\n+      final Enumeration enumeration = root.depthFirstEnumeration();\n+      while (enumeration.hasMoreElements()) {\n+        final NavigationNode node = (NavigationNode) enumeration.nextElement();\n+        if (node.getOutcome() != null && viewId.contains(node.getOutcome())) {\n+          return node;\n+        }\n       }\n     }\n     return null;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/a269c1350dc12be31df41f878918d2afc99ea9ab",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/ea5a34a0c799636c8679c1d1c4a1d7616da6a69d",
        "message": "bugfix: NullPointerException",
        "bug_id": "myfaces-tobago_10",
        "file": [
            {
                "sha": "cbb04ac419b3b8bcca3d7c4a0e03875b8db42e9c",
                "filename": "src/main/com/atanion/tobago/taglib/component/TreeTag.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/a269c1350dc12be31df41f878918d2afc99ea9ab/src/main/com/atanion/tobago/taglib/component/TreeTag.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/a269c1350dc12be31df41f878918d2afc99ea9ab/src/main/com/atanion/tobago/taglib/component/TreeTag.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/src/main/com/atanion/tobago/taglib/component/TreeTag.java?ref=a269c1350dc12be31df41f878918d2afc99ea9ab",
                "patch": "@@ -83,7 +83,7 @@ protected void setProperties(UIComponent component) {\n     ComponentUtil.setStringProperty(component, ATTR_ID_REFERENCE, idReference, getIterationHelper());\n     ComponentUtil.setStringProperty(component, ATTR_NAME_REFERENCE, nameReference, getIterationHelper());\n \n-    if (selectable.endsWith(\"LeafOnly\")) {\n+    if (selectable != null && selectable.endsWith(\"LeafOnly\")) {\n       addLeafOnlyValidator(component);\n     }\n   }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/e628d3a40c1805b99c2ce1aecea4ccbc626f7b1f",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/8ec3c2e779086f19488d1ddc8ada835c06e7787e",
        "message": "prevent potential NullPointerException",
        "bug_id": "myfaces-tobago_11",
        "file": [
            {
                "sha": "b9b0aa8afc1f13734b5b9a6a2859301586df4404",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIGridLayout.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e628d3a40c1805b99c2ce1aecea4ccbc626f7b1f/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIGridLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e628d3a40c1805b99c2ce1aecea4ccbc626f7b1f/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIGridLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIGridLayout.java?ref=e628d3a40c1805b99c2ce1aecea4ccbc626f7b1f",
                "patch": "@@ -350,7 +350,7 @@ public void postProcessing(Orientation orientation) {\n           position = position.add(LayoutUtils.getPaddingBegin(orientation, getLayoutContainer()));\n           position = position.add(getMarginBegin(orientation));\n           for (int k = 0; k < i; k++) {\n-            if (heads[k] == null) {\n+            if (heads[k] == null || heads[k].getCurrent() == null) {\n               LOG.warn(\"Head is null, should be debugged... i=\" + i + \" k=\" + k + \" grid=\\n\" + grid,\n                   new NullPointerException());\n             } else {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/6dd2c6af530d32875f65725ac1334486b7691154",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/cfe1428dcdbb36bac39ee5189716ea566b339cb2",
        "message": "prevent potential NullPointerException",
        "bug_id": "myfaces-tobago_12",
        "file": [
            {
                "sha": "7465933e55bf931fba255b2c7a72980a82e6d23c",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/6dd2c6af530d32875f65725ac1334486b7691154/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/6dd2c6af530d32875f65725ac1334486b7691154/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/context/Markup.java?ref=6dd2c6af530d32875f65725ac1334486b7691154",
                "patch": "@@ -191,8 +191,10 @@ public Markup add(Markup markup) {\n     } else {\n       // this part is not optimized, but it will be used rarely, in the moment...\n       Markup result = this;\n-      for (String summand : markup.values) {\n-        result = result.add(summand);\n+      if (markup.values != null) {\n+        for (String summand : markup.values) {\n+          result = result.add(summand);\n+        }\n       }\n       return result;\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/bcdb1c176206c7d3f60fa339441aacd8edb22bd7",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/767fb3399ed58316e6a8927a7a1b39e5cd668fde",
        "message": "TOBAGO-1782: Clean up\n* using \"try with resources\" (new with Java 7)\n** avoid NPE",
        "bug_id": "myfaces-tobago_13",
        "file": [
            {
                "sha": "5666652e85802103a3b37c6a78be7ce2266399f2",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/SourceFileReader.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/bcdb1c176206c7d3f60fa339441aacd8edb22bd7/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/SourceFileReader.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/bcdb1c176206c7d3f60fa339441aacd8edb22bd7/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/SourceFileReader.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/SourceFileReader.java?ref=bcdb1c176206c7d3f60fa339441aacd8edb22bd7",
                "patch": "@@ -38,10 +38,12 @@ public String getSource(final String filename) {\n     final String viewId = facesContext.getViewRoot().getViewId();\n     final String file = viewId.substring(0, viewId.lastIndexOf(\"/\")) + \"/\" + filename;\n     try (final InputStream resourceAsStream = externalContext.getResourceAsStream(file)) {\n-      return IOUtils.toString(resourceAsStream, \"UTF-8\");\n+      if (resourceAsStream != null) {\n+        return IOUtils.toString(resourceAsStream, \"UTF-8\");\n+      }\n     } catch (final IOException e) {\n       LOG.error(\"\", e);\n-      return null;\n     }\n+    return null;\n   }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/1e28c248a6532310ce127ffb7f1ad13573346ba4",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/0693828a88f7c2714ff741d1095474450fed7743",
        "message": "bugfix: NullPointerException with unknown browsers",
        "bug_id": "myfaces-tobago_14",
        "file": [
            {
                "sha": "2a0f78bd0b32d08ec8e775cc664ae6c4d752c3b2",
                "filename": "history.txt",
                "status": "modified",
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1e28c248a6532310ce127ffb7f1ad13573346ba4/history.txt",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1e28c248a6532310ce127ffb7f1ad13573346ba4/history.txt",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/history.txt?ref=1e28c248a6532310ce127ffb7f1ad13573346ba4",
                "patch": "@@ -1,5 +1,6 @@\n 1.0.2 -\n * bugfix: submit button in IE makes double submit\n+* bugfix: NullPointerException with unknown browsers\n \n 1.0.1 - 15.12.2004\n * eleminate \"SNAPSHOT\" dependencies"
            },
            {
                "sha": "cb4eb8745c4d4ce95a99152270fd8b824f283397",
                "filename": "src/main/com/atanion/tobago/context/UserAgent.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/context/UserAgent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/context/UserAgent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/src/main/com/atanion/tobago/context/UserAgent.java?ref=1e28c248a6532310ce127ffb7f1ad13573346ba4",
                "patch": "@@ -174,6 +174,11 @@ private UserAgent(String name, String version){\n     this.version = version;\n   }\n \n+  public boolean isMsie() {\n+    return MSIE.name.equals(name);\n+  }\n+\n+  /** @deprecated don't use toString() functionallity! */\n   public String toString() {\n     return version != null\n         ? name + '_' +  version"
            },
            {
                "sha": "ff1320adc7c4f74d2e34cd74be5d2f240fff44f7",
                "filename": "src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/BoxRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 8,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/BoxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/BoxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/BoxRenderer.java?ref=1e28c248a6532310ce127ffb7f1ad13573346ba4",
                "patch": "@@ -7,7 +7,6 @@\n \n import com.atanion.tobago.TobagoConstants;\n import com.atanion.tobago.context.ClientProperties;\n-import com.atanion.tobago.context.UserAgent;\n import com.atanion.tobago.renderkit.BoxRendererBase;\n import com.atanion.tobago.renderkit.RenderUtil;\n import com.atanion.tobago.util.LayoutUtil;\n@@ -83,7 +82,7 @@ public void encodeEndTobago(FacesContext facesContext,\n       RenderUtil.encode(facesContext, toolbar);\n       writer.endElement(\"span\");\n       writer.endElement(\"div\");\n-      if (isMsie(facesContext)) {\n+      if (ClientProperties.getInstance(facesContext).getUserAgent().isMsie()) {\n         contentStyle\n             = LayoutUtil.replaceStyleAttribute(contentStyle, \"top\", \"-10px\");\n       }\n@@ -99,12 +98,6 @@ public void encodeEndTobago(FacesContext facesContext,\n     writer.endElement(\"fieldset\");\n   }\n \n-\n-\n-  private boolean isMsie(FacesContext facesContext) {\n-    return ClientProperties.getInstance(facesContext).getUserAgent().toString().startsWith(UserAgent.MSIE.toString());\n-  }\n-\n   public boolean getRendersChildren() {\n     return true;\n   }"
            },
            {
                "sha": "a1b2d7b501ccbded841e05100abb87f93bb38777",
                "filename": "src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/ToolbarRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 7,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/ToolbarRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1e28c248a6532310ce127ffb7f1ad13573346ba4/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/ToolbarRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/src/main/com/atanion/tobago/renderkit/html/scarborough/standard/tag/ToolbarRenderer.java?ref=1e28c248a6532310ce127ffb7f1ad13573346ba4",
                "patch": "@@ -8,12 +8,11 @@\n import com.atanion.tobago.TobagoConstants;\n import com.atanion.tobago.component.ComponentUtil;\n import com.atanion.tobago.context.ClientProperties;\n-import com.atanion.tobago.context.UserAgent;\n import com.atanion.tobago.renderkit.CommandRendererBase;\n+import com.atanion.tobago.renderkit.HtmlUtils;\n import com.atanion.tobago.renderkit.LabelWithAccessKey;\n import com.atanion.tobago.renderkit.RenderUtil;\n import com.atanion.tobago.renderkit.RendererBase;\n-import com.atanion.tobago.renderkit.HtmlUtils;\n import com.atanion.tobago.util.LayoutUtil;\n import com.atanion.tobago.webapp.TobagoResponseWriter;\n import org.apache.commons.logging.Log;\n@@ -138,7 +137,7 @@ private void renderToolbarButton(FacesContext facesContext,\n        }      \n     }\n \n-    if (isMsie(facesContext)) {\n+    if (ClientProperties.getInstance(facesContext).getUserAgent().isMsie()) {\n       UIGraphic ieSpacer = (UIGraphic) command.getParent().getFacet(\"ieSpacer\");\n       if (ieSpacer == null) {\n         ieSpacer = (UIGraphic) facesContext.getApplication().createComponent(\n@@ -184,10 +183,6 @@ private void renderToolbarButton(FacesContext facesContext,\n //    writer.endElement(\"td\");\n   }\n \n-  private boolean isMsie(FacesContext facesContext) {\n-    return ClientProperties.getInstance(facesContext).getUserAgent().toString().startsWith(UserAgent.MSIE.toString());\n-  }\n-\n   private String createOnClick(FacesContext facesContext,\n       UIComponent component) {\n     String type = (String) component.getAttributes().get(ATTR_TYPE);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/d0c183dea801c333fcb7a70f55d46193470f4d60",
        "message": "TOBAGO 1544: Demo\n * Tests for button+link improved\n * NullPointerException in QUNitTests fixed\n * Tests for popup.xhtml fixed\n[developed by hnoeth]",
        "bug_id": "myfaces-tobago_15",
        "file": [
            {
                "sha": "a0875f0db1fe68c04a79a203b2ef396ec15920ed",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/20-component/060-popup/popup.test.js",
                "status": "modified",
                "additions": 45,
                "deletions": 45,
                "changes": 90,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/060-popup/popup.test.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/060-popup/popup.test.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/060-popup/popup.test.js?ref=ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
                "patch": "@@ -15,19 +15,19 @@\n  * limitations under the License.\n  */\n \n-QUnit.test(\"Open 'Simple Popup' and press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup' and press 'Cancel'.\", function(assert) {\n   assert.expect(3);\n   var done = assert.async(2);\n   var step = 1;\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:openPopup\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel1\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     if (step == 1) {\n       $popup = jQueryFrame($popup.selector);\n       assert.equal($popup.attr(\"value\"), \"false\");\n@@ -46,7 +46,7 @@ QUnit.test(\"Open 'Simple Popup' and press 'Cancel'.\", function (assert) {\n   });\n });\n \n-QUnit.test(\"Open 'Simple Popup', press 'Submit' while field is empty. Press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup', press 'Submit' while field is empty. Press 'Cancel'.\", function(assert) {\n   assert.expect(5);\n   var done = assert.async(3);\n   var step = 1;\n@@ -55,14 +55,14 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit' while field is empty. Press 'Can\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:openPopup\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:output span\");\n   var outputValue = $output.text();\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in\\\\:\\\\:field\");\n-  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submit\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in1\\\\:\\\\:field\");\n+  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submit1\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel1\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     if (step == 1) {\n       $popup = jQueryFrame($popup.selector);\n       $inputField = jQueryFrame($inputField.selector);\n@@ -95,22 +95,22 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit' while field is empty. Press 'Can\n   });\n });\n \n-QUnit.test(\"Open 'Simple Popup', press 'Submit' while field has content. Press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup', press 'Submit' while field has content. Press 'Cancel'.\", function(assert) {\n   assert.expect(5);\n   var done = assert.async(3);\n   var step = 1;\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:openPopup\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:output span\");\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in\\\\:\\\\:field\");\n-  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submit\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in1\\\\:\\\\:field\");\n+  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submit1\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel1\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     if (step == 1) {\n       $popup = jQueryFrame($popup.selector);\n       $inputField = jQueryFrame($inputField.selector);\n@@ -143,7 +143,7 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit' while field has content. Press '\n   });\n });\n \n-QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field is empty. Press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field is empty. Press 'Cancel'.\", function(assert) {\n   assert.expect(5);\n   var done = assert.async(3);\n   var step = 1;\n@@ -152,14 +152,14 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field is empty. Pr\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:openPopup\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:output span\");\n   var outputValue = $output.text();\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in\\\\:\\\\:field\");\n-  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submitClose\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in1\\\\:\\\\:field\");\n+  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submitClose1\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel1\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     if (step == 1) {\n       $popup = jQueryFrame($popup.selector);\n       $inputField = jQueryFrame($inputField.selector);\n@@ -192,22 +192,22 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field is empty. Pr\n   });\n });\n \n-QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field has content.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field has content.\", function(assert) {\n   assert.expect(4);\n   var done = assert.async(2);\n   var step = 1;\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:openPopup\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:output span\");\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in\\\\:\\\\:field\");\n-  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submitClose\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:in1\\\\:\\\\:field\");\n+  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:submitClose1\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form1\\\\:popup\\\\:cancel1\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     if (step == 1) {\n       $popup = jQueryFrame($popup.selector);\n       $inputField = jQueryFrame($inputField.selector);\n@@ -231,13 +231,13 @@ QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field has content.\n   });\n });\n \n-QUnit.test(\"Open 'Client Popup' and press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Client Popup' and press 'Cancel'.\", function(assert) {\n   assert.expect(3);\n   var step = 1;\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:open\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel2\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n@@ -246,7 +246,7 @@ QUnit.test(\"Open 'Client Popup' and press 'Cancel'.\", function (assert) {\n   assert.equal($popup.attr(\"value\"), \"true\");\n });\n \n-QUnit.test(\"Open 'Client Popup', press 'Submit' while field is empty. Press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Client Popup', press 'Submit' while field is empty. Press 'Cancel'.\", function(assert) {\n   assert.expect(5);\n   var done = assert.async(1);\n \n@@ -255,20 +255,20 @@ QUnit.test(\"Open 'Client Popup', press 'Submit' while field is empty. Press 'Can\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:output span\");\n   var outputValue = $output.text();\n   var $messages = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:messages\");\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in\\\\:\\\\:field\");\n-  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submit\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in2\\\\:\\\\:field\");\n+  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submit2\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel2\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n   assert.equal($popup.attr(\"value\"), \"false\");\n   $inputField.val(\"\");\n   $submitButton.click();\n \n-  waitForAjax(function () {\n+  waitForAjax(function() {\n     $messages = jQueryFrame($messages.selector);\n     return $messages.length == 1;\n-  }, function () {\n+  }, function() {\n     $output = jQueryFrame($output.selector);\n     $messages = jQueryFrame($messages.selector);\n     $cancelButton = jQueryFrame($cancelButton.selector);\n@@ -282,28 +282,28 @@ QUnit.test(\"Open 'Client Popup', press 'Submit' while field is empty. Press 'Can\n   });\n });\n \n-QUnit.test(\"Open 'Client Popup', press 'Submit' while field has content. Press 'Cancel'.\", function (assert) {\n+QUnit.test(\"Open 'Client Popup', press 'Submit' while field has content. Press 'Cancel'.\", function(assert) {\n   assert.expect(5);\n   var done = assert.async(1);\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:open\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:out span\");\n   var $messages = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:messages\");\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in\\\\:\\\\:field\");\n-  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submit\");\n-  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in2\\\\:\\\\:field\");\n+  var $submitButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submit2\");\n+  var $cancelButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:cancel2\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n   assert.equal($popup.attr(\"value\"), \"false\");\n   $inputField.val(\"test client popup - submit button\");\n   $submitButton.click();\n \n-  waitForAjax(function () {\n+  waitForAjax(function() {\n     $messages = jQueryFrame($messages.selector);\n     return $messages.length == 0;\n-  }, function () {\n+  }, function() {\n     $output = jQueryFrame($output.selector);\n     $messages = jQueryFrame($messages.selector);\n     $cancelButton = jQueryFrame($cancelButton.selector);\n@@ -317,24 +317,24 @@ QUnit.test(\"Open 'Client Popup', press 'Submit' while field has content. Press '\n   });\n });\n \n-QUnit.test(\"Open 'Client Popup', press 'Submit & Close' while field is empty.\", function (assert) {\n+QUnit.test(\"Open 'Client Popup', press 'Submit & Close' while field is empty.\", function(assert) {\n   assert.expect(4);\n   var done = assert.async(1);\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:open\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:output span\");\n   var outputValue = $output.text();\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in\\\\:\\\\:field\");\n-  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submitClose\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in2\\\\:\\\\:field\");\n+  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submitClose2\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n   assert.equal($popup.attr(\"value\"), \"false\");\n   $inputField.val(\"\");\n   $submitCloseButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     $popup = jQueryFrame($popup.selector);\n     $output = jQueryFrame($output.selector);\n \n@@ -345,23 +345,23 @@ QUnit.test(\"Open 'Client Popup', press 'Submit & Close' while field is empty.\",\n   });\n });\n \n-QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field has content.\", function (assert) {\n+QUnit.test(\"Open 'Simple Popup', press 'Submit & Close' while field has content.\", function(assert) {\n   assert.expect(4);\n   var done = assert.async(1);\n \n   var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup input\");\n   var $openButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:open\");\n   var $output = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:out span\");\n-  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in\\\\:\\\\:field\");\n-  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submitClose\");\n+  var $inputField = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:in2\\\\:\\\\:field\");\n+  var $submitCloseButton = jQueryFrame(\"#page\\\\:mainForm\\\\:form2\\\\:clientPopup\\\\:submitClose2\");\n \n   assert.equal($popup.attr(\"value\"), \"true\");\n   $openButton.click();\n   assert.equal($popup.attr(\"value\"), \"false\");\n   $inputField.val(\"test client popup - submit and close button\");\n   $submitCloseButton.click();\n \n-  jQuery(\"#page\\\\:testframe\").load(function () {\n+  jQuery(\"#page\\\\:testframe\").load(function() {\n     $popup = jQueryFrame($popup.selector);\n     $output = jQueryFrame($output.selector);\n "
            },
            {
                "sha": "3217bcea599b7f527290a6ecfbc6d7abbc214842",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.test.js",
                "status": "modified",
                "additions": 77,
                "deletions": 3,
                "changes": 80,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.test.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.test.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.test.js?ref=ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
                "patch": "@@ -33,7 +33,8 @@ QUnit.test(\"Standard Link Button\", function(assert) {\n   testStandardCommands($command, $destinationSection, assert, done);\n });\n \n-/*QUnit.test(\"Standard Resource Button\", function(assert) {\n+/* PhantomJs don't work with 'resource' attribute. The value for 'href' leads to an nonexisting site.\n+QUnit.test(\"Standard Resource Button\", function(assert) {\n   assert.expect(2);\n   var done = assert.async(2);\n \n@@ -60,7 +61,8 @@ QUnit.test(\"Standard Link Link\", function(assert) {\n   testStandardCommands($command, $destinationSection, assert, done);\n });\n \n-/*QUnit.test(\"Standard Resource Link\", function(assert) {\n+/* PhantomJs don't work with 'resource' attribute. The value for 'href' leads to an nonexisting site.\n+QUnit.test(\"Standard Resource Link\", function(assert) {\n   assert.expect(2);\n   var done = assert.async(2);\n \n@@ -91,7 +93,79 @@ function testStandardCommands($command, $destinationSection, assert, done) {\n \n // TODO: Test Confirmation: Mock Alerts with sinon\n \n+QUnit.test(\"Target Action Button\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetButtonAction\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:actionSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});\n+\n+QUnit.test(\"Target Link Button\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetButtonLink\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:linkSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});\n+\n+/* PhantomJs don't work with 'resource' attribute. The value for 'href' leads to an nonexisting site.\n+QUnit.test(\"Target Resource Button\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetButtonResource\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:resourceSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});*/\n+\n+QUnit.test(\"Target Action Link\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetLinkAction\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:actionSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});\n+\n+QUnit.test(\"Target Link Link\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetLinkLink\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:linkSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});\n+\n+/* PhantomJs don't work with 'resource' attribute. The value for 'href' leads to an nonexisting site.\n+QUnit.test(\"Target Resource Link\", function(assert) {\n+  assert.expect(1);\n+  var done = assert.async();\n+\n+  var $command = jQueryFrame(\"#page\\\\:mainForm\\\\:targetLinkResource\");\n+  var $destinationSection = jQueryTargetFrame(\"#page\\\\:resourceSection\");\n+  testTargetCommands($command, $destinationSection, assert, done);\n+});*/\n+\n+function testTargetCommands($command, $destinationSection, assert, done) {\n+  $command[0].click();\n+\n+  /*\n+   * phantomJs don't recognize jQueryFrame(\"#page\\\\:mainForm\\\\:targetFrame\").load(),\n+   * so the waitForAjax() method is used instead.\n+   */\n+  waitForAjax(function() {\n+    $destinationSection = jQueryTargetFrame($destinationSection.selector);\n+    return $destinationSection.length == 1;\n+  }, function() {\n+    $destinationSection = jQueryTargetFrame($destinationSection.selector);\n+    assert.equal($destinationSection.length, 1);\n+    done();\n+  });\n+}\n \n function jQueryTargetFrame(expression) {\n-  return document.getElementById(\"page:testframe\").contentWindow.jQuery(expression);\n+  return jQueryFrame(\"#page\\\\:mainForm\\\\:targetFrame\").contents().find(expression);\n }"
            },
            {
                "sha": "dc5c4b59d0428e6a61f12e842658a982e9abf0da",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.xhtml",
                "status": "modified",
                "additions": 16,
                "deletions": 35,
                "changes": 51,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/button+link.xhtml?ref=ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
                "patch": "@@ -27,72 +27,53 @@\n       <tc:button id=\"standardButtonAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\"/>\n       <tc:button id=\"standardButtonLink\" label=\"Link\" link=\"x-link.xhtml\"/>\n       <tc:button id=\"standardButtonResource\" label=\"Resource\"\n-                 resource=\"content/40-test/4000-button+link/x-resource.xhtml\"/>\n+                 resource=\"content/40-test/4000-button+link/x-resource.html\"/>\n     </tc:buttons>\n     <tc:commands>\n       <tc:link id=\"standardLinkAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\"/>\n       <tc:link id=\"standardLinkLink\" label=\"Link\" link=\"x-link.xhtml\"/>\n-      <tc:link id=\"standardLinkResource\" label=\"Resource\" resource=\"content/40-test/4000-button+link/x-resource.xhtml\"/>\n+      <tc:link id=\"standardLinkResource\" label=\"Resource\" resource=\"content/40-test/4000-button+link/x-resource.html\"/>\n     </tc:commands>\n     <br/>\n     <br/>\n   </tc:section>\n \n   <tc:section label=\"Confirmation\">\n     <tc:buttons>\n-      <tc:button id=\"confirmationButtonAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:button>\n-      <tc:button id=\"confirmationButtonLink\" label=\"Link\" link=\"x-link.xhtml\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:button>\n+      <tc:button id=\"confirmationButtonAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\"\n+                 confirmation=\"Are you sure?\"/>\n+      <tc:button id=\"confirmationButtonLink\" label=\"Link\" link=\"x-link.xhtml\" confirmation=\"Are you sure?\"/>\n       <tc:button id=\"confirmationButtonResource\" label=\"Resource\"\n-                 resource=\"faces/content/40-test/4000-button+link/x-resource.xhtml\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:button>\n+                 resource=\"faces/content/40-test/4000-button+link/x-resource.html\"\n+                 confirmation=\"Are you sure?\"/>\n     </tc:buttons>\n     <tc:commands>\n-      <tc:link id=\"confirmationLinkAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:link>\n-      <tc:link id=\"confirmationLinkLink\" label=\"Link\" link=\"x-link.xhtml\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:link>\n+      <tc:link id=\"confirmationLinkAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\"\n+               confirmation=\"Are you sure?\"/>\n+      <tc:link id=\"confirmationLinkLink\" label=\"Link\" link=\"x-link.xhtml\"\n+               confirmation=\"Are you sure?\"/>\n       <tc:link id=\"confirmationLinkResource\" label=\"Resource\"\n-               resource=\"faces/content/40-test/4000-button+link/x-resource.xhtml\">\n-        <f:facet name=\"confirmation\">\n-          <tc:out value=\"Are you sure?\"/>\n-        </f:facet>\n-      </tc:link>\n+               resource=\"faces/content/40-test/4000-button+link/x-resource.html\"\n+               confirmation=\"Are you sure?\"/>\n     </tc:commands>\n     <br/>\n     <br/>\n   </tc:section>\n \n   <tc:section label=\"Target\">\n     <tc:buttons>\n-      <tc:button id=\"targetButtonAction\" label=\"Action\" actions=\"#{buttonLinkController.actionPage}\"\n+      <tc:button id=\"targetButtonAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\"\n                  target=\"targetFrame\"/>\n       <tc:button id=\"targetButtonLink\" label=\"Link\" link=\"x-link.xhtml\" target=\"targetFrame\"/>\n       <tc:button id=\"targetButtonResource\" label=\"Resource\"\n-                 resource=\"content/40-test/4000-button+link/x-resource.xhtml\"\n+                 resource=\"content/40-test/4000-button+link/x-resource.html\"\n                  target=\"targetFrame\"/>\n     </tc:buttons>\n     <tc:commands>\n       <tc:link id=\"targetLinkAction\" label=\"Action\" action=\"#{buttonLinkController.actionPage}\" target=\"targetFrame\"/>\n       <tc:link id=\"targetLinkLink\" label=\"Link\" link=\"x-link.xhtml\" target=\"targetFrame\"/>\n       <tc:link id=\"targetLinkResource\" label=\"Resource\"\n-               resource=\"content/40-test/4000-button+link/x-resource.xhtml\"\n+               resource=\"content/40-test/4000-button+link/x-resource.html\"\n                target=\"targetFrame\"/>\n     </tc:commands>\n     <br/>"
            },
            {
                "sha": "69fdc3f77e740d43560cf949a7814fc5ef310129",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/x-resource.html",
                "status": "renamed",
                "additions": 11,
                "deletions": 9,
                "changes": 20,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/x-resource.html",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/x-resource.html",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/x-resource.html?ref=ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
                "patch": "@@ -15,13 +15,15 @@\n  * limitations under the License.\n -->\n \n-<ui:composition template=\"/plain.xhtml\"\n-                xmlns=\"http://www.w3.org/1999/xhtml\"\n-                xmlns:ui=\"http://java.sun.com/jsf/facelets\">\n+<html>\n+<head>\n   <script src=\"/org/apache/myfaces/tobago/renderkit/html/standard/standard/jquery/jquery-2.2.4.js\"\n-          type=\"text/javascript\"/>\n-  <div id=\"page:mainForm:resourceSection\">\n-    <p>This page should be accessed by an link/button with <code>resource</code> attribute.</p>\n-    <a id=\"page:mainForm:back\" href=\"/faces/content/40-test/4000-button+link/button+link.xhtml\">Back</a>\n-  </div>\n-</ui:composition>\n+          type=\"text/javascript\"></script>\n+</head>\n+<body id=\"page\">\n+<div id=\"page:resourceSection\">\n+  <p>This page should be accessed by an link/button with <code>resource</code> attribute.</p>\n+  <a id=\"page:back\" href=\"/faces/content/40-test/4000-button+link/button+link.xhtml\">Back</a>\n+</div>\n+</body>\n+</html>",
                "previous_filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/4000-button+link/x-resource.xhtml"
            },
            {
                "sha": "61de04ee7f89647d97a956cd6fdf5aaccc872a2d",
                "filename": "tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "status": "modified",
                "additions": 0,
                "deletions": 2,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ad907b8c59396c1802dc1186bfd4c0dd0ed5298a/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java?ref=ad907b8c59396c1802dc1186bfd4c0dd0ed5298a",
                "patch": "@@ -116,9 +116,7 @@ private void checkQUnitResults(String page) throws InterruptedException {\n             LOG.warn(\"test '\" + testName + \"' for \" + page + \" failed on assertion \" + assertionCount\n                 + \"\\n\" + source.getText());\n             String expected = assertion.findElement(By.className(\"test-expected\")).getText();\n-            expected = expected.substring(12, expected.length() - 1);\n             String actual = assertion.findElement(By.className(\"test-actual\")).getText();\n-            actual = actual.substring(10, actual.length() - 1);\n             Assert.assertEquals(expected, actual);\n           }\n         }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/563377035c52a648df769aa5ea565bed5b922bf1",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/e5d5ee0ad73537fb1282c112979b8507028915c9",
        "message": "fix NullPointerException, if no layoutmanager found",
        "bug_id": "myfaces-tobago_16",
        "file": [
            {
                "sha": "d28fa6be49a882cdf848a669687679ed0f450fa2",
                "filename": "src/main/com/atanion/tobago/renderkit/GroupBoxRendererBase.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/563377035c52a648df769aa5ea565bed5b922bf1/src/main/com/atanion/tobago/renderkit/GroupBoxRendererBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/563377035c52a648df769aa5ea565bed5b922bf1/src/main/com/atanion/tobago/renderkit/GroupBoxRendererBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/src/main/com/atanion/tobago/renderkit/GroupBoxRendererBase.java?ref=563377035c52a648df769aa5ea565bed5b922bf1",
                "patch": "@@ -80,10 +80,10 @@ public int getFixedHeight(FacesContext facesContext, UIComponent component) {\n     }\n     if (this instanceof HeightLayoutRenderer) {\n       height += ((HeightLayoutRenderer)this).getHeaderHeight(\n-          facesContext, layout.getParent());\n+          facesContext, component);\n     }\n     LOG.info(\"fixedHeigth is \" + height);\n-    height += getPaddingHeight(facesContext, layout.getParent());\n+    height += getPaddingHeight(facesContext, component);\n     return height;\n   }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/b7f43f8bad90b28c91f6b99a92cc83ae5b0f938d",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4c8f97bf71ffb1fb8bd2476075856a0d90696b0e",
        "message": "avoid NPE",
        "bug_id": "myfaces-tobago_17",
        "file": [
            {
                "sha": "36c408ce9ea8eddea0efb0e198cbce44cbadd62c",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/AttributeHandler.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/b7f43f8bad90b28c91f6b99a92cc83ae5b0f938d/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/AttributeHandler.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/b7f43f8bad90b28c91f6b99a92cc83ae5b0f938d/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/AttributeHandler.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/AttributeHandler.java?ref=b7f43f8bad90b28c91f6b99a92cc83ae5b0f938d",
                "patch": "@@ -259,12 +259,14 @@ public void apply(final FaceletContext faceletContext, final UIComponent parent)\n           if (action != null) {\n             ((ActionSource) parent).addActionListener(new MethodExpressionActionListener(action));\n           }\n-        } else if (!parent.getAttributes().containsKey(nameValue.getName())) {\n+        } else if (nameValue != null && !parent.getAttributes().containsKey(nameValue.getName())) {\n           if (value.isLiteral()) {\n             parent.getAttributes().put(nameValue.getName(), value.getValue());\n           } else {\n             parent.setValueExpression(nameValue.getName(), value.getValueExpression(faceletContext, Object.class));\n           }\n+        } else if (nameValue == null) {\n+          LOG.warn(\"Null value for {}\", name);\n         }\n       }\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/7c283a022dcd8a700531ba1c90774cb38b955bdb",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/80bdda31bbe6a18387683862a8a95a982de720de",
        "message": "TOBAGO-1674: avoid NPE",
        "bug_id": "myfaces-tobago_18",
        "file": [
            {
                "sha": "d72ac297d3a1f85bacf368b7eaf3ecd3b4a4c1d9",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigImpl.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/7c283a022dcd8a700531ba1c90774cb38b955bdb/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigImpl.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/7c283a022dcd8a700531ba1c90774cb38b955bdb/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigImpl.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigImpl.java?ref=7c283a022dcd8a700531ba1c90774cb38b955bdb",
                "patch": "@@ -178,7 +178,7 @@ public Theme getTheme(final String name) {\n       LOG.debug(\"searching theme: null\");\n       return defaultTheme;\n     }\n-    if (defaultTheme.getName().equals(name)) {\n+    if (defaultTheme != null && defaultTheme.getName().equals(name)) {\n       return defaultTheme;\n     }\n     for (final Theme theme : supportedThemes) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/0302bd69417069e7d53b99174338ac560d3b2120",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/5815d6b543b54da4c51b5473b1deea25d597e984",
        "message": "TOBAGO-1381: Radio- and Checkbox-Renderer may produce an NullPointerException",
        "bug_id": "myfaces-tobago_19",
        "file": [
            {
                "sha": "835c5839813c8ac71f433209aed8e665a1a0ba29",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0302bd69417069e7d53b99174338ac560d3b2120/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0302bd69417069e7d53b99174338ac560d3b2120/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml?ref=0302bd69417069e7d53b99174338ac560d3b2120",
                "patch": "@@ -37,7 +37,7 @@\n     <tc:label value=\"tx\"/>\n \n     <tc:selectManyCheckbox>\n-      <tc:selectItem itemValue=\"'/&gt;&lt;script&gt;alert('bad news');&lt;/script&gt;&lt;!--\" itemLabel=\"A Value\"/>\n+      <tc:selectItem itemValue=\"a\" itemLabel=\"A Value\"/>\n       <tc:selectItem itemValue=\"b\" itemLabel=\"An Alternative\"/>\n     </tc:selectManyCheckbox>\n     <tx:selectManyCheckbox label=\"normal\">"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/e1f8ece176fd9bed91c1869f0e105808b27e2726",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/39d04b23993c3b651d73c7af946720469cdce104",
        "message": "TOBAGO-1381: Radio- and Checkbox-Renderer may produce an NullPointerException",
        "bug_id": "myfaces-tobago_20",
        "file": [
            {
                "sha": "2d38a7ac32a0d8894ad3112211eb43ebffc99fe3",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "status": "added",
                "additions": 32,
                "deletions": 0,
                "changes": 32,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -0,0 +1,32 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.myfaces.tobago.internal.util;\n+\n+public class ObjectUtils {\n+\n+  private ObjectUtils() {\n+    // utils class\n+  }\n+\n+  @SuppressWarnings(\"ObjectEquality\")\n+  public static boolean equals(Object o1, Object o2) {\n+    return o1 == o2 || o1 != null && o1.equals(o2);\n+  }\n+}"
            },
            {
                "sha": "5bd9c633ef518ec2789d1d359305e552b42b8f84",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -33,6 +33,7 @@\n import org.apache.myfaces.tobago.internal.util.ArrayUtils;\n import org.apache.myfaces.tobago.internal.util.Deprecation;\n import org.apache.myfaces.tobago.internal.util.FindComponentUtils;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.internal.util.StringUtils;\n import org.apache.myfaces.tobago.renderkit.RendererBase;\n import org.slf4j.Logger;\n@@ -675,7 +676,7 @@ public static void setValueForValueBinding(final String name, final Object value\n   @Deprecated\n   public static boolean hasSelectedValue(final List<SelectItem> items, final Object value) {\n     for (final SelectItem item : items) {\n-      if (item.getValue().equals(value)) {\n+      if (ObjectUtils.equals(item.getValue(), value)) {\n         return true;\n       }\n     }"
            },
            {
                "sha": "1f1700affcec75b05408c04eb92669c2615b3732",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -19,6 +19,7 @@\n \n package org.apache.myfaces.tobago.example.demo.clientConfig;\n \n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.apache.myfaces.tobago.config.TobagoConfig;\n@@ -146,7 +147,7 @@ public Theme getTheme() {\n   public String getLocalizedTheme() {\n     for (int i = 0; i < themeItems.length; i++) {\n       final SelectItem themeItem = themeItems[i];\n-      if (themeItem.getValue().equals(theme)) {\n+      if (ObjectUtils.equals(themeItem.getValue(), theme)) {\n         return themeItem.getLabel();\n       }\n     }"
            },
            {
                "sha": "b3e25375e558dfb7e712045256a0ce6dfc81bbdf",
                "filename": "tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -22,6 +22,7 @@\n import org.apache.myfaces.tobago.config.TobagoConfig;\n import org.apache.myfaces.tobago.context.ClientProperties;\n import org.apache.myfaces.tobago.context.Theme;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.util.VariableResolverUtils;\n \n import javax.faces.application.Application;\n@@ -120,7 +121,7 @@ public Theme getTheme() {\n   public String getLocalizedTheme() {\n     for (int i = 0; i < themeItems.length; i++) {\n       final SelectItem themeItem = themeItems[i];\n-      if (themeItem.getValue().equals(theme)) {\n+      if (ObjectUtils.equals(themeItem.getValue(), theme)) {\n         return themeItem.getLabel();\n       }\n     }"
            },
            {
                "sha": "fd20f9f366e70e7e98112da828846c0f6bd5926d",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "status": "added",
                "additions": 83,
                "deletions": 0,
                "changes": 83,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -0,0 +1,83 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+jQuery(document).ready(function() {\n+\n+  fillIdDisplay(\"0\", \".tobago-in\");\n+  fillIdDisplay(\"1\", \".tobago-in\");\n+  fillIdDisplay(\"2\", \".tobago-in\");\n+  fillIdDisplay(\"3\", \".tobago-in\");\n+  fillIdDisplay(\"4\", \".tobago-in\");\n+  fillIdDisplay(\"5\", \".tobago-date\");\n+  fillIdDisplay(\"6\", \".tobago-time\");\n+  fillIdDisplay(\"7\", \".tobago-file\");\n+  fillIdDisplay(\"8\", \".tobago-textarea\");\n+  fillIdDisplay(\"9\", \".tobago-selectBooleanCheckbox\");\n+  fillIdDisplay(\"10\", \".tobago-selectManyCheckbox\");\n+  fillIdDisplay(\"11\", \".tobago-selectManyListbox\");\n+  fillIdDisplay(\"12\", \".tobago-selectOneChoice\");\n+  fillIdDisplay(\"13\", \".tobago-selectOneListbox\");\n+  fillIdDisplay(\"14\", \".tobago-selectOneRadio\");\n+\n+  test(\"page:panel2\", \"page:alpha\");\n+  test(\"page:field3\", \"page:beta\");\n+  test(\"page:panel4\", \"page:gamma\");\n+  test(\"page:field4\", \"page:delta\");\n+  test(\"page:panel5\", \"page:datePanel\");\n+  test(\"page:field5\", \"page:dateField\");\n+  test(\"page:panel6\", \"page:timePanel\");\n+  test(\"page:field6\", \"page:timeField\");\n+  test(\"page:panel7\", \"page:filePanel\");\n+  test(\"page:field7\", \"page:fileField\");\n+  test(\"page:panel8\", \"page:textareaPanel\");\n+  test(\"page:field8\", \"page:textareaField\");\n+  test(\"page:panel9\", \"page:selectBooleanCheckboxPanel\");\n+  test(\"page:field9\", \"page:selectBooleanCheckboxField\");\n+  test(\"page:panel10\", \"page:selectManyCheckboxPanel\");\n+  test(\"page:field10\", \"page:selectManyCheckboxField\");\n+  test(\"page:panel11\", \"page:selectManyListboxPanel\");\n+  test(\"page:field11\", \"page:selectManyListboxField\");\n+  test(\"page:panel12\", \"page:selectOneChoicePanel\");\n+  test(\"page:field12\", \"page:selectOneChoiceField\");\n+  test(\"page:panel13\", \"page:selectOneListboxPanel\");\n+  test(\"page:field13\", \"page:selectOneListboxField\");\n+  test(\"page:panel14\", \"page:selectOneRadioPanel\");\n+  test(\"page:field14\", \"page:selectOneRadioField\");\n+\n+});\n+\n+function fillIdDisplay(i, fieldClass) {\n+  var panelIn = jQuery(Tobago.Utils.escapeClientId(\"page:panel\" + i));\n+  var labelIn = jQuery(Tobago.Utils.escapeClientId(\"page:label\" + i));\n+  var fieldIn = jQuery(Tobago.Utils.escapeClientId(\"page:field\" + i));\n+\n+  var panel = panelIn.prev();\n+  var label = panel.children(\".tobago-label\");\n+  var field = panel.children(fieldClass);\n+\n+  panelIn.val(panel.attr(\"id\"));\n+  labelIn.val(label.attr(\"id\"));\n+  fieldIn.val(field.attr(\"id\"));\n+}\n+\n+function test(testId, expected) {\n+  var element = jQuery(Tobago.Utils.escapeClientId(testId));\n+  if (element.val() != expected) {\n+    element.addClass(\"tobago-in-markup-error\");\n+    element.attr(\"title\", \"expected: '\" + expected + \"'\");\n+  }\n+}"
            },
            {
                "sha": "4a312bf36805d4f8ec9356aaac9bec2bf407f72e",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "status": "modified",
                "additions": 1,
                "deletions": 69,
                "changes": 70,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -128,75 +128,7 @@\n     <tc:cell/>\n     <tc:button label=\"Reload\"/>\n \n-    <tc:script>\n-      jQuery(document).ready(function() {\n-\n-        fillIdDisplay(\"0\", \".tobago-in\");\n-        fillIdDisplay(\"1\", \".tobago-in\");\n-        fillIdDisplay(\"2\", \".tobago-in\");\n-        fillIdDisplay(\"3\", \".tobago-in\");\n-        fillIdDisplay(\"4\", \".tobago-in\");\n-        fillIdDisplay(\"5\", \".tobago-date\");\n-        fillIdDisplay(\"6\", \".tobago-time\");\n-        fillIdDisplay(\"7\", \".tobago-file\");\n-        fillIdDisplay(\"8\", \".tobago-textarea\");\n-        fillIdDisplay(\"9\", \".tobago-selectBooleanCheckbox\");\n-        fillIdDisplay(\"10\", \".tobago-selectManyCheckbox\");\n-        fillIdDisplay(\"11\", \".tobago-selectManyListbox\");\n-        fillIdDisplay(\"12\", \".tobago-selectOneChoice\");\n-        fillIdDisplay(\"13\", \".tobago-selectOneListbox\");\n-        fillIdDisplay(\"14\", \".tobago-selectOneRadio\");\n-\n-        test(\"page:panel2\", \"page:alpha\");\n-        test(\"page:field3\", \"page:beta\");\n-        test(\"page:panel4\", \"page:gamma\");\n-        test(\"page:field4\", \"page:delta\");\n-        test(\"page:panel5\", \"page:datePanel\");\n-        test(\"page:field5\", \"page:dateField\");\n-        test(\"page:panel6\", \"page:timePanel\");\n-        test(\"page:field6\", \"page:timeField\");\n-        test(\"page:panel7\", \"page:filePanel\");\n-        test(\"page:field7\", \"page:fileField\");\n-        test(\"page:panel8\", \"page:textareaPanel\");\n-        test(\"page:field8\", \"page:textareaField\");\n-        test(\"page:panel9\", \"page:selectBooleanCheckboxPanel\");\n-        test(\"page:field9\", \"page:selectBooleanCheckboxField\");\n-        test(\"page:panel10\", \"page:selectManyCheckboxPanel\");\n-        test(\"page:field10\", \"page:selectManyCheckboxField\");\n-        test(\"page:panel11\", \"page:selectManyListboxPanel\");\n-        test(\"page:field11\", \"page:selectManyListboxField\");\n-        test(\"page:panel12\", \"page:selectOneChoicePanel\");\n-        test(\"page:field12\", \"page:selectOneChoiceField\");\n-        test(\"page:panel13\", \"page:selectOneListboxPanel\");\n-        test(\"page:field13\", \"page:selectOneListboxField\");\n-        test(\"page:panel14\", \"page:selectOneRadioPanel\");\n-        test(\"page:field14\", \"page:selectOneRadioField\");\n-\n-      });\n-\n-      function fillIdDisplay(i, fieldClass) {\n-        var panelIn = jQuery(Tobago.Utils.escapeClientId(\"page:panel\" + i));\n-        var labelIn = jQuery(Tobago.Utils.escapeClientId(\"page:label\" + i));\n-        var fieldIn = jQuery(Tobago.Utils.escapeClientId(\"page:field\" + i));\n-\n-        var panel = panelIn.prev();\n-        var label = panel.children(\".tobago-label\");\n-        var field = panel.children(fieldClass);\n-\n-        panelIn.val(panel.attr(\"id\"));\n-        labelIn.val(label.attr(\"id\"));\n-        fieldIn.val(field.attr(\"id\"));\n-      }\n-\n-      function test(testId, expected) {\n-        var element = jQuery(Tobago.Utils.escapeClientId(testId));\n-        if (element.val() != expected) {\n-          element.addClass(\"tobago-in-markup-error\");\n-          element.attr(\"title\", \"expected: '\" + expected + \"'\");\n-        }\n-      }\n-\n-    </tc:script>\n+    <tc:script file=\"test/in/id-and-fieldId.js\"/>\n \n   </tc:page>\n </f:view>"
            },
            {
                "sha": "b11d605dd9881db99f665cd02e3b7c2ed2f1b669",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -28,6 +28,7 @@\n import org.apache.myfaces.tobago.context.Markup;\n import org.apache.myfaces.tobago.context.ResourceManagerUtils;\n import org.apache.myfaces.tobago.internal.util.AccessKeyMap;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.CommandRendererBase;\n import org.apache.myfaces.tobago.renderkit.LabelWithAccessKey;\n@@ -88,7 +89,7 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n       final UISelectOne radio = (UISelectOne) command.getFacet(Facets.RADIO);\n       final String hiddenId = radio.getClientId(facesContext);\n       for (final SelectItem item : SelectItemUtils.getItemIterator(facesContext, radio)) {\n-        final boolean checked = item.getValue().equals(radio.getValue());\n+        final boolean checked = ObjectUtils.equals(item.getValue(), radio.getValue());\n         final String image = checked ? \"image/MenuRadioChecked.gif\" : null;\n         final String labelText = item.getLabel();\n         label.reset();"
            },
            {
                "sha": "c1ab44fb6e996fcb213f341f02de3086dee65617",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -74,8 +74,9 @@ public void encodeEnd(final FacesContext facesContext, final UIComponent compone\n     }\n     boolean first = true;\n     final Object[] values = select.getSelectedValues();\n+    int i = 0;\n     for (final SelectItem item : SelectItemUtils.getItemIterator(facesContext, select)) {\n-      final String itemId = id + ComponentUtils.SUB_SEPARATOR + item.getValue().toString();\n+      final String itemId = id + ComponentUtils.SUB_SEPARATOR + i++;\n       writer.startElement(HtmlElements.LI, select);\n       writer.startElement(HtmlElements.INPUT, select);\n       writer.writeAttribute(HtmlAttributes.TYPE, HtmlInputTypes.CHECKBOX, false);"
            },
            {
                "sha": "eb62c4449baa0c962d2d6d36e257183be9115698",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -23,6 +23,7 @@\n import org.apache.myfaces.tobago.config.Configurable;\n import org.apache.myfaces.tobago.context.Markup;\n import org.apache.myfaces.tobago.context.ResourceManagerUtils;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.SelectOneRendererBase;\n import org.apache.myfaces.tobago.renderkit.css.Classes;\n@@ -76,12 +77,13 @@ public void encodeEnd(final FacesContext facesContext, final UIComponent compone\n     }\n     boolean first = true;\n     final Object value = select.getValue();\n+    int i = 0;\n     for (final SelectItem item : items) {\n-      final String itemId = id + ComponentUtils.SUB_SEPARATOR + item.getValue().toString();\n+      final String itemId = id + ComponentUtils.SUB_SEPARATOR + i++;\n       writer.startElement(HtmlElements.LI, select);\n       writer.startElement(HtmlElements.INPUT, select);\n       writer.writeAttribute(HtmlAttributes.TYPE, HtmlInputTypes.RADIO, false);\n-      final boolean checked = item.getValue().equals(value);\n+      final boolean checked = ObjectUtils.equals(item.getValue(), value);\n       writer.writeAttribute(HtmlAttributes.CHECKED, checked);\n       writer.writeNameAttribute(id);\n       writer.writeIdAttribute(itemId);"
            },
            {
                "sha": "440449f171f47a3fb54c12809af50e022da98ff5",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "status": "modified",
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e1f8ece176fd9bed91c1869f0e105808b27e2726/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java?ref=e1f8ece176fd9bed91c1869f0e105808b27e2726",
                "patch": "@@ -33,6 +33,7 @@\n import org.apache.myfaces.tobago.internal.component.AbstractUICommandBase;\n import org.apache.myfaces.tobago.internal.component.AbstractUIMenu;\n import org.apache.myfaces.tobago.internal.context.ResourceManagerFactory;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.internal.util.StringUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.LabelWithAccessKey;\n@@ -164,7 +165,7 @@ private Measure renderSelectOne(\n \n         final String formattedValue = RenderUtils.getFormattedValue(facesContext, radio, item.getValue());\n         final boolean checked;\n-        if (item.getValue().equals(value) || markFirst) {\n+        if (ObjectUtils.equals(item.getValue(), value) || markFirst) {\n           checked = true;\n           markFirst = false;\n           currentValue = formattedValue;\n@@ -607,7 +608,7 @@ public boolean getRendersChildren() {\n \n   private boolean hasSelectedValue(final Iterable<SelectItem> items, final Object value) {\n     for (final SelectItem item : items) {\n-      if (item.getValue().equals(value)) {\n+      if (ObjectUtils.equals(item.getValue(), value)) {\n         return true;\n       }\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/5815d6b543b54da4c51b5473b1deea25d597e984",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/567493ddbfb0d31e2db9136e5604b3395ab38d1e",
        "message": "TOBAGO-1381: Radio- and Checkbox-Renderer may produce an NullPointerException",
        "bug_id": "myfaces-tobago_21",
        "file": [
            {
                "sha": "2d38a7ac32a0d8894ad3112211eb43ebffc99fe3",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "status": "added",
                "additions": 32,
                "deletions": 0,
                "changes": 32,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/ObjectUtils.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -0,0 +1,32 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.myfaces.tobago.internal.util;\n+\n+public class ObjectUtils {\n+\n+  private ObjectUtils() {\n+    // utils class\n+  }\n+\n+  @SuppressWarnings(\"ObjectEquality\")\n+  public static boolean equals(Object o1, Object o2) {\n+    return o1 == o2 || o1 != null && o1.equals(o2);\n+  }\n+}"
            },
            {
                "sha": "5bd9c633ef518ec2789d1d359305e552b42b8f84",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -33,6 +33,7 @@\n import org.apache.myfaces.tobago.internal.util.ArrayUtils;\n import org.apache.myfaces.tobago.internal.util.Deprecation;\n import org.apache.myfaces.tobago.internal.util.FindComponentUtils;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.internal.util.StringUtils;\n import org.apache.myfaces.tobago.renderkit.RendererBase;\n import org.slf4j.Logger;\n@@ -675,7 +676,7 @@ public static void setValueForValueBinding(final String name, final Object value\n   @Deprecated\n   public static boolean hasSelectedValue(final List<SelectItem> items, final Object value) {\n     for (final SelectItem item : items) {\n-      if (item.getValue().equals(value)) {\n+      if (ObjectUtils.equals(item.getValue(), value)) {\n         return true;\n       }\n     }"
            },
            {
                "sha": "54ef7ea1d103798297ff2627184571f676bbd100",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "status": "modified",
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/clientConfig/ClientConfigController.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -19,12 +19,13 @@\n \n package org.apache.myfaces.tobago.example.demo.clientConfig;\n \n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n import org.apache.myfaces.tobago.config.TobagoConfig;\n import org.apache.myfaces.tobago.context.ClientProperties;\n import org.apache.myfaces.tobago.context.Theme;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.util.VariableResolverUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n import javax.faces.application.Application;\n import javax.faces.context.FacesContext;\n@@ -160,7 +161,7 @@ public Theme getTheme() {\n   public String getLocalizedTheme() {\n     for (int i = 0; i < themeItems.length; i++) {\n       final SelectItem themeItem = themeItems[i];\n-      if (themeItem.getValue().equals(theme)) {\n+      if (ObjectUtils.equals(themeItem.getValue(), theme)) {\n         return themeItem.getLabel();\n       }\n     }"
            },
            {
                "sha": "7e41fa1e92eaa1c99fe664a4dcf0d6665c582312",
                "filename": "tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/java/org/apache/myfaces/tobago/example/test/ClientConfigController.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -22,6 +22,7 @@\n import org.apache.myfaces.tobago.config.TobagoConfig;\n import org.apache.myfaces.tobago.context.ClientProperties;\n import org.apache.myfaces.tobago.context.Theme;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.util.VariableResolverUtils;\n \n import javax.faces.application.Application;\n@@ -125,7 +126,7 @@ public Theme getTheme() {\n   public String getLocalizedTheme() {\n     for (int i = 0; i < themeItems.length; i++) {\n       final SelectItem themeItem = themeItems[i];\n-      if (themeItem.getValue().equals(theme)) {\n+      if (ObjectUtils.equals(themeItem.getValue(), theme)) {\n         return themeItem.getLabel();\n       }\n     }"
            },
            {
                "sha": "fd20f9f366e70e7e98112da828846c0f6bd5926d",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "status": "added",
                "additions": 83,
                "deletions": 0,
                "changes": 83,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.js?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -0,0 +1,83 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+jQuery(document).ready(function() {\n+\n+  fillIdDisplay(\"0\", \".tobago-in\");\n+  fillIdDisplay(\"1\", \".tobago-in\");\n+  fillIdDisplay(\"2\", \".tobago-in\");\n+  fillIdDisplay(\"3\", \".tobago-in\");\n+  fillIdDisplay(\"4\", \".tobago-in\");\n+  fillIdDisplay(\"5\", \".tobago-date\");\n+  fillIdDisplay(\"6\", \".tobago-time\");\n+  fillIdDisplay(\"7\", \".tobago-file\");\n+  fillIdDisplay(\"8\", \".tobago-textarea\");\n+  fillIdDisplay(\"9\", \".tobago-selectBooleanCheckbox\");\n+  fillIdDisplay(\"10\", \".tobago-selectManyCheckbox\");\n+  fillIdDisplay(\"11\", \".tobago-selectManyListbox\");\n+  fillIdDisplay(\"12\", \".tobago-selectOneChoice\");\n+  fillIdDisplay(\"13\", \".tobago-selectOneListbox\");\n+  fillIdDisplay(\"14\", \".tobago-selectOneRadio\");\n+\n+  test(\"page:panel2\", \"page:alpha\");\n+  test(\"page:field3\", \"page:beta\");\n+  test(\"page:panel4\", \"page:gamma\");\n+  test(\"page:field4\", \"page:delta\");\n+  test(\"page:panel5\", \"page:datePanel\");\n+  test(\"page:field5\", \"page:dateField\");\n+  test(\"page:panel6\", \"page:timePanel\");\n+  test(\"page:field6\", \"page:timeField\");\n+  test(\"page:panel7\", \"page:filePanel\");\n+  test(\"page:field7\", \"page:fileField\");\n+  test(\"page:panel8\", \"page:textareaPanel\");\n+  test(\"page:field8\", \"page:textareaField\");\n+  test(\"page:panel9\", \"page:selectBooleanCheckboxPanel\");\n+  test(\"page:field9\", \"page:selectBooleanCheckboxField\");\n+  test(\"page:panel10\", \"page:selectManyCheckboxPanel\");\n+  test(\"page:field10\", \"page:selectManyCheckboxField\");\n+  test(\"page:panel11\", \"page:selectManyListboxPanel\");\n+  test(\"page:field11\", \"page:selectManyListboxField\");\n+  test(\"page:panel12\", \"page:selectOneChoicePanel\");\n+  test(\"page:field12\", \"page:selectOneChoiceField\");\n+  test(\"page:panel13\", \"page:selectOneListboxPanel\");\n+  test(\"page:field13\", \"page:selectOneListboxField\");\n+  test(\"page:panel14\", \"page:selectOneRadioPanel\");\n+  test(\"page:field14\", \"page:selectOneRadioField\");\n+\n+});\n+\n+function fillIdDisplay(i, fieldClass) {\n+  var panelIn = jQuery(Tobago.Utils.escapeClientId(\"page:panel\" + i));\n+  var labelIn = jQuery(Tobago.Utils.escapeClientId(\"page:label\" + i));\n+  var fieldIn = jQuery(Tobago.Utils.escapeClientId(\"page:field\" + i));\n+\n+  var panel = panelIn.prev();\n+  var label = panel.children(\".tobago-label\");\n+  var field = panel.children(fieldClass);\n+\n+  panelIn.val(panel.attr(\"id\"));\n+  labelIn.val(label.attr(\"id\"));\n+  fieldIn.val(field.attr(\"id\"));\n+}\n+\n+function test(testId, expected) {\n+  var element = jQuery(Tobago.Utils.escapeClientId(testId));\n+  if (element.val() != expected) {\n+    element.addClass(\"tobago-in-markup-error\");\n+    element.attr(\"title\", \"expected: '\" + expected + \"'\");\n+  }\n+}"
            },
            {
                "sha": "4a312bf36805d4f8ec9356aaac9bec2bf407f72e",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "status": "modified",
                "additions": 1,
                "deletions": 69,
                "changes": 70,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/in/id-and-fieldId.xhtml?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -128,75 +128,7 @@\n     <tc:cell/>\n     <tc:button label=\"Reload\"/>\n \n-    <tc:script>\n-      jQuery(document).ready(function() {\n-\n-        fillIdDisplay(\"0\", \".tobago-in\");\n-        fillIdDisplay(\"1\", \".tobago-in\");\n-        fillIdDisplay(\"2\", \".tobago-in\");\n-        fillIdDisplay(\"3\", \".tobago-in\");\n-        fillIdDisplay(\"4\", \".tobago-in\");\n-        fillIdDisplay(\"5\", \".tobago-date\");\n-        fillIdDisplay(\"6\", \".tobago-time\");\n-        fillIdDisplay(\"7\", \".tobago-file\");\n-        fillIdDisplay(\"8\", \".tobago-textarea\");\n-        fillIdDisplay(\"9\", \".tobago-selectBooleanCheckbox\");\n-        fillIdDisplay(\"10\", \".tobago-selectManyCheckbox\");\n-        fillIdDisplay(\"11\", \".tobago-selectManyListbox\");\n-        fillIdDisplay(\"12\", \".tobago-selectOneChoice\");\n-        fillIdDisplay(\"13\", \".tobago-selectOneListbox\");\n-        fillIdDisplay(\"14\", \".tobago-selectOneRadio\");\n-\n-        test(\"page:panel2\", \"page:alpha\");\n-        test(\"page:field3\", \"page:beta\");\n-        test(\"page:panel4\", \"page:gamma\");\n-        test(\"page:field4\", \"page:delta\");\n-        test(\"page:panel5\", \"page:datePanel\");\n-        test(\"page:field5\", \"page:dateField\");\n-        test(\"page:panel6\", \"page:timePanel\");\n-        test(\"page:field6\", \"page:timeField\");\n-        test(\"page:panel7\", \"page:filePanel\");\n-        test(\"page:field7\", \"page:fileField\");\n-        test(\"page:panel8\", \"page:textareaPanel\");\n-        test(\"page:field8\", \"page:textareaField\");\n-        test(\"page:panel9\", \"page:selectBooleanCheckboxPanel\");\n-        test(\"page:field9\", \"page:selectBooleanCheckboxField\");\n-        test(\"page:panel10\", \"page:selectManyCheckboxPanel\");\n-        test(\"page:field10\", \"page:selectManyCheckboxField\");\n-        test(\"page:panel11\", \"page:selectManyListboxPanel\");\n-        test(\"page:field11\", \"page:selectManyListboxField\");\n-        test(\"page:panel12\", \"page:selectOneChoicePanel\");\n-        test(\"page:field12\", \"page:selectOneChoiceField\");\n-        test(\"page:panel13\", \"page:selectOneListboxPanel\");\n-        test(\"page:field13\", \"page:selectOneListboxField\");\n-        test(\"page:panel14\", \"page:selectOneRadioPanel\");\n-        test(\"page:field14\", \"page:selectOneRadioField\");\n-\n-      });\n-\n-      function fillIdDisplay(i, fieldClass) {\n-        var panelIn = jQuery(Tobago.Utils.escapeClientId(\"page:panel\" + i));\n-        var labelIn = jQuery(Tobago.Utils.escapeClientId(\"page:label\" + i));\n-        var fieldIn = jQuery(Tobago.Utils.escapeClientId(\"page:field\" + i));\n-\n-        var panel = panelIn.prev();\n-        var label = panel.children(\".tobago-label\");\n-        var field = panel.children(fieldClass);\n-\n-        panelIn.val(panel.attr(\"id\"));\n-        labelIn.val(label.attr(\"id\"));\n-        fieldIn.val(field.attr(\"id\"));\n-      }\n-\n-      function test(testId, expected) {\n-        var element = jQuery(Tobago.Utils.escapeClientId(testId));\n-        if (element.val() != expected) {\n-          element.addClass(\"tobago-in-markup-error\");\n-          element.attr(\"title\", \"expected: '\" + expected + \"'\");\n-        }\n-      }\n-\n-    </tc:script>\n+    <tc:script file=\"test/in/id-and-fieldId.js\"/>\n \n   </tc:page>\n </f:view>"
            },
            {
                "sha": "d333b05532b8e8da282215295c2173b50998f8f6",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/test/selectManyCheckbox/selectManyCheckbox.xhtml?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -37,7 +37,7 @@\n     <tc:label value=\"tx\"/>\n \n     <tc:selectManyCheckbox>\n-      <tc:selectItem itemValue=\"a\" itemLabel=\"A Value\"/>\n+      <tc:selectItem itemValue=\"'/&gt;&lt;script&gt;alert('bad news');&lt;/script&gt;&lt;!--\" itemLabel=\"A Value\"/>\n       <tc:selectItem itemValue=\"b\" itemLabel=\"An Alternative\"/>\n     </tc:selectManyCheckbox>\n     <tx:selectManyCheckbox label=\"normal\">"
            },
            {
                "sha": "5f90be1b6eaea86ebc4be104f850ebc5b691c128",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/MenuCommandRenderer.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -27,6 +27,7 @@\n import org.apache.myfaces.tobago.context.Markup;\n import org.apache.myfaces.tobago.context.ResourceManagerUtils;\n import org.apache.myfaces.tobago.internal.util.AccessKeyMap;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.CommandRendererBase;\n import org.apache.myfaces.tobago.renderkit.LabelWithAccessKey;\n@@ -86,7 +87,7 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n       final UISelectOne radio = (UISelectOne) menu.getFacet(Facets.RADIO);\n       final String hiddenId = radio.getClientId(facesContext);\n       for (final SelectItem item : SelectItemUtils.getItemIterator(facesContext, radio)) {\n-        final boolean checked = item.getValue().equals(radio.getValue());\n+        final boolean checked = ObjectUtils.equals(item.getValue(), radio.getValue());\n         final String image = checked ? \"image/MenuRadioChecked.gif\" : null;\n         final String labelText = item.getLabel();\n         label.reset();"
            },
            {
                "sha": "c6813aa56225f0d19e06573d08d9b78552d0295f",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectManyCheckboxRenderer.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -74,8 +74,9 @@ public void encodeEnd(final FacesContext facesContext, final UIComponent compone\n     }\n     boolean first = true;\n     final Object[] values = select.getSelectedValues();\n+    int i = 0;\n     for (final SelectItem item : SelectItemUtils.getItemIterator(facesContext, select)) {\n-      final String itemId = id + ComponentUtils.SUB_SEPARATOR + item.getValue().toString();\n+      final String itemId = id + ComponentUtils.SUB_SEPARATOR + i++;\n       writer.startElement(HtmlElements.LI, select);\n       writer.startElement(HtmlElements.INPUT, select);\n       writer.writeAttribute(HtmlAttributes.TYPE, HtmlInputTypes.CHECKBOX, false);"
            },
            {
                "sha": "4f58cdbd54dd999739093b6c8ad3c422d97f4d62",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SelectOneRadioRenderer.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -23,6 +23,7 @@\n import org.apache.myfaces.tobago.config.Configurable;\n import org.apache.myfaces.tobago.context.Markup;\n import org.apache.myfaces.tobago.context.ResourceManagerUtils;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.SelectOneRendererBase;\n import org.apache.myfaces.tobago.renderkit.css.Classes;\n@@ -76,12 +77,13 @@ public void encodeEnd(final FacesContext facesContext, final UIComponent compone\n     }\n     boolean first = true;\n     final Object value = select.getValue();\n+    int i = 0;\n     for (final SelectItem item : items) {\n-      final String itemId = id + ComponentUtils.SUB_SEPARATOR + item.getValue().toString();\n+      final String itemId = id + ComponentUtils.SUB_SEPARATOR + i++;\n       writer.startElement(HtmlElements.LI, select);\n       writer.startElement(HtmlElements.INPUT, select);\n       writer.writeAttribute(HtmlAttributes.TYPE, HtmlInputTypes.RADIO, false);\n-      final boolean checked = item.getValue().equals(value);\n+      final boolean checked = ObjectUtils.equals(item.getValue(), value);\n       writer.writeAttribute(HtmlAttributes.CHECKED, checked);\n       writer.writeNameAttribute(id);\n       writer.writeIdAttribute(itemId);"
            },
            {
                "sha": "f521303efb42f29266ee4b4b9145d6c90d41f4b9",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "status": "modified",
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5815d6b543b54da4c51b5473b1deea25d597e984/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ToolBarRendererBase.java?ref=5815d6b543b54da4c51b5473b1deea25d597e984",
                "patch": "@@ -33,6 +33,7 @@\n import org.apache.myfaces.tobago.internal.component.AbstractUICommandBase;\n import org.apache.myfaces.tobago.internal.component.AbstractUIMenu;\n import org.apache.myfaces.tobago.internal.context.ResourceManagerFactory;\n+import org.apache.myfaces.tobago.internal.util.ObjectUtils;\n import org.apache.myfaces.tobago.internal.util.StringUtils;\n import org.apache.myfaces.tobago.layout.Measure;\n import org.apache.myfaces.tobago.renderkit.LabelWithAccessKey;\n@@ -164,7 +165,7 @@ private Measure renderSelectOne(\n \n         final String formattedValue = RenderUtils.getFormattedValue(facesContext, radio, item.getValue());\n         final boolean checked;\n-        if (item.getValue().equals(value) || markFirst) {\n+        if (ObjectUtils.equals(item.getValue(), value) || markFirst) {\n           checked = true;\n           markFirst = false;\n           currentValue = formattedValue;\n@@ -596,7 +597,7 @@ public boolean getRendersChildren() {\n \n   private boolean hasSelectedValue(final Iterable<SelectItem> items, final Object value) {\n     for (final SelectItem item : items) {\n-      if (item.getValue().equals(value)) {\n+      if (ObjectUtils.equals(item.getValue(), value)) {\n         return true;\n       }\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/2feb60208c535cd9b2136f3f2ac501044af7f493",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/53fd1735930764ba9957517221034d79f26008a5",
        "message": "prevent NullPointerException when there is no label set",
        "bug_id": "myfaces-tobago_22",
        "file": [
            {
                "sha": "0e49a0d4adeed7d22cf90b69eace9f893bc1e2a5",
                "filename": "tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeSelectRenderer.java",
                "status": "modified",
                "additions": 10,
                "deletions": 6,
                "changes": 16,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/2feb60208c535cd9b2136f3f2ac501044af7f493/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeSelectRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/2feb60208c535cd9b2136f3f2ac501044af7f493/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeSelectRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeSelectRenderer.java?ref=2feb60208c535cd9b2136f3f2ac501044af7f493",
                "patch": "@@ -17,6 +17,7 @@\n  * limitations under the License.\n  */\n \n+import org.apache.commons.lang.StringUtils;\n import org.apache.myfaces.tobago.component.UITreeSelect;\n import org.apache.myfaces.tobago.renderkit.css.Classes;\n import org.apache.myfaces.tobago.renderkit.html.HtmlAttributes;\n@@ -51,12 +52,15 @@ public void encodeBegin(FacesContext facesContext, UIComponent component) throws\n     writer.endElement(HtmlElements.INPUT);\n \n     // label\n-    writer.startElement(HtmlElements.LABEL, null);\n-    writer.writeClassAttribute(Classes.create(select, \"label\"));\n-    HtmlRendererUtils.renderTip(select, writer);\n-    writer.writeAttribute(HtmlAttributes.FOR, id, false);\n-    writer.writeText(select.getLabel());\n-    writer.endElement(HtmlElements.LABEL);\n+    final String label = select.getLabel();\n+    if (StringUtils.isNotEmpty(label)) {\n+      writer.startElement(HtmlElements.LABEL, null);\n+      writer.writeClassAttribute(Classes.create(select, \"label\"));\n+      HtmlRendererUtils.renderTip(select, writer);\n+      writer.writeAttribute(HtmlAttributes.FOR, id, false);\n+      writer.writeText(label);\n+      writer.endElement(HtmlElements.LABEL);\n+    }\n   }\n \n   @Override"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/b3927c2f46ac52a50e04ed0f577c35f83b828282",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/5e24e02d12a3ef6ca702e808c339ef132d46844b",
        "message": "TOBAOG-606: Make Measure.add robust against NullPointerExceptions",
        "bug_id": "myfaces-tobago_23",
        "file": [
            {
                "sha": "fcfd19887a83c08ba0d381c22a752e233edb1ece",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/layout/PixelMeasure.java",
                "status": "modified",
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/b3927c2f46ac52a50e04ed0f577c35f83b828282/core/src/main/java/org/apache/myfaces/tobago/layout/PixelMeasure.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/b3927c2f46ac52a50e04ed0f577c35f83b828282/core/src/main/java/org/apache/myfaces/tobago/layout/PixelMeasure.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/layout/PixelMeasure.java?ref=b3927c2f46ac52a50e04ed0f577c35f83b828282",
                "patch": "@@ -51,7 +51,11 @@ static Measure pixelValueOf(int value) {\n   }\n   \n   public Measure add(Measure m) {\n-    return pixelValueOf(pixel + m.getPixel());\n+    if (m == null) {\n+      return this;\n+    } else {\n+      return pixelValueOf(pixel + m.getPixel());\n+    }\n   }\n \n   public Measure add(int m) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/952f604bd782903890f63113dd886454afa60d0e",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/1bb00bda8b15299ce5892c3abf91ccd6eba4c9dd",
        "message": "TOBAGO-1671: avoid NPE - fixes Blocker violation reported by Sonar",
        "bug_id": "myfaces-tobago_24",
        "file": [
            {
                "sha": "c49cfeb6241bd4f9f36175c74acd8c53481eb1d0",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "status": "modified",
                "additions": 9,
                "deletions": 6,
                "changes": 15,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/952f604bd782903890f63113dd886454afa60d0e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/952f604bd782903890f63113dd886454afa60d0e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java?ref=952f604bd782903890f63113dd886454afa60d0e",
                "patch": "@@ -97,13 +97,16 @@ public String getScript(ClientBehaviorContext behaviorContext, ClientBehavior be\n       actionId = clientId;\n     } else if (behavior instanceof EventBehavior) { // <tc:event>\n       AbstractUIEvent event = findEvent(uiComponent, eventName);\n-      if (event != null && !event.isRendered()){\n-        return null;\n+      if (event != null) {\n+        if (!event.isRendered()) {\n+          return null;\n+        } else {\n+          transition = event.isTransition();\n+          target = event.getTarget();\n+          actionId = event.getClientId(facesContext);\n+          omit = event.isOmit() || StringUtils.isNotBlank(RenderUtils.generateUrl(facesContext, event));\n+        }\n       }\n-      transition = event.isTransition();\n-      target = event.getTarget();\n-      actionId = event.getClientId(facesContext);\n-      omit = event.isOmit() || StringUtils.isNotBlank(RenderUtils.generateUrl(facesContext, event));\n     } else {\n       LOG.warn(\"Unknown behavior '{}'!\", behavior.getClass().getName());\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/cdc58fabee2345365d64c9ea99427d5dd579eb93",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/839e2dd0a30af8870fcc655c04c4ef7481d34474",
        "message": "TOBAGO-1738: No UIComponents for <tc:script> and <tc:style>.\n* fixing possible NPE",
        "bug_id": "myfaces-tobago_25",
        "file": [
            {
                "sha": "1616934dca354e326537bcf51b17f4b82ef0b1b7",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/CustomClass.java",
                "status": "modified",
                "additions": 10,
                "deletions": 3,
                "changes": 13,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/cdc58fabee2345365d64c9ea99427d5dd579eb93/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/CustomClass.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/cdc58fabee2345365d64c9ea99427d5dd579eb93/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/CustomClass.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/CustomClass.java?ref=cdc58fabee2345365d64c9ea99427d5dd579eb93",
                "patch": "@@ -51,13 +51,20 @@ public CustomClass(final ValueExpression valueExpression) {\n \n   @Override\n   public String getName() {\n-    String string;\n+    final String string;\n     if (name != null) {\n       string = name;\n-    } else {\n+    } else if (valueExpression != null) {\n       final FacesContext facesContext = FacesContext.getCurrentInstance();\n       final ELContext elContext = facesContext.getELContext();\n-      string = valueExpression.getValue(elContext).toString();\n+      final Object valueExpressionValue = valueExpression.getValue(elContext);\n+      if (valueExpressionValue != null) {\n+        string = valueExpressionValue.toString();\n+      } else {\n+        return \"\";\n+      }\n+    } else {\n+      return \"\";\n     }\n \n     final StringTokenizer tokenizer = new StringTokenizer(string, \" \");"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/b62960f7434b8bd8ec4515aea537f5b8c64af82a",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/874e517b12970134d037bec4145bb0c34ceaa59d",
        "message": "NullPointerException when there is no MANIFEST.MF file. (Found the problem while running tests.)",
        "bug_id": "myfaces-tobago_26",
        "file": [
            {
                "sha": "272bc53220608295e0af11135d35cd0357980dc7",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/context/ResourceLocator.java",
                "status": "modified",
                "additions": 16,
                "deletions": 10,
                "changes": 26,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/b62960f7434b8bd8ec4515aea537f5b8c64af82a/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/context/ResourceLocator.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/b62960f7434b8bd8ec4515aea537f5b8c64af82a/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/context/ResourceLocator.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/context/ResourceLocator.java?ref=b62960f7434b8bd8ec4515aea537f5b8c64af82a",
                "patch": "@@ -34,6 +34,7 @@\n import javax.servlet.ServletContext;\n import javax.servlet.ServletException;\n import java.io.File;\n+import java.io.FileNotFoundException;\n import java.io.IOException;\n import java.io.InputStream;\n import java.net.MalformedURLException;\n@@ -156,21 +157,26 @@ private void locateResourcesFromClasspath(ResourceManagerImpl resources)\n               int index = themeUrlStr.indexOf(META_INF_TOBAGO_CONFIG_XML);\n               String metaInf = themeUrlStr.substring(0, index) + \"META-INF/MANIFEST.MF\";\n               Properties properties = new Properties();\n-              InputStream inputStream = new URL(metaInf).openStream();\n+              final URL url = new URL(metaInf);\n+              InputStream inputStream = null;\n+              String version = null;\n               try {\n+                inputStream = url.openStream();\n                 properties.load(inputStream);\n-                String version = properties.getProperty(\"Implementation-Version\");\n-                if (version != null) {\n-                  theme.setVersion(version);\n-                } else {\n-                  theme.setVersioned(false);\n-                  LOG.error(\"No Implementation-Version found in Manifest-File for theme: '\" + theme.getName()\n-                      + \"'. Resetting the theme to unversioned. Please correct the Manifest-File.\");\n-                }\n-\n+                version = properties.getProperty(\"Implementation-Version\");\n+              } catch (FileNotFoundException e) {\n+                // may happen (e. g. in tests)\n+                LOG.error(\"No Manifest-File found.\");\n               } finally {\n                 IOUtils.closeQuietly(inputStream);\n               }\n+              if (version != null) {\n+                theme.setVersion(version);\n+              } else {\n+                theme.setVersioned(false);\n+                LOG.error(\"No Implementation-Version found in Manifest-File for theme: '\" + theme.getName()\n+                    + \"'. Resetting the theme to unversioned. Please correct the Manifest-File.\");\n+              }\n             }\n             addThemeResources(resources, themeUrl, theme);\n           }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/1f9328adc88dec7c986cc8c2578f44f68ffc184d",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/8e2e0487560d7cbf7a24a0b89092be8258ebe165",
        "message": "(TOBAGO-1024) NullPointerException in TreeStructureManager with MyFaces 2.0 (error in post back detection)",
        "bug_id": "myfaces-tobago_27",
        "file": [
            {
                "sha": "135a7efeea9ba64f9e47b756a3c6ae8d70cd5901",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1f9328adc88dec7c986cc8c2578f44f68ffc184d/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1f9328adc88dec7c986cc8c2578f44f68ffc184d/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java?ref=1f9328adc88dec7c986cc8c2578f44f68ffc184d",
                "patch": "@@ -86,7 +86,7 @@ public void writeState(FacesContext facesContext,\n       if (compStates instanceof String) {\n         responseWriter.writeAttribute(HtmlAttributes.VALUE, compStates, null);\n       } else {\n-        LOG.error(\"No component states write in response! Unknown instance of \" + compStates.getClass().getName());\n+        LOG.error(\"No component states written in response! Unknown instance of \" + compStates.getClass().getName());\n       }\n     } else {\n       responseWriter.writeAttribute(HtmlAttributes.VALUE, \"\", null);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/8e2e0487560d7cbf7a24a0b89092be8258ebe165",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/81dbcefc0bbbcf6764c32477b08159006f006dbc",
        "message": "(TOBAGO-1024) NullPointerException in TreeStructureManager with MyFaces 2.0 (error in post back detection)",
        "bug_id": "myfaces-tobago_28",
        "file": [
            {
                "sha": "9dbc460196aa763440a0bfd7c950f92e83691b0b",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/lifecycle/RestoreViewExecutor.java",
                "status": "modified",
                "additions": 7,
                "deletions": 5,
                "changes": 12,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/lifecycle/RestoreViewExecutor.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/lifecycle/RestoreViewExecutor.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/lifecycle/RestoreViewExecutor.java?ref=8e2e0487560d7cbf7a24a0b89092be8258ebe165",
                "patch": "@@ -101,19 +101,20 @@ public boolean execute(FacesContext facesContext) {\n     Application application = facesContext.getApplication();\n     ViewHandler viewHandler = application.getViewHandler();\n \n-    // boolean viewCreated = false;\n-    viewRoot = viewHandler.restoreView(facesContext, viewId);\n+    boolean postBack = isPostBack(facesContext);\n+    if (postBack) {\n+      viewRoot = viewHandler.restoreView(facesContext, viewId);\n+    }\n     if (viewRoot == null) {\n       viewRoot = viewHandler.createView(facesContext, viewId);\n       viewRoot.setViewId(viewId);\n       facesContext.renderResponse();\n-      // viewCreated = true;\n     }\n \n     facesContext.setViewRoot(viewRoot);\n     ComponentUtils.resetPage(facesContext);\n \n-    if (!isPostBack(facesContext)) {\n+    if (!postBack) {\n       // no POST or query parameters --> set render response flag\n       facesContext.renderResponse();\n     }\n@@ -133,7 +134,8 @@ public boolean execute(FacesContext facesContext) {\n \n   private boolean isPostBack(FacesContext facesContext) {\n     Map requestParameterMap = facesContext.getExternalContext().getRequestParameterMap();\n-    return requestParameterMap.containsKey(TobagoResponseStateManager.TREE_PARAM);\n+    return requestParameterMap.containsKey(TobagoResponseStateManager.TREE_PARAM)\n+        || requestParameterMap.containsKey(\"javax.faces.ViewState\");\n   }\n \n   private boolean isSessionSecretValid(FacesContext facesContext) {"
            },
            {
                "sha": "58b92b565b9a89f0cafe4e5194f5321ec85989c1",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "status": "modified",
                "additions": 6,
                "deletions": 2,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java?ref=8e2e0487560d7cbf7a24a0b89092be8258ebe165",
                "patch": "@@ -25,6 +25,7 @@\n import org.apache.myfaces.tobago.internal.webapp.HtmlResponseWriter;\n import org.apache.myfaces.tobago.internal.webapp.JsonResponseWriter;\n import org.apache.myfaces.tobago.internal.webapp.XmlResponseWriter;\n+import org.apache.myfaces.tobago.util.FacesVersion;\n import org.apache.myfaces.tobago.util.VariableResolverUtils;\n import org.apache.myfaces.tobago.webapp.TobagoResponseWriter;\n import org.slf4j.Logger;\n@@ -148,8 +149,11 @@ public void addRenderer(String family, String rendererType, Renderer renderer) {\n \n   @Override\n   public ResponseStateManager getResponseStateManager() {\n-    //return getHtmlBasicRenderKit().getResponseStateManager();\n-    return responseStateManager;\n+    if (FacesVersion.supports12()) {\n+      return getHtmlBasicRenderKit().getResponseStateManager();\n+    } else {\n+      return responseStateManager;\n+    }\n   }\n \n   @Override"
            },
            {
                "sha": "4463e6d7da2c4756715cd77b890dfd5f8d0939f0",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "status": "modified",
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/8e2e0487560d7cbf7a24a0b89092be8258ebe165/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java?ref=8e2e0487560d7cbf7a24a0b89092be8258ebe165",
                "patch": "@@ -85,6 +85,8 @@ public void writeState(FacesContext facesContext,\n     if (compStates != null) {\n       if (compStates instanceof String) {\n         responseWriter.writeAttribute(HtmlAttributes.VALUE, compStates, null);\n+      } else {\n+        LOG.error(\"No component states write in response! Unknown instance of \" + compStates.getClass().getName());\n       }\n     } else {\n       responseWriter.writeAttribute(HtmlAttributes.VALUE, \"\", null);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/1373d984cd39f913bba7ab1fb11f4b3056e195a2",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/111028c7a057686fabb08c6177b438bb4363c1de",
        "message": "TOBAGO-1016: NullPointerException when there is no /WEB-INF/tobago-config.xml",
        "bug_id": "myfaces-tobago_29",
        "file": [
            {
                "sha": "fced18ef608fb7557cd32739945bbe6b68230118",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigBuilder.java",
                "status": "modified",
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1373d984cd39f913bba7ab1fb11f4b3056e195a2/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigBuilder.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1373d984cd39f913bba7ab1fb11f4b3056e195a2/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigBuilder.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/config/TobagoConfigBuilder.java?ref=1373d984cd39f913bba7ab1fb11f4b3056e195a2",
                "patch": "@@ -75,9 +75,10 @@ public static void init(ServletContext servletContext) {\n \n   private void configFromWebInf(ServletContext servletContext) throws IOException, SAXException {\n \n-    final String configPath = \"/WEB-INF/tobago-config.xml\";\n-    final URL url = servletContext.getResource(configPath);\n-    list.add(new TobagoConfigParser().parse(url));\n+    final URL url = servletContext.getResource(\"/WEB-INF/tobago-config.xml\");\n+    if (url != null) {\n+      list.add(new TobagoConfigParser().parse(url));\n+    }\n   }\n \n   private TobagoConfigImpl mergeList() {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/3256289cab81bf6040a7a9ac2cca182855885f1f",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/122bee3f659d0428f2420bdffb79790ea3d7f17a",
        "message": "TOBAGO-1005: NullPointerException in AbstractUITabGroup by switch tab having FacesMessage with no id",
        "bug_id": "myfaces-tobago_30",
        "file": [
            {
                "sha": "c1c34a35aacbd5441a34a10287f14f7ccdf5f9bf",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "status": "modified",
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/3256289cab81bf6040a7a9ac2cca182855885f1f/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/3256289cab81bf6040a7a9ac2cca182855885f1f/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java?ref=3256289cab81bf6040a7a9ac2cca182855885f1f",
                "patch": "@@ -925,14 +925,14 @@ public static boolean hasChildrenWithMessages(FacesContext facesContext, NamingC\n     return false;\n   }\n \n-  public static FacesMessage.Severity getMaximumSeverityOfChildrenMessages(FacesContext facesContext,\n-      NamingContainer container) {\n+  public static FacesMessage.Severity getMaximumSeverityOfChildrenMessages(\n+      FacesContext facesContext, NamingContainer container) {\n     if (container instanceof UIComponent) {\n       String clientId = ((UIComponent) container).getClientId(facesContext);\n       FacesMessage.Severity max = null;\n       for (Iterator ids = facesContext.getClientIdsWithMessages(); ids.hasNext();) {\n         String id = (String) ids.next();\n-        if (id.startsWith(clientId)) {\n+        if (id != null && id.startsWith(clientId)) {\n           final Iterator messages = facesContext.getMessages(id);\n           while (messages.hasNext()) {\n             FacesMessage message = (FacesMessage) messages.next();"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/c76c0be9d0c384ac8b66e687a5e8ac4db5eb65ab",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/ffea2255d83ff8d2b847989a899cafdd86c1b128",
        "message": "TOBAGO-1625: <tc:style> support for <tc:row> and <tc:column>\n* NPE fix",
        "bug_id": "myfaces-tobago_31",
        "file": [
            {
                "sha": "d7712bc7b86b00d8f0d62a3d26347514cf5f13e7",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SheetRenderer.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c76c0be9d0c384ac8b66e687a5e8ac4db5eb65ab/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c76c0be9d0c384ac8b66e687a5e8ac4db5eb65ab/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/SheetRenderer.java?ref=c76c0be9d0c384ac8b66e687a5e8ac4db5eb65ab",
                "patch": "@@ -763,8 +763,10 @@ private void encodeHeaderRows(\n     for (int i = 0; i < grid.getRowCount(); i++) {\n       writer.startElement(HtmlElements.TR);\n       final AbstractUIRow row = ComponentUtils.findChild(sheet, AbstractUIRow.class);\n-      writer.writeClassAttribute(row.getCustomClass());\n-      writer.writeStyleAttribute(row.getStyle());\n+      if (row != null) {\n+        writer.writeClassAttribute(row.getCustomClass());\n+        writer.writeStyleAttribute(row.getStyle());\n+      }\n       for (int j = 0; j < columns.size(); j++) {\n         final AbstractUIColumnBase column = columns.get(j);\n         if (!column.isRendered() || column instanceof AbstractUIRow) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/a5ce0a1f38e5980232b626c9da19303054706d30",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/a230e2ce3be0bfd2d35212d4e3aa7523527c7888",
        "message": "Using StringUtils.contains instead of String.indexOf > -1 to prevent NullPointerException",
        "bug_id": "myfaces-tobago_32",
        "file": [
            {
                "sha": "7608f64d795a76eebe72655da339303391abc6c3",
                "filename": "sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeNodeRenderer.java",
                "status": "modified",
                "additions": 5,
                "deletions": 4,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/a5ce0a1f38e5980232b626c9da19303054706d30/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeNodeRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/a5ce0a1f38e5980232b626c9da19303054706d30/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeNodeRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeNodeRenderer.java?ref=a5ce0a1f38e5980232b626c9da19303054706d30",
                "patch": "@@ -23,6 +23,7 @@\n  */\n \n import org.apache.commons.lang.StringEscapeUtils;\n+import org.apache.commons.lang.StringUtils;\n import org.apache.commons.logging.Log;\n import org.apache.commons.logging.LogFactory;\n import static org.apache.myfaces.tobago.TobagoConstants.ATTR_ACTION_LINK;\n@@ -74,15 +75,15 @@ public void decode(FacesContext facesContext, UIComponent component) {\n     // expand state\n     String expandState = (String) requestParameterMap.get(treeId);\n     String searchString = \";\" + nodeStateId + \";\";\n-    if (expandState.indexOf(searchString) > -1) {\n+    if (StringUtils.contains(expandState, searchString)) {\n       state.addExpandState((DefaultMutableTreeNode) node.getValue());\n     }\n \n \n     if (TreeRenderer.isSelectable(tree)) { // selection\n       String selected = (String) requestParameterMap.get(treeId + UITree.SELECT_STATE);\n       searchString = \";\" + nodeStateId + \";\";\n-      if (selected.indexOf(searchString) > -1) {\n+      if (StringUtils.contains(selected, searchString)) {\n         state.addSelection((DefaultMutableTreeNode) node.getValue());\n       }\n     }\n@@ -169,9 +170,9 @@ public void encodeBegin(FacesContext facesContext, UIComponent component)\n       // tip\n       String tip = (String) treeNode.getAttributes().get(ATTR_TIP);\n       if (tip != null) {\n-        tip = StringEscapeUtils.escapeJavaScript(tip.toString());\n+        tip = StringEscapeUtils.escapeJavaScript(tip);\n         writer.writeText(\"'\", null);\n-        writer.writeText((String) tip, null);\n+        writer.writeText(tip, null);\n         writer.writeText(\"','\", null);\n       } else {\n         writer.writeText(\"null,'\", null);"
            },
            {
                "sha": "9f39771cb95fe5fc39412cc3632e5753a6a4dc1d",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeOldNodeRenderer.java",
                "status": "modified",
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/a5ce0a1f38e5980232b626c9da19303054706d30/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeOldNodeRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/a5ce0a1f38e5980232b626c9da19303054706d30/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeOldNodeRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TreeOldNodeRenderer.java?ref=a5ce0a1f38e5980232b626c9da19303054706d30",
                "patch": "@@ -28,6 +28,7 @@\n import org.apache.commons.logging.Log;\n import org.apache.commons.logging.LogFactory;\n import org.apache.commons.lang.StringEscapeUtils;\n+import org.apache.commons.lang.StringUtils;\n \n import javax.faces.context.FacesContext;\n import javax.faces.context.ResponseWriter;\n@@ -62,15 +63,15 @@ public void decode(FacesContext facesContext, UIComponent component) {\n     // expand state\n     String expandState = (String) requestParameterMap.get(treeId);\n     String searchString = \";\" + nodeId + \";\";\n-    if (expandState.indexOf(searchString) > -1) {\n+    if (StringUtils.contains(expandState, searchString)) {\n       state.addExpandState((DefaultMutableTreeNode) node.getValue());\n     }\n \n \n     if (TreeOldRenderer.isSelectable(tree)) { // selection\n       String selected = (String) requestParameterMap.get(treeId + UITreeOld.SELECT_STATE);\n       searchString = \";\" + nodeId + \";\";\n-      if (selected.indexOf(searchString) > -1) {\n+      if (StringUtils.contains(selected, searchString)) {\n         state.addSelection((DefaultMutableTreeNode) node.getValue());\n       }\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/264157c36ccea4963f1e868b5f3964a2ced0c3eb",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/08e383f33d4343e2b9eb1608bbe61cc68ab25483",
        "message": "(TOBAGO-1024) NullPointerException in TreeStructureManager with MyFaces 2.0 (error in post back detection) \nonly for myfaces",
        "bug_id": "myfaces-tobago_33",
        "file": [
            {
                "sha": "7c773228413a0eb3c35c085d6de9cbc7a1e04ff5",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java?ref=264157c36ccea4963f1e868b5f3964a2ced0c3eb",
                "patch": "@@ -149,7 +149,7 @@ public void addRenderer(String family, String rendererType, Renderer renderer) {\n \n   @Override\n   public ResponseStateManager getResponseStateManager() {\n-    if (FacesVersion.supports12()) {\n+    if (FacesVersion.supports12() && FacesVersion.isMyfaces()) {\n       return getHtmlBasicRenderKit().getResponseStateManager();\n     } else {\n       return responseStateManager;"
            },
            {
                "sha": "70b9108b59cbd97d92945abb8237f216e5af02d2",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "status": "modified",
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoResponseStateManager.java?ref=264157c36ccea4963f1e868b5f3964a2ced0c3eb",
                "patch": "@@ -40,6 +40,15 @@\n   private static final String STATE_PARAM = \"javax.faces.ViewState\";\n   private static final String VIEWID_PARAM = \"jsf_viewid\";\n \n+  public Object getState(FacesContext context, String viewId) {\n+    Object treeStructure = getTreeStructureToRestore(context, viewId);\n+    Object componentStateToRestore = getComponentStateToRestore(context);\n+    if (treeStructure != null && componentStateToRestore != null) {\n+        return new Object[] {treeStructure, componentStateToRestore};\n+    }\n+    return null;\n+  }\n+\n   public Object getTreeStructureToRestore(FacesContext facescontext, String viewId) {\n     Map requestMap = facescontext.getExternalContext().getRequestParameterMap();\n     Object requestViewId = requestMap.get(VIEWID_PARAM);"
            },
            {
                "sha": "a0f3c5ca4b94c6b073afd3227c1c58c94d200ece",
                "filename": "tobago-jsf-compat/src/main/java/org/apache/myfaces/tobago/util/FacesVersion.java",
                "status": "modified",
                "additions": 33,
                "deletions": 0,
                "changes": 33,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-jsf-compat/src/main/java/org/apache/myfaces/tobago/util/FacesVersion.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/264157c36ccea4963f1e868b5f3964a2ced0c3eb/tobago-jsf-compat/src/main/java/org/apache/myfaces/tobago/util/FacesVersion.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-jsf-compat/src/main/java/org/apache/myfaces/tobago/util/FacesVersion.java?ref=264157c36ccea4963f1e868b5f3964a2ced0c3eb",
                "patch": "@@ -26,6 +26,8 @@\n   VERSION_20;\n \n   private static FacesVersion currentVersion;\n+  private static boolean mojarra;\n+  private static boolean myfaces;\n \n   static {\n     try {\n@@ -44,6 +46,29 @@\n     } catch (NoSuchMethodException e) {\n       currentVersion = VERSION_11;\n     }\n+    mojarra = isAvailable(\"com.sun.faces.application.ApplicationImpl\");\n+    myfaces = isAvailable(\"org.apache.myfaces.application.ApplicationImpl\");\n+\n+  }\n+\n+  private static boolean isAvailable(String className) {\n+    try {\n+      try {\n+        Class.forName(className, false, Thread.currentThread().getContextClassLoader());\n+        return true;\n+      } catch (ClassNotFoundException e) {\n+        // ignore\n+        try {\n+          Class.forName(className, false, FacesVersion.class.getClassLoader());\n+          return true;\n+        } catch (ClassNotFoundException e1) {\n+          // ignore\n+        }\n+      }\n+    } catch (Exception e) {\n+      // ignore\n+    }\n+    return false;\n   }\n \n   /**\n@@ -61,4 +86,12 @@ public static boolean supports12() {\n   public static boolean supports20() {\n     return currentVersion == VERSION_20;\n   }\n+\n+  public static boolean isMojarra() {\n+    return mojarra;\n+  }\n+\n+  public static boolean isMyfaces() {\n+    return myfaces;\n+  }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/1d14be2460522d395088c967b4ed6cc22f16eed1",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/8744598eefb71bcdc5a75560b1e5a422aa3780d2",
        "message": "TOBAGO-1505: NPE while rendering Session Secret",
        "bug_id": "myfaces-tobago_34",
        "file": [
            {
                "sha": "3bb397a49b0220d8977a73d687f7cb6accc9cd01",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "status": "modified",
                "additions": 9,
                "deletions": 9,
                "changes": 18,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/1d14be2460522d395088c967b4ed6cc22f16eed1/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/1d14be2460522d395088c967b4ed6cc22f16eed1/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java?ref=1d14be2460522d395088c967b4ed6cc22f16eed1",
                "patch": "@@ -82,6 +82,11 @@ public static boolean check(final FacesContext facesContext) {\n     final Map requestParameterMap = facesContext.getExternalContext().getRequestParameterMap();\n     final String fromRequest = (String) requestParameterMap.get(Secret.KEY);\n     final Object session = facesContext.getExternalContext().getSession(false);\n+    Secret secret = getSecret(session);\n+    return secret != null && secret.secret.equals(fromRequest);\n+  }\n+\n+  private static Secret getSecret(Object session) {\n     Secret secret = null;\n     if (session!=null) {\n       if (session instanceof HttpSession) {\n@@ -92,7 +97,7 @@ public static boolean check(final FacesContext facesContext) {\n         throw new IllegalArgumentException(\"Unknown session type: \" + session);\n       }\n     }\n-    return secret != null && secret.secret.equals(fromRequest);\n+    return secret;\n   }\n \n   /**\n@@ -104,15 +109,10 @@ public static void encode(final FacesContext facesContext, final TobagoResponseW\n     writer.writeAttribute(HtmlAttributes.NAME, Secret.KEY, false);\n     writer.writeAttribute(HtmlAttributes.ID, Secret.KEY, false);\n     final Object session = facesContext.getExternalContext().getSession(true);\n-    final Secret secret;\n-    if (session instanceof HttpSession) {\n-      secret = (Secret) ((HttpSession) session).getAttribute(Secret.KEY);\n-    } else if (PortletUtils.isPortletApiAvailable() && session instanceof PortletSession) {\n-      secret = (Secret) ((PortletSession) session).getAttribute(Secret.KEY, PortletSession.APPLICATION_SCOPE);\n-    } else {\n-      throw new IllegalArgumentException(\"Unknown session type: \" + session);\n+    final Secret secret = getSecret(session);\n+    if (secret != null) {\n+      writer.writeAttribute(HtmlAttributes.VALUE, secret.secret, false);\n     }\n-    writer.writeAttribute(HtmlAttributes.VALUE, secret.secret, false);\n     writer.endElement(HtmlElements.INPUT);\n   }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/ab2042085651408fa9bb19dc1211c3391f71b561",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/6f8c8dc557b8e63d583c0caa38708e650fee6d79",
        "message": "prevent NPE",
        "bug_id": "myfaces-tobago_35",
        "file": [
            {
                "sha": "ad07658097660e04e41bda2551ffb6ec5406f783",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/ajax/AjaxNavigationState.java",
                "status": "modified",
                "additions": 15,
                "deletions": 3,
                "changes": 18,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ab2042085651408fa9bb19dc1211c3391f71b561/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/ajax/AjaxNavigationState.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ab2042085651408fa9bb19dc1211c3391f71b561/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/ajax/AjaxNavigationState.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/ajax/AjaxNavigationState.java?ref=ab2042085651408fa9bb19dc1211c3391f71b561",
                "patch": "@@ -116,15 +116,27 @@ private void restoreView(FacesContext facesContext) {\n   }\n \n   public static void storeIncomingView(FacesContext facesContext) {\n-    UIViewRoot viewRoot = facesContext.getViewRoot();\n-    LOG.trace(\"incoming viewId = \\\"{}\\\"\", viewRoot.getViewId());\n+    final UIViewRoot viewRoot = facesContext.getViewRoot();\n+    if (LOG.isTraceEnabled()) {\n+      if (viewRoot != null) {\n+        LOG.trace(\"incoming viewId = '{}'\", viewRoot.getViewId());\n+      } else {\n+        LOG.trace(\"incoming viewRoot is null\");\n+      }\n+    }\n     facesContext.getExternalContext().getRequestMap().put(AjaxNavigationState.VIEW_ROOT_KEY, viewRoot);\n   }\n \n   public static boolean isNavigation(FacesContext facesContext) {\n \n     final UIViewRoot viewRoot = facesContext.getViewRoot();\n-    LOG.trace(\"current viewId = \\\"{}\\\"\", viewRoot.getViewId());\n+    if (LOG.isTraceEnabled()) {\n+      if (viewRoot != null) {\n+        LOG.trace(\"current viewId = '{}'\", viewRoot.getViewId());\n+      } else {\n+        LOG.trace(\"current viewRoot is null\");\n+      }\n+    }\n \n     ExternalContext externalContext = facesContext.getExternalContext();\n     Map<String, Object> requestMap = externalContext.getRequestMap();"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/80284deb0291d28a6e03f923862ef96e6b2a75f6",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/cd0ea4ada842233127620a50de9b952081cfb1c1",
        "message": "Merged from trunk\nif the session lives longer than the application scope (e.g. restart of the application with session persistence) here happens an NullPointerException [from revision 1611571]",
        "bug_id": "myfaces-tobago_36",
        "file": [
            {
                "sha": "db81edc455dd2a7ded4007476fa341a58c00fce9",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "status": "modified",
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/80284deb0291d28a6e03f923862ef96e6b2a75f6/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/80284deb0291d28a6e03f923862ef96e6b2a75f6/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java?ref=80284deb0291d28a6e03f923862ef96e6b2a75f6",
                "patch": "@@ -59,10 +59,20 @@ public void remove(final String sessionId) {\n   }\n \n   public void executeJsfRequest(final String sessionId) {\n-    data.get(sessionId).executeJsfRequest();\n+    final Activity activity = data.get(sessionId);\n+    if (activity != null) {\n+      activity.executeJsfRequest();\n+    } else {\n+      LOG.error(\"Ignoring sessionId='{}'\", sessionId);\n+    }\n   }\n \n   public void executeAjaxRequest(final String sessionId) {\n-    data.get(sessionId).executeAjaxRequest();\n+    final Activity activity = data.get(sessionId);\n+    if (activity != null) {\n+      activity.executeAjaxRequest();\n+    } else {\n+      LOG.error(\"Ignoring sessionId='{}'\", sessionId);\n+    }\n   }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/005a625365f86ed2bc20e5862e2a3d8fb6ad7ca7",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/724861bb0f64c8c9680daeb2f9050cd1f429e3bf",
        "message": "if the session lives longer than the application scope (e.g. restart of the application with session persistence) here happens an NullPointerException",
        "bug_id": "myfaces-tobago_37",
        "file": [
            {
                "sha": "db81edc455dd2a7ded4007476fa341a58c00fce9",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "status": "modified",
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/005a625365f86ed2bc20e5862e2a3d8fb6ad7ca7/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/005a625365f86ed2bc20e5862e2a3d8fb6ad7ca7/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/info/ActivityList.java?ref=005a625365f86ed2bc20e5862e2a3d8fb6ad7ca7",
                "patch": "@@ -59,10 +59,20 @@ public void remove(final String sessionId) {\n   }\n \n   public void executeJsfRequest(final String sessionId) {\n-    data.get(sessionId).executeJsfRequest();\n+    final Activity activity = data.get(sessionId);\n+    if (activity != null) {\n+      activity.executeJsfRequest();\n+    } else {\n+      LOG.error(\"Ignoring sessionId='{}'\", sessionId);\n+    }\n   }\n \n   public void executeAjaxRequest(final String sessionId) {\n-    data.get(sessionId).executeAjaxRequest();\n+    final Activity activity = data.get(sessionId);\n+    if (activity != null) {\n+      activity.executeAjaxRequest();\n+    } else {\n+      LOG.error(\"Ignoring sessionId='{}'\", sessionId);\n+    }\n   }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/419fd8a500b8fe6155c7c0938ea86b41e0382c68",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/b274b5ee57b29770c1ec70b09c66401d7b6016c7",
        "message": "TOBAGO-1459 - Possilble NPE in SplitLayoutRenderer",
        "bug_id": "myfaces-tobago_38",
        "file": [
            {
                "sha": "b04fd1b338a7ff8a357504293b7f0d40e03d6b02",
                "filename": "tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "status": "modified",
                "additions": 9,
                "deletions": 4,
                "changes": 13,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/419fd8a500b8fe6155c7c0938ea86b41e0382c68/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/419fd8a500b8fe6155c7c0938ea86b41e0382c68/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java?ref=419fd8a500b8fe6155c7c0938ea86b41e0382c68",
                "patch": "@@ -115,15 +115,20 @@ private String createDraggableContainment(final AbstractUISplitLayout layout) {\n     final LayoutComponent firstComponent = container.getComponents().get(0);\n     final LayoutComponent secondComponent = container.getComponents().get(1);\n \n+    Measure minimum;\n     if (AbstractUISplitLayout.HORIZONTAL.equals(layout.getOrientation())) {\n-      final int minimumSize1 = firstComponent.getMinimumWidth().getPixel();\n-      final int minimumSize2 = secondComponent.getMinimumWidth().getPixel();\n+      minimum = firstComponent.getMinimumWidth();\n+      final int minimumSize1 = minimum != null ? minimum.getPixel() : 0;\n+      minimum = secondComponent.getMinimumWidth();\n+      final int minimumSize2 = minimum != null ? minimum.getPixel() : 0;\n       final int totalSize = container.getCurrentWidth().getPixel();\n       return new StringBuilder(\"[\").append(minimumSize1).append(\", 0, \").append(totalSize-minimumSize2).append(\", 0]\")\n           .toString();\n     } else {\n-      final int minimumSize1 = firstComponent.getMinimumHeight().getPixel();\n-      final int minimumSize2 = secondComponent.getMinimumHeight().getPixel();\n+      minimum = firstComponent.getMinimumHeight();\n+      final int minimumSize1 = minimum != null ? minimum.getPixel() : 0;\n+      minimum = secondComponent.getMinimumHeight();\n+      final int minimumSize2 = minimum != null ? minimum.getPixel() : 0;\n       final int totalSize = container.getCurrentHeight().getPixel();\n       return new StringBuilder(\"[0, \").append(minimumSize1).append(\", 0, \").append(totalSize-minimumSize2).append(\"]\")\n           .toString();"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/adb5f77bd1e8efcb9bd9f6bde99a0719e3a2de26",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/7ea6110a7dfb6ab057a06637a4099563eb07232e",
        "message": "check for NPE",
        "bug_id": "myfaces-tobago_39",
        "file": [
            {
                "sha": "154ef0f5b499b5d1c08b001d0d3f4d9497c519d5",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "status": "modified",
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/adb5f77bd1e8efcb9bd9f6bde99a0719e3a2de26/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/adb5f77bd1e8efcb9bd9f6bde99a0719e3a2de26/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java?ref=adb5f77bd1e8efcb9bd9f6bde99a0719e3a2de26",
                "patch": "@@ -51,9 +51,11 @@ private StringUtils() {\n \n   public static <T> String joinWithSurroundingSeparator(final List<T> list) {\n     final StringBuilder buffer = new StringBuilder(\",\");\n-    for (final T t : list) {\n-      buffer.append(t);\n-      buffer.append(\",\");\n+    if (list != null) {\n+      for (final T t : list) {\n+        buffer.append(t);\n+        buffer.append(\",\");\n+      }\n     }\n     return buffer.toString();\n   }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/7ea6110a7dfb6ab057a06637a4099563eb07232e",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/ea35b74019957f25b26bb5111cb1389d36e54b22",
        "message": "quick fix, prevent NPE",
        "bug_id": "myfaces-tobago_40",
        "file": [
            {
                "sha": "8ddf5480749c1507ceec34f445c23e46b53192d5",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/7ea6110a7dfb6ab057a06637a4099563eb07232e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/7ea6110a7dfb6ab057a06637a4099563eb07232e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java?ref=7ea6110a7dfb6ab057a06637a4099563eb07232e",
                "patch": "@@ -382,6 +382,10 @@ private Measure getFooterHeight(final FacesContext facesContext, final AbstractU\n   private void layoutHeader() {\n     final AbstractUISheet sheet = (AbstractUISheet) getLayoutContainer();\n     final UIComponent header = sheet.getHeader();\n+    if (header == null) {\n+      LOG.warn(\"This should not happen. Please file a bug in the issue tracker to reproduce this case.\");\n+      return;\n+    }\n     final LayoutTokens columns = new LayoutTokens();\n     final List<AbstractUIColumn> renderedColumns = sheet.getRenderedColumns();\n     for (final AbstractUIColumn ignored : renderedColumns) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/4b070ddf30e08b03f8cc32ce54f9e5af51e2216c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4159d5af364c99027ff7470b698927dfb1b81e30",
        "message": "TOBAGO-1488: Toolbar for tc:box in Bootstrap\n- fix NPE",
        "bug_id": "myfaces-tobago_41",
        "file": [
            {
                "sha": "69301d7a79c6b25d8d1e2dd4fd6fb2c326d7896d",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/BoxRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4b070ddf30e08b03f8cc32ce54f9e5af51e2216c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/BoxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4b070ddf30e08b03f8cc32ce54f9e5af51e2216c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/BoxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/BoxRenderer.java?ref=4b070ddf30e08b03f8cc32ce54f9e5af51e2216c",
                "patch": "@@ -75,7 +75,7 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n             writer.writeClassAttribute(BootstrapClass.PANEL_TITLE);\n             if (label != null) {\n                 RenderUtils.encode(facesContext, label);\n-            } else {\n+            } else if (labelString != null) {\n                 writer.writeText(labelString);\n             }\n             writer.endElement(HtmlElements.H3);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/69b96995acb445a74013b03ef8980d5658e081cc",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/c134bc0fc50ea66766005a3e8d05b4a557d128ce",
        "message": "prevent NPE",
        "bug_id": "myfaces-tobago_42",
        "file": [
            {
                "sha": "3e03f5f194d364ebe785a103bb9658c5da7ee6ef",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/util/HtmlRendererUtils.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/69b96995acb445a74013b03ef8980d5658e081cc/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/util/HtmlRendererUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/69b96995acb445a74013b03ef8980d5658e081cc/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/util/HtmlRendererUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/util/HtmlRendererUtils.java?ref=69b96995acb445a74013b03ef8980d5658e081cc",
                "patch": "@@ -390,11 +390,11 @@ public static void renderSelectItems(UIInput component, List<SelectItem> items,\n         Markup markup = item instanceof SupportsMarkup ? ((SupportsMarkup) item).getMarkup() : Markup.NULL;\n         if (RenderUtils.contains(values, itemValue)) {\n           writer.writeAttribute(HtmlAttributes.SELECTED, true);\n-          markup = markup.add(Markup.SELECTED);\n+          markup = Markup.SELECTED.add(markup);\n         }\n         if (item.isDisabled()) {\n           writer.writeAttribute(HtmlAttributes.DISABLED, true);\n-          markup = markup.add(Markup.DISABLED);\n+          markup = Markup.DISABLED.add(markup);\n         }\n         writer.writeClassAttribute(Classes.create(component, \"option\", markup));\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/72224c77c108107f4092528603d9bd4e048d9093",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/9d1c6b562fa351db6ea0ebaa26749eaa626cad16",
        "message": "prevent NPE",
        "bug_id": "myfaces-tobago_43",
        "file": [
            {
                "sha": "d0dc3c891d7a9a9018b9fb1515af75cf4175508b",
                "filename": "example/demo/src/main/java/org/apache/myfaces/tobago/example/demo/Navigation.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/72224c77c108107f4092528603d9bd4e048d9093/example/demo/src/main/java/org/apache/myfaces/tobago/example/demo/Navigation.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/72224c77c108107f4092528603d9bd4e048d9093/example/demo/src/main/java/org/apache/myfaces/tobago/example/demo/Navigation.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/example/demo/src/main/java/org/apache/myfaces/tobago/example/demo/Navigation.java?ref=72224c77c108107f4092528603d9bd4e048d9093",
                "patch": "@@ -159,11 +159,11 @@ public String gotoNext() {\n   }\n \n   public boolean isFirst() {\n-    return state.getMarker().getPreviousNode().isRoot();\n+    return state.getMarker() != null && state.getMarker().getPreviousNode().isRoot();\n   }\n \n   public boolean isLast() {\n-    return state.getMarker().getNextNode() == null;\n+    return state.getMarker() != null && state.getMarker().getNextNode() == null;\n   }\n \n   public String viewSource() {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/bbba9b7520b633485a1a7c63e748d1ccad800efa",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/70bdf835e624863e1417fd8ca743453ff25ef91c",
        "message": "avoid NPE",
        "bug_id": "myfaces-tobago_44",
        "file": [
            {
                "sha": "a337ee222877abec9372d5d43946107f0009b52a",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/FormRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/bbba9b7520b633485a1a7c63e748d1ccad800efa/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/FormRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/bbba9b7520b633485a1a7c63e748d1ccad800efa/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/FormRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/FormRenderer.java?ref=bbba9b7520b633485a1a7c63e748d1ccad800efa",
                "patch": "@@ -37,7 +37,7 @@ public void decode(FacesContext facesContext, UIComponent component) {\n     UIPage page = ComponentUtil.findPage(form);\n     String actionId = page.getActionId();\n     String clientId = form.getClientId(facesContext);\n-    if (actionId.startsWith(clientId)) {\n+    if (actionId != null && actionId.startsWith(clientId)) {\n       form.setSubmitted(true);\n     }\n     super.decode(facesContext, form);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/3934c3ad30814b7b5c7c48b47444417951a76ec5",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/a6c690955153d7038b269139efe49029be640be9",
        "message": "avoid NPE",
        "bug_id": "myfaces-tobago_45",
        "file": [
            {
                "sha": "efca20cbc33da57a073b84a4e7b73748a63ee877",
                "filename": "theme/speyside/src/main/java/org/apache/myfaces/tobago/renderkit/html/speyside/standard/tag/BoxRenderer.java",
                "status": "modified",
                "additions": 7,
                "deletions": 4,
                "changes": 11,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/3934c3ad30814b7b5c7c48b47444417951a76ec5/theme/speyside/src/main/java/org/apache/myfaces/tobago/renderkit/html/speyside/standard/tag/BoxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/3934c3ad30814b7b5c7c48b47444417951a76ec5/theme/speyside/src/main/java/org/apache/myfaces/tobago/renderkit/html/speyside/standard/tag/BoxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/speyside/src/main/java/org/apache/myfaces/tobago/renderkit/html/speyside/standard/tag/BoxRenderer.java?ref=3934c3ad30814b7b5c7c48b47444417951a76ec5",
                "patch": "@@ -66,11 +66,14 @@ public void encodeBeginTobago(FacesContext facesContext, UIComponent component)\n     String style = (String) component.getAttributes().get(ATTR_STYLE);\n \n     if (style != null) {\n-      // XXX ???\n-      String heightString = HtmlRendererUtil.getStyleAttributeValue(style, \"height\").replaceAll(\"\\\\D\", \"\");\n \n-      int height = Integer.parseInt(heightString) - 1;\n-      style = HtmlRendererUtil.replaceStyleAttribute(style, \"height\", height + \"px\");\n+      // XXX ???\n+      String str = HtmlRendererUtil.getStyleAttributeValue(style, \"height\");\n+      if (str != null) {\n+        String heightString = str.replaceAll(\"\\\\D\", \"\");\n+        int height = Integer.parseInt(heightString) - 1;\n+        style = HtmlRendererUtil.replaceStyleAttribute(style, \"height\", height + \"px\");\n+      }\n     }\n \n     String clientId = component.getClientId(facesContext);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/042d0daf978ac5818e778dcccedf634c14569ef3",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/3e7a604bd4a102617aefcf597e3d4ce523f80aad",
        "message": "avoid NPE",
        "bug_id": "myfaces-tobago_46",
        "file": [
            {
                "sha": "312978929f8e795fc9dce6c0de4cf7c9f8187d13",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/DatePickerRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/042d0daf978ac5818e778dcccedf634c14569ef3/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/DatePickerRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/042d0daf978ac5818e778dcccedf634c14569ef3/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/DatePickerRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/DatePickerRenderer.java?ref=042d0daf978ac5818e778dcccedf634c14569ef3",
                "patch": "@@ -102,7 +102,7 @@ public void encodeBeginTobago(FacesContext facesContext,\n   private void applyConverterPattern(UIPopup popup, String converterPattern) {\n     UIComponent box = (UIComponent) popup.getChildren().get(0);\n     UIComponent timePanel = box.findComponent(\"timePanel\");\n-    if (converterPattern.indexOf('h') > -1 || converterPattern.indexOf('H') > -1) {\n+    if (converterPattern != null && (converterPattern.indexOf('h') > -1 || converterPattern.indexOf('H') > -1)) {\n       if (converterPattern.indexOf('s') > -1) {\n         UIComponent time = timePanel.findComponent(\"time\");\n         time.getAttributes().put(ATTR_POPUP_CALENDAR_FORCE_TIME, true);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/17343374caad12c29bbf5fc2b800f93de0397b24",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/b4bd58bf4a434ae80b582acc2a0a36c2937118c7",
        "message": "fix NPE",
        "bug_id": "myfaces-tobago_47",
        "file": [
            {
                "sha": "4ac9b4d54e47094ed97d1c86b1199d2c3e1da047",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/taglib/component/TabChangeListenerTag.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/17343374caad12c29bbf5fc2b800f93de0397b24/core/src/main/java/org/apache/myfaces/tobago/taglib/component/TabChangeListenerTag.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/17343374caad12c29bbf5fc2b800f93de0397b24/core/src/main/java/org/apache/myfaces/tobago/taglib/component/TabChangeListenerTag.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/taglib/component/TabChangeListenerTag.java?ref=17343374caad12c29bbf5fc2b800f93de0397b24",
                "patch": "@@ -99,7 +99,7 @@ public int doStartTag() throws JspException {\n \n     TabChangeListener handler = null;\n \n-    if (UIComponentTag.isValueReference(binding)) {\n+    if (binding != null && UIComponentTag.isValueReference(binding)) {\n       ValueBinding valueBinding = ComponentUtil.createValueBinding(binding);\n       if (valueBinding != null) {\n         Object obj = valueBinding.getValue(FacesContext.getCurrentInstance());"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/7291aa08f7bd72c5b13a4c4894e45404e1b7e472",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/8be7a9beb2d5fcd0e66630e4bd3887b938be366b",
        "message": "TOBAGO-1431 - NPE decoding tree state",
        "bug_id": "myfaces-tobago_48",
        "file": [
            {
                "sha": "42df2d4e74f53acda272c9f8f96f1182a6b60822",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "status": "modified",
                "additions": 20,
                "deletions": 16,
                "changes": 36,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/7291aa08f7bd72c5b13a4c4894e45404e1b7e472/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/7291aa08f7bd72c5b13a4c4894e45404e1b7e472/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java?ref=7291aa08f7bd72c5b13a4c4894e45404e1b7e472",
                "patch": "@@ -410,27 +410,31 @@ public static void decodedStateOfTreeData(final FacesContext facesContext, final\n       final TreePath path = data.getPath();\n \n       // selected\n-      final SelectedState selectedState = data.getSelectedState();\n-      final boolean oldSelected = selectedState.isSelected(path);\n-      final boolean newSelected = selectedIndices.contains(rowIndex);\n-      if (newSelected != oldSelected) {\n-        if (newSelected) {\n-          selectedState.select(path);\n-        } else {\n-          selectedState.unselect(path);\n+      if (selectedIndices != null) {\n+        final SelectedState selectedState = data.getSelectedState();\n+        final boolean oldSelected = selectedState.isSelected(path);\n+        final boolean newSelected = selectedIndices.contains(rowIndex);\n+        if (newSelected != oldSelected) {\n+          if (newSelected) {\n+            selectedState.select(path);\n+          } else {\n+            selectedState.unselect(path);\n+          }\n         }\n       }\n \n       // expanded\n       if (expandedIndices != null) {\n-        final ExpandedState expandedState = data.getExpandedState();\n-        final boolean oldExpanded = expandedState.isExpanded(path);\n-        final boolean newExpanded = expandedIndices.contains(rowIndex);\n-        if (newExpanded != oldExpanded) {\n-          if (newExpanded) {\n-            expandedState.expand(path);\n-          } else {\n-            expandedState.collapse(path);\n+        if (expandedIndices != null) {\n+          final ExpandedState expandedState = data.getExpandedState();\n+          final boolean oldExpanded = expandedState.isExpanded(path);\n+          final boolean newExpanded = expandedIndices.contains(rowIndex);\n+          if (newExpanded != oldExpanded) {\n+            if (newExpanded) {\n+              expandedState.expand(path);\n+            } else {\n+              expandedState.collapse(path);\n+            }\n           }\n         }\n       }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/f80ba288bbd49f5524d2f55c26ae635ae462c135",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/339486c62044113dbaee1299de3ca43f917f8d96",
        "message": "fixing NPE when there is no UITreeSelect",
        "bug_id": "myfaces-tobago_49",
        "file": [
            {
                "sha": "4ddb839f67c9f00572a02804ad36d26ef7d8a024",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "status": "modified",
                "additions": 14,
                "deletions": 3,
                "changes": 17,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/f80ba288bbd49f5524d2f55c26ae635ae462c135/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/f80ba288bbd49f5524d2f55c26ae635ae462c135/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java?ref=f80ba288bbd49f5524d2f55c26ae635ae462c135",
                "patch": "@@ -20,6 +20,7 @@\n package org.apache.myfaces.tobago.renderkit.html.standard.standard.tag;\n \n import org.apache.myfaces.tobago.component.RendererTypes;\n+import org.apache.myfaces.tobago.component.UITreeLabel;\n import org.apache.myfaces.tobago.component.UITreeNode;\n import org.apache.myfaces.tobago.component.UITreeSelect;\n import org.apache.myfaces.tobago.internal.component.AbstractUITree;\n@@ -174,11 +175,21 @@ private void encodeSelectBox(\n     writer.writeAttribute(HtmlAttributes.SIZE, 9); // must be > 1, but the real size comes from the layout\n //    writer.writeAttribute(HtmlAttributes.MULTIPLE, siblingMode);\n \n-    final UITreeSelect label = ComponentUtils.findDescendant(tree, UITreeSelect.class);\n-    final Object labelValue = label.getLabel();\n+    final UITreeSelect select = ComponentUtils.findDescendant(tree, UITreeSelect.class);\n+    final String labelValue;\n+    if (select != null) {\n+      labelValue = select.getLabel();\n+    } else {\n+      final UITreeLabel label = ComponentUtils.findDescendant(tree, UITreeLabel.class);\n+      if (label != null) {\n+        labelValue = label.getLabel();\n+      } else {\n+        labelValue = null;\n+      }\n+    }\n     if (labelValue != null) {\n       writer.startElement(HtmlElements.OPTGROUP, tree);\n-      writer.writeAttribute(HtmlAttributes.LABEL, labelValue.toString(), true);\n+      writer.writeAttribute(HtmlAttributes.LABEL, labelValue, true);\n       writer.endElement(HtmlElements.OPTGROUP);\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/ffede0ac44bd0ee26493d87d218a4d99ed02c340",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/06cacc465e26d977b2f61ac44258f6b757268eb0",
        "message": "+ cleanup\n+ toString NPE aware",
        "bug_id": "myfaces-tobago_50",
        "file": [
            {
                "sha": "546578a4e8cfc3a437abb50c7293faa076438b56",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/component/AbstractUIGridLayout.java",
                "status": "modified",
                "additions": 6,
                "deletions": 14,
                "changes": 20,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/ffede0ac44bd0ee26493d87d218a4d99ed02c340/core/src/main/java/org/apache/myfaces/tobago/component/AbstractUIGridLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/ffede0ac44bd0ee26493d87d218a4d99ed02c340/core/src/main/java/org/apache/myfaces/tobago/component/AbstractUIGridLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/component/AbstractUIGridLayout.java?ref=ffede0ac44bd0ee26493d87d218a4d99ed02c340",
                "patch": "@@ -19,7 +19,6 @@\n \n import org.apache.commons.logging.Log;\n import org.apache.commons.logging.LogFactory;\n-import org.apache.myfaces.tobago.OnComponentCreated;\n import org.apache.myfaces.tobago.layout.AutoLayoutToken;\n import org.apache.myfaces.tobago.layout.Display;\n import org.apache.myfaces.tobago.layout.FactorList;\n@@ -41,24 +40,17 @@\n import org.apache.myfaces.tobago.layout.grid.OriginCell;\n import org.apache.myfaces.tobago.layout.math.EquationManager;\n \n-import javax.faces.component.UIComponent;\n-import javax.faces.context.FacesContext;\n import java.util.Arrays;\n import java.util.List;\n \n-public abstract class AbstractUIGridLayout extends UILayout implements OnComponentCreated, LayoutManager {\n+public abstract class AbstractUIGridLayout extends UILayout implements LayoutManager {\n \n   private static final Log LOG = LogFactory.getLog(AbstractUIGridLayout.class);\n \n   private Grid grid;\n \n-  public void onComponentCreated(FacesContext context, UIComponent component) {\n-  }\n-\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n   // /////////////////////////////////////////////////////////////////////////////////////////\n+  // new layout mechanism\n   // /////////////////////////////////////////////////////////////////////////////////////////\n \n   public void init() {\n@@ -272,9 +264,7 @@ public void postProcessing(boolean orientation) {\n   }\n \n   // /////////////////////////////////////////////////////////////////////////////////////////\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n-  // /////////////////////////////////////////////////////////////////////////////////////////\n+  // layout mechanism with equations\n   // /////////////////////////////////////////////////////////////////////////////////////////\n \n   /**\n@@ -511,6 +501,8 @@ public boolean getRendersChildren() {\n   @Override\n   public String toString() {\n     return getClass().getSimpleName()\n-        + \"(\" + Arrays.toString(grid.getWidths()) + \", \" + Arrays.toString(grid.getHeights()) + \")\";\n+        + (grid != null\n+        ? \"(\" + Arrays.toString(grid.getWidths()) + \", \" + Arrays.toString(grid.getHeights()) + \")\" \n+        : \"\");\n   }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/6d3126df3c263b235e6ebcb20946213ec1ad765c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/eb9619fb4c18eb55e7d09c090b0ee19eb98aac70",
        "message": "TOBAGO-1359: NPE when rendering sheet",
        "bug_id": "myfaces-tobago_51",
        "file": [
            {
                "sha": "82d4f2591f0c23ab05016009a1cf1dc6bdf132d1",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/6d3126df3c263b235e6ebcb20946213ec1ad765c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/6d3126df3c263b235e6ebcb20946213ec1ad765c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java?ref=6d3126df3c263b235e6ebcb20946213ec1ad765c",
                "patch": "@@ -435,7 +435,7 @@ private void renderSheet(\n         columnIndex++;\n         writer.startElement(HtmlElements.TD, null);\n         writer.startElement(HtmlElements.DIV, null);\n-        final Integer divWidth = sheet.getWidthList().get(columnIndex);\n+        final Integer divWidth = sheet.getWidthList() != null ? sheet.getWidthList().get(columnIndex) : 100;\n         final Style divStyle = new Style();\n         divStyle.setWidth(Measure.valueOf(divWidth));\n         writer.writeStyleAttribute(divStyle);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/f8b990404fdcbf63aca71c07513a6fcf050bf2c8",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/87c94bf0aae74ca02d2d24be28ccfeef40f26d06",
        "message": "(TOBAGO-606) fix possible NPE",
        "bug_id": "myfaces-tobago_52",
        "file": [
            {
                "sha": "ed369b480ae23c52489a43d16ec7b49631329a23",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/layout/LayoutTokens.java",
                "status": "modified",
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/f8b990404fdcbf63aca71c07513a6fcf050bf2c8/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/LayoutTokens.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/f8b990404fdcbf63aca71c07513a6fcf050bf2c8/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/LayoutTokens.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/LayoutTokens.java?ref=f8b990404fdcbf63aca71c07513a6fcf050bf2c8",
                "patch": "@@ -113,9 +113,12 @@ public static LayoutToken parseToken(String token) {\n     try {\n       if (\"*\".equals(token)) {\n         return RelativeLayoutToken.DEFAULT_INSTANCE;\n-      } else if (token.equals(\"fixed\") || token.equals(\"auto\")) {\n+      } else if (token == null) {\n+        LOG.error(\"Empty layout token! Using 'auto' instead.\");\n         return AutoLayoutToken.INSTANCE;\n-      } else if (token.equals(\"minimum\")) {\n+      } else if (\"fixed\".equals(token) || \"auto\".equals(token)) {\n+        return AutoLayoutToken.INSTANCE;\n+      } else if (\"minimum\".equals(token)) {\n         return new MinimumLayoutToken();\n       } else if (isPixelToken(token)) {\n         return new PixelLayoutToken(Integer.parseInt(removeSuffix(token, PixelLayoutToken.SUFFIX)));"
            },
            {
                "sha": "ec97d3d6e6b9762b3b4cf293477530acb9284a3c",
                "filename": "tobago-core/src/test/java/org/apache/myfaces/tobago/layout/LayoutTokensUnitTest.java",
                "status": "modified",
                "additions": 1,
                "deletions": 0,
                "changes": 1,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/f8b990404fdcbf63aca71c07513a6fcf050bf2c8/tobago-core/src/test/java/org/apache/myfaces/tobago/layout/LayoutTokensUnitTest.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/f8b990404fdcbf63aca71c07513a6fcf050bf2c8/tobago-core/src/test/java/org/apache/myfaces/tobago/layout/LayoutTokensUnitTest.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/test/java/org/apache/myfaces/tobago/layout/LayoutTokensUnitTest.java?ref=f8b990404fdcbf63aca71c07513a6fcf050bf2c8",
                "patch": "@@ -46,6 +46,7 @@ public void testIsNumberAndSuffix() {\n \n   @Test\n   public void testParseToken() {\n+    Assert.assertEquals(AutoLayoutToken.INSTANCE, LayoutTokens.parseToken(null));\n     Assert.assertEquals(RelativeLayoutToken.DEFAULT_INSTANCE, LayoutTokens.parseToken(\"*\"));\n     Assert.assertEquals(new RelativeLayoutToken(3), LayoutTokens.parseToken(\"3*\"));\n     Assert.assertEquals(new PercentLayoutToken(33), LayoutTokens.parseToken(\"33%\"));"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/f98d25b2a3804ef693a1331461cd17e8ff851e37",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/86545423c14a1a62e9f24e32f2c36dc4e68fc212",
        "message": "TOBAGO-1321 - NPE in UserAgent.hasCapability",
        "bug_id": "myfaces-tobago_53",
        "file": [
            {
                "sha": "8644bf1ff01ccaeba6a0ec5e07a89c8cb9ee2340",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/f98d25b2a3804ef693a1331461cd17e8ff851e37/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/f98d25b2a3804ef693a1331461cd17e8ff851e37/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java?ref=f98d25b2a3804ef693a1331461cd17e8ff851e37",
                "patch": "@@ -55,10 +55,10 @@\n   public static final UserAgent MSIE_5_5 = new UserAgent(\"msie\", \"5_5\");\n \n   public static final UserAgent MSIE_6_0\n-      = new UserAgent(\"msie\", \"6_0\", null, CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n+      = new UserAgent(\"msie\", \"6_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n \n   public static final UserAgent MSIE_7_0\n-      = new UserAgent(\"msie\", \"7_0\", null, CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n+      = new UserAgent(\"msie\", \"7_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n \n   public static final UserAgent MSIE_7_0_COMPAT = new UserAgent(\n       \"msie\", \"7_0\", EnumSet.of(Capability.IE_COMPATIBILITY_MODE), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4940d7e59666f675e11a679ff59d12cfa059db1e",
        "message": "avoid NPE if render Messages",
        "bug_id": "myfaces-tobago_54",
        "file": [
            {
                "sha": "b004c40c5bf58c88024897cd179481adbe89c458",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessageRenderer.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessageRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessageRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessageRenderer.java?ref=3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba",
                "patch": "@@ -84,7 +84,12 @@ public void encodeEnd(FacesContext facesContext,\n       writer.startElement(HtmlConstants.LABEL, null);\n       writer.writeAttribute(HtmlAttributes.FOR, clientId, null);\n       writer.writeAttribute(HtmlAttributes.TITLE, message.getDetail(), null);\n-      writer.writeText(message.getSummary(), null);\n+      String summary = message.getSummary();\n+      if (summary != null) {\n+        writer.writeText(summary, null);\n+      } else {\n+        writer.writeText(\"\", null);\n+      }\n       writer.endElement(HtmlConstants.LABEL);\n \n       writer.startElement(HtmlConstants.BR, null);"
            },
            {
                "sha": "4b2df9d763dc475817f6940f4f5eca61d7bd8d84",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessagesRenderer.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessagesRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessagesRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/MessagesRenderer.java?ref=3d46040cb1495b4fc92fc9d3fc91d5d0b36950ba",
                "patch": "@@ -117,7 +117,12 @@ private void encodeMessage(ResponseWriter writer, FacesMessage message,\n       writer.writeAttribute(HtmlAttributes.FOR, clientId, null);\n     }\n     writer.writeAttribute(HtmlAttributes.TITLE, message.getDetail(), null);\n-    writer.writeText(message.getSummary(), null);\n+    String summary = message.getSummary();\n+    if (summary != null) {\n+      writer.writeText(summary, null);\n+    } else {\n+      writer.writeText(\"\", null);\n+    }\n     writer.endElement(HtmlConstants.LABEL);\n     writer.startElement(HtmlConstants.BR, null);\n     writer.endElement(HtmlConstants.BR);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/4159d5af364c99027ff7470b698927dfb1b81e30",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/4a88dcf69fd7f9edc37f1333874d956e9dd49fc3",
        "message": "Merged from trunk\nTOBAGO-1505: NPE while rendering Session Secret [from revision 1709006]",
        "bug_id": "myfaces-tobago_55",
        "file": [
            {
                "sha": "00dce7952d0754305ad3b7929f1f4ee55df039fe",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "status": "modified",
                "additions": 9,
                "deletions": 9,
                "changes": 18,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/4159d5af364c99027ff7470b698927dfb1b81e30/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/4159d5af364c99027ff7470b698927dfb1b81e30/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/webapp/Secret.java?ref=4159d5af364c99027ff7470b698927dfb1b81e30",
                "patch": "@@ -82,6 +82,11 @@ public static boolean check(final FacesContext facesContext) {\n     final Map requestParameterMap = facesContext.getExternalContext().getRequestParameterMap();\n     final String fromRequest = (String) requestParameterMap.get(Secret.KEY);\n     final Object session = facesContext.getExternalContext().getSession(false);\n+    Secret secret = getSecret(session);\n+    return secret != null && secret.secret.equals(fromRequest);\n+  }\n+\n+  private static Secret getSecret(Object session) {\n     Secret secret = null;\n     if (session!=null) {\n       if (session instanceof HttpSession) {\n@@ -92,7 +97,7 @@ public static boolean check(final FacesContext facesContext) {\n         throw new IllegalArgumentException(\"Unknown session type: \" + session);\n       }\n     }\n-    return secret != null && secret.secret.equals(fromRequest);\n+    return secret;\n   }\n \n   /**\n@@ -104,15 +109,10 @@ public static void encode(final FacesContext facesContext, final TobagoResponseW\n     writer.writeAttribute(HtmlAttributes.NAME, Secret.KEY, false);\n     writer.writeAttribute(HtmlAttributes.ID, Secret.KEY, false);\n     final Object session = facesContext.getExternalContext().getSession(true);\n-    final Secret secret;\n-    if (session instanceof HttpSession) {\n-      secret = (Secret) ((HttpSession) session).getAttribute(Secret.KEY);\n-    } else if (PortletUtils.isPortletApiAvailable() && session instanceof PortletSession) {\n-      secret = (Secret) ((PortletSession) session).getAttribute(Secret.KEY, PortletSession.APPLICATION_SCOPE);\n-    } else {\n-      throw new IllegalArgumentException(\"Unknown session type: \" + session);\n+    final Secret secret = getSecret(session);\n+    if (secret != null) {\n+      writer.writeAttribute(HtmlAttributes.VALUE, secret.secret, false);\n     }\n-    writer.writeAttribute(HtmlAttributes.VALUE, secret.secret, false);\n     writer.endElement(HtmlElements.INPUT);\n   }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/b5dba1e5018e724ca50c138117fa083f26fbc151",
        "message": "TOBAGO-296: NPE when client supports wml",
        "bug_id": "myfaces-tobago_56",
        "file": [
            {
                "sha": "c55dcd1f767f5fabb18700a1268d9181f0a3c3aa",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/config/ThemeConfig.java",
                "status": "modified",
                "additions": 19,
                "deletions": 8,
                "changes": 27,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/config/ThemeConfig.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/config/ThemeConfig.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/config/ThemeConfig.java?ref=27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
                "patch": "@@ -46,18 +46,26 @@ public static int getValue(FacesContext facesContext, UIComponent component,\n       String name) {\n \n     CacheKey key = new CacheKey(facesContext.getViewRoot(), component, name);\n-    Map cache = (Map) facesContext.getExternalContext()\n-        .getApplicationMap().get(THEME_CONFIG_CACHE);\n+    Map<CacheKey, Integer> cache\n+        = (Map<CacheKey, Integer>) facesContext.getExternalContext().getApplicationMap().get(THEME_CONFIG_CACHE);\n \n-    Integer value = (Integer) cache.get(key);\n+    Integer value = cache.get(key);\n     if (value == null) {\n       value = createValue(facesContext, component, name);\n       cache.put(key, value);\n     }\n-    return value.intValue();\n+    if (value != null) {\n+      return value;\n+    } else {\n+      // todo: remove condition, is only temporary to ignore wml errors.\n+      if (! ClientProperties.getInstance(facesContext.getViewRoot()).getContentType().equals(\"wml\")) {\n+        throw new NullPointerException(\"No value configured\");\n+      }\n+      // todo: remove, is only temporary to ignore wml errors.\n+      return 0;\n+    }\n   }\n \n-\n   private static Integer createValue(FacesContext facesContext,\n       UIComponent component, String name) {\n     String family;\n@@ -95,9 +103,12 @@ private static Integer createValue(FacesContext facesContext,\n       }\n       clazz = clazz.getSuperclass();\n     }\n-    LOG.error(\"Theme property not found for renderer: \" + renderer.getClass()\n-        + \" with clientProperties='\" + ClientProperties.getInstance(viewRoot).getId() + \"'\"\n-        + \" and locale='\" + viewRoot.getLocale() + \"'\");\n+    // todo: remove condition, is only temporary to ignore wml errors.\n+    if (! ClientProperties.getInstance(viewRoot).getContentType().equals(\"wml\")) {\n+      LOG.error(\"Theme property not found for renderer: \" + renderer.getClass()\n+          + \" with clientProperties='\" + ClientProperties.getInstance(viewRoot).getId() + \"'\"\n+          + \" and locale='\" + viewRoot.getLocale() + \"'\");\n+    }\n     return null;\n   }\n "
            },
            {
                "sha": "2872d7941ef6b01fee7b2478e137d3cdf2b777a8",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/context/ResourceManagerImpl.java",
                "status": "modified",
                "additions": 6,
                "deletions": 14,
                "changes": 20,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/context/ResourceManagerImpl.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/context/ResourceManagerImpl.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/context/ResourceManagerImpl.java?ref=27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
                "patch": "@@ -357,13 +357,9 @@ public Renderer getRenderer(UIViewRoot viewRoot, String name) {\n     final String clientPropertyId;\n     final Locale locale;\n     final String type = \"tag\";\n-//    final Object key;\n     CacheKey key;\n     if (name != null) {\n       if (viewRoot instanceof org.apache.myfaces.tobago.component.UIViewRoot) {\n-//        key = new StringBuilder(((org.apache.myfaces.tobago.component.UIViewRoot)viewRoot)\n-//            .getRendererCachePrefix()).append(name).toString();\n-//      key = new RendererCacheKey(clientPropertyId, locale, name);\n         key = ((org.apache.myfaces.tobago.component.UIViewRoot) viewRoot).getRendererCacheKey();\n         key.setName(name);\n         renderer = (Renderer) cache.get(key);\n@@ -377,7 +373,6 @@ public Renderer getRenderer(UIViewRoot viewRoot, String name) {\n       } else {\n         clientPropertyId = ClientProperties.getInstance(viewRoot).getId();\n         locale = viewRoot.getLocale();\n-//      key = key(clientPropertyId, locale, type, name);\n \n         key = new CacheKey(clientPropertyId, locale, name, CacheType.RENDERER);\n         renderer = (Renderer) cache.get(key);\n@@ -390,22 +385,19 @@ public Renderer getRenderer(UIViewRoot viewRoot, String name) {\n \n       try {\n         name = getRendererClassName(name);\n-        Class clazz = null;\n-        List classes =  getPaths(clientPropertyId, locale, \"\", type, name,\n-            \"\", false, true, true, null, false, false);\n+        List<Class> classes\n+            = getPaths(clientPropertyId, locale, \"\", type, name, \"\", false, true, true, null, false, false);\n         if (classes != null && classes.size() > 0) {\n-          clazz = (Class) classes.get(0);\n+          Class clazz = classes.get(0);\n+          renderer = (Renderer) clazz.newInstance();\n+          cache.put(key, renderer);\n         } else {\n-          throw new RuntimeException(\"Don't find any RendererClass for \" + name + \". Please check you configuration.\");\n+          LOG.error(\"Don't find any RendererClass for \" + name + \". Please check you configuration.\");\n         }\n-        renderer = (Renderer) clazz.newInstance();\n-        cache.put(key, renderer);\n       } catch (InstantiationException e) {\n         LOG.error(\"name = '\" + name + \"' clientProperties = '\" + clientPropertyId + \"'\", e);\n-        throw new RuntimeException(name, e);\n       } catch (IllegalAccessException e) {\n         LOG.error(\"name = '\" + name + \"' clientProperties = '\" + clientPropertyId + \"'\", e);\n-        throw new RuntimeException(name, e);\n       }\n     }\n     return renderer;"
            },
            {
                "sha": "a3403cb51fdcf048b3bd734806b5377f7603a6b0",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/renderkit/TobagoRenderKit.java?ref=27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
                "patch": "@@ -71,7 +71,7 @@ public Renderer getRenderer(String family, String rendererType) {\n     }\n     if (renderer == null) {\n       LOG.error(\"The class witch was found by the ResourceManager can't be \"\n-          + \"found, or instanciated: classname='\" + rendererType + \"'\");\n+          + \"found, or instanciated: rendererType='\" + rendererType + \"'\");\n     }\n     return renderer;\n   }"
            },
            {
                "sha": "65a3b2b555f230eadb6f82edce98ecdaaf246c59",
                "filename": "theme/standard/pom.xml",
                "status": "modified",
                "additions": 80,
                "deletions": 0,
                "changes": 80,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/theme/standard/pom.xml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/theme/standard/pom.xml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/standard/pom.xml?ref=27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
                "patch": "@@ -33,4 +33,84 @@\n     <url>http://svn.apache.org/viewcvs.cgi/myfaces/tobago/trunk/theme/standard</url>\n   </scm>\n \n+  <dependencies>\n+    <dependency>\n+      <groupId>org.apache.myfaces.core</groupId>\n+      <artifactId>myfaces-api</artifactId>\n+      <scope>provided</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.myfaces.tobago</groupId>\n+      <artifactId>tobago-core</artifactId>\n+      <version>${project.version}</version>\n+      <exclusions>\n+        <exclusion>\n+          <groupId>sun.jdk</groupId>\n+          <artifactId>tools</artifactId>\n+        </exclusion>\n+      </exclusions>\n+    </dependency>\n+    <dependency>\n+      <groupId>javax.servlet</groupId>\n+      <artifactId>servlet-api</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+    </dependency>\n+  </dependencies>\n+  <profiles>\n+    <profile>\n+      <id>jdk14retro</id>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.codehaus.mojo</groupId>\n+            <artifactId>retrotranslator-maven-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <id>retrotranslate</id>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          <plugin>\n+            <artifactId>maven-jar-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <id>create-jdk14retro-jar</id>\n+                <goals><goal>jar</goal></goals>\n+                <configuration>\n+                  <classesDirectory>${project.build.directory}/classes-retro</classesDirectory>\n+                  <classifier>jdk14retro</classifier>\n+                  <archive>\n+                    <manifestEntries>\n+                      <Extension-Name>${project.artifactId}-jdk14retro</Extension-Name>\n+                      <Specification-Vendor>${project.organization.name}</Specification-Vendor>\n+                      <Implementation-Vendor>${project.organization.name}</Implementation-Vendor>\n+                      <Implementation-Title>${project.description}</Implementation-Title>\n+                      <Implementation-Version>${project.version}</Implementation-Version>\n+                      <Revision>${scm.revision}</Revision>\n+                    </manifestEntries>\n+                   </archive>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+       <dependencies>\n+        <dependency>\n+          <groupId>sun.jdk</groupId>\n+          <artifactId>rt</artifactId>\n+          <version>1.4.0</version>\n+          <scope>system</scope>\n+          <systemPath>${java14.home}/lib/rt.jar</systemPath>\n+        </dependency>\n+        <dependency>\n+          <groupId>net.sf.retrotranslator</groupId>\n+          <artifactId>retrotranslator-runtime</artifactId>\n+        </dependency>\n+      </dependencies>\n+    </profile>\n+  </profiles>\n </project>\n\\ No newline at end of file"
            },
            {
                "sha": "c25cccb896258c98385daba45902cf72ee93e2a4",
                "filename": "theme/standard/src/main/java/org/apache/myfaces/tobago/renderkit/wml/standard/standard/tag/PageRenderer.java",
                "status": "added",
                "additions": 76,
                "deletions": 0,
                "changes": 76,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/theme/standard/src/main/java/org/apache/myfaces/tobago/renderkit/wml/standard/standard/tag/PageRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27cfdbd6de1694a83bc1ce4cef3da0a9404273cd/theme/standard/src/main/java/org/apache/myfaces/tobago/renderkit/wml/standard/standard/tag/PageRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/standard/src/main/java/org/apache/myfaces/tobago/renderkit/wml/standard/standard/tag/PageRenderer.java?ref=27cfdbd6de1694a83bc1ce4cef3da0a9404273cd",
                "patch": "@@ -0,0 +1,76 @@\n+package org.apache.myfaces.tobago.renderkit.wml.standard.standard.tag;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import org.apache.myfaces.tobago.component.UIPage;\n+import org.apache.myfaces.tobago.renderkit.PageRendererBase;\n+import org.apache.myfaces.tobago.webapp.TobagoResponseWriter;\n+\n+import javax.faces.component.UIComponent;\n+import javax.faces.context.FacesContext;\n+import java.io.IOException;\n+\n+public class PageRenderer extends PageRendererBase {\n+\n+  private static final String DOCTYPE =\n+      \"<?xml version='1.0'?>\\n\"\n+          + \"<!DOCTYPE wml PUBLIC '-//WAPFORUM//DTD WML 1.1//EN'\\n\"\n+          + \" 'http://www.wapforum.org/DTD/wml_1.1.xml'>\";\n+\n+  @Override\n+  public void encodeBegin(FacesContext facesContext, UIComponent component) throws IOException {\n+  }\n+\n+  @Override\n+  public void encodeChildren(FacesContext facesContext, UIComponent component) throws IOException {\n+  }\n+\n+  @Override\n+  public void encodeEnd(FacesContext facesContext, UIComponent component)\n+      throws IOException {\n+\n+    UIPage page = (UIPage) component;\n+\n+    TobagoResponseWriter writer\n+        = (TobagoResponseWriter) facesContext.getResponseWriter();\n+\n+    // reset responseWriter and render page\n+    facesContext.setResponseWriter(writer);\n+\n+    writer.write(DOCTYPE);\n+    writer.write('\\n');\n+\n+    writer.startElement(\"wml\", page);\n+    writer.startElement(\"card\", page);\n+\n+    writer.writeText(\"WML currently not supported!\", null);\n+//    writer.write(content.toString());\n+\n+    writer.endElement(\"card\");\n+    writer.endElement(\"wml\");\n+\n+    // fixme, this is only a workaround for bug TOBAGO-296\n+    facesContext.responseComplete();\n+  }\n+\n+  @Override\n+  public boolean getRendersChildren() {\n+    // fixme, this is only a workaround for bug TOBAGO-296\n+    return true;\n+  }\n+}"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/67651073d66a2d58ce2f7a46100af518fd8f19c0",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/49299af9c0caf0766bc74fb0239729f6028f75b5",
        "message": "fixed possible npe\nadded missing admin method",
        "bug_id": "myfaces-tobago_57",
        "file": [
            {
                "sha": "c4df7635409107907f184ae8e1aa9a8009f0a685",
                "filename": "example/security/src/main/java/org/apache/myfaces/tobago/example/security/CheckAuthorisationMethodBinding.java",
                "status": "modified",
                "additions": 2,
                "deletions": 5,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/67651073d66a2d58ce2f7a46100af518fd8f19c0/example/security/src/main/java/org/apache/myfaces/tobago/example/security/CheckAuthorisationMethodBinding.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/67651073d66a2d58ce2f7a46100af518fd8f19c0/example/security/src/main/java/org/apache/myfaces/tobago/example/security/CheckAuthorisationMethodBinding.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/example/security/src/main/java/org/apache/myfaces/tobago/example/security/CheckAuthorisationMethodBinding.java?ref=67651073d66a2d58ce2f7a46100af518fd8f19c0",
                "patch": "@@ -70,7 +70,7 @@ public Object invoke(FacesContext facesContext, Object[] objects)\n       LOG.debug(\"MethodBinding invoke \" + getExpressionString());\n     }\n     // Methodbindings with a argument list would not be checked for authorisation\n-    if (isAuthorized(facesContext) || objects.length > 0) {\n+    if (isAuthorized(facesContext) || (objects!=null && objects.length > 0)) {\n       return methodBinding.invoke(facesContext, objects);\n     } else {\n       // TODO better message\n@@ -172,10 +172,7 @@ public void restoreState(FacesContext facesContext, Object savedState) {\n   }\n \n   public boolean isTransient() {\n-    if (methodBinding instanceof StateHolder) {\n-      return ((StateHolder)methodBinding).isTransient();\n-    }\n-    return false;\n+    return methodBinding instanceof StateHolder && ((StateHolder) methodBinding).isTransient();\n   }\n \n   public void setTransient(boolean bool) {"
            },
            {
                "sha": "e04023a9a74be708d7aef166ee81d9b2534f1abd",
                "filename": "example/security/src/main/java/org/apache/myfaces/tobago/example/security/Controller.java",
                "status": "modified",
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/67651073d66a2d58ce2f7a46100af518fd8f19c0/example/security/src/main/java/org/apache/myfaces/tobago/example/security/Controller.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/67651073d66a2d58ce2f7a46100af518fd8f19c0/example/security/src/main/java/org/apache/myfaces/tobago/example/security/Controller.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/example/security/src/main/java/org/apache/myfaces/tobago/example/security/Controller.java?ref=67651073d66a2d58ce2f7a46100af518fd8f19c0",
                "patch": "@@ -31,7 +31,8 @@ public String logout() {\n     }\n     return \"logout\";\n   }\n-  @RolesAllowed({ \"tobago-example-security\" } )\n+\n+  @RolesAllowed({ \"tobago-example-security\" })\n   public String doSomething() {\n     return null;\n   }\n@@ -40,4 +41,9 @@ public String doSomethingElse() {\n     return null;\n   }\n \n+  @RolesAllowed({ \"tobago-example-security\" })  \n+  public String admin() {\n+    return null;\n+  }\n+\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/68207bedaa285818b1eff515a39707c073c31747",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/bd0b24e4137bedb1da3f593c55ac9b168e100e21",
        "message": "TOBAGO-1365: NPE in PageRenderer, when applicationIcon wasn't found",
        "bug_id": "myfaces-tobago_58",
        "file": [
            {
                "sha": "51f52af5a8ac9388d6751fb4ca329b22a1e5f2ef",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "status": "modified",
                "additions": 17,
                "deletions": 13,
                "changes": 30,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/68207bedaa285818b1eff515a39707c073c31747/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/68207bedaa285818b1eff515a39707c073c31747/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java?ref=68207bedaa285818b1eff515a39707c073c31747",
                "patch": "@@ -232,26 +232,30 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n         checkDuplicates(theme.getStyleResources(productionMode), FacesContextUtils.getStyleFiles(facesContext));\n       }\n \n-      String icon = page.getApplicationIcon();\n+      final String icon = page.getApplicationIcon();\n       if (icon != null) {\n-        // XXX unify with image renderer\n+        final String href;\n         if (ResourceManagerUtils.isAbsoluteResource(icon)) {\n-          // absolute Path to image : nothing to do\n+          href = icon;\n         } else {\n-          icon = ResourceManagerUtils.getImageWithPath(facesContext, icon);\n+          href = ResourceManagerUtils.getImageWithPath(facesContext, icon);\n         }\n \n-        writer.startElement(HtmlElements.LINK, null);\n-        if (icon.endsWith(\".ico\")) {\n-          writer.writeAttribute(HtmlAttributes.REL, \"shortcut icon\", false);\n-          writer.writeAttribute(HtmlAttributes.HREF, icon, false);\n+        if (href != null) {\n+          writer.startElement(HtmlElements.LINK, null);\n+          if (href.endsWith(\".ico\")) {\n+            writer.writeAttribute(HtmlAttributes.REL, \"shortcut icon\", false);\n+            writer.writeAttribute(HtmlAttributes.HREF, href, false);\n+          } else {\n+            // XXX IE only supports ICO files for favicons\n+            writer.writeAttribute(HtmlAttributes.REL, \"icon\", false);\n+            writer.writeAttribute(HtmlAttributes.TYPE, MimeTypeUtils.getMimeTypeForFile(href), false);\n+            writer.writeAttribute(HtmlAttributes.HREF, href, false);\n+          }\n+          writer.endElement(HtmlElements.LINK);\n         } else {\n-          // XXX IE only supports ICO files for favicons\n-          writer.writeAttribute(HtmlAttributes.REL, \"icon\", false);\n-          writer.writeAttribute(HtmlAttributes.TYPE, MimeTypeUtils.getMimeTypeForFile(icon), false);\n-          writer.writeAttribute(HtmlAttributes.HREF, icon, false);\n+          LOG.warn(\"Application icon '\" + icon + \"' not found!\");\n         }\n-        writer.endElement(HtmlElements.LINK);\n       }\n \n       // style sniplets"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/8305acbc6ddf708691b582bbedb96cee68221549",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/ad1aec2f9ddd60b1699400bc4cd51a9fe07f289c",
        "message": "TOBAGO-1365: NPE in PageRenderer, when applicationIcon wasn't found",
        "bug_id": "myfaces-tobago_59",
        "file": [
            {
                "sha": "51f52af5a8ac9388d6751fb4ca329b22a1e5f2ef",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "status": "modified",
                "additions": 17,
                "deletions": 13,
                "changes": 30,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/8305acbc6ddf708691b582bbedb96cee68221549/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/8305acbc6ddf708691b582bbedb96cee68221549/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/PageRenderer.java?ref=8305acbc6ddf708691b582bbedb96cee68221549",
                "patch": "@@ -232,26 +232,30 @@ public void encodeBegin(final FacesContext facesContext, final UIComponent compo\n         checkDuplicates(theme.getStyleResources(productionMode), FacesContextUtils.getStyleFiles(facesContext));\n       }\n \n-      String icon = page.getApplicationIcon();\n+      final String icon = page.getApplicationIcon();\n       if (icon != null) {\n-        // XXX unify with image renderer\n+        final String href;\n         if (ResourceManagerUtils.isAbsoluteResource(icon)) {\n-          // absolute Path to image : nothing to do\n+          href = icon;\n         } else {\n-          icon = ResourceManagerUtils.getImageWithPath(facesContext, icon);\n+          href = ResourceManagerUtils.getImageWithPath(facesContext, icon);\n         }\n \n-        writer.startElement(HtmlElements.LINK, null);\n-        if (icon.endsWith(\".ico\")) {\n-          writer.writeAttribute(HtmlAttributes.REL, \"shortcut icon\", false);\n-          writer.writeAttribute(HtmlAttributes.HREF, icon, false);\n+        if (href != null) {\n+          writer.startElement(HtmlElements.LINK, null);\n+          if (href.endsWith(\".ico\")) {\n+            writer.writeAttribute(HtmlAttributes.REL, \"shortcut icon\", false);\n+            writer.writeAttribute(HtmlAttributes.HREF, href, false);\n+          } else {\n+            // XXX IE only supports ICO files for favicons\n+            writer.writeAttribute(HtmlAttributes.REL, \"icon\", false);\n+            writer.writeAttribute(HtmlAttributes.TYPE, MimeTypeUtils.getMimeTypeForFile(href), false);\n+            writer.writeAttribute(HtmlAttributes.HREF, href, false);\n+          }\n+          writer.endElement(HtmlElements.LINK);\n         } else {\n-          // XXX IE only supports ICO files for favicons\n-          writer.writeAttribute(HtmlAttributes.REL, \"icon\", false);\n-          writer.writeAttribute(HtmlAttributes.TYPE, MimeTypeUtils.getMimeTypeForFile(icon), false);\n-          writer.writeAttribute(HtmlAttributes.HREF, icon, false);\n+          LOG.warn(\"Application icon '\" + icon + \"' not found!\");\n         }\n-        writer.endElement(HtmlElements.LINK);\n       }\n \n       // style sniplets"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/7663d0d8684b25286578b209bee42b3b5df1b3f4",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/b2dc6b0ef843ce75aa882484a880159a1dd9354f",
        "message": "TOBAGO-1345: Remove dependencies to rarely used libraries\nfix NPE",
        "bug_id": "myfaces-tobago_60",
        "file": [
            {
                "sha": "1fe494d74d5659e722d6c102fde91c9c47727ded",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "status": "modified",
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/7663d0d8684b25286578b209bee42b3b5df1b3f4/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/7663d0d8684b25286578b209bee42b3b5df1b3f4/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java?ref=7663d0d8684b25286578b209bee42b3b5df1b3f4",
                "patch": "@@ -327,8 +327,11 @@ public static boolean isNotEmpty(final String value) {\n    * Basically taken from commons-lang\n    */\n   public static boolean isBlank(final String string) {\n+    if (string == null) {\n+      return true;\n+    }\n     final int strLen = string.length();\n-    if (string == null || strLen == 0) {\n+    if (strLen == 0) {\n       return true;\n     }\n     for (int i = 0; i < strLen; i++) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/6f8c8dc557b8e63d583c0caa38708e650fee6d79",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/464f06c0a1e32d0c5183c16b38f92a8f87c2f754",
        "message": "TOBAGO-1321 - NPE in UserAgent.hasCapability: fix checkstyle errors",
        "bug_id": "myfaces-tobago_61",
        "file": [
            {
                "sha": "7aab36814bd64ae9d2bc7fed5cdd1c7e67fb2d63",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "status": "modified",
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/6f8c8dc557b8e63d583c0caa38708e650fee6d79/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/6f8c8dc557b8e63d583c0caa38708e650fee6d79/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java?ref=6f8c8dc557b8e63d583c0caa38708e650fee6d79",
                "patch": "@@ -54,11 +54,11 @@\n   @Deprecated\n   public static final UserAgent MSIE_5_5 = new UserAgent(\"msie\", \"5_5\");\n \n-  public static final UserAgent MSIE_6_0\n-      = new UserAgent(\"msie\", \"6_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n+  public static final UserAgent MSIE_6_0 = new UserAgent(\n+      \"msie\", \"6_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n \n-  public static final UserAgent MSIE_7_0\n-      = new UserAgent(\"msie\", \"7_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n+  public static final UserAgent MSIE_7_0 = new UserAgent(\n+      \"msie\", \"7_0\", EnumSet.noneOf(Capability.class), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);\n \n   public static final UserAgent MSIE_7_0_COMPAT = new UserAgent(\n       \"msie\", \"7_0\", EnumSet.of(Capability.IE_COMPATIBILITY_MODE), CspHeader.NOT_SUPPORTED, CsproHeader.NOT_SUPPORTED);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/c05ad77541a2bc8ba3c13999e946c29c2755bc66",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/0bf08163a9aae90597bdbe9a791c22979b3121f9",
        "message": "TOBAGO-1238 - NPE on UIComponent getter when rendererType == null",
        "bug_id": "myfaces-tobago_62",
        "file": [
            {
                "sha": "072b23f156fc154e528dcfcc0e489c5b2776181c",
                "filename": "tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c05ad77541a2bc8ba3c13999e946c29c2755bc66/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c05ad77541a2bc8ba3c13999e946c29c2755bc66/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java?ref=c05ad77541a2bc8ba3c13999e946c29c2755bc66",
                "patch": "@@ -620,7 +620,7 @@ public void decode(FacesContext facesContext, UIComponent component) {\n   }\n \n   private Measure getHeaderHeight(FacesContext facesContext, UISheet sheet) {\n-    int rows = sheet.getHeaderGrid().getRowCount();\n+    int rows = sheet.getHeaderGrid() != null ? sheet.getHeaderGrid().getRowCount() : 0;\n     return sheet.isShowHeader()\n         ? getResourceManager().getThemeMeasure(facesContext, sheet, \"headerHeight\").multiply(rows)\n         : Measure.ZERO;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/0bf08163a9aae90597bdbe9a791c22979b3121f9",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/bb132259231b418e90c51d2b280a8ebeb5d838fe",
        "message": "TOBAGO-1238 - NPE on UIComponent getter when rendererType == null",
        "bug_id": "myfaces-tobago_63",
        "file": [
            {
                "sha": "cd7f143191264894cdae1af21d2bc725d3fd5fb7",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/AbstractCommandTagDeclaration.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/AbstractCommandTagDeclaration.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/AbstractCommandTagDeclaration.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/AbstractCommandTagDeclaration.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -20,5 +20,5 @@\n package org.apache.myfaces.tobago.internal.taglib.declaration;\n \n public interface AbstractCommandTagDeclaration extends HasAction, HasActionListener, IsImmediateCommand,\n-    HasOnclick, HasLink, HasResource, IsTransition, HasTarget, HasRenderedPartially {\n+    HasOnclick, HasLink, HasResource, IsTransition, HasTarget, HasRenderedPartially, IsDisabled {\n }"
            },
            {
                "sha": "2096b7c6159ab139f8a749174b67268eaed93c21",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasMargins.java",
                "status": "modified",
                "additions": 8,
                "deletions": 8,
                "changes": 16,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasMargins.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasMargins.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasMargins.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -31,8 +31,8 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getMargin() != null\\n\"\n-          + \" ? getMargin()\\n\"\n-          + \" : ((MarginValues)getRenderer(getFacesContext())).getMarginLeft(getFacesContext(), this)\")\n+          + \" ? getMargin()\\n : getRendererType() != null\"\n+          + \" ? ((MarginValues)getRenderer(getFacesContext())).getMarginLeft(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginLeft(String margin);\n \n   /**\n@@ -42,8 +42,8 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getMargin() != null\\n\"\n-          + \" ? getMargin()\\n\"\n-          + \" : ((MarginValues)getRenderer(getFacesContext())).getMarginRight(getFacesContext(), this)\")\n+          + \" ? getMargin()\\n : getRendererType() != null\"\n+          + \" ? ((MarginValues)getRenderer(getFacesContext())).getMarginRight(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginRight(String margin);\n \n   /**\n@@ -53,8 +53,8 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getMargin() != null\\n\"\n-          + \" ? getMargin()\\n\"\n-          + \" : ((MarginValues)getRenderer(getFacesContext())).getMarginTop(getFacesContext(), this)\")\n+          + \" ? getMargin()\\n : getRendererType() != null\"\n+          + \" ? ((MarginValues)getRenderer(getFacesContext())).getMarginTop(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginTop(String margin);\n \n   /**\n@@ -64,8 +64,8 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getMargin() != null\\n\"\n-          + \" ? getMargin()\\n\"\n-          + \" : ((MarginValues)getRenderer(getFacesContext())).getMarginBottom(getFacesContext(), this)\")\n+          + \" ? getMargin()\\n : getRendererType() != null\"\n+          + \" ? ((MarginValues)getRenderer(getFacesContext())).getMarginBottom(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginBottom(String margin);\n \n }"
            },
            {
                "sha": "8d2df8d2d3d12b8b3ccff11dc6d416dcb9553a54",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasSpacing.java",
                "status": "modified",
                "additions": 5,
                "deletions": 4,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasSpacing.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasSpacing.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/HasSpacing.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -43,8 +43,9 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getCellspacing() != null\\n\" \n-          + \" ? getCellspacing()\\n\"\n-          + \" : ((SpacingValues)getRenderer(getFacesContext())).getColumnSpacing(getFacesContext(), this)\")\n+          + \" ? getCellspacing()\\n : getRendererType() != null\"\n+          + \" ? ((SpacingValues)getRenderer(getFacesContext())).getColumnSpacing(getFacesContext(), this)\"\n+          + \" : Measure.ZERO\")\n   void setColumnSpacing(String columnSpacing);\n \n   /**\n@@ -54,7 +55,7 @@\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n       defaultCode = \"getCellspacing() != null\\n\" \n-          + \" ? getCellspacing()\\n\" \n-          + \" : ((SpacingValues)getRenderer(getFacesContext())).getRowSpacing(getFacesContext(), this)\")\n+          + \" ? getCellspacing()\\n : getRendererType() != null\"\n+          + \" ? ((SpacingValues)getRenderer(getFacesContext())).getRowSpacing(getFacesContext(), this) : Measure.ZERO\")\n   void setRowSpacing(String rowSpacing);\n }"
            },
            {
                "sha": "c6424664e896c8df243f6e90bdc9bfe9b2ab5778",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponent.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponent.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -29,7 +29,8 @@\n    * @param width The width for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) getRenderer(getFacesContext())).getWidth(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getWidth(getFacesContext(), this) : Measure.ZERO\")\n   void setWidth(String width);\n \n   /**\n@@ -38,7 +39,8 @@\n    * @param height The height for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) getRenderer(getFacesContext())).getHeight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getHeight(getFacesContext(), this) : Measure.ZERO\")\n   void setHeight(String height);\n \n }"
            },
            {
                "sha": "ba46aa5a823558d7043988f51ef5d48aaaf89ca5",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentBase.java",
                "status": "modified",
                "additions": 20,
                "deletions": 20,
                "changes": 40,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentBase.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentBase.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentBase.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -61,80 +61,80 @@\n    * @param minimumWidth The minimum width for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer)\"\n-          + \"getRenderer(getFacesContext())).getMinimumWidth(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMinimumWidth(getFacesContext(), this) : Measure.ZERO\")\n   void setMinimumWidth(String minimumWidth);\n \n   /**\n    * @param minimumHeight The minimum height for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMinimumHeight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMinimumHeight(getFacesContext(), this) : Measure.ZERO\")\n   void setMinimumHeight(String minimumHeight);\n \n   /**\n    * @param preferredWidth The preferred width for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getPreferredWidth(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getPreferredWidth(getFacesContext(), this) : Measure.ZERO\")\n   void setPreferredWidth(String preferredWidth);\n \n   /**\n    * @param preferredHeight The preferred height for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getPreferredHeight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getPreferredHeight(getFacesContext(), this) : Measure.ZERO\")\n   void setPreferredHeight(String preferredHeight);\n \n   /**\n    * @param maximumWidth The maximum width for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMaximumWidth(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMaximumWidth(getFacesContext(), this) : Measure.ZERO\")\n   void setMaximumWidth(String maximumWidth);\n \n   /**\n    * @param maximumHeight The maximum height for this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMaximumHeight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMaximumHeight(getFacesContext(), this) : Measure.ZERO\")\n   void setMaximumHeight(String maximumHeight);\n \n   /**\n    * @param marginLeft The margin at the left of this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMarginLeft(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMarginLeft(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginLeft(String marginLeft);\n \n   /**\n    * @param marginRight The margin at the right of this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMarginRight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMarginRight(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginRight(String marginRight);\n \n   /**\n    * @param marginTop The margin at the top of this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMarginTop(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMarginTop(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginTop(String marginTop);\n \n   /**\n    * @param marginBottom The margin at the bottom of this component.\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer) \"\n-          + \"getRenderer(getFacesContext())).getMarginBottom(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer) \"\n+          + \"getRenderer(getFacesContext())).getMarginBottom(getFacesContext(), this) : Measure.ZERO\")\n   void setMarginBottom(String marginBottom);\n \n   /**"
            },
            {
                "sha": "1f6f89bfc0e310120fd372d5c19b4325843f47cd",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentWithDimension.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentWithDimension.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentWithDimension.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutComponentWithDimension.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -36,7 +36,8 @@\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer)getRenderer(getFacesContext())).getWidth(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer)\"\n+          + \" getRenderer(getFacesContext())).getWidth(getFacesContext(), this) : Measure.ZERO\")\n   void setWidth(String width);\n \n   /**\n@@ -47,7 +48,8 @@\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((LayoutComponentRenderer)getRenderer(getFacesContext())).getHeight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((LayoutComponentRenderer)\"\n+          + \" getRenderer(getFacesContext())).getHeight(getFacesContext(), this) : Measure.ZERO\")\n   void setHeight(String height);\n \n }"
            },
            {
                "sha": "a383d92cbe89bbf75b73b9abadec9fa433374078",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutContainer.java",
                "status": "modified",
                "additions": 16,
                "deletions": 16,
                "changes": 32,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutContainer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0bf08163a9aae90597bdbe9a791c22979b3121f9/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutContainer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/declaration/IsGridLayoutContainer.java?ref=0bf08163a9aae90597bdbe9a791c22979b3121f9",
                "patch": "@@ -30,8 +30,8 @@\n    */\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getBorderLeft(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \" getRenderer(getFacesContext())).getBorderLeft(getFacesContext(), this) : Measure.ZERO\")\n   void setBorderLeft(String borderLeft);\n \n   /**\n@@ -40,8 +40,8 @@\n    * @param borderRight The right border which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getBorderRight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getBorderRight(getFacesContext(), this) : Measure.ZERO\")\n   void setBorderRight(String borderRight);\n \n   /**\n@@ -50,8 +50,8 @@\n    * @param borderTop The top border which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getBorderTop(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getBorderTop(getFacesContext(), this) : Measure.ZERO\")\n   void setBorderTop(String borderTop);\n \n   /**\n@@ -60,8 +60,8 @@\n    * @param borderBottom The bottom border which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getBorderBottom(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getBorderBottom(getFacesContext(), this) : Measure.ZERO\")\n   void setBorderBottom(String borderBottom);\n \n   /**\n@@ -71,8 +71,8 @@\n    */\n   @UIComponentTagAttribute(\n       type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getPaddingLeft(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getPaddingLeft(getFacesContext(), this) : Measure.ZERO\")\n   void setPaddingLeft(String paddingLeft);\n \n   /**\n@@ -81,8 +81,8 @@\n    * @param paddingRight The right padding which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getPaddingRight(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getPaddingRight(getFacesContext(), this) : Measure.ZERO\")\n   void setPaddingRight(String paddingRight);\n \n   /**\n@@ -91,8 +91,8 @@\n    * @param paddingTop The top padding which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getPaddingTop(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getPaddingTop(getFacesContext(), this) : Measure.ZERO\")\n   void setPaddingTop(String paddingTop);\n \n   /**\n@@ -101,8 +101,8 @@\n    * @param paddingBottom The bottom padding which is needed by some containers (e. g. a box).\n    */\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.Measure\",\n-      defaultCode = \"((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n-          + \"getRenderer(getFacesContext())).getPaddingBottom(getFacesContext(), this)\")\n+      defaultCode = \"getRendererType() != null ? ((org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer)\\n\"\n+          + \"getRenderer(getFacesContext())).getPaddingBottom(getFacesContext(), this) : Measure.ZERO\")\n   void setPaddingBottom(String paddingBottom);\n \n   /**"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/d4abbfa61d416f24abea1a42cb7625526d012ebd",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/5b302d484de6bdf1db996984ce0b8fd21269c95a",
        "message": "TOBAGO-1459 - Possilble NPE in SplitLayoutRenderer: merge trunk Revision #1676039 to 3.0 branch",
        "bug_id": "myfaces-tobago_64",
        "file": [
            {
                "sha": "b04fd1b338a7ff8a357504293b7f0d40e03d6b02",
                "filename": "tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "status": "modified",
                "additions": 9,
                "deletions": 4,
                "changes": 13,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/d4abbfa61d416f24abea1a42cb7625526d012ebd/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/d4abbfa61d416f24abea1a42cb7625526d012ebd/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-extension/tobago-sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SplitLayoutRenderer.java?ref=d4abbfa61d416f24abea1a42cb7625526d012ebd",
                "patch": "@@ -115,15 +115,20 @@ private String createDraggableContainment(final AbstractUISplitLayout layout) {\n     final LayoutComponent firstComponent = container.getComponents().get(0);\n     final LayoutComponent secondComponent = container.getComponents().get(1);\n \n+    Measure minimum;\n     if (AbstractUISplitLayout.HORIZONTAL.equals(layout.getOrientation())) {\n-      final int minimumSize1 = firstComponent.getMinimumWidth().getPixel();\n-      final int minimumSize2 = secondComponent.getMinimumWidth().getPixel();\n+      minimum = firstComponent.getMinimumWidth();\n+      final int minimumSize1 = minimum != null ? minimum.getPixel() : 0;\n+      minimum = secondComponent.getMinimumWidth();\n+      final int minimumSize2 = minimum != null ? minimum.getPixel() : 0;\n       final int totalSize = container.getCurrentWidth().getPixel();\n       return new StringBuilder(\"[\").append(minimumSize1).append(\", 0, \").append(totalSize-minimumSize2).append(\", 0]\")\n           .toString();\n     } else {\n-      final int minimumSize1 = firstComponent.getMinimumHeight().getPixel();\n-      final int minimumSize2 = secondComponent.getMinimumHeight().getPixel();\n+      minimum = firstComponent.getMinimumHeight();\n+      final int minimumSize1 = minimum != null ? minimum.getPixel() : 0;\n+      minimum = secondComponent.getMinimumHeight();\n+      final int minimumSize2 = minimum != null ? minimum.getPixel() : 0;\n       final int totalSize = container.getCurrentHeight().getPixel();\n       return new StringBuilder(\"[0, \").append(minimumSize1).append(\", 0, \").append(totalSize-minimumSize2).append(\"]\")\n           .toString();"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/c0264a7fe1e695f514041c727d1d08810b27b8f3",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/602e6bf160a8f708160841b765ea5ffdb50c0848",
        "message": "TOBAGO-1171: Support for the Content Security Policy (CSP)\n NPE",
        "bug_id": "myfaces-tobago_65",
        "file": [
            {
                "sha": "0fde239cf2573726ca7bdfcead2f1f0cb0beb0c3",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c0264a7fe1e695f514041c727d1d08810b27b8f3/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c0264a7fe1e695f514041c727d1d08810b27b8f3/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/context/UserAgent.java?ref=c0264a7fe1e695f514041c727d1d08810b27b8f3",
                "patch": "@@ -177,7 +177,7 @@\n   private final CspHeader cspHeader;\n \n   private UserAgent(String name, String version) {\n-    this(name, version, EnumSet.of(Capability.CONTENT_TYPE_XHTML), null);\n+    this(name, version, EnumSet.of(Capability.CONTENT_TYPE_XHTML));\n   }\n \n   private UserAgent(String name, String version, EnumSet<Capability> capabilities) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/fbca537a53540c408c6630f9aee96b10023cf435",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/53abf54cb8685e893085f8aa7c13fc8d5bdde415",
        "message": "TOBAGO-1078: Optimize auto layout for sheet\n - avoid NPE",
        "bug_id": "myfaces-tobago_66",
        "file": [
            {
                "sha": "8c428cd123201f898c8e6515b938f93ea8dbebc7",
                "filename": "tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 6,
                "deletions": 2,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fbca537a53540c408c6630f9aee96b10023cf435/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fbca537a53540c408c6630f9aee96b10023cf435/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java?ref=fbca537a53540c408c6630f9aee96b10023cf435",
                "patch": "@@ -243,8 +243,12 @@ private void renderSheet(FacesContext facesContext, UISheet sheet, boolean hasCl\n     bodyStyle.setHeight(null);\n     bodyStyle.setTop(null);\n     Style sheetBodyStyle = new Style(bodyStyle);\n-    if (sheet.getNeedVerticalScrollbar()) {\n-      tableBodyWidth = tableBodyWidth.subtractNotNegative(getVerticalScrollbarWeight(facesContext, sheet));\n+    if (sheet.getNeedVerticalScrollbar() == null) {\n+      LOG.warn(\"Value of needVerticalScrollbar undefined!\"); // why this value isn't set by the layout manager?\n+    } else {\n+      if (sheet.getNeedVerticalScrollbar()) {\n+        tableBodyWidth = tableBodyWidth.subtractNotNegative(getVerticalScrollbarWeight(facesContext, sheet));\n+      }\n     }\n     sheetBodyStyle.setWidth(tableBodyWidth);\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/6ee7b59cb816e95ec0a45c2542e89c3b87ae987c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/5859e77d1b3b8c393295d5ddd74551867cbae4f9",
        "message": "TOBAGO-1435: New Layout: ColumnLayout which uses 12 columns (like Bootstrap)\n - fix: NPE when rendered=\"false\"",
        "bug_id": "myfaces-tobago_67",
        "file": [
            {
                "sha": "5e7942da1458f95c9fb63ea7a25c752bb7cb206b",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ColumnLayoutRenderer.java",
                "status": "modified",
                "additions": 14,
                "deletions": 6,
                "changes": 20,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/6ee7b59cb816e95ec0a45c2542e89c3b87ae987c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ColumnLayoutRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/6ee7b59cb816e95ec0a45c2542e89c3b87ae987c/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ColumnLayoutRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/ColumnLayoutRenderer.java?ref=6ee7b59cb816e95ec0a45c2542e89c3b87ae987c",
                "patch": "@@ -72,12 +72,14 @@ public void encodeChildren(final FacesContext facesContext, final UIComponent co\n         columnLayout.getMedium(),\n         columnLayout.getLarge());\n     for (UIComponent child : children) {\n-      if (child instanceof UIExtensionPanel) {\n-        for (UIComponent subChild : child.getChildren()) {\n-          encodeChild(facesContext, writer, generator, subChild);\n+      if (child.isRendered()) {\n+        if (child instanceof UIExtensionPanel) {\n+          for (UIComponent subChild : child.getChildren()) {\n+            encodeChild(facesContext, writer, generator, subChild);\n+          }\n+        } else {\n+          encodeChild(facesContext, writer, generator, child);\n         }\n-      } else {\n-        encodeChild(facesContext, writer, generator, child);\n       }\n     }\n   }\n@@ -86,7 +88,13 @@ private void encodeChild(\n       final FacesContext facesContext, final TobagoResponseWriter writer,\n       final BootstrapCssGenerator generator, final UIComponent child) throws IOException {\n     if (child instanceof UILabel) {\n-      generator.generate(((UILabel) child).getCurrentCss());\n+      final UILabel label = (UILabel) child;\n+      Css currentCss = label.getCurrentCss();\n+      if (currentCss == null) {\n+        currentCss = new Css();\n+        label.setCurrentCss(currentCss);\n+      }\n+      generator.generate(currentCss);\n       RenderUtils.encode(facesContext, child);\n     } else {\n       writer.startElement(HtmlElements.DIV, null);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/8cf2961e45bf868eea3f5059ea4e556d87e5e205",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/c76173f82102be943b31aa13608614f76e9c50cd",
        "message": "TOBAGO-606: Layout-Manager\n - prevent NPE in unit tests",
        "bug_id": "myfaces-tobago_68",
        "file": [
            {
                "sha": "d63ca587871c0ecfac4bc690ac39941915b13a0a",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/layout/math/AbstractEquation.java",
                "status": "modified",
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/8cf2961e45bf868eea3f5059ea4e556d87e5e205/core/src/main/java/org/apache/myfaces/tobago/layout/math/AbstractEquation.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/8cf2961e45bf868eea3f5059ea4e556d87e5e205/core/src/main/java/org/apache/myfaces/tobago/layout/math/AbstractEquation.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/layout/math/AbstractEquation.java?ref=8cf2961e45bf868eea3f5059ea4e556d87e5e205",
                "patch": "@@ -33,8 +33,11 @@ public void appendDebug(StringBuilder builder) {\n       UIComponent component = (UIComponent) debug;\n       builder.append(\" (\");\n       builder.append(component.getClass().getSimpleName());\n-      builder.append(\", id=\");\n-      builder.append(component.getClientId(FacesContext.getCurrentInstance()));\n+      FacesContext facesContext = FacesContext.getCurrentInstance();\n+      if (facesContext != null) {\n+        builder.append(\", id=\");\n+        builder.append(component.getClientId(facesContext));\n+      }\n       builder.append(\")\");\n     } else {\n       builder.append(\" (\");"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/2f10f35b67e6e9da058f6fe7ed91418a8b3683da",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/1d9c4eeea2da84cde81b5865c5782fb620c03005",
        "message": "(TOBAGO-176) prevent NPE when onclick is empty",
        "bug_id": "myfaces-tobago_69",
        "file": [
            {
                "sha": "3844f5953395b597f8c7540a096d273406b1e300",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/2f10f35b67e6e9da058f6fe7ed91418a8b3683da/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/2f10f35b67e6e9da058f6fe7ed91418a8b3683da/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java?ref=2f10f35b67e6e9da058f6fe7ed91418a8b3683da",
                "patch": "@@ -356,7 +356,9 @@ private void renderTabGroupView(\n           // tool bar\n           UIMenuCommand menuItem = (UIMenuCommand) application.createComponent(UIMenuCommand.COMPONENT_TYPE);\n           menuItem.setRendererType(\"MenuCommand\");\n-          menuItem.getAttributes().put(ATTR_ONCLICK, onclick);\n+          if (onclick != null) {\n+            menuItem.getAttributes().put(ATTR_ONCLICK, onclick);\n+          }\n           Object label2 = tab.getAttributes().get(ATTR_LABEL);\n           if (label2 != null) {\n             menuItem.getAttributes().put(ATTR_LABEL, label2);"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/e057fbb11496c71d3e956ac59d936c99b9854222",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/b55d7ce871b15335d3912e3916109aeabb8b34ad",
        "message": "(TOBAGO-176) prevent NPE when label is empty",
        "bug_id": "myfaces-tobago_70",
        "file": [
            {
                "sha": "67b5e77ed7e91b7f9047f22ea277d3cbaeee63df",
                "filename": "theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "status": "modified",
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e057fbb11496c71d3e956ac59d936c99b9854222/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e057fbb11496c71d3e956ac59d936c99b9854222/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java?ref=e057fbb11496c71d3e956ac59d936c99b9854222",
                "patch": "@@ -357,7 +357,10 @@ private void renderTabGroupView(\n           UIMenuCommand menuItem = (UIMenuCommand) application.createComponent(UIMenuCommand.COMPONENT_TYPE);\n           menuItem.setRendererType(\"MenuCommand\");\n           menuItem.getAttributes().put(ATTR_ONCLICK, onclick);\n-          menuItem.getAttributes().put(ATTR_LABEL, tab.getAttributes().get(ATTR_LABEL));\n+          Object label2 = tab.getAttributes().get(ATTR_LABEL);\n+          if (label2 != null) {\n+            menuItem.getAttributes().put(ATTR_LABEL, label2);\n+          }\n           menu.getChildren().add(menuItem);\n \n         }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/27469a2d4d91583f9633cdcf592e9bf4cb8e6c90",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/feab1d9167d81e1c1bb3f8dab5b79ed1baf3d435",
        "message": "TOBAGO-297 ( tc:tree with rendered=false -> NPE in decodePhase)",
        "bug_id": "myfaces-tobago_71",
        "file": [
            {
                "sha": "83340ac2e7d7f320855b6076d12c3f8b06179aaa",
                "filename": "sandbox/src/main/java/org/apache/myfaces/tobago/component/UITree.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/27469a2d4d91583f9633cdcf592e9bf4cb8e6c90/sandbox/src/main/java/org/apache/myfaces/tobago/component/UITree.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/27469a2d4d91583f9633cdcf592e9bf4cb8e6c90/sandbox/src/main/java/org/apache/myfaces/tobago/component/UITree.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/sandbox/src/main/java/org/apache/myfaces/tobago/component/UITree.java?ref=27469a2d4d91583f9633cdcf592e9bf4cb8e6c90",
                "patch": "@@ -192,6 +192,11 @@ public boolean isSelectableTree() {\n   }\n \n   public void processDecodes(FacesContext facesContext) {\n+\n+    if (!isRendered()) {\n+      return;\n+    }\n+\n     if (ComponentUtil.isOutputOnly(this)) {\n       setValid(true);\n     } else {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/feab1d9167d81e1c1bb3f8dab5b79ed1baf3d435",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/0b73c08c81cfed7ea1ae13c24692b37a1e7256f1",
        "message": "TOBAGO-297 ( tc:tree with rendered=false -> NPE in decodePhase)",
        "bug_id": "myfaces-tobago_72",
        "file": [
            {
                "sha": "d747c69c22ab4fad4951e2dbff044290d5ebc6d1",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/component/UITreeOld.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/feab1d9167d81e1c1bb3f8dab5b79ed1baf3d435/core/src/main/java/org/apache/myfaces/tobago/component/UITreeOld.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/feab1d9167d81e1c1bb3f8dab5b79ed1baf3d435/core/src/main/java/org/apache/myfaces/tobago/component/UITreeOld.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/component/UITreeOld.java?ref=feab1d9167d81e1c1bb3f8dab5b79ed1baf3d435",
                "patch": "@@ -283,6 +283,11 @@ public boolean isSelectableTree() {\n   }\n \n   public void processDecodes(FacesContext facesContext) {\n+\n+    if (!isRendered()) {\n+      return;\n+    }\n+    \n     if (ComponentUtil.isOutputOnly(this)) {\n       setValid(true);\n     } else {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/e5fa38c1130a33a2d02dec7df2da404281dfdd03",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/96f658d2e4a21e788c0e62590a039b1d26963cc2",
        "message": "bugfix, prevent NPE in ResourceManagerImpl if using getDefaultClientProperties",
        "bug_id": "myfaces-tobago_73",
        "file": [
            {
                "sha": "1183c682c266fa61d3184785195164818634a07b",
                "filename": "core/src/main/org/apache/myfaces/tobago/context/ClientProperties.java",
                "status": "modified",
                "additions": 6,
                "deletions": 5,
                "changes": 11,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e5fa38c1130a33a2d02dec7df2da404281dfdd03/core/src/main/org/apache/myfaces/tobago/context/ClientProperties.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e5fa38c1130a33a2d02dec7df2da404281dfdd03/core/src/main/org/apache/myfaces/tobago/context/ClientProperties.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/org/apache/myfaces/tobago/context/ClientProperties.java?ref=e5fa38c1130a33a2d02dec7df2da404281dfdd03",
                "patch": "@@ -52,8 +52,9 @@\n \n // ///////////////////////////////////////////// constructors\n \n-  private ClientProperties() {\n-    theme = null; // fixme\n+  private ClientProperties(TobagoConfig tobagoConfig) {\n+    theme = tobagoConfig.getDefaultTheme();\n+    updateId();\n   }\n \n   private ClientProperties(FacesContext facesContext) {\n@@ -104,7 +105,7 @@ private void updateId() {\n     buffer.append(getTheme());\n     buffer.append('/');\n     buffer.append(getUserAgent());\n-    id =  buffer.toString();\n+    id = buffer.toString();\n     final UIViewRoot viewRoot = FacesContext.getCurrentInstance().getViewRoot();\n     if (viewRoot instanceof org.apache.myfaces.tobago.component.UIViewRoot) {\n       ((org.apache.myfaces.tobago.component.UIViewRoot)viewRoot).updateRendererCachePrefix();\n@@ -113,8 +114,8 @@ private void updateId() {\n \n // ///////////////////////////////////////////// logic\n \n-  public static ClientProperties getDefaultInstance() {\n-    return new ClientProperties();\n+  public static ClientProperties getDefaultInstance(FacesContext facesContext) {\n+    return new ClientProperties(TobagoConfig.getInstance(facesContext));\n   }\n \n   public static ClientProperties getInstance(UIViewRoot viewRoot) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/159dad39440512748fec128841eca3a845807d08",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/7e6617decde717a723262de33757ff8649fd6c5f",
        "message": "TOBAGO-1431 - NPE decoding tree state [Merged from trunk: revision 1645621]",
        "bug_id": "myfaces-tobago_74",
        "file": [
            {
                "sha": "a44f0ae4e6dbaf80b44b213e414d1ec0f25f7c7e",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "status": "modified",
                "additions": 20,
                "deletions": 16,
                "changes": 36,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/159dad39440512748fec128841eca3a845807d08/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/159dad39440512748fec128841eca3a845807d08/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/util/RenderUtils.java?ref=159dad39440512748fec128841eca3a845807d08",
                "patch": "@@ -259,27 +259,31 @@ public static void decodedStateOfTreeData(final FacesContext facesContext, final\n       final TreePath path = data.getPath();\n \n       // selected\n-      final SelectedState selectedState = data.getSelectedState();\n-      final boolean oldSelected = selectedState.isSelected(path);\n-      final boolean newSelected = selectedIndices.contains(rowIndex);\n-      if (newSelected != oldSelected) {\n-        if (newSelected) {\n-          selectedState.select(path);\n-        } else {\n-          selectedState.unselect(path);\n+      if (selectedIndices != null) {\n+        final SelectedState selectedState = data.getSelectedState();\n+        final boolean oldSelected = selectedState.isSelected(path);\n+        final boolean newSelected = selectedIndices.contains(rowIndex);\n+        if (newSelected != oldSelected) {\n+          if (newSelected) {\n+            selectedState.select(path);\n+          } else {\n+            selectedState.unselect(path);\n+          }\n         }\n       }\n \n       // expanded\n       if (expandedIndices != null) {\n-        final ExpandedState expandedState = data.getExpandedState();\n-        final boolean oldExpanded = expandedState.isExpanded(path);\n-        final boolean newExpanded = expandedIndices.contains(rowIndex);\n-        if (newExpanded != oldExpanded) {\n-          if (newExpanded) {\n-            expandedState.expand(path);\n-          } else {\n-            expandedState.collapse(path);\n+        if (expandedIndices != null) {\n+          final ExpandedState expandedState = data.getExpandedState();\n+          final boolean oldExpanded = expandedState.isExpanded(path);\n+          final boolean newExpanded = expandedIndices.contains(rowIndex);\n+          if (newExpanded != oldExpanded) {\n+            if (newExpanded) {\n+              expandedState.expand(path);\n+            } else {\n+              expandedState.collapse(path);\n+            }\n           }\n         }\n       }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/2ed3c0c3621c8f7c7e0720f15cce52ccfb515382",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/0372910d981cdeea1253ec4274ac37d9f5c01c1f",
        "message": "Merged from trunk\nfixing NPE when there is no UITreeSelect [from revision 1640548]",
        "bug_id": "myfaces-tobago_75",
        "file": [
            {
                "sha": "4ddb839f67c9f00572a02804ad36d26ef7d8a024",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "status": "modified",
                "additions": 14,
                "deletions": 3,
                "changes": 17,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/2ed3c0c3621c8f7c7e0720f15cce52ccfb515382/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/2ed3c0c3621c8f7c7e0720f15cce52ccfb515382/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/TreeListboxRenderer.java?ref=2ed3c0c3621c8f7c7e0720f15cce52ccfb515382",
                "patch": "@@ -20,6 +20,7 @@\n package org.apache.myfaces.tobago.renderkit.html.standard.standard.tag;\n \n import org.apache.myfaces.tobago.component.RendererTypes;\n+import org.apache.myfaces.tobago.component.UITreeLabel;\n import org.apache.myfaces.tobago.component.UITreeNode;\n import org.apache.myfaces.tobago.component.UITreeSelect;\n import org.apache.myfaces.tobago.internal.component.AbstractUITree;\n@@ -174,11 +175,21 @@ private void encodeSelectBox(\n     writer.writeAttribute(HtmlAttributes.SIZE, 9); // must be > 1, but the real size comes from the layout\n //    writer.writeAttribute(HtmlAttributes.MULTIPLE, siblingMode);\n \n-    final UITreeSelect label = ComponentUtils.findDescendant(tree, UITreeSelect.class);\n-    final Object labelValue = label.getLabel();\n+    final UITreeSelect select = ComponentUtils.findDescendant(tree, UITreeSelect.class);\n+    final String labelValue;\n+    if (select != null) {\n+      labelValue = select.getLabel();\n+    } else {\n+      final UITreeLabel label = ComponentUtils.findDescendant(tree, UITreeLabel.class);\n+      if (label != null) {\n+        labelValue = label.getLabel();\n+      } else {\n+        labelValue = null;\n+      }\n+    }\n     if (labelValue != null) {\n       writer.startElement(HtmlElements.OPTGROUP, tree);\n-      writer.writeAttribute(HtmlAttributes.LABEL, labelValue.toString(), true);\n+      writer.writeAttribute(HtmlAttributes.LABEL, labelValue, true);\n       writer.endElement(HtmlElements.OPTGROUP);\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/fa9d600c94068b46d3508e88065bd100fb80effd",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/110859d99848ad1f997f09534d63105c91c3c199",
        "message": "TOBAGO-1852 Sheet row to open a popup does not work\n\n* <tc:event> can now have children of type <f:ajax> and <tc:operation>\n* Fix a NPE for merging command maps\n* Fix log message when evaluateClientId\n* EventBehavior now have an id to identify related <tc:event> component\n* 'disabled' attribute of <tc:event> is now supported - does the same as rendered\n* A component can now have both <tc:event> and <f:ajax> if only one is enabled\n* Better description for the <tc:event> tag.\n* Improve demo for behavior\n* Add test for behavior.xhtml and sheet-event.xhtml",
        "bug_id": "myfaces-tobago_76",
        "file": [
            {
                "sha": "9e6cb3a906c830adc6ee328e9f52f3a11335e48c",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/EventHandler.java",
                "status": "modified",
                "additions": 15,
                "deletions": 29,
                "changes": 44,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/EventHandler.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/EventHandler.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/facelets/EventHandler.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -23,12 +23,11 @@\n import org.apache.myfaces.tobago.component.ClientBehaviors;\n import org.apache.myfaces.tobago.component.UIEvent;\n import org.apache.myfaces.tobago.internal.behavior.EventBehavior;\n+import org.apache.myfaces.tobago.internal.component.AbstractUIEvent;\n \n import javax.el.MethodExpression;\n import javax.faces.component.PartialStateHolder;\n import javax.faces.component.UIComponent;\n-import javax.faces.component.behavior.AjaxBehavior;\n-import javax.faces.component.behavior.ClientBehavior;\n import javax.faces.component.behavior.ClientBehaviorHolder;\n import javax.faces.context.FacesContext;\n import javax.faces.event.AbortProcessingException;\n@@ -42,8 +41,6 @@\n import javax.faces.view.facelets.TagAttributeException;\n import javax.faces.view.facelets.TagException;\n import java.io.IOException;\n-import java.util.List;\n-import java.util.Map;\n \n /**\n  * This tag creates an instance of AjaxBehavior, and associates it with the nearest\n@@ -141,37 +138,26 @@ public void applyAttachedObject(final FacesContext context, final UIComponent pa\n     final FaceletContext faceletContext = (FaceletContext) context\n         .getAttributes().get(FaceletContext.FACELET_CONTEXT_KEY);\n \n-    // cast to a ClientBehaviorHolder\n-    final ClientBehaviorHolder cvh = (ClientBehaviorHolder) parent;\n+    final ClientBehaviorHolder clientBehaviorHolder = (ClientBehaviorHolder) parent;\n+    final UIComponent lastChild = parent.getChildren().stream().skip(parent.getChildCount() - 1).findFirst().orElse(null);\n+    final AbstractUIEvent abstractUIEvent = lastChild instanceof AbstractUIEvent ? (AbstractUIEvent) lastChild : null;\n \n-    String eventName = getEventName();\n-    if (eventName == null) {\n-      eventName = cvh.getDefaultEventName();\n+    if (abstractUIEvent != null) {\n+      String eventName = getEventName();\n       if (eventName == null) {\n-        throw new TagAttributeException(event, \"eventName could not be defined for f:ajax tag with no wrap mode.\");\n-      }\n-    } else if (!cvh.getEventNames().contains(eventName)) {\n-      throw new TagAttributeException(event, \"event it is not a valid eventName defined for this component\");\n-    }\n-\n-    final Map<String, List<ClientBehavior>> clientBehaviors = cvh.getClientBehaviors();\n-\n-    final List<ClientBehavior> clientBehaviorList = clientBehaviors.get(eventName);\n-    if (clientBehaviorList != null && !clientBehaviorList.isEmpty()) {\n-      for (final ClientBehavior cb : clientBehaviorList) {\n-        if (cb instanceof AjaxBehavior) {\n-          // The most inner one has been applied, so according to\n-          // jsf 2.0 spec section 10.4.1.1 it is not necessary to apply\n-          // this one, because the inner one has precendece over\n-          // the outer one.\n-          return;\n+        eventName = clientBehaviorHolder.getDefaultEventName();\n+        if (eventName == null) {\n+          throw new TagAttributeException(event, \"eventName could not be defined for f:ajax tag with no wrap mode.\");\n         }\n+      } else if (!clientBehaviorHolder.getEventNames().contains(eventName)) {\n+        throw new TagAttributeException(event, \"event it is not a valid eventName defined for this component\");\n       }\n-    }\n \n-    final EventBehavior ajaxBehavior = createBehavior(context);\n+      final EventBehavior eventBehavior = createBehavior(context);\n+      eventBehavior.setId(abstractUIEvent.getId());\n \n-    cvh.addClientBehavior(eventName, ajaxBehavior);\n+      clientBehaviorHolder.addClientBehavior(eventName, eventBehavior);\n+    }\n   }\n \n   protected EventBehavior createBehavior(final FacesContext context) {"
            },
            {
                "sha": "8b342d3f265627c22c7fb990ead4c3d87e584216",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/behavior/EventBehavior.java",
                "status": "modified",
                "additions": 9,
                "deletions": 0,
                "changes": 9,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/behavior/EventBehavior.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/behavior/EventBehavior.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/behavior/EventBehavior.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -56,6 +56,7 @@\n   private static final String ATTR_RENDER = \"render\";\n   private static final String ATTR_DISABLED = \"disabled\";\n   private static final String ATTR_IMMEDIATE = \"immediate\";\n+  private static final String ATTR_ID = \"id\";\n \n   /**\n    * special render and execute targets\n@@ -189,6 +190,14 @@ public boolean isImmediateSet() {\n     return (getStateHelper().get(ATTR_IMMEDIATE) != null) || (getValueExpression(ATTR_IMMEDIATE) != null);\n   }\n \n+  public String getId() {\n+    return (String) getStateHelper().eval(ATTR_ID);\n+  }\n+\n+  public void setId(final String clientId) {\n+    getStateHelper().put(ATTR_ID, clientId);\n+  }\n+\n   @Override\n   public Set<ClientBehaviorHint> getHints() {\n     return EnumSet.of(ClientBehaviorHint.SUBMITTING);"
            },
            {
                "sha": "6265e8540a070663599b7cd29c28c3d0059a061d",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIEvent.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIEvent.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIEvent.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUIEvent.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -21,10 +21,12 @@\n \n import org.apache.myfaces.tobago.component.ClientBehaviors;\n \n+import javax.faces.component.behavior.ClientBehaviorHolder;\n+\n /**\n  * {@link org.apache.myfaces.tobago.internal.taglib.component.EventTagDeclaration}\n  */\n-public abstract class AbstractUIEvent extends AbstractUICommandBase {\n+public abstract class AbstractUIEvent extends AbstractUICommandBase implements ClientBehaviorHolder {\n \n   public abstract ClientBehaviors getEvent();\n "
            },
            {
                "sha": "b2816f076e8c5bb1839a077a3f33cf60cdb25c3e",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/CommandMap.java",
                "status": "modified",
                "additions": 10,
                "deletions": 8,
                "changes": 18,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/CommandMap.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/CommandMap.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/CommandMap.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -104,14 +104,16 @@ public static CommandMap merge(final CommandMap m1, final CommandMap m2) {\n             c1.merge(c2);\n           }\n         } else {\n-          for (final Map.Entry<ClientBehaviors, Command> entry : m2.getOther().entrySet()) {\n-            final ClientBehaviors key = entry.getKey();\n-            final Command value = entry.getValue();\n-            if (m1.other.containsKey(key)) {\n-              final Command command = m1.other.get(key);\n-              command.merge(value);\n-            } else {\n-              m1.addCommand(key, value);\n+          if (m1.other != null && m2.getOther() != null) {\n+            for (final Map.Entry<ClientBehaviors, Command> entry : m2.getOther().entrySet()) {\n+              final ClientBehaviors key = entry.getKey();\n+              final Command value = entry.getValue();\n+              if (m1.other.containsKey(key)) {\n+                final Command command = m1.other.get(key);\n+                command.merge(value);\n+              } else {\n+                m1.addCommand(key, value);\n+              }\n             }\n           }\n         }"
            },
            {
                "sha": "209e05ab10ed00069d94965e3a2439340b2c866e",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/RowRenderer.java",
                "status": "modified",
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/RowRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/RowRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/RowRenderer.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -33,7 +33,11 @@ protected void commandActivated(final UIComponent component) {\n     AbstractUIEvent event = null;\n     for (final UIComponent uiComponent : component.getChildren()) {\n       if (uiComponent instanceof AbstractUIEvent) {\n-        event = (AbstractUIEvent) uiComponent;\n+        AbstractUIEvent abstractUIEvent = (AbstractUIEvent) uiComponent;\n+        if (abstractUIEvent.isRendered() && !abstractUIEvent.isDisabled()) {\n+          event = (AbstractUIEvent) uiComponent;\n+          break;\n+        }\n       }\n     }\n     if (event != null) {"
            },
            {
                "sha": "e5d68e6ef53d151b8c31e5455a9f4299e782af34",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "status": "modified",
                "additions": 47,
                "deletions": 28,
                "changes": 75,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/renderkit/renderer/TobagoClientBehaviorRenderer.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -53,6 +53,7 @@\n   /**\n    * In standard JSF this method returns a JavaScript string. Because of CSP, Tobago doesn't render JavaScript\n    * into the HTML content. It transports the return value a bit hacky by {@link CommandMap#storeCommandMap}.\n+   *\n    * @return \"dummy\" string or null, if nothing to do.\n    */\n   @Override\n@@ -63,7 +64,7 @@ public String getScript(final ClientBehaviorContext behaviorContext, final Clien\n     final ClientBehaviors eventName = ClientBehaviors.valueOf(behaviorContext.getEventName());\n \n     //// TBD: is this nice? May be implemented with a JSF behaviour?\n-    final Collapse collapse = createCollapsible(facesContext, uiComponent);\n+    Collapse collapse = createCollapsible(facesContext, uiComponent);\n \n     String executeIds = null;\n     String renderIds = null;\n@@ -73,7 +74,7 @@ public String getScript(final ClientBehaviorContext behaviorContext, final Clien\n     boolean omit = false;\n     if (behavior instanceof AjaxBehavior) {\n       final AjaxBehavior ajaxBehavior = (AjaxBehavior) behavior;\n-      if (ajaxBehavior.isDisabled()){\n+      if (ajaxBehavior.isDisabled()) {\n         return null;\n       }\n       final Collection<String> execute = ajaxBehavior.getExecute();\n@@ -97,14 +98,19 @@ public String getScript(final ClientBehaviorContext behaviorContext, final Clien\n           ComponentUtils.evaluateClientIds(facesContext, uiComponent, render.toArray(new String[render.size()]));\n       actionId = clientId;\n     } else if (behavior instanceof EventBehavior) { // <tc:event>\n-      final AbstractUIEvent event = findEvent(uiComponent, eventName);\n+      final EventBehavior eventBehavior = (EventBehavior) behavior;\n+      final AbstractUIEvent event = RenderUtils.getAbstractUIEvent(uiComponent, eventBehavior);\n+\n       if (event != null) {\n-        if (!event.isRendered()) {\n+        if (!event.isRendered() || event.isDisabled()) {\n           return null;\n         } else {\n           transition = event.isTransition();\n           target = event.getTarget();\n           actionId = event.getClientId(facesContext);\n+          if (collapse == null) {\n+            collapse = createCollapsible(facesContext, event);\n+          }\n           omit = event.isOmit() || StringUtils.isNotBlank(RenderUtils.generateUrl(facesContext, event));\n         }\n       }\n@@ -132,39 +138,52 @@ public String getScript(final ClientBehaviorContext behaviorContext, final Clien\n     return \"dummy\";\n   }\n \n-  private AbstractUIEvent findEvent(final UIComponent component, final ClientBehaviors eventName) {\n-    for (final UIComponent child : component.getChildren()) {\n-      if (child instanceof AbstractUIEvent) {\n-        final AbstractUIEvent event = (AbstractUIEvent) child;\n-        if (eventName == event.getEvent()) {\n-          return event;\n-        }\n+  @Override\n+  public void decode(final FacesContext facesContext, final UIComponent component,\n+      final ClientBehavior clientBehavior) {\n+    if (clientBehavior instanceof AjaxBehavior) {\n+      AjaxBehavior ajaxBehavior = (AjaxBehavior) clientBehavior;\n+      if (!component.isRendered() || ajaxBehavior.isDisabled()) {\n+        return;\n       }\n-    }\n-    return null;\n-  }\n \n-  @Override\n-  public void decode(final FacesContext context, final UIComponent component, final ClientBehavior behavior) {\n-    final AjaxBehavior ajaxBehavior = (AjaxBehavior) behavior;\n-    if (ajaxBehavior.isDisabled() || !component.isRendered()) {\n-      return;\n-    }\n+      dispatchBehaviorEvent(component, ajaxBehavior);\n+    } else if (clientBehavior instanceof EventBehavior) {\n+      final EventBehavior eventBehavior = (EventBehavior) clientBehavior;\n+      final AbstractUIEvent abstractUIEvent = RenderUtils.getAbstractUIEvent(component, eventBehavior);\n \n-    dispatchBehaviorEvent(component, ajaxBehavior);\n-  }\n+      if (!component.isRendered() || abstractUIEvent == null\n+          || !abstractUIEvent.isRendered() || abstractUIEvent.isDisabled()) {\n+        return;\n+      }\n \n-  private void dispatchBehaviorEvent(final UIComponent component, final AjaxBehavior ajaxBehavior) {\n+      for (List<ClientBehavior> children : abstractUIEvent.getClientBehaviors().values()) {\n+        for (ClientBehavior child : children) {\n+          decode(facesContext, component, child);\n+        }\n+      }\n+      dispatchBehaviorEvent(component, eventBehavior);\n+    }\n+  }\n \n-    final AjaxBehaviorEvent event = new AjaxBehaviorEvent(component, ajaxBehavior);\n-    final boolean isImmediate = isImmediate(ajaxBehavior, component);\n+  private void dispatchBehaviorEvent(final UIComponent component, final ClientBehavior clientBehavior) {\n+    final AjaxBehaviorEvent event = new AjaxBehaviorEvent(component, clientBehavior);\n+    final boolean isImmediate = isImmediate(clientBehavior, component);\n     event.setPhaseId(isImmediate ? PhaseId.APPLY_REQUEST_VALUES : PhaseId.INVOKE_APPLICATION);\n     component.queueEvent(event);\n   }\n \n-  private boolean isImmediate(final AjaxBehavior ajaxBehavior, final UIComponent component) {\n-    if (ajaxBehavior.isImmediateSet()) {\n-      return ajaxBehavior.isImmediate();\n+  private boolean isImmediate(final ClientBehavior clientBehavior, final UIComponent component) {\n+    if (clientBehavior instanceof AjaxBehavior) {\n+      AjaxBehavior ajaxBehavior = (AjaxBehavior) clientBehavior;\n+      if (ajaxBehavior.isImmediateSet()) {\n+        return ajaxBehavior.isImmediate();\n+      }\n+    } else if (clientBehavior instanceof EventBehavior) {\n+      EventBehavior eventBehavior = (EventBehavior) clientBehavior;\n+      if (eventBehavior.isImmediateSet()) {\n+        return eventBehavior.isImmediate();\n+      }\n     }\n     if (component instanceof EditableValueHolder) {\n       return ((EditableValueHolder) component).isImmediate();"
            },
            {
                "sha": "abb64663da665e0108f444facf405249ee1de7d8",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/EventTagDeclaration.java",
                "status": "modified",
                "additions": 20,
                "deletions": 0,
                "changes": 20,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/EventTagDeclaration.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/EventTagDeclaration.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/EventTagDeclaration.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -19,10 +19,12 @@\n \n package org.apache.myfaces.tobago.internal.taglib.component;\n \n+import org.apache.myfaces.tobago.apt.annotation.Behavior;\n import org.apache.myfaces.tobago.apt.annotation.Tag;\n import org.apache.myfaces.tobago.apt.annotation.TagAttribute;\n import org.apache.myfaces.tobago.apt.annotation.UIComponentTag;\n import org.apache.myfaces.tobago.apt.annotation.UIComponentTagAttribute;\n+import org.apache.myfaces.tobago.component.ClientBehaviors;\n import org.apache.myfaces.tobago.component.RendererTypes;\n import org.apache.myfaces.tobago.internal.taglib.declaration.HasAction;\n import org.apache.myfaces.tobago.internal.taglib.declaration.HasActionListener;\n@@ -42,6 +44,7 @@\n \n /**\n  * Add an event behavior to the component.\n+ * It can contain f:ajax and tc:operation tags.\n  */\n @Tag(name = \"event\")\n @UIComponentTag(uiComponent = \"org.apache.myfaces.tobago.component.UIEvent\",\n@@ -53,13 +56,30 @@\n         // As long as no behavior event names are defined, ClientBehaviorHolder must be implemented for Majorra.\n         \"javax.faces.component.behavior.ClientBehaviorHolder\"\n     },\n+    behaviors = {\n+        @Behavior(name = ClientBehaviors.CHANGE),\n+        @Behavior(\n+            name = ClientBehaviors.CLICK,\n+            description = \"Behavior of a click event.\",\n+            isDefault = true),\n+        @Behavior(name = ClientBehaviors.DBLCLICK),\n+        @Behavior(name = ClientBehaviors.FOCUS),\n+        @Behavior(name = ClientBehaviors.BLUR),\n+        @Behavior(name = ClientBehaviors.MOUSEOUT),\n+        @Behavior(name = ClientBehaviors.MOUSEOVER),\n+        @Behavior(name = ClientBehaviors.COMPLETE),\n+        @Behavior(name = ClientBehaviors.LOAD),\n+        @Behavior(name = ClientBehaviors.RELOAD),\n+        @Behavior(name = ClientBehaviors.RESIZE)\n+    },\n     faceletHandler = \"org.apache.myfaces.tobago.facelets.EventHandler\")\n public interface EventTagDeclaration\n     extends HasIdBindingAndRendered, HasAction, HasActionListener, IsImmediateCommand, HasConfirmation,\n     HasLink, HasOutcome, HasFragment, IsTransition, HasTarget, IsDisabledBySecurity, IsOmit {\n \n   /**\n    * The name of the event as an instance of {@link org.apache.myfaces.tobago.component.ClientBehaviors}\n+   * This will be also overwrite events of possible f:ajax children.\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.component.ClientBehaviors\")"
            },
            {
                "sha": "50c6efe78b9f7bda979a5c68003d9bd55ddd118c",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/RenderUtils.java",
                "status": "modified",
                "additions": 67,
                "deletions": 26,
                "changes": 93,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/RenderUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/RenderUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/RenderUtils.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -20,9 +20,11 @@\n package org.apache.myfaces.tobago.internal.util;\n \n import org.apache.myfaces.tobago.component.ClientBehaviors;\n+import org.apache.myfaces.tobago.internal.behavior.EventBehavior;\n import org.apache.myfaces.tobago.internal.component.AbstractUICommand;\n import org.apache.myfaces.tobago.internal.component.AbstractUICommandBase;\n import org.apache.myfaces.tobago.internal.component.AbstractUIData;\n+import org.apache.myfaces.tobago.internal.component.AbstractUIEvent;\n import org.apache.myfaces.tobago.internal.component.AbstractUITreeNodeBase;\n import org.apache.myfaces.tobago.internal.renderkit.Command;\n import org.apache.myfaces.tobago.internal.renderkit.CommandMap;\n@@ -51,6 +53,7 @@\n import java.net.URLEncoder;\n import java.util.List;\n import java.util.Map;\n+import java.util.Objects;\n \n public final class RenderUtils {\n \n@@ -289,41 +292,79 @@ public static String generateUrl(final FacesContext facesContext, final Abstract\n     return url;\n   }\n \n-  public static CommandMap getBehaviorCommands(final FacesContext facesContext, final ClientBehaviorHolder holder) {\n-    CommandMap map = null;\n-    final Map<String, List<ClientBehavior>> behaviors = holder.getClientBehaviors();\n-    for (final Map.Entry<String, List<ClientBehavior>> behaviorMap : behaviors.entrySet()) {\n-      final String key = behaviorMap.getKey();\n-      final ClientBehaviorContext context = ClientBehaviorContext.createClientBehaviorContext(\n-          facesContext, (UIComponent) holder, key, ((UIComponent) holder).getClientId(facesContext), null);\n-      for (final ClientBehavior clientBehavior : behaviorMap.getValue()) {\n-        if (clientBehavior instanceof ClientBehaviorBase) {\n-          String type = ((ClientBehaviorBase) clientBehavior).getRendererType();\n-          // XXX this is to use a different renderer for Tobago components and other components.\n-          if (type.equals(AjaxBehavior.BEHAVIOR_ID)) {\n-            type = \"org.apache.myfaces.tobago.behavior.Ajax\";\n-          }\n-          final ClientBehaviorRenderer renderer = facesContext.getRenderKit().getClientBehaviorRenderer(type);\n-          final String dummy = renderer.getScript(context, clientBehavior);\n-          if (dummy != null) {\n-            map = CommandMap.merge(map, CommandMap.restoreCommandMap(facesContext));\n+  public static CommandMap getBehaviorCommands(final FacesContext facesContext,\n+      final ClientBehaviorHolder clientBehaviorHolder) {\n+    CommandMap commandMap = null;\n+\n+    for (final Map.Entry<String, List<ClientBehavior>> entry : clientBehaviorHolder.getClientBehaviors().entrySet()) {\n+      final String eventName = entry.getKey();\n+      final ClientBehaviorContext clientBehaviorContext\n+          = getClientBehaviorContext(facesContext, clientBehaviorHolder, eventName);\n+\n+      for (final ClientBehavior clientBehavior : entry.getValue()) {\n+        if (clientBehavior instanceof EventBehavior) {\n+          final EventBehavior eventBehavior = (EventBehavior) clientBehavior;\n+          final AbstractUIEvent abstractUIEvent = getAbstractUIEvent((UIComponent) clientBehaviorHolder, eventBehavior);\n+\n+          if (abstractUIEvent != null && abstractUIEvent.isRendered() && !abstractUIEvent.isDisabled()) {\n+            for (List<ClientBehavior> children : abstractUIEvent.getClientBehaviors().values()) {\n+              for (ClientBehavior child : children) {\n+                final CommandMap childMap = getCommandMap(facesContext, clientBehaviorContext, child);\n+                commandMap = CommandMap.merge(commandMap, childMap);\n+              }\n+            }\n           }\n-        } else {\n-          LOG.warn(\"Ignoring: '{}'\", clientBehavior);\n         }\n+\n+        final CommandMap map = getCommandMap(facesContext, clientBehaviorContext, clientBehavior);\n+        commandMap = CommandMap.merge(commandMap, map);\n       }\n     }\n \n     // if there is no explicit behavior (with f:ajax or tc:event), use the command properties as default.\n-    // tbd: think about refactoring: put this into TobagoClientBehaviorRenderer\n-    if ((map == null || map.isEmpty()) && holder instanceof AbstractUICommand) {\n-      if (map == null) {\n-        map = new CommandMap();\n+    if ((commandMap == null || commandMap.isEmpty()) && clientBehaviorHolder instanceof AbstractUICommand) {\n+      if (commandMap == null) {\n+        commandMap = new CommandMap();\n       }\n-      map.addCommand(ClientBehaviors.click, new Command(facesContext, (AbstractUICommand) holder));\n+      commandMap.addCommand(ClientBehaviors.click, new Command(facesContext, (AbstractUICommand) clientBehaviorHolder));\n     }\n \n-    return map;\n+    return commandMap;\n+  }\n+\n+  private static ClientBehaviorContext getClientBehaviorContext(final FacesContext facesContext,\n+      final ClientBehaviorHolder clientBehaviorHolder, final String eventName) {\n+    UIComponent component = (UIComponent) clientBehaviorHolder;\n+    return ClientBehaviorContext.createClientBehaviorContext(facesContext, component, eventName,\n+        component.getClientId(facesContext), null);\n+  }\n+\n+  public static AbstractUIEvent getAbstractUIEvent(final UIComponent parent,\n+      final EventBehavior eventBehavior) {\n+    return (AbstractUIEvent) parent.getChildren().stream()\n+        .filter(child -> child instanceof AbstractUIEvent)\n+        .filter(child -> Objects.equals(child.getId(), eventBehavior.getId()))\n+        .findFirst().orElse(null);\n+  }\n+\n+  private static CommandMap getCommandMap(final FacesContext facesContext,\n+      final ClientBehaviorContext clientBehaviorContext, final ClientBehavior clientBehavior) {\n+    if (clientBehavior instanceof ClientBehaviorBase) {\n+      String type = ((ClientBehaviorBase) clientBehavior).getRendererType();\n+\n+      // this is to use a different renderer for Tobago components and other components.\n+      if (type.equals(AjaxBehavior.BEHAVIOR_ID)) {\n+        type = \"org.apache.myfaces.tobago.behavior.Ajax\";\n+      }\n+      final ClientBehaviorRenderer renderer = facesContext.getRenderKit().getClientBehaviorRenderer(type);\n+      final String dummy = renderer.getScript(clientBehaviorContext, clientBehavior);\n+      if (dummy != null) {\n+        return CommandMap.restoreCommandMap(facesContext);\n+      }\n+    } else {\n+      LOG.warn(\"Ignoring: '{}'\", clientBehavior);\n+    }\n+    return null;\n   }\n \n   public static void decodeClientBehaviors(final FacesContext facesContext, final UIComponent component) {"
            },
            {
                "sha": "c9045b1344da45dda7acdd6694b619da6cbb2fb3",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/util/ComponentUtils.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -692,7 +692,7 @@ public static String evaluateClientId(\n       return clientId;\n     }\n     LOG.error(\"No component found for id='{}', search base component is '{}'\",\n-        component != null ? component.getClientId(context) : \"<null>\");\n+        componentId, component != null ? component.getClientId(context) : \"<null>\");\n     return null;\n   }\n "
            },
            {
                "sha": "994253002caaf9006cf678f0c1687978ca73ab24",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorController.java",
                "status": "modified",
                "additions": 17,
                "deletions": 2,
                "changes": 19,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorController.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -19,16 +19,19 @@\n \n package org.apache.myfaces.tobago.example.demo;\n \n-import javax.enterprise.context.RequestScoped;\n+import javax.enterprise.context.SessionScoped;\n+import javax.faces.event.ActionEvent;\n+import javax.faces.event.AjaxBehaviorEvent;\n import javax.inject.Named;\n import java.io.Serializable;\n \n-@RequestScoped\n+@SessionScoped\n @Named\n public class BehaviorController implements Serializable {\n \n   private String ajax;\n   private String event;\n+  private int counter;\n \n   public String getAjax() {\n     return ajax;\n@@ -45,4 +48,16 @@ public String getEvent() {\n   public void setEvent(final String event) {\n     this.event = event;\n   }\n+\n+  public int getCounter() {\n+    return counter;\n+  }\n+\n+  public void countUp(final AjaxBehaviorEvent event) {\n+    counter++;\n+  }\n+\n+  public void countUp(final ActionEvent event) {\n+    counter++;\n+  }\n }"
            },
            {
                "sha": "42ed101c7bea4d3cde1b3ef1eb07dfd38552431a",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorTestController.java",
                "status": "added",
                "additions": 213,
                "deletions": 0,
                "changes": 213,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorTestController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorTestController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/BehaviorTestController.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -0,0 +1,213 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.myfaces.tobago.example.demo;\n+\n+import javax.enterprise.context.SessionScoped;\n+import javax.faces.event.ActionEvent;\n+import javax.faces.event.AjaxBehaviorEvent;\n+import javax.inject.Named;\n+import java.io.Serializable;\n+\n+@SessionScoped\n+@Named\n+public class BehaviorTestController implements Serializable {\n+\n+  private int buttonActionCounter;\n+  private int buttonActionListenerCounter;\n+  private int actionCounter1;\n+  private int actionListenerCounter1;\n+  private int ajaxListenerCounter1;\n+  private int actionCounter2;\n+  private int actionListenerCounter2;\n+  private int ajaxListenerCounter2;\n+  private int actionCounter3;\n+  private int actionListenerCounter3;\n+  private int ajaxListenerCounter3;\n+  private int selector;\n+  private boolean eventEnabled1;\n+  private boolean eventEnabled2;\n+  private boolean eventEnabled3;\n+  private boolean ajaxEnabled1;\n+  private boolean ajaxEnabled2;\n+  private boolean ajaxEnabled3;\n+\n+  public BehaviorTestController() {\n+    reset();\n+  }\n+\n+  public void reset() {\n+    buttonActionCounter = 0;\n+    buttonActionListenerCounter = 0;\n+    actionCounter1 = 0;\n+    actionListenerCounter1 = 0;\n+    ajaxListenerCounter1 = 0;\n+    actionCounter2 = 0;\n+    actionListenerCounter2 = 0;\n+    ajaxListenerCounter2 = 0;\n+    actionCounter3 = 0;\n+    actionListenerCounter3 = 0;\n+    ajaxListenerCounter3 = 0;\n+  }\n+\n+  public void countButtonAction() {\n+    buttonActionCounter++;\n+  }\n+\n+  public void countButtonActionListener(ActionEvent actionEvent) {\n+    buttonActionListenerCounter++;\n+  }\n+\n+  public void countAction1() {\n+    actionCounter1++;\n+  }\n+\n+  public void countActionListener1(ActionEvent actionEvent) {\n+    actionListenerCounter1++;\n+  }\n+\n+  public void countAjaxListener1(AjaxBehaviorEvent ajaxBehaviorEvent) {\n+    ajaxListenerCounter1++;\n+  }\n+\n+  public void countAction2() {\n+    actionCounter2++;\n+  }\n+\n+  public void countActionListener2(ActionEvent actionEvent) {\n+    actionListenerCounter2++;\n+  }\n+\n+  public void countAjaxListener2(AjaxBehaviorEvent ajaxBehaviorEvent) {\n+    ajaxListenerCounter2++;\n+  }\n+\n+  public void countAction3() {\n+    actionCounter3++;\n+  }\n+\n+  public void countActionListener3(ActionEvent actionEvent) {\n+    actionListenerCounter3++;\n+  }\n+\n+  public void countAjaxListener3(AjaxBehaviorEvent ajaxBehaviorEvent) {\n+    ajaxListenerCounter3++;\n+  }\n+\n+  public int getSelector() {\n+    return selector;\n+  }\n+\n+  public void setSelector(int selector) {\n+    this.selector = selector;\n+  }\n+\n+  public void submitSelection() {\n+    eventEnabled1 = false;\n+    eventEnabled2 = false;\n+    eventEnabled3 = false;\n+    ajaxEnabled1 = false;\n+    ajaxEnabled2 = false;\n+    ajaxEnabled3 = false;\n+\n+    switch (selector) {\n+      case 1:\n+        eventEnabled1 = true;\n+        break;\n+      case 2:\n+        eventEnabled2 = true;\n+        ajaxEnabled3 = true;\n+        break;\n+      case 3:\n+        eventEnabled3 = true;\n+        ajaxEnabled1 = true;\n+        ajaxEnabled2 = true;\n+        ajaxEnabled3 = true;\n+        break;\n+    }\n+  }\n+\n+  public int getButtonActionCounter() {\n+    return buttonActionCounter;\n+  }\n+\n+  public int getButtonActionListenerCounter() {\n+    return buttonActionListenerCounter;\n+  }\n+\n+  public int getActionCounter1() {\n+    return actionCounter1;\n+  }\n+\n+  public int getActionListenerCounter1() {\n+    return actionListenerCounter1;\n+  }\n+\n+  public int getAjaxListenerCounter1() {\n+    return ajaxListenerCounter1;\n+  }\n+\n+  public int getActionCounter2() {\n+    return actionCounter2;\n+  }\n+\n+  public int getActionListenerCounter2() {\n+    return actionListenerCounter2;\n+  }\n+\n+  public int getAjaxListenerCounter2() {\n+    return ajaxListenerCounter2;\n+  }\n+\n+  public int getActionCounter3() {\n+    return actionCounter3;\n+  }\n+\n+  public int getActionListenerCounter3() {\n+    return actionListenerCounter3;\n+  }\n+\n+  public int getAjaxListenerCounter3() {\n+    return ajaxListenerCounter3;\n+  }\n+\n+  public boolean isEventEnabled1() {\n+    return eventEnabled1;\n+  }\n+\n+  public boolean isEventEnabled2() {\n+    return eventEnabled2;\n+  }\n+\n+  public boolean isEventEnabled3() {\n+    return eventEnabled3;\n+  }\n+\n+  public boolean isAjaxEnabled1() {\n+    return ajaxEnabled1;\n+  }\n+\n+  public boolean isAjaxEnabled2() {\n+    return ajaxEnabled2;\n+  }\n+\n+  public boolean isAjaxEnabled3() {\n+    return ajaxEnabled3;\n+  }\n+}"
            },
            {
                "sha": "2194cb593c99713e5f97d28dcbb553885141abe9",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.test.js",
                "status": "modified",
                "additions": 109,
                "deletions": 0,
                "changes": 109,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.test.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.test.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.test.js?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -201,3 +201,112 @@ QUnit.test(\"On double click with full request\", function (assert) {\n     }\n   });\n });\n+\n+QUnit.test(\"Open popup on click with ajax\", function (assert) {\n+  assert.expect(12);\n+  var done = assert.async(7);\n+\n+  var $radioButton = jQueryFrame(\"#page\\\\:mainForm\\\\:changeExample\\\\:\\\\:3\");\n+  var $venus = jQueryFrame(\"#page\\\\:mainForm\\\\:s1\\\\:2\\\\:sample3\");\n+  var $jupiter = jQueryFrame(\"#page\\\\:mainForm\\\\:s1\\\\:5\\\\:sample3\");\n+  var $saturn = jQueryFrame(\"#page\\\\:mainForm\\\\:s1\\\\:6\\\\:sample3\");\n+  var $popup = jQueryFrame(\"#page\\\\:mainForm\\\\:popup\");\n+  var $name = jQueryFrame(\"#page\\\\:mainForm\\\\:popup\\\\:popupName\\\\:\\\\:field\");\n+  var $cancel = jQueryFrame(\"#page\\\\:mainForm\\\\:popup\\\\:cancel\");\n+\n+  $radioButton.click();\n+\n+  waitForAjax(function () {\n+    $venus = jQueryFrame($venus.selector);\n+    $jupiter = jQueryFrame($jupiter.selector);\n+    $saturn = jQueryFrame($saturn.selector);\n+    return $venus.length === 1 && $jupiter.length === 1 && $saturn.length === 1;\n+  }, function () {\n+    $venus = jQueryFrame($venus.selector);\n+    $jupiter = jQueryFrame($jupiter.selector);\n+    $saturn = jQueryFrame($saturn.selector);\n+    assert.equal($venus.length, 1);\n+    assert.equal($jupiter.length, 1);\n+    assert.equal($saturn.length, 1);\n+    done();\n+\n+    $venus.click();\n+\n+    waitForAjax(function () {\n+      $popup = jQueryFrame($popup.selector);\n+      $name = jQueryFrame($name.selector);\n+      return $popup.hasClass(\"show\") && $name.val() === \"Venus\";\n+    }, function () {\n+      $popup = jQueryFrame($popup.selector);\n+      $name = jQueryFrame($name.selector);\n+      assert.ok($popup.hasClass(\"show\"));\n+      assert.equal($name.val(), \"Venus\");\n+      done();\n+\n+      waitForAjax(function () {\n+        $cancel = jQueryFrame($cancel.selector);\n+        $popup = jQueryFrame($popup.selector);\n+\n+        $cancel.click();\n+        return !$popup.hasClass(\"show\");\n+      }, function () {\n+        $popup = jQueryFrame($popup.selector);\n+        assert.notOk($popup.hasClass(\"show\"));\n+        done();\n+\n+        $jupiter.click();\n+\n+        waitForAjax(function () {\n+          $popup = jQueryFrame($popup.selector);\n+          $name = jQueryFrame($name.selector);\n+          return $popup.hasClass(\"show\") && $name.val() === \"Jupiter\";\n+        }, function () {\n+          $popup = jQueryFrame($popup.selector);\n+          $name = jQueryFrame($name.selector);\n+          assert.ok($popup.hasClass(\"show\"));\n+          assert.equal($name.val(), \"Jupiter\");\n+          done();\n+\n+          waitForAjax(function () {\n+            $cancel = jQueryFrame($cancel.selector);\n+            $popup = jQueryFrame($popup.selector);\n+\n+            $cancel.click();\n+            return !$popup.hasClass(\"show\");\n+          }, function () {\n+            $popup = jQueryFrame($popup.selector);\n+            assert.notOk($popup.hasClass(\"show\"));\n+            done();\n+\n+            $saturn.click();\n+\n+            waitForAjax(function () {\n+              $popup = jQueryFrame($popup.selector);\n+              $name = jQueryFrame($name.selector);\n+              return $popup.hasClass(\"show\") && $name.val() === \"Saturn\";\n+            }, function () {\n+              $popup = jQueryFrame($popup.selector);\n+              $name = jQueryFrame($name.selector);\n+              assert.ok($popup.hasClass(\"show\"));\n+              assert.equal($name.val(), \"Saturn\");\n+              done();\n+\n+\n+              waitForAjax(function () {\n+                $cancel = jQueryFrame($cancel.selector);\n+                $popup = jQueryFrame($popup.selector);\n+\n+                $cancel.click();\n+                return !$popup.hasClass(\"show\");\n+              }, function () {\n+                $popup = jQueryFrame($popup.selector);\n+                assert.notOk($popup.hasClass(\"show\"));\n+                done();\n+              });\n+            });\n+          });\n+        });\n+      });\n+    });\n+  });\n+});"
            },
            {
                "sha": "cd358ae7a4accaa7fb3cf1fbfba67eef3d91b0be",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.xhtml",
                "status": "modified",
                "additions": 6,
                "deletions": 4,
                "changes": 10,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/20-component/080-sheet/30-event/sheet-event.xhtml?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -24,7 +24,8 @@\n                 xmlns:f=\"http://java.sun.com/jsf/core\">\n   <ui:param name=\"title\" value=\"#{demoBundle.sheet_event} &lt;tc:row>\"/>\n   <p>A <code class=\"language-markup\">&lt;tc:sheet/&gt;</code> can contain a\n-    <code class=\"language-markup\">&lt;tc:row/&gt;</code> tag with a containing <code class=\"language-markup\">&lt;tc:event/&gt;</code> tag.\n+    <code class=\"language-markup\">&lt;tc:row/&gt;</code> tag with a containing <code\n+            class=\"language-markup\">&lt;tc:event/&gt;</code> tag.\n     The event type can be set by the <code>event</code> attribute. Possible values are 'click' and 'dblclick'.\n   </p>\n \n@@ -62,8 +63,9 @@\n           </tc:row>\n \n           <tc:row id=\"sample3\" rendered=\"#{sheetController.columnEventSample == 3}\">\n-            <f:ajax execute=\":::popup\" render=\":::popup\" listener=\"#{sheetController.selectSolarObject}\" id=\"columnEventPopup\"/>\n-            <tc:event omit=\"true\">\n+            <tc:event>\n+              <f:ajax id=\"columnEventPopup\" execute=\":::popup\" render=\":::popup\"\n+                      listener=\"#{sheetController.selectSolarObject}\"/>\n               <tc:operation name=\"show\" for=\":::popup\"/>\n             </tc:event>\n           </tc:row>\n@@ -94,7 +96,7 @@\n \n       <tc:popup id=\"popup\">\n         <tc:box label=\"Details\">\n-          <tc:in label=\"Name\" value=\"#{sheetController.selectedSolarObject.name}\" required=\"true\"/>\n+          <tc:in id=\"popupName\" label=\"Name\" value=\"#{sheetController.selectedSolarObject.name}\" required=\"true\"/>\n           <tc:in label=\"Number\" value=\"#{sheetController.selectedSolarObject.number}\"/>\n           <tc:in label=\"Orbit\" value=\"#{sheetController.selectedSolarObject.orbit}\"/>\n           <tc:in label=\"Distance\" value=\"#{sheetController.selectedSolarObject.distance}\"/>"
            },
            {
                "sha": "d233191c8ee6f0dd8bef234df997b3e2d33565a9",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/30-behavior/behavior.xhtml",
                "status": "modified",
                "additions": 38,
                "deletions": 8,
                "changes": 46,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/30-behavior/behavior.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/30-behavior/behavior.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/30-behavior/behavior.xhtml?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -28,15 +28,14 @@\n     <li><code class=\"language-markup\">&lt;f:ajax/></code> send an ajax request</li>\n     <li><code class=\"language-markup\">&lt;tc:event/></code> do a full page reload</li>\n   </ul>\n-  <p>You find more <tc:link label=\"examples\" outcome=\"/content/40-test/6000-event/event.xhtml\"/> in the test section.</p>\n   <p>Tag Library Documentation:\n     <tc:link label=\"&lt;f:ajax/>\" image=\"#{request.contextPath}/image/feather-leaf.png\"\n              link=\"http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/ajax.html\"/>\n     |\n     <tc:link label=\"&lt;tc:event/>\" image=\"#{request.contextPath}/image/feather-leaf.png\"\n              link=\"#{demoBundle.tagDocUrl}/#{info.stableVersion}/tld/tc/event.html\"/></p>\n \n-  <tc:section label=\"Examples\">\n+  <tc:section label=\"Basic examples\">\n     <p>Type a text into the input field. After leaving the input field, the given text is shown in the output field.</p>\n     <tc:section label=\"f:ajax\">\n       <pre><code class=\"language-markup\">&lt;tc:in label=\"Ajax Input\" value=\"\\#{behaviorController.ajax}\">\n@@ -60,11 +59,42 @@\n     </tc:section>\n   </tc:section>\n \n-  <tc:section label=\"Limitations\">\n-    <p>The <code class=\"language-markup\">&lt;f:ajax></code> tag cannot inserted along with the\n-      <code class=\"language-markup\">&lt;tc:event></code> tag if both have the same <code>event</code> attribute value.\n-      <br/>\n-      The latter also applies if <code class=\"language-markup\">&lt;f:ajax></code> is disabled\n-      or if <code class=\"language-markup\">&lt;tc:event></code> is not rendered.</p>\n+  <tc:section label=\"Change the event name\">\n+    <p>It's possible to change the event name. For example if you want a double click event, change the event name to\n+      <code>dblclick</code>. This is done for the following two buttons.</p>\n+\n+    <pre><code class=\"language-markup\">&lt;tc:button label=\"Ajax Double Click\">\n+  &lt;f:ajax event=\"dblclick\" render=\"outCounter\" listener=\"...\"/>\n+&lt;/tc:button>\n+&lt;tc:button label=\"Event Double Click\">\n+  &lt;tc:event event=\"dblclick\" actionListener=\"...\"/>\n+&lt;/tc:button></code></pre>\n+    <tc:button label=\"Ajax Double Click\">\n+      <f:ajax event=\"dblclick\" render=\"outCounter\" listener=\"#{behaviorController.countUp}\"/>\n+    </tc:button>\n+    <tc:button label=\"Event Double Click\">\n+      <tc:event event=\"dblclick\" actionListener=\"#{behaviorController.countUp}\"/>\n+    </tc:button>\n+    <tc:out id=\"outCounter\" label=\"Counter\" value=\"#{behaviorController.counter}\"/>\n+  </tc:section>\n+\n+  <tc:section label=\"Advanced\">\n+    <p><code class=\"language-markup\">&lt;tc:event></code> may contain <code class=\"language-markup\">&lt;f:ajax></code>\n+      and <code class=\"language-markup\">&lt;tc:operation></code> tags.</p>\n+    <p>This is helpfull if the parent component cannot handle operations by itself.</p>\n+    <p><tc:badge value=\"Important\" markup=\"danger\"/>\n+      The <code>event</code> attribute of the ajax children will be ignored.</p>\n+\n+    <tc:section label=\"Example\">\n+      <p>An example can be found for\n+        <tc:link label=\"&lt;tc:row>\" outcome=\"/content/20-component/080-sheet/30-event/sheet-event.xhtml\"/>\n+        Option: 'open popup on click with AJAX'.</p>\n+      <pre><code class=\"language-markup\">&lt;tc:row>\n+  &lt;tc:event>\n+    &lt;f:ajax execute=\":::popup\" render=\":::popup\" listener=\"...\"/>\n+    &lt;tc:operation name=\"show\" for=\":::popup\"/>\n+  &lt;/tc:event>\n+&lt;/tc:row></code></pre>\n+    </tc:section>\n   </tc:section>\n </ui:composition>"
            },
            {
                "sha": "56ce70e9ddf89f67eba96cf10db6c2510ad7b26e",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.test.js",
                "status": "added",
                "additions": 292,
                "deletions": 0,
                "changes": 292,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.test.js",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.test.js",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.test.js?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -0,0 +1,292 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+QUnit.test(\"Simple Event\", function (assert) {\n+  assert.expect(11);\n+  var done = assert.async();\n+  var step = 1;\n+\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:simpleEvent\");\n+  var oldCounterValues = getCounterValues();\n+\n+  $button.click();\n+\n+  jQuery(\"#page\\\\:testframe\").load(function () {\n+    if (step === 1) {\n+      compareCounterValues(assert, oldCounterValues, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0);\n+\n+      step++;\n+      done();\n+    }\n+  });\n+});\n+\n+QUnit.test(\"Simple Ajax\", function (assert) {\n+  assert.expect(11);\n+  var done = assert.async();\n+  var step = 1;\n+\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:simpleAjax\");\n+  var oldCounterValues = getCounterValues();\n+\n+  $button.click();\n+\n+  waitForAjax(function () {\n+    var newCounterValues = getCounterValues();\n+    return step === 1 && oldCounterValues !== newCounterValues;\n+  }, function () {\n+    compareCounterValues(assert, oldCounterValues, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0);\n+\n+    step++;\n+    done();\n+  });\n+});\n+\n+QUnit.test(\"Simple EventAjax\", function (assert) {\n+  assert.expect(11);\n+  var done = assert.async();\n+  var step = 1;\n+\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:simpleEventAjax\");\n+  var oldCounterValues = getCounterValues();\n+\n+  $button.click();\n+\n+  waitForAjax(function () {\n+    var newCounterValues = getCounterValues();\n+    return step === 1 && oldCounterValues !== newCounterValues;\n+  }, function () {\n+    compareCounterValues(assert, oldCounterValues, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0);\n+\n+    step++;\n+    done();\n+  });\n+});\n+\n+QUnit.test(\"Advanced Button: Option 1\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:0\");\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedButton\");\n+  testEventOption(assert, $option, $button, \"dblclick\", 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0);\n+});\n+\n+QUnit.test(\"Advanced Button: Option 2\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:1\");\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedButton\");\n+\n+  testAjaxOption(assert, $option, $button, \"dblclick\", 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1);\n+});\n+\n+QUnit.test(\"Advanced Button: Option 3\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:2\");\n+  var $button = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedButton\");\n+  testAjaxOption(assert, $option, $button, \"click\", 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1);\n+});\n+\n+QUnit.test(\"Row: Option 1\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:0\");\n+  var $row = jQueryFrame(\"#page\\\\:mainForm\\\\:sheet\\\\:0\\\\:row\");\n+  testEventOption(assert, $option, $row, \"dblclick\", 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0);\n+});\n+\n+QUnit.test(\"Row: Option 2\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:1\");\n+  var $row = jQueryFrame(\"#page\\\\:mainForm\\\\:sheet\\\\:0\\\\:row\");\n+  testAjaxOption(assert, $option, $row, \"dblclick\", 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1);\n+});\n+\n+QUnit.test(\"Row: Option 3\", function (assert) {\n+  var $option = jQueryFrame(\"#page\\\\:mainForm\\\\:advancedSelector\\\\:\\\\:2\");\n+  var $row = jQueryFrame(\"#page\\\\:mainForm\\\\:sheet\\\\:0\\\\:row\");\n+  testAjaxOption(assert, $option, $row, \"click\", 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1);\n+});\n+\n+QUnit.test(\"Input: Click Event\", function (assert) {\n+  var $input = jQueryFrame(\"#page\\\\:mainForm\\\\:inputClick\\\\:\\\\:field\");\n+  testInputSection(assert, $input, \"click\");\n+});\n+\n+function testEventOption(assert, $option, $component, event,\n+                         buttonActionPlus, buttonActionListenerPlus,\n+                         action1Plus, actionListener1Plus, ajaxListener1Plus,\n+                         action2Plus, actionListener2Plus, ajaxListener2Plus,\n+                         action3Plus, actionListener3Plus, ajaxListener3Plus) {\n+  assert.expect(13);\n+  var done = assert.async(3);\n+  var step = 1;\n+\n+  var $hide = jQueryFrame(\"#page\\\\:mainForm\\\\:hideOperationTextBox\");\n+  var $operationOut = jQueryFrame(\"#page\\\\:mainForm\\\\:operationOut\");\n+  var oldCounterValues = getCounterValues();\n+\n+  $hide.click();\n+\n+  jQuery(\"#page\\\\:testframe\").load(function () {\n+    if (step === 1) {\n+      $operationOut = jQueryFrame($operationOut.selector);\n+      $option = jQueryFrame($option.selector);\n+      assert.equal($operationOut.length, 0, \"Content of operation test box must be hidden.\");\n+\n+      $option.click();\n+\n+      step++;\n+      done();\n+    } else if (step === 2) {\n+      $component = jQueryFrame($component.selector);\n+      $component.trigger(event);\n+\n+      step++;\n+      done();\n+    } else if (step === 3) {\n+      $operationOut = jQueryFrame($operationOut.selector);\n+      assert.equal($operationOut.length, 1, \"Content of operation test box must be shown.\");\n+\n+      compareCounterValues(assert, oldCounterValues,\n+          buttonActionPlus, buttonActionListenerPlus,\n+          action1Plus, actionListener1Plus, ajaxListener1Plus,\n+          action2Plus, actionListener2Plus, ajaxListener2Plus,\n+          action3Plus, actionListener3Plus, ajaxListener3Plus);\n+\n+      step++;\n+      done();\n+    }\n+  });\n+}\n+\n+function testAjaxOption(assert, $option, $component, event,\n+                        buttonActionPlus, buttonActionListenerPlus,\n+                        action1Plus, actionListener1Plus, ajaxListener1Plus,\n+                        action2Plus, actionListener2Plus, ajaxListener2Plus,\n+                        action3Plus, actionListener3Plus, ajaxListener3Plus) {\n+  assert.expect(13);\n+  var done = assert.async(3);\n+  var step = 1;\n+\n+  var $hide = jQueryFrame(\"#page\\\\:mainForm\\\\:hideOperationTextBox\");\n+  var $operationOut = jQueryFrame(\"#page\\\\:mainForm\\\\:operationOut\");\n+  var oldCounterValues = getCounterValues();\n+\n+  $hide.click();\n+\n+  jQuery(\"#page\\\\:testframe\").load(function () {\n+    if (step === 1) {\n+      $operationOut = jQueryFrame($operationOut.selector);\n+      $option = jQueryFrame($option.selector);\n+      assert.equal($operationOut.length, 0, \"Content of operation test box must be hidden.\");\n+\n+      $option.click();\n+\n+      step++;\n+      done();\n+    } else if (step === 2) {\n+      $component = jQueryFrame($component.selector);\n+      $component.trigger(event);\n+\n+      step++;\n+      done();\n+\n+      waitForAjax(function () {\n+        var newCounterValues = getCounterValues();\n+        return step === 3 && oldCounterValues !== newCounterValues;\n+      }, function () {\n+        $operationOut = jQueryFrame($operationOut.selector);\n+        assert.equal($operationOut.length, 1, \"Content of operation test box must be shown.\");\n+\n+        compareCounterValues(assert, oldCounterValues,\n+            buttonActionPlus, buttonActionListenerPlus,\n+            action1Plus, actionListener1Plus, ajaxListener1Plus,\n+            action2Plus, actionListener2Plus, ajaxListener2Plus,\n+            action3Plus, actionListener3Plus, ajaxListener3Plus);\n+\n+        step++;\n+        done();\n+      });\n+    }\n+  });\n+}\n+\n+function testInputSection(assert, $input, eventName) {\n+  assert.expect(2);\n+  var done = assert.async(2);\n+  var step = 1;\n+\n+  var $hide = jQueryFrame(\"#page\\\\:mainForm\\\\:hideOperationTextBox\");\n+  $hide.click();\n+\n+  jQuery(\"#page\\\\:testframe\").load(function () {\n+    if (step === 1) {\n+      $input = jQueryFrame($input.selector);\n+      assert.ok(isOperationTestBoxCollapsed(), \"Content of operation test box must be hidden.\");\n+\n+      $input.trigger(eventName);\n+\n+      step++;\n+      done();\n+    } else if (step === 2) {\n+      assert.notOk(isOperationTestBoxCollapsed(), \"Content of operation test box must be shown.\");\n+\n+      step++;\n+      done();\n+    }\n+  });\n+}\n+\n+function getCounterValues() {\n+  var buttonActionCounter = jQueryFrame(\"#page\\\\:mainForm\\\\:buttonActionCounter.tobago-out\").text();\n+  var buttonActionListenerCounter = jQueryFrame(\"#page\\\\:mainForm\\\\:buttonActionListenerCounter.tobago-out\").text();\n+\n+  var actionCount1 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionCounter1.tobago-out\").text();\n+  var actionListenerCount1 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionListenerCounter1.tobago-out\").text();\n+  var ajaxListenerCount1 = jQueryFrame(\"#page\\\\:mainForm\\\\:ajaxListenerCounter1.tobago-out\").text();\n+\n+  var actionCount2 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionCounter2.tobago-out\").text();\n+  var actionListenerCount2 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionListenerCounter2.tobago-out\").text();\n+  var ajaxListenerCount2 = jQueryFrame(\"#page\\\\:mainForm\\\\:ajaxListenerCounter2.tobago-out\").text();\n+\n+  var actionCount3 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionCounter3.tobago-out\").text();\n+  var actionListenerCount3 = jQueryFrame(\"#page\\\\:mainForm\\\\:actionListenerCounter3.tobago-out\").text();\n+  var ajaxListenerCount3 = jQueryFrame(\"#page\\\\:mainForm\\\\:ajaxListenerCounter3.tobago-out\").text();\n+\n+  return [buttonActionCounter, buttonActionListenerCounter,\n+    actionCount1, actionListenerCount1, ajaxListenerCount1,\n+    actionCount2, actionListenerCount2, ajaxListenerCount2,\n+    actionCount3, actionListenerCount3, ajaxListenerCount3]\n+}\n+\n+function compareCounterValues(assert, oldCounterValues,\n+                              buttonActionPlus, buttonActionListenerPlus,\n+                              action1Plus, actionListener1Plus, ajaxListener1Plus,\n+                              action2Plus, actionListener2Plus, ajaxListener2Plus,\n+                              action3Plus, actionListener3Plus, ajaxListener3Plus) {\n+  var newCounterValues = getCounterValues();\n+\n+  assert.equal(parseInt(newCounterValues[0]), parseInt(oldCounterValues[0]) + buttonActionPlus);\n+  assert.equal(parseInt(newCounterValues[1]), parseInt(oldCounterValues[1]) + buttonActionListenerPlus);\n+  assert.equal(parseInt(newCounterValues[2]), parseInt(oldCounterValues[2]) + action1Plus);\n+  assert.equal(parseInt(newCounterValues[3]), parseInt(oldCounterValues[3]) + actionListener1Plus);\n+  assert.equal(parseInt(newCounterValues[4]), parseInt(oldCounterValues[4]) + ajaxListener1Plus);\n+  assert.equal(parseInt(newCounterValues[5]), parseInt(oldCounterValues[5]) + action2Plus);\n+  assert.equal(parseInt(newCounterValues[6]), parseInt(oldCounterValues[6]) + actionListener2Plus);\n+  assert.equal(parseInt(newCounterValues[7]), parseInt(oldCounterValues[7]) + ajaxListener2Plus);\n+  assert.equal(parseInt(newCounterValues[8]), parseInt(oldCounterValues[8]) + action3Plus);\n+  assert.equal(parseInt(newCounterValues[9]), parseInt(oldCounterValues[9]) + actionListener3Plus);\n+  assert.equal(parseInt(newCounterValues[10]), parseInt(oldCounterValues[10]) + ajaxListener3Plus);\n+}\n+\n+function isOperationTestBoxCollapsed() {\n+  var $operationOut = jQueryFrame(\"#page\\\\:mainForm\\\\:operationOut\");\n+  return $operationOut.length === 0;\n+}"
            },
            {
                "sha": "3a976c5ac48a3d44b6270d815c6000ff535b39ba",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.xhtml",
                "status": "added",
                "additions": 205,
                "deletions": 0,
                "changes": 205,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/40-test/6500-behavior/behavior.xhtml?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -0,0 +1,205 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+-->\n+\n+<ui:composition template=\"/main.xhtml\"\n+                xmlns=\"http://www.w3.org/1999/xhtml\"\n+                xmlns:f=\"http://java.sun.com/jsf/core\"\n+                xmlns:tc=\"http://myfaces.apache.org/tobago/component\"\n+                xmlns:ui=\"http://java.sun.com/jsf/facelets\">\n+  <ui:param name=\"title\" value=\"#{demoBundle.behavior}\"/>\n+\n+\n+  <tc:box id=\"counter\" label=\"Counter\">\n+    <f:facet name=\"bar\">\n+      <tc:button id=\"reset\" label=\"Reset\" action=\"#{behaviorTestController.reset}\"/>\n+    </f:facet>\n+    <tc:segmentLayout extraSmall=\"3seg 2seg 4seg 3seg\">\n+      <tc:panel/>\n+      <tc:out value=\"Action\"/>\n+      <tc:out value=\"ActionListener\"/>\n+      <tc:out value=\"AjaxListener\"/>\n+\n+      <tc:out value=\"Button Counter\" labelLayout=\"skip\"/>\n+      <tc:out id=\"buttonActionCounter\" value=\"#{behaviorTestController.buttonActionCounter}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"buttonActionListenerCounter\" value=\"#{behaviorTestController.buttonActionListenerCounter}\"\n+              labelLayout=\"skip\"/>\n+      <tc:panel/>\n+\n+      <tc:out value=\"Counter 1\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionCounter1\" value=\"#{behaviorTestController.actionCounter1}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionListenerCounter1\" value=\"#{behaviorTestController.actionListenerCounter1}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"ajaxListenerCounter1\" value=\"#{behaviorTestController.ajaxListenerCounter1}\" labelLayout=\"skip\"/>\n+\n+      <tc:out value=\"Counter 2\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionCounter2\" value=\"#{behaviorTestController.actionCounter2}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionListenerCounter2\" value=\"#{behaviorTestController.actionListenerCounter2}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"ajaxListenerCounter2\" value=\"#{behaviorTestController.ajaxListenerCounter2}\" labelLayout=\"skip\"/>\n+\n+      <tc:out value=\"Counter 3\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionCounter3\" value=\"#{behaviorTestController.actionCounter3}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"actionListenerCounter3\" value=\"#{behaviorTestController.actionListenerCounter3}\" labelLayout=\"skip\"/>\n+      <tc:out id=\"ajaxListenerCounter3\" value=\"#{behaviorTestController.ajaxListenerCounter3}\" labelLayout=\"skip\"/>\n+    </tc:segmentLayout>\n+  </tc:box>\n+  <tc:box id=\"operationTestBox\" label=\"&lt;tc:operation> Test\" collapsedMode=\"absent\">\n+    <f:facet name=\"bar\">\n+      <tc:button id=\"hideOperationTextBox\" label=\"Hide\">\n+        <tc:operation name=\"hide\" for=\"operationTestBox\"/>\n+      </tc:button>\n+    </f:facet>\n+    <tc:out id=\"operationOut\" value=\"Content\"/>\n+  </tc:box>\n+\n+  <tc:section label=\"&lt;tc:button>\">\n+    <tc:section label=\"Basics\">\n+      <tc:button id=\"simpleEvent\" label=\"Simple Event\">\n+        <tc:event action=\"#{behaviorTestController.countAction1}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener1}\"/>\n+      </tc:button>\n+      <tc:button id=\"simpleAjax\" label=\"Simple Ajax\">\n+        <f:ajax render=\"counter operationTestBox\" listener=\"#{behaviorTestController.countAjaxListener1}\"/>\n+      </tc:button>\n+\n+      <tc:button id=\"simpleEventAjax\" label=\"Simple EventAjax\">\n+        <tc:event>\n+          <f:ajax render=\"counter operationTestBox\" listener=\"#{behaviorTestController.countAjaxListener1}\"/>\n+        </tc:event>\n+      </tc:button>\n+      <p/>\n+    </tc:section>\n+\n+    <tc:section label=\"Advanced\">\n+      <tc:selectOneRadio id=\"advancedSelector\" value=\"#{behaviorTestController.selector}\">\n+        <tc:selectItem itemValue=\"1\" itemLabel=\"Event 1 + no Ajax enabled\"/>\n+        <tc:selectItem itemValue=\"2\" itemLabel=\"Event 2 + Ajax 3 enabled\"/>\n+        <tc:selectItem itemValue=\"3\" itemLabel=\"Event 3 + all Ajax enabled\"/>\n+        <tc:event action=\"#{behaviorTestController.submitSelection}\"/>\n+      </tc:selectOneRadio>\n+      <tc:separator/>\n+\n+      <tc:button id=\"advancedButton\" label=\"Advanced Button\"\n+                 action=\"#{behaviorTestController.countButtonAction}\"\n+                 actionListener=\"#{behaviorTestController.countButtonActionListener}\">\n+        <tc:event event=\"dblclick\" action=\"#{behaviorTestController.countAction1}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener1}\"\n+                  rendered=\"#{behaviorTestController.eventEnabled1}\">\n+          <f:ajax execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\"operationTestBox\"/>\n+        </tc:event>\n+        <tc:event event=\"dblclick\" action=\"#{behaviorTestController.countAction2}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener2}\"\n+                  disabled=\"#{!behaviorTestController.eventEnabled2}\">\n+          <f:ajax execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\"operationTestBox\"/>\n+        </tc:event>\n+        <tc:event action=\"#{behaviorTestController.countAction3}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener3}\"\n+                  rendered=\"#{behaviorTestController.eventEnabled3}\">\n+          <f:ajax execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\"operationTestBox\" render=\"counter operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\"operationTestBox\"/>\n+        </tc:event>\n+      </tc:button>\n+    </tc:section>\n+  </tc:section>\n+\n+  <tc:section label=\"&lt;tc:row>\">\n+    <tc:sheet id=\"sheet\" value=\"#{sheetController.solarList}\" var=\"object\" markup=\"small\">\n+      <tc:style maxHeight=\"100px\"/>\n+      <tc:column label=\"Solarobjects\">\n+        <tc:out value=\"#{object.name}\" labelLayout=\"skip\"/>\n+      </tc:column>\n+      <tc:row id=\"row\">\n+        <tc:event id=\"e1\" event=\"dblclick\" action=\"#{behaviorTestController.countAction1}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener1}\"\n+                  rendered=\"#{behaviorTestController.eventEnabled1}\">\n+          <f:ajax execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\":::operationTestBox\"/>\n+        </tc:event>\n+        <tc:event id=\"e2\" event=\"dblclick\" action=\"#{behaviorTestController.countAction2}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener2}\"\n+                  disabled=\"#{!behaviorTestController.eventEnabled2}\">\n+          <f:ajax execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\":::operationTestBox\"/>\n+        </tc:event>\n+        <tc:event id=\"e3\" action=\"#{behaviorTestController.countAction3}\"\n+                  actionListener=\"#{behaviorTestController.countActionListener3}\"\n+                  rendered=\"#{behaviorTestController.eventEnabled3}\">\n+          <f:ajax execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener1}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled1}\"/>\n+          <f:ajax event=\"blur\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener2}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled2}\"/>\n+          <f:ajax event=\"focus\" execute=\":::operationTestBox\" render=\":::counter :::operationTestBox\"\n+                  listener=\"#{behaviorTestController.countAjaxListener3}\"\n+                  disabled=\"#{!behaviorTestController.ajaxEnabled3}\"/>\n+          <tc:operation name=\"show\" for=\":::operationTestBox\"/>\n+        </tc:event>\n+      </tc:row>\n+    </tc:sheet>\n+  </tc:section>\n+\n+  <tc:section label=\"&lt;tc:in>\">\n+    <tc:in id=\"inputClick\" label=\"Event Input (click)\">\n+      <tc:event id=\"inputEventClick\" event=\"click\">\n+        <tc:operation for=\"operationTestBox\" name=\"show\"/>\n+      </tc:event>\n+    </tc:in>\n+  </tc:section>\n+</ui:composition>"
            },
            {
                "sha": "8f44840739f8c51757615de848eb3f5f58c4a8fe",
                "filename": "tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "status": "modified",
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/fa9d600c94068b46d3508e88065bd100fb80effd/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/test/java/org/apache/myfaces/tobago/example/demo/QUnitTests.java?ref=fa9d600c94068b46d3508e88065bd100fb80effd",
                "patch": "@@ -555,4 +555,10 @@ public void ajaxSpecialCharacter() throws UnsupportedEncodingException, Interrup\n     final String page = \"content/40-test/50000-java/30-ajax-special-character/ajax-special-character.xhtml\";\n     runStandardTest(page);\n   }\n+\n+  @Test\n+  public void testBehavior() throws UnsupportedEncodingException, InterruptedException {\n+    final String page = \"content/40-test/6500-behavior/behavior.xhtml\";\n+    runStandardTest(page);\n+  }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/75fc78585dc8f4441cc857186c0a05a8ecf8faaf",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/8dcbbafc59c640f6256f461285a15c04d25f80e7",
        "message": "TOBAGO-1228: Setting JSF 2.0 as default version for Tobago\n  - updating event handling\n  - using MethodExpression instead of MethodBinding\n \n fix NullPointerException if there is no state defined in the page",
        "bug_id": "myfaces-tobago_77",
        "file": [
            {
                "sha": "16f831e3a8f6f813a472e76cbd562ec31d247b16",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 3,
                "deletions": 2,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/75fc78585dc8f4441cc857186c0a05a8ecf8faaf/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/75fc78585dc8f4441cc857186c0a05a8ecf8faaf/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=75fc78585dc8f4441cc857186c0a05a8ecf8faaf",
                "patch": "@@ -431,8 +431,9 @@ public void broadcast(FacesEvent facesEvent) throws AbortProcessingException {\n     } else if (facesEvent instanceof PageActionEvent) {\n       if (facesEvent.getComponent() == this) {\n         final MethodExpression listener = getStateChangeListenerExpression();\n-        listener.invoke(getFacesContext().getELContext(), new Object[]{facesEvent});\n-\n+        if (listener != null) {\n+          listener.invoke(getFacesContext().getELContext(), new Object[]{facesEvent});\n+        }\n         performPaging((PageActionEvent) facesEvent);\n       }\n     } else if (facesEvent instanceof SortActionEvent) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/9f4c443a30ba81e1a026508b6b408cacf423d5d3",
        "message": "TOBAGO-1818 Progress in the Measure class (cleanup and CSS support)\n* update javadoc for *ListEditor classes\n* tc:segmentLayout margins can now separated by space\n* adjust description for segment layout attributes\n* fix NPE: BootstrapClass.valueOf(Measure, Attributes)\n* correct segment values greater than 12 or lower than 1 and log it\n* fix SegmentLayoutConstraint overwrite attributes\n* add a test for BootstrapClass.valueOf(Measure, Attributes)\n* improve segment layout demo page",
        "bug_id": "myfaces-tobago_78",
        "file": [
            {
                "sha": "473b7ecca8dc0c588d7e72b1e11555509cb4c7ee",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutConstraintTagDeclaration.java",
                "status": "modified",
                "additions": 5,
                "deletions": 5,
                "changes": 10,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutConstraintTagDeclaration.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutConstraintTagDeclaration.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutConstraintTagDeclaration.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -36,35 +36,35 @@\n \n   /**\n    * Overwrite the default layout for extra small devices.\n-   * Possible values are: integer value &gt; 0, 'auto' and '*'.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n    */\n   @TagAttribute\n   void setExtraSmall(final ValueExpression extraSmall);\n \n   /**\n    * Overwrite the default layout for small devices.\n-   * Possible values are: integer value &gt; 0, 'auto' and '*'.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n    */\n   @TagAttribute\n   void setSmall(final ValueExpression small);\n \n   /**\n    * Overwrite the default layout for medium devices.\n-   * Possible values are: integer value &gt; 0, 'auto' and '*'.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n    */\n   @TagAttribute\n   void setMedium(final ValueExpression medium);\n \n   /**\n    * Overwrite the default layout for large devices.\n-   * Possible values are: integer value &gt; 0, 'auto' and '*'.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n    */\n   @TagAttribute\n   void setLarge(final ValueExpression large);\n \n   /**\n    * Overwrite the default layout for extra large devices.\n-   * Possible values are: integer value &gt; 0, 'auto' or '*'.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n    */\n   @TagAttribute\n   void setExtraLarge(final ValueExpression extraLarge);"
            },
            {
                "sha": "cdaeeefd8b88d3ce6a9a47dc061cae6ad0da37c2",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutTagDeclaration.java",
                "status": "modified",
                "additions": 25,
                "deletions": 25,
                "changes": 50,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutTagDeclaration.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutTagDeclaration.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/taglib/component/SegmentLayoutTagDeclaration.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -49,90 +49,90 @@\n public interface SegmentLayoutTagDeclaration extends HasIdBindingAndRendered, IsVisual {\n \n   /**\n-   * The semicolon-separated definition of the columns for extra small devices.\n-   * Possible values are: integer values &gt; 0, 'auto' and '*'.\n-   * Example: '1;5;*;auto'\n+   * The space-separated definition of the columns for extra small devices.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n+   * Example: '1seg 5seg * auto'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.SegmentMeasureList\")\n   void setExtraSmall(String extraSmall);\n \n   /**\n-   * The semicolon-separated definition of the columns for small devices.\n-   * Possible values are: integer values &gt; 0, 'auto' and '*'.\n-   * Example: '1;5;*;auto'\n+   * The space-separated definition of the columns for small devices.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n+   * Example: '1seg 5seg * auto'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.SegmentMeasureList\")\n   void setSmall(String small);\n \n   /**\n-   * The semicolon-separated definition of the columns for medium devices.\n-   * Possible values are: integer values &gt; 0, 'auto' and '*'.\n-   * Example: '1;5;*;auto'\n+   * The space-separated definition of the columns for medium devices.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n+   * Example: '1seg 5seg * auto'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.SegmentMeasureList\")\n   void setMedium(String medium);\n \n   /**\n-   * The semicolon-separated definition of the columns for large devices.\n-   * Possible values are: integer values &gt; 0, 'auto' and '*'.\n-   * Example: '1;5;*;auto'\n+   * The space-separated definition of the columns for large devices.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n+   * Example: '1seg 5seg * auto'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.SegmentMeasureList\")\n   void setLarge(String large);\n \n   /**\n-   * The semicolon-separated definition of the columns for extra large devices.\n-   * Possible values are: integer values &gt; 0, 'auto' and '*'.\n-   * Example: '1;5;*;auto'\n+   * The space-separated definition of the columns for extra large devices.\n+   * Possible values are: segment values between 1 and 12, 'auto' and '*'.\n+   * Example: '1seg 5seg * auto'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute(type = \"org.apache.myfaces.tobago.layout.SegmentMeasureList\")\n   void setExtraLarge(String extraLarge);\n \n   /**\n-   * The semicolon-separated definition of the column margins for extra small devices.\n+   * The space-separated definition of the column margins for extra small devices.\n    * Allowed values are: none, left, right, both\n-   * Example: 'left;none;both'\n+   * Example: 'left none both'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute\n   void setMarginExtraSmall(String marginExtraSmall);\n \n   /**\n-   * The semicolon-separated definition of the column margins for small devices.\n+   * The space-separated definition of the column margins for small devices.\n    * Allowed values are: none, left, right, both\n-   * Example: 'left;none;both'\n+   * Example: 'left none both'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute\n   void setMarginSmall(String marginSmall);\n \n   /**\n-   * The semicolon-separated definition of the column margins for medium devices.\n+   * The space-separated definition of the column margins for medium devices.\n    * Allowed values are: none, left, right, both\n-   * Example: 'left;none;both'\n+   * Example: 'left none both'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute\n   void setMarginMedium(String marginMedium);\n \n   /**\n-   * The semicolon-separated definition of the column margins for large devices.\n+   * The space-separated definition of the column margins for large devices.\n    * Allowed values are: none, left, right, both\n-   * Example: 'left;none;both'\n+   * Example: 'left none both'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute\n   void setMarginLarge(String marginLarge);\n \n   /**\n-   * The semicolon-separated definition of the column margins for extra large devices.\n+   * The space-separated definition of the column margins for extra large devices.\n    * Allowed values are: none, left, right, both\n-   * Example: 'left;none;both'\n+   * Example: 'left none both'\n    */\n   @TagAttribute\n   @UIComponentTagAttribute"
            },
            {
                "sha": "bfa5501e0001c9d24db7c7dd74cadd450c814770",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MarginTokens.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MarginTokens.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MarginTokens.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MarginTokens.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -53,7 +53,7 @@ public static MarginTokens parse(final String tokens) {\n       return null;\n     }\n     final MarginTokens marginTokens = new MarginTokens();\n-    final StringTokenizer tokenizer = new StringTokenizer(tokens, \";\");\n+    final StringTokenizer tokenizer = new StringTokenizer(tokens, \"; \");\n \n     while (tokenizer.hasMoreTokens()) {\n       final String token = tokenizer.nextToken().trim();"
            },
            {
                "sha": "9914a9d660f8c8d5fc5fb261c2c0c52e61d0d89d",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MeasureListEditor.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MeasureListEditor.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MeasureListEditor.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/MeasureListEditor.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -22,7 +22,7 @@\n import java.beans.PropertyEditorSupport;\n \n /**\n- * Converter for {@link Measure}\n+ * Converter for {@link MeasureList}\n  */\n public class MeasureListEditor extends PropertyEditorSupport {\n "
            },
            {
                "sha": "e2336b07031480ba634e61599d2ee4616751f3a9",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/layout/SegmentMeasureListEditor.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/SegmentMeasureListEditor.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/SegmentMeasureListEditor.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/layout/SegmentMeasureListEditor.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -24,7 +24,7 @@\n import java.beans.PropertyEditorSupport;\n \n /**\n- * Converter for {@link Measure}\n+ * Converter for {@link SegmentMeasureList}\n  */\n @Preliminary\n public class SegmentMeasureListEditor extends PropertyEditorSupport {"
            },
            {
                "sha": "150ac9e78c0779f8d4f651307295204fcf9fdc64",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClass.java",
                "status": "modified",
                "additions": 28,
                "deletions": 14,
                "changes": 42,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClass.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClass.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClass.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -39,7 +39,6 @@\n \n /**\n  * CSS classes for the Bootstrap Library.\n- *\n  * @since 3.0.0\n  */\n public enum BootstrapClass implements CssItem {\n@@ -663,16 +662,30 @@ private void generate(\n       Object overwrite = attributes.get(attribute.name());\n \n       if (overwrite != null) {\n-        final Measure measure = Measure.valueOf(overwrite);\n-        final BootstrapClass bootstrapClass = valueOf(measure, attribute);\n+        final Measure measure = Measure.valueOf(overwrite.toString(), Measure.Unit.SEG);\n+        final BootstrapClass bootstrapClass = valueOf(getSegmentMeasure(measure), attribute);\n         result.add(bootstrapClass);\n       } else if (tokens != null) {\n         final Measure measure = tokens.get(index % tokens.getSize());\n-        final BootstrapClass bootstrapClass = valueOf(measure, attribute);\n+        final BootstrapClass bootstrapClass = valueOf(getSegmentMeasure(measure), attribute);\n         result.add(bootstrapClass);\n       }\n     }\n \n+    private Measure getSegmentMeasure(final Measure measure) {\n+      if (measure != null && Measure.Unit.SEG.equals(measure.getUnit())) {\n+        int number = (int) measure.getValue();\n+        if (number < 1) {\n+          LOG.warn(\"Segment values must been between 1 and 12. Use '1' instead of '{}'.\", number);\n+          return new Measure(1, Measure.Unit.SEG);\n+        } else if (number > 12) {\n+          LOG.warn(\"Segment values must been between 1 and 12. Use '12' instead of '{}'.\", number);\n+          return new Measure(12, Measure.Unit.SEG);\n+        }\n+      }\n+      return measure;\n+    }\n+\n     private void generate(final List<BootstrapClass> result, final MarginTokens margins,\n         final Map<String, Object> attributes, final Attributes attribute) {\n       Object overwrite = attributes.get(attribute.name());\n@@ -702,17 +715,18 @@ private void generateOffset(final List<BootstrapClass> result, final Object offs\n   public static BootstrapClass valueOf(Measure measure, Attributes attributes) {\n     final String size = getSizeSuffix(attributes);\n \n-    if (measure.getUnit() == Measure.Unit.FR) {\n-      return valueOf(\"COL\" + size);\n-    } else if (measure.getUnit() == Measure.Unit.AUTO) {\n-      return valueOf(\"COL\" + size + \"_AUTO\");\n-    } else if (measure.getUnit() == Measure.Unit.SEG) {\n-      final float value = measure.getValue();\n-      return valueOf(\n-          \"COL\" + size + \"_\" + (value == (long) value ? Long.toString((long) value) : Float.toString(value)));\n-    } else {\n-      return null;\n+    if (measure != null) {\n+      if (measure.getUnit() == Measure.Unit.FR) {\n+        return valueOf(\"COL\" + size);\n+      } else if (measure.getUnit() == Measure.Unit.AUTO) {\n+        return valueOf(\"COL\" + size + \"_AUTO\");\n+      } else if (measure.getUnit() == Measure.Unit.SEG) {\n+        final float value = measure.getValue();\n+        return valueOf(\n+            \"COL\" + size + \"_\" + (value == (long) value ? Long.toString((long) value) : Float.toString(value)));\n+      }\n     }\n+    return null;\n   }\n \n   public static BootstrapClass valueOf(Margin margin, Attributes attribute) {"
            },
            {
                "sha": "462b882ca3268539fcbc56d089e88818a5d01270",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/16-layout/30-segment/segment-layout.xhtml",
                "status": "modified",
                "additions": 16,
                "deletions": 16,
                "changes": 32,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/16-layout/30-segment/segment-layout.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/16-layout/30-segment/segment-layout.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/30-concept/16-layout/30-segment/segment-layout.xhtml?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -33,8 +33,8 @@\n     <p>This example show a segment layout with four and three columns and a segment layout with 'auto' and '*'.</p>\n     <tc:section label=\"4 Columns\">\n       <p>The sum of the values is 12.</p>\n-      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2;3;4;3\"></code></pre>\n-      <tc:segmentLayout extraSmall=\"2;3;4;3\">\n+      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2seg 3seg 4seg 3seg\"></code></pre>\n+      <tc:segmentLayout extraSmall=\"2seg 3seg 4seg 3seg\">\n         <tc:in value=\"2\"/>\n         <tc:in value=\"3\"/>\n         <tc:in value=\"4\"/>\n@@ -48,8 +48,8 @@\n     <tc:section label=\"5 Columns\">\n       <p>The sum of the values is 8. After the third element, the sequence starts from the beginning.\n         So the fourth element got a value of 2.</p>\n-      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2;2;4\"></code></pre>\n-      <tc:segmentLayout extraSmall=\"2;2;4\">\n+      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2seg 2seg 4seg\"></code></pre>\n+      <tc:segmentLayout extraSmall=\"2seg 2seg 4seg\">\n         <tc:in value=\"2\"/>\n         <tc:in value=\"2\"/>\n         <tc:in value=\"4\"/>\n@@ -59,8 +59,8 @@\n       </tc:segmentLayout>\n     </tc:section>\n     <tc:section label=\"'auto' and '*'\">\n-      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"*;auto;*\"></code></pre>\n-      <tc:segmentLayout extraSmall=\"*;auto;*\">\n+      <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"* auto *\"></code></pre>\n+      <tc:segmentLayout extraSmall=\"* auto *\">\n         <tc:panel>\n           <tc:style customClass=\"blue\"/>\n           <p>the remaining space</p>\n@@ -85,11 +85,11 @@\n       <code>small</code> and <code>extraSmall</code>.</p>\n     <p>In the following example, all attributes are used. If you are on a desktop you can see the different\n       behavior by changing the size of the browser window.</p>\n-    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraLarge=\"1\" large=\"2\"\n-      medium=\"3\" small=\"4\" extraSmall=\"6\">\n+    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraLarge=\"1seg\" large=\"2seg\"\n+      medium=\"3seg\" small=\"4seg\" extraSmall=\"6seg\">\n     ...</code></pre>\n \n-    <tc:segmentLayout extraLarge=\"1\" large=\"2\" medium=\"3\" small=\"4\" extraSmall=\"6\">\n+    <tc:segmentLayout extraLarge=\"1seg\" large=\"2seg\" medium=\"3seg\" small=\"4seg\" extraSmall=\"6seg\">\n       <tc:in value=\"1\"/>\n       <tc:in value=\"2\"/>\n       <tc:in value=\"3\"/>\n@@ -111,10 +111,10 @@\n       <code>marginExtraLarge</code>.</p>\n     <p>Possible values are <code>none</code>, <code>left</code>, <code>right</code> and <code>both</code>.</p>\n \n-    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"5;3\"\n-      marginExtraSmall=\"none;both;left;both\">\n+    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"5seg 3seg\"\n+      marginExtraSmall=\"none both left both\">\n     ...</code></pre>\n-    <tc:segmentLayout extraSmall=\"5;3\" marginExtraSmall=\"none;both;left;both\">\n+    <tc:segmentLayout extraSmall=\"5seg 3seg\" marginExtraSmall=\"none both left both\">\n       <tc:in value=\"none\"/>\n       <tc:in value=\"both\"/>\n       <tc:in value=\"none\"/>\n@@ -132,15 +132,15 @@\n     <p>Possible values are from 1 to 11 for <code>offsetExtraSmall</code>.<br/>\n       For the other attributes possible values are from 0 to 11.<br/>\n       A <code>offsetMedium=\"0\"</code> overwrite the offset from smaller proportions.</p>\n-    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2;2;2;2;2;2\">\n+    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"2seg 2seg 2seg 2seg 2seg 2seg\">\n   &lt;tc:in value=\"1\"/>\n   &lt;tc:in value=\"2\">\n     &lt;tc:segmentLayoutConstraint offsetExtraSmall=\"1\" offsetSmall=\"2\"\n       offsetMedium=\"3\" offsetLarge=\"4\" offsetExtraLarge=\"5\"/>\n   &lt;/tc:in>\n   ...\n &lt;/tc:segmentLayout></code></pre>\n-    <tc:segmentLayout extraSmall=\"2;2;2;2;2;2\">\n+    <tc:segmentLayout extraSmall=\"2seg 2seg 2seg 2seg 2seg 2seg\">\n       <tc:in value=\"1\"/>\n       <tc:in value=\"2\">\n         <tc:segmentLayoutConstraint offsetExtraSmall=\"1\" offsetSmall=\"2\" offsetMedium=\"3\" offsetLarge=\"4\"\n@@ -166,15 +166,15 @@\n       <code>extraLarge</code> for the layout.<br/>\n       And: <code>marginExtraSmall</code>, <code>marginSmall</code>, <code>marginMedium</code>, <code>marginLarge</code>,\n       <code>marginExtraLarge</code> for the margins.</p>\n-    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"4;8\">\n+    <pre><code class=\"language-markup\">&lt;tc:segmentLayout extraSmall=\"4seg 8seg\">\n   &lt;tc:in value=\"4\"/>\n   &lt;tc:in value=\"8\"/>\n   &lt;tc:in value=\"3 - both\">\n     &lt;tc:segmentLayoutConstraint extraSmall=\"3\" marginExtraSmall=\"both\"/>\n   &lt;/tc:in>\n   &lt;tc:in value=\"8\"/>\n &lt;/tc:segmentLayout></code></pre>\n-    <tc:segmentLayout extraSmall=\"4;8\">\n+    <tc:segmentLayout extraSmall=\"4seg 8seg\">\n       <tc:in value=\"4\"/>\n       <tc:in value=\"8\"/>\n       <tc:in value=\"3 - both\">"
            },
            {
                "sha": "695576f85a6295947223546caf93ce990fb27562",
                "filename": "tobago-theme/tobago-theme-standard/src/test/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClassUnitTest.java",
                "status": "modified",
                "additions": 18,
                "deletions": 0,
                "changes": 18,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-theme/tobago-theme-standard/src/test/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClassUnitTest.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66/tobago-theme/tobago-theme-standard/src/test/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClassUnitTest.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/test/java/org/apache/myfaces/tobago/renderkit/css/BootstrapClassUnitTest.java?ref=c8732e61d4556e6c8e1fba5a660d2d7e7d7ddc66",
                "patch": "@@ -19,6 +19,8 @@\n \n package org.apache.myfaces.tobago.renderkit.css;\n \n+import org.apache.myfaces.tobago.component.Attributes;\n+import org.apache.myfaces.tobago.layout.Measure;\n import org.junit.Assert;\n import org.junit.Test;\n \n@@ -83,4 +85,20 @@ public void testCompareBootstrapCss() throws FileNotFoundException, NoSuchFieldE\n \n     Assert.assertTrue(\"These classes are missing in bootstrap.css: \" + missing, missing.isEmpty());\n   }\n+\n+  @Test\n+  public void testValueOfMeasureAttributes() {\n+    Assert.assertEquals(BootstrapClass.COL_1,\n+        BootstrapClass.valueOf(new Measure(\"1\", Measure.Unit.SEG), Attributes.extraSmall));\n+    Assert.assertEquals(BootstrapClass.COL_12,\n+        BootstrapClass.valueOf(new Measure(\"12\", Measure.Unit.SEG), Attributes.extraSmall));\n+    Assert.assertEquals(null,\n+        BootstrapClass.valueOf((Measure) null, Attributes.extraSmall));\n+    Assert.assertEquals(BootstrapClass.COL_MD_5,\n+        BootstrapClass.valueOf(new Measure(\"5\", Measure.Unit.SEG), Attributes.medium));\n+    Assert.assertEquals(BootstrapClass.COL_LG,\n+        BootstrapClass.valueOf(Measure.valueOf(\"*\"), Attributes.large));\n+    Assert.assertEquals(BootstrapClass.COL_XL_AUTO,\n+        BootstrapClass.valueOf(Measure.valueOf(\"auto\"), Attributes.extraLarge));\n+  }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/58e366fc0c6a0ac868b839e7f36056006043c5b0",
        "message": "TOBAGO-1457: Sheet sort may be performed twice and possible NPE when using method binding for sorting",
        "bug_id": "myfaces-tobago_79",
        "file": [
            {
                "sha": "5c34b9c2d3741667ecc684d4a7780fcd500addc4",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 29,
                "deletions": 14,
                "changes": 43,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=5f3bfbaf48240c08d3bcd16993f244a49bad6f1e",
                "patch": "@@ -54,14 +54,18 @@\n import javax.faces.component.UINamingContainer;\n import javax.faces.context.FacesContext;\n import javax.faces.event.AbortProcessingException;\n+import javax.faces.event.ComponentSystemEvent;\n import javax.faces.event.FacesEvent;\n+import javax.faces.event.ListenerFor;\n import javax.faces.event.PhaseId;\n+import javax.faces.event.PreRenderComponentEvent;\n import java.io.IOException;\n import java.util.ArrayList;\n import java.util.Collections;\n import java.util.List;\n import java.util.Map;\n \n+@ListenerFor(systemEventClass = PreRenderComponentEvent.class)\n public abstract class AbstractUISheet extends AbstractUIData\n     implements SheetStateChangeSource2, SortActionSource2, OnComponentPopulated,\n     LayoutContainer, LayoutComponent, SupportsRenderedPartially {\n@@ -113,18 +117,6 @@ public void encodeBegin(final FacesContext facesContext) throws IOException {\n       }\n     }\n \n-    final MethodExpression expression = getSortActionListenerExpression();\n-    if (expression != null) {\n-      try {\n-        FacesEvent facesEvent = new SortActionEvent(this, null);\n-        expression.invoke(facesContext.getELContext(), new Object[]{facesEvent});\n-      } catch (Exception e) {\n-        LOG.warn(\"Initial sorting not possible!\", e);\n-      }\n-    } else {\n-      new Sorter().perform(this);\n-    }\n-\n     super.encodeBegin(facesContext);\n   }\n \n@@ -456,12 +448,35 @@ public void broadcast(final FacesEvent facesEvent) throws AbortProcessingExcepti\n       }\n     } else if (facesEvent instanceof SortActionEvent) {\n       getSheetState(getFacesContext()).updateSortState((SortActionEvent) facesEvent);\n+      sort(getFacesContext(), (SortActionEvent) facesEvent);\n+    }\n+  }\n+\n+  public void processEvent(ComponentSystemEvent event) {\n+    super.processEvent(event);\n+    if (event instanceof PreRenderComponentEvent) {\n+      sort(getFacesContext(), null);\n+    }\n+  }\n+\n+  protected void sort(FacesContext facesContext, SortActionEvent event) {\n+    final SheetState sheetState = getSheetState(getFacesContext());\n+    if (sheetState.isToBeSorted()) {\n       final MethodExpression expression = getSortActionListenerExpression();\n       if (expression != null) {\n-        expression.invoke(getFacesContext().getELContext(), new Object[]{facesEvent});\n+        try {\n+          if (event == null) {\n+            event =\n+                new SortActionEvent(this, (UIColumn) findComponent(getSheetState(facesContext).getSortedColumnId()));\n+          }\n+          expression.invoke(facesContext.getELContext(), new Object[]{event});\n+        } catch (Exception e) {\n+          LOG.warn(\"Sorting not possible!\", e);\n+        }\n       } else {\n-        new Sorter().perform((SortActionEvent) facesEvent);\n+        new Sorter().perform(this);\n       }\n+      sheetState.setToBeSorted(false);\n     }\n   }\n "
            },
            {
                "sha": "3533ac1b1b6b56be5ccea2d09810a8bc3e46a51e",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "status": "modified",
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java?ref=5f3bfbaf48240c08d3bcd16993f244a49bad6f1e",
                "patch": "@@ -457,6 +457,13 @@ public static String defaultString(final String string) {\n     return string == null ? \"\" : string;\n   }\n \n+  /**\n+   * Basically taken from commons-lang\n+   */\n+  public static boolean notEquals(String a, String b) {\n+    return a == null ? b != null : !a.equals(b);\n+  }\n+\n   /**\n    * Checks if the String starts like a url, e.g. http: or xyz:\n    */"
            },
            {
                "sha": "9c62bb9d9b2f03fe534a4d8856999b07d9cf3214",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "status": "modified",
                "additions": 21,
                "deletions": 5,
                "changes": 26,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java?ref=5f3bfbaf48240c08d3bcd16993f244a49bad6f1e",
                "patch": "@@ -40,6 +40,7 @@\n   private int first;\n   private String sortedColumnId;\n   private boolean ascending;\n+  private boolean toBeSorted;\n   private String columnWidths;\n   private List<Integer> selectedRows;\n   private Integer[] scrollPosition;\n@@ -54,6 +55,7 @@ public void reset() {\n     first = -1;\n     sortedColumnId = null;\n     ascending = true;\n+    toBeSorted = false;\n     columnWidths = null;\n     resetSelected();\n     if (expandedState != null) {\n@@ -83,15 +85,21 @@ public String getSortedColumnId() {\n   }\n \n   public void setSortedColumnId(final String sortedColumnId) {\n-    this.sortedColumnId = sortedColumnId;\n+    if (StringUtils.notEquals(this.sortedColumnId, sortedColumnId)) {\n+      this.sortedColumnId = sortedColumnId;\n+      toBeSorted = true;\n+    }\n   }\n \n   public boolean isAscending() {\n     return ascending;\n   }\n \n   public void setAscending(final boolean ascending) {\n-    this.ascending = ascending;\n+    if (this.ascending != ascending) {\n+      this.ascending = ascending;\n+      toBeSorted = true;\n+    }\n   }\n \n   public String getColumnWidths() {\n@@ -115,10 +123,10 @@ public void updateSortState(final SortActionEvent sortEvent) {\n     final UIColumn actualColumn = sortEvent.getColumn();\n \n     if (actualColumn.getId().equals(sortedColumnId)) {\n-      ascending = !ascending;\n+      setAscending(!isAscending());\n     } else {\n-      ascending = true;\n-      sortedColumnId = actualColumn.getId();\n+      setAscending(true);\n+      setSortedColumnId(actualColumn.getId());\n     }\n   }\n \n@@ -152,6 +160,14 @@ public void setSelectedState(final SelectedState selectedState) {\n     this.selectedState = selectedState;\n   }\n \n+  public boolean isToBeSorted() {\n+    return toBeSorted;\n+  }\n+\n+  public void setToBeSorted(boolean toBeSorted) {\n+    this.toBeSorted = toBeSorted;\n+  }\n+\n   /**\n    * @deprecated since 2.0.0\n    */"
            },
            {
                "sha": "bbaa7568ee3697ca1ee87d968b46ec8004e62d17",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "status": "modified",
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/5f3bfbaf48240c08d3bcd16993f244a49bad6f1e/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java?ref=5f3bfbaf48240c08d3bcd16993f244a49bad6f1e",
                "patch": "@@ -511,6 +511,8 @@ private void sheetSorter(final SheetState sheetState, final List<SolarObject> li\n     final SolarObject sun = list.remove(0);\n     final String columnId = sheetState.getSortedColumnId();\n \n+    LOG.info(\"Sorting column '{}'\", columnId);\n+\n     Comparator<SolarObject> comparator = null;\n \n     if (\"name\".equals(columnId)) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/a6d5a048d69e3fe0925189dd651f25088a803e20",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/f059f564d48b240732e4a2086cfbfec7e2e9b19d",
        "message": "TOBAGO-828: Make Sheet work with new LayoutManager\n - fix NPE when column is rendered=false",
        "bug_id": "myfaces-tobago_80",
        "file": [
            {
                "sha": "647a2456b5548b303f3cac7cf4cb9f05c88353ad",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/a6d5a048d69e3fe0925189dd651f25088a803e20/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/a6d5a048d69e3fe0925189dd651f25088a803e20/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java?ref=a6d5a048d69e3fe0925189dd651f25088a803e20",
                "patch": "@@ -128,6 +128,10 @@ public void mainProcessing(Orientation orientation) {\n             continue;\n           }\n           AbstractUIColumn column = (AbstractUIColumn) ((UIComponent) component).getParent();\n+          if (!column.isRendered()) {\n+            // XXX here not index++, because the widthList has only the rendered=true, todo: change it.\n+            continue;\n+          }\n           Measure width = Measure.valueOf(widthList.get(index));\n           width = width.subtractNotNegative(LayoutUtils.getBorderBegin(orientation, column));\n           width = width.subtractNotNegative(LayoutUtils.getPaddingBegin(orientation, column));\n@@ -184,6 +188,7 @@ public boolean getRendersChildren() {\n \n   private void ensureColumnWidthList(FacesContext facesContext, AbstractUISheet data) {\n     List<Integer> currentWidthList = null;\n+    // TODO: Refactor: here be should use \"getColumns()\" instead of \"getRenderedColumns()\"\n     List<UIColumn> renderedColumns = data.getRenderedColumns();\n \n     final Map attributes = data.getAttributes();"
            },
            {
                "sha": "932fd2bdcc384c3dc544d37a63ed75e047e4fb02",
                "filename": "tobago-example/tobago-example-test/src/main/webapp/tc/sheet/sheet-types.xhtml",
                "status": "modified",
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/a6d5a048d69e3fe0925189dd651f25088a803e20/tobago-example/tobago-example-test/src/main/webapp/tc/sheet/sheet-types.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/a6d5a048d69e3fe0925189dd651f25088a803e20/tobago-example/tobago-example-test/src/main/webapp/tc/sheet/sheet-types.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-test/src/main/webapp/tc/sheet/sheet-types.xhtml?ref=a6d5a048d69e3fe0925189dd651f25088a803e20",
                "patch": "@@ -25,14 +25,17 @@\n   <tc:page id=\"page\">\n     <tc:gridLayoutConstraint width=\"1100px\" height=\"600px\"/>\n \n-    <tc:sheet value=\"#{sheet.solarArray}\" id=\"sheet\" columns=\"20px;*;*;*;2*;*;*;*;*;2*\" var=\"luminary\" rows=\"20\">\n+    <tc:sheet value=\"#{sheet.solarArray}\" id=\"sheet\" columns=\"20px;*;*;*;*;2*;*;*;*;*;2*\" var=\"luminary\" rows=\"20\">\n       <tc:columnSelector />\n       <tc:column label=\"&lt;tc:out>\" id=\"c_out\">\n         <tc:out value=\"#{luminary.name}\"/>\n       </tc:column>\n       <tc:column label=\"&lt;tc:out>\" id=\"c_out_r\">\n         <tc:out value=\"#{luminary.name}\"/>\n       </tc:column>\n+      <tc:column id=\"c_not_rendered\" rendered=\"false\">\n+        <tc:out value=\"#{luminary.name}\"/>\n+      </tc:column>\n       <tc:column label=\"&lt;tc:in>\" id=\"c_in\">\n         <tc:in value=\"#{luminary.name}\" id=\"in\"/>\n       </tc:column>"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/089b508fe395844ad107178fc183c60855d2d78e",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/5d4f203ea3968051d5422056e3052c6d0cc7081e",
        "message": "TOBAGO-828: Make Sheet work with new LayoutManager\n - hotfix: NPE when using UIColumnSelector",
        "bug_id": "myfaces-tobago_81",
        "file": [
            {
                "sha": "dde010a49fca95c365e0672cd8e8c5bf4600f188",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/089b508fe395844ad107178fc183c60855d2d78e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/089b508fe395844ad107178fc183c60855d2d78e/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java?ref=089b508fe395844ad107178fc183c60855d2d78e",
                "patch": "@@ -122,6 +122,11 @@ public void mainProcessing(Orientation orientation) {\n \n         int index = 0;\n         for (LayoutComponent component : sheet.getComponents()) {\n+          if (component == null) {\n+            LOG.error(\"fixme: UIColumnSelector must be a LayoutComponent!\"); // fixme\n+            index++;\n+            continue;\n+          }\n           AbstractUIColumn column = (AbstractUIColumn) ((UIComponent) component).getParent();\n           Measure width = Measure.valueOf(widthList.get(index));\n           width = width.subtractNotNegative(LayoutUtils.getBorderBegin(orientation, column));"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/a56dc09c94a5e2f6836b10d9a1dffea140629fd3",
        "message": "TOBAGO-1000 SimpleSheetState throws NPE if selectable=\"none\" is set\n - using empty list instead of null",
        "bug_id": "myfaces-tobago_82",
        "file": [
            {
                "sha": "37656e80681ae54c8c40b9bd638494d5a7e73c46",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/component/Sorter.java",
                "status": "modified",
                "additions": 4,
                "deletions": 4,
                "changes": 8,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/component/Sorter.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/component/Sorter.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/component/Sorter.java?ref=16b7e00b10bf4f6790fc6a5426e3de10f64ed62a",
                "patch": "@@ -18,14 +18,14 @@\n  */\n \n import org.apache.commons.lang.StringUtils;\n-import org.apache.myfaces.tobago.internal.component.AbstractUICommand;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n import org.apache.myfaces.tobago.compat.FacesUtils;\n import org.apache.myfaces.tobago.event.SortActionEvent;\n+import org.apache.myfaces.tobago.internal.component.AbstractUICommand;\n import org.apache.myfaces.tobago.internal.component.AbstractUISheet;\n import org.apache.myfaces.tobago.model.SheetState;\n import org.apache.myfaces.tobago.util.BeanComparator;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n import javax.faces.component.UIColumn;\n import javax.faces.component.UICommand;\n@@ -120,7 +120,7 @@ public void perform(SortActionEvent sortEvent) {\n \n       // memorize selected rows\n       List<Object> selectedDataRows = null;\n-      if (sheetState.getSelectedRows() != null && sheetState.getSelectedRows().size() > 0) {\n+      if (sheetState.getSelectedRows().size() > 0) {\n         selectedDataRows = new ArrayList<Object>(sheetState.getSelectedRows().size());\n         Object dataRow;\n         for (Integer index : sheetState.getSelectedRows()) {"
            },
            {
                "sha": "f743b6bcb96f1d3c2cb6502efdcd1aa3c1a5b95d",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=16b7e00b10bf4f6790fc6a5426e3de10f64ed62a",
                "patch": "@@ -22,7 +22,6 @@\n import org.apache.myfaces.tobago.component.Attributes;\n import org.apache.myfaces.tobago.component.ColumnEvent;\n import org.apache.myfaces.tobago.component.ComponentTypes;\n-import org.apache.myfaces.tobago.util.CreateComponentUtils;\n import org.apache.myfaces.tobago.component.Facets;\n import org.apache.myfaces.tobago.component.OnComponentPopulated;\n import org.apache.myfaces.tobago.component.RendererTypes;\n@@ -40,6 +39,7 @@\n import org.apache.myfaces.tobago.layout.LayoutTokens;\n import org.apache.myfaces.tobago.model.SheetState;\n import org.apache.myfaces.tobago.renderkit.LayoutComponentRenderer;\n+import org.apache.myfaces.tobago.util.CreateComponentUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n@@ -54,6 +54,7 @@\n import javax.faces.event.PhaseId;\n import java.io.IOException;\n import java.util.ArrayList;\n+import java.util.Collections;\n import java.util.List;\n import java.util.Map;\n \n@@ -246,7 +247,8 @@ private void updateSheetState(FacesContext facesContext) {\n //      state.setAscending(sortActionListener != null && sortActionListener.isAscending());\n       Map attributes = getAttributes();\n       //noinspection unchecked\n-      state.setSelectedRows((List<Integer>) attributes.get(Attributes.SELECTED_LIST_STRING));\n+      final List<Integer> list = (List<Integer>) attributes.get(Attributes.SELECTED_LIST_STRING);\n+      state.setSelectedRows(list != null ? list : Collections.<Integer>emptyList());\n       state.setColumnWidths((String) attributes.get(Attributes.WIDTH_LIST_STRING));\n       state.setScrollPosition((Integer[]) attributes.get(Attributes.SCROLL_POSITION));\n       attributes.remove(Attributes.SELECTED_LIST_STRING);"
            },
            {
                "sha": "2ab7a5d9d2258b2de5557c1765dee1d0867878ed",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "status": "modified",
                "additions": 3,
                "deletions": 4,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/16b7e00b10bf4f6790fc6a5426e3de10f64ed62a/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java?ref=16b7e00b10bf4f6790fc6a5426e3de10f64ed62a",
                "patch": "@@ -17,11 +17,10 @@\n  * limitations under the License.\n  */\n \n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n import org.apache.commons.lang.StringUtils;\n-\n import org.apache.myfaces.tobago.event.SortActionEvent;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n import javax.faces.component.UIColumn;\n import java.io.Serializable;\n@@ -45,7 +44,6 @@ public SheetState() {\n     resetSelected();\n   }\n \n-\n   public void resetSelected() {\n     selectedRows = new ArrayList<Integer>();\n   }\n@@ -55,6 +53,7 @@ public void resetSelected() {\n   }\n \n   public void setSelectedRows(List<Integer> selectedRows) {\n+    assert selectedRows != null;\n     this.selectedRows = selectedRows;\n   }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/e10bcfd24bdebe6ccb3fa24daa775845da286869",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/f1396c853859175096bb12fcf28f3eb3c188dc93",
        "message": "fix for TOBAGO-87 (NPE when decoding PageState without state value in request)",
        "bug_id": "myfaces-tobago_83",
        "file": [
            {
                "sha": "494a1b2ba89d47815d3f42062056c93996078e9e",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/component/UIPage.java",
                "status": "modified",
                "additions": 7,
                "deletions": 5,
                "changes": 12,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/e10bcfd24bdebe6ccb3fa24daa775845da286869/core/src/main/java/org/apache/myfaces/tobago/component/UIPage.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/e10bcfd24bdebe6ccb3fa24daa775845da286869/core/src/main/java/org/apache/myfaces/tobago/component/UIPage.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/component/UIPage.java?ref=e10bcfd24bdebe6ccb3fa24daa775845da286869",
                "patch": "@@ -223,11 +223,13 @@ private void decodePageState(FacesContext facesContext, PageState pageState) {\n               + SUBCOMPONENT_SEP + \"form-clientDimension\";\n       value = (String) facesContext.getExternalContext()\n               .getRequestParameterMap().get(name);\n-      StringTokenizer tokenizer = new StringTokenizer(value, \";\");\n-      int width = Integer.parseInt(tokenizer.nextToken());\n-      int height = Integer.parseInt(tokenizer.nextToken());\n-      pageState.setClientWidth(width);\n-      pageState.setClientHeight(height);\n+        if (value != null) {\n+            StringTokenizer tokenizer = new StringTokenizer(value, \";\");\n+            int width = Integer.parseInt(tokenizer.nextToken());\n+            int height = Integer.parseInt(tokenizer.nextToken());\n+            pageState.setClientWidth(width);\n+            pageState.setClientHeight(height);\n+        }\n     } catch (Exception e) {\n       LOG.error(\"Error in decoding state: value='\" + value + \"'\", e);\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/04984242ac9f325e7a11b212e719af60d96fb5e3",
        "message": "fix TBG-118 (TabGroup inside of a TabGroup: NPE while decoding)",
        "bug_id": "myfaces-tobago_84",
        "file": [
            {
                "sha": "1be508da3c5fc7a4f06b7aab0393f2dc317ac912",
                "filename": "core/src/main/org/apache/myfaces/tobago/component/UITabGroup.java",
                "status": "modified",
                "additions": 10,
                "deletions": 6,
                "changes": 16,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c/core/src/main/org/apache/myfaces/tobago/component/UITabGroup.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c/core/src/main/org/apache/myfaces/tobago/component/UITabGroup.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/org/apache/myfaces/tobago/component/UITabGroup.java?ref=dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c",
                "patch": "@@ -48,10 +48,6 @@\n \n // ///////////////////////////////////////////// constructor\n \n-  public UITabGroup() {\n-    LOG.warn(\"    SYSID=\" + System.identityHashCode(this));\n-  }\n-\n // ///////////////////////////////////////////// code\n \n   @Override\n@@ -61,6 +57,16 @@ public boolean getRendersChildren() {\n \n   @Override\n   public void encodeBegin(FacesContext facesContext) throws IOException {\n+\n+    ValueBinding stateBinding = getValueBinding(ATTR_STATE);\n+    Object state\n+        = stateBinding != null ? stateBinding.getValue(facesContext) : null;\n+    if (state instanceof Integer) {\n+      activeIndex = ((Integer) state).intValue();\n+    } else if (state != null) {\n+      LOG.warn(\"Illegal class in stateBinding: \" + state.getClass().getName());\n+    }\n+\n     setRenderedIndex(activeIndex);\n     super.encodeBegin(facesContext);\n   }\n@@ -187,12 +193,10 @@ public void removeTabChangeListener(TabChangeListener listener) {\n   }\n \n   private void setRenderedIndex(int index) {\n-    LOG.warn(\"set SYSID=\" + System.identityHashCode(this));\n     getAttributes().put(RENDERED_INDEX, index);\n   }\n \n   private int getRenderedIndex() {\n-    LOG.warn(\"get SYSID=\" + System.identityHashCode(this));\n     Integer integer = (Integer) getAttributes().get(RENDERED_INDEX);\n     if (integer == null) {\n       LOG.warn(\"FIXME!!! Bug TGB-118\");"
            },
            {
                "sha": "b7061713fb5cdebb1a2030a1d515aa59a2f3b280",
                "filename": "core/src/main/org/apache/myfaces/tobago/taglib/component/tobago.tld",
                "status": "removed",
                "additions": 0,
                "deletions": 3417,
                "changes": 3417,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/04984242ac9f325e7a11b212e719af60d96fb5e3/core/src/main/org/apache/myfaces/tobago/taglib/component/tobago.tld",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/04984242ac9f325e7a11b212e719af60d96fb5e3/core/src/main/org/apache/myfaces/tobago/taglib/component/tobago.tld",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/org/apache/myfaces/tobago/taglib/component/tobago.tld?ref=04984242ac9f325e7a11b212e719af60d96fb5e3"
            },
            {
                "sha": "92ad7e979ced3e1283e1bdfb5e218a84fed979ac",
                "filename": "theme/scarborough/src/main/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "status": "modified",
                "additions": 1,
                "deletions": 14,
                "changes": 15,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c/theme/scarborough/src/main/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c/theme/scarborough/src/main/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/theme/scarborough/src/main/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/TabGroupRenderer.java?ref=dfc8a908aa9ce1ae399dc6c4c0e4fe674ed1550c",
                "patch": "@@ -42,7 +42,6 @@\n import javax.faces.el.EvaluationException;\n import javax.faces.el.MethodBinding;\n import javax.faces.el.MethodNotFoundException;\n-import javax.faces.el.ValueBinding;\n import javax.faces.event.ActionEvent;\n import javax.faces.event.PhaseId;\n import java.io.IOException;\n@@ -100,20 +99,8 @@ public void encodeEndTobago(FacesContext facesContext,\n      UIPanel[] tabs = component.getTabs();\n     layoutTabs(facesContext, component, tabs);\n \n-    int activeIndex;\n-    ValueBinding stateBinding = component.getValueBinding(ATTR_STATE);\n+    int activeIndex = component.getActiveIndex();\n \n-    Object state\n-        = stateBinding != null ? stateBinding.getValue(facesContext) : null;\n-    if (state == null) {\n-      activeIndex = component.getActiveIndex();\n-    } else if (state instanceof Integer) {\n-      activeIndex = ((Integer) state).intValue();\n-      component.setActiveIndex(activeIndex);\n-    } else {\n-      LOG.warn(\"Illegal class in stateBinding: \" + state.getClass().getName());\n-      activeIndex = component.getActiveIndex();\n-    }\n     String hiddenId = component.getClientId(facesContext)\n         + TabGroupRenderer.ACTIVE_INDEX_POSTFIX;\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/37989cf9c44057db2da68d751a31c509b6e5846d",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/3f7dead58e155ee836eb113f47fe3b000824f666",
        "message": "workaround  MYFACES-576 (NPE in PropertyResolverImpl.getType if the array is initilized without values)",
        "bug_id": "myfaces-tobago_85",
        "file": [
            {
                "sha": "1fd00da67e2a6bd6a097456dde8328db58346f36",
                "filename": "example/demo/src/main/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/37989cf9c44057db2da68d751a31c509b6e5846d/example/demo/src/main/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/37989cf9c44057db2da68d751a31c509b6e5846d/example/demo/src/main/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/example/demo/src/main/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java?ref=37989cf9c44057db2da68d751a31c509b6e5846d",
                "patch": "@@ -117,7 +117,7 @@ public TobagoDemoController() {\n     };\n \n     salutationItems = getSelectItems(salutationKeys, \"demo\");\n-    salutation = new String[4];\n+    this.salutation = new String[]{\"\" ,\"\" ,\"\" ,\"\"};\n \n     bool = new Boolean[10];\n     bool[0] = true;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/af13423f9b88ba29a2443d9bc7a68c412e2a73bc",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/e63c82cf125c87e6545866d6909970df150b1f85",
        "message": "TOBAGO-1202: Sheet-Header: Support for grouped column-headers and multiline-headers\n - NPE when there is no columns attribute",
        "bug_id": "myfaces-tobago_86",
        "file": [
            {
                "sha": "ffd945759a8577fc7722608827e5c54356d71878",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/af13423f9b88ba29a2443d9bc7a68c412e2a73bc/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/af13423f9b88ba29a2443d9bc7a68c412e2a73bc/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheetLayout.java?ref=af13423f9b88ba29a2443d9bc7a68c412e2a73bc",
                "patch": "@@ -381,9 +381,14 @@ private Measure getFooterHeight(FacesContext facesContext, AbstractUISheet sheet\n   private void layoutHeader() {\n     final AbstractUISheet sheet = (AbstractUISheet) getLayoutContainer();\n     final UIComponent header = sheet.getHeader();\n+    final LayoutTokens columns = new LayoutTokens();\n+    final List<AbstractUIColumn> renderedColumns = sheet.getRenderedColumns();\n+    for (AbstractUIColumn ignored : renderedColumns) {\n+      columns.addToken(RelativeLayoutToken.DEFAULT_INSTANCE);\n+    }\n     final LayoutTokens rows = new LayoutTokens();\n     rows.addToken(AutoLayoutToken.INSTANCE);\n-    final Grid grid = new Grid(sheet.getColumnLayout(), rows);\n+    final Grid grid = new Grid(columns, rows);\n \n     for(UIComponent child : header.getChildren()) {\n       if (child instanceof LayoutComponent) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/9ec45a94a431ced48fa47a7b4c398b22a2a60a10",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/c77cea971acdec11fffb734224229ca8ddcc1b32",
        "message": "Merged from trunk\nTOBAGO-1457: Sheet sort may be performed twice and possible NPE when using method binding for sorting [from revision 1675636]",
        "bug_id": "myfaces-tobago_87",
        "file": [
            {
                "sha": "42656e68dcb0551a53eb4eb622d5c62ef74243e9",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 29,
                "deletions": 14,
                "changes": 43,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=9ec45a94a431ced48fa47a7b4c398b22a2a60a10",
                "patch": "@@ -55,14 +55,18 @@\n import javax.faces.component.UINamingContainer;\n import javax.faces.context.FacesContext;\n import javax.faces.event.AbortProcessingException;\n+import javax.faces.event.ComponentSystemEvent;\n import javax.faces.event.FacesEvent;\n+import javax.faces.event.ListenerFor;\n import javax.faces.event.PhaseId;\n+import javax.faces.event.PreRenderComponentEvent;\n import java.io.IOException;\n import java.util.ArrayList;\n import java.util.Collections;\n import java.util.List;\n import java.util.Map;\n \n+@ListenerFor(systemEventClass = PreRenderComponentEvent.class)\n public abstract class AbstractUISheet extends AbstractUIData\n     implements SheetStateChangeSource2, SortActionSource2, OnComponentPopulated,\n     LayoutContainer, LayoutComponent, SupportsCss, SupportsRenderedPartially {\n@@ -112,18 +116,6 @@ public void encodeBegin(final FacesContext facesContext) throws IOException {\n       }\n     }\n \n-    final MethodExpression expression = getSortActionListenerExpression();\n-    if (expression != null) {\n-      try {\n-        FacesEvent facesEvent = new SortActionEvent(this, null);\n-        expression.invoke(facesContext.getELContext(), new Object[]{facesEvent});\n-      } catch (Exception e) {\n-        LOG.warn(\"Initial sorting not possible!\", e);\n-      }\n-    } else {\n-      new Sorter().perform(this);\n-    }\n-\n     super.encodeBegin(facesContext);\n   }\n \n@@ -455,12 +447,35 @@ public void broadcast(final FacesEvent facesEvent) throws AbortProcessingExcepti\n       }\n     } else if (facesEvent instanceof SortActionEvent) {\n       getSheetState(getFacesContext()).updateSortState((SortActionEvent) facesEvent);\n+      sort(getFacesContext(), (SortActionEvent) facesEvent);\n+    }\n+  }\n+\n+  public void processEvent(ComponentSystemEvent event) {\n+    super.processEvent(event);\n+    if (event instanceof PreRenderComponentEvent) {\n+      sort(getFacesContext(), null);\n+    }\n+  }\n+\n+  protected void sort(FacesContext facesContext, SortActionEvent event) {\n+    final SheetState sheetState = getSheetState(getFacesContext());\n+    if (sheetState.isToBeSorted()) {\n       final MethodExpression expression = getSortActionListenerExpression();\n       if (expression != null) {\n-        expression.invoke(getFacesContext().getELContext(), new Object[]{facesEvent});\n+        try {\n+          if (event == null) {\n+            event =\n+                new SortActionEvent(this, (UIColumn) findComponent(getSheetState(facesContext).getSortedColumnId()));\n+          }\n+          expression.invoke(facesContext.getELContext(), new Object[]{event});\n+        } catch (Exception e) {\n+          LOG.warn(\"Sorting not possible!\", e);\n+        }\n       } else {\n-        new Sorter().perform((SortActionEvent) facesEvent);\n+        new Sorter().perform(this);\n       }\n+      sheetState.setToBeSorted(false);\n     }\n   }\n "
            },
            {
                "sha": "3533ac1b1b6b56be5ccea2d09810a8bc3e46a51e",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "status": "modified",
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/util/StringUtils.java?ref=9ec45a94a431ced48fa47a7b4c398b22a2a60a10",
                "patch": "@@ -457,6 +457,13 @@ public static String defaultString(final String string) {\n     return string == null ? \"\" : string;\n   }\n \n+  /**\n+   * Basically taken from commons-lang\n+   */\n+  public static boolean notEquals(String a, String b) {\n+    return a == null ? b != null : !a.equals(b);\n+  }\n+\n   /**\n    * Checks if the String starts like a url, e.g. http: or xyz:\n    */"
            },
            {
                "sha": "9c62bb9d9b2f03fe534a4d8856999b07d9cf3214",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "status": "modified",
                "additions": 21,
                "deletions": 5,
                "changes": 26,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/model/SheetState.java?ref=9ec45a94a431ced48fa47a7b4c398b22a2a60a10",
                "patch": "@@ -40,6 +40,7 @@\n   private int first;\n   private String sortedColumnId;\n   private boolean ascending;\n+  private boolean toBeSorted;\n   private String columnWidths;\n   private List<Integer> selectedRows;\n   private Integer[] scrollPosition;\n@@ -54,6 +55,7 @@ public void reset() {\n     first = -1;\n     sortedColumnId = null;\n     ascending = true;\n+    toBeSorted = false;\n     columnWidths = null;\n     resetSelected();\n     if (expandedState != null) {\n@@ -83,15 +85,21 @@ public String getSortedColumnId() {\n   }\n \n   public void setSortedColumnId(final String sortedColumnId) {\n-    this.sortedColumnId = sortedColumnId;\n+    if (StringUtils.notEquals(this.sortedColumnId, sortedColumnId)) {\n+      this.sortedColumnId = sortedColumnId;\n+      toBeSorted = true;\n+    }\n   }\n \n   public boolean isAscending() {\n     return ascending;\n   }\n \n   public void setAscending(final boolean ascending) {\n-    this.ascending = ascending;\n+    if (this.ascending != ascending) {\n+      this.ascending = ascending;\n+      toBeSorted = true;\n+    }\n   }\n \n   public String getColumnWidths() {\n@@ -115,10 +123,10 @@ public void updateSortState(final SortActionEvent sortEvent) {\n     final UIColumn actualColumn = sortEvent.getColumn();\n \n     if (actualColumn.getId().equals(sortedColumnId)) {\n-      ascending = !ascending;\n+      setAscending(!isAscending());\n     } else {\n-      ascending = true;\n-      sortedColumnId = actualColumn.getId();\n+      setAscending(true);\n+      setSortedColumnId(actualColumn.getId());\n     }\n   }\n \n@@ -152,6 +160,14 @@ public void setSelectedState(final SelectedState selectedState) {\n     this.selectedState = selectedState;\n   }\n \n+  public boolean isToBeSorted() {\n+    return toBeSorted;\n+  }\n+\n+  public void setToBeSorted(boolean toBeSorted) {\n+    this.toBeSorted = toBeSorted;\n+  }\n+\n   /**\n    * @deprecated since 2.0.0\n    */"
            },
            {
                "sha": "ba78e330b69d70100ae0b9697d193af2fcda3411",
                "filename": "tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "status": "modified",
                "additions": 2,
                "deletions": 0,
                "changes": 2,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/9ec45a94a431ced48fa47a7b4c398b22a2a60a10/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/java/org/apache/myfaces/tobago/example/demo/TobagoDemoController.java?ref=9ec45a94a431ced48fa47a7b4c398b22a2a60a10",
                "patch": "@@ -518,6 +518,8 @@ private void sheetSorter(final SheetState sheetState, final List<SolarObject> li\n     final SolarObject sun = list.remove(0);\n     final String columnId = sheetState.getSortedColumnId();\n \n+    LOG.info(\"Sorting column '{}'\", columnId);\n+\n     Comparator<SolarObject> comparator = null;\n \n     if (\"name\".equals(columnId)) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/6a237550876eb76b84f9154aaa39c0b3a9d2a050",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/0e39a9898e24dbfde6dc19b83e8c49db03703dab",
        "message": "Fixed NPE if width is not defined in html style map.\nAdded slider/input field percentage configuration.",
        "bug_id": "myfaces-tobago_88",
        "file": [
            {
                "sha": "6991c9014a683d4b2a16796773548ef2c5a7822e",
                "filename": "sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/sandbox/standard/tag/InputNumberSliderRenderer.java",
                "status": "modified",
                "additions": 119,
                "deletions": 105,
                "changes": 224,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/6a237550876eb76b84f9154aaa39c0b3a9d2a050/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/sandbox/standard/tag/InputNumberSliderRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/6a237550876eb76b84f9154aaa39c0b3a9d2a050/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/sandbox/standard/tag/InputNumberSliderRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/sandbox/src/main/java/org/apache/myfaces/tobago/renderkit/html/sandbox/standard/tag/InputNumberSliderRenderer.java?ref=6a237550876eb76b84f9154aaa39c0b3a9d2a050",
                "patch": "@@ -20,6 +20,7 @@\n import org.apache.commons.logging.Log;\r\n import org.apache.commons.logging.LogFactory;\r\n import org.apache.myfaces.tobago.TobagoConstants;\r\n+import org.apache.myfaces.tobago.config.ThemeConfig;\r\n import static org.apache.myfaces.tobago.TobagoConstants.*;\r\n import org.apache.myfaces.tobago.component.ComponentUtil;\r\n import org.apache.myfaces.tobago.renderkit.RendererBase;\r\n@@ -37,115 +38,128 @@\n \r\n public class InputNumberSliderRenderer extends RendererBase {\r\n \r\n-  private static final Log LOG = LogFactory.getLog(InputNumberSliderRenderer.class);\r\n-\r\n-  public void encodeEnd(FacesContext facesContext, UIComponent component) throws IOException {\r\n-    String id = component.getClientId(facesContext);\r\n-    String currentValue = getCurrentValue(facesContext, component);\r\n-    boolean readonly = ComponentUtil.getBooleanAttribute(component, ATTR_READONLY);\r\n-    boolean disabled = ComponentUtil.getBooleanAttribute(component, ATTR_DISABLED);\r\n-    Integer min = ComponentUtil.getIntAttribute(component, \"min\");\r\n-    Integer max = ComponentUtil.getIntAttribute(component, \"max\");\r\n-    LOG.info(\"### min = \" + min);\r\n-    LOG.info(\"### max = \" + max);\r\n-    TobagoResponseWriter writer = (TobagoResponseWriter) facesContext.getResponseWriter();\r\n-\r\n-    HtmlStyleMap style = (HtmlStyleMap) component.getAttributes().get(ATTR_STYLE);\r\n-    int width = -1;\r\n-    int sliderWidth = 100; // fixme\r\n-    int inputWidth = 50; // fixme;\r\n-    if (style != null) {\r\n-      width = style.getInt(\"width\");\r\n-    }\r\n-    if (width >= 0) {\r\n-      sliderWidth = width * 2 / 3;\r\n-      inputWidth = width * 1 / 3;\r\n+    private static final Log LOG = LogFactory.getLog(InputNumberSliderRenderer.class);\r\n+\r\n+    public void encodeEnd(FacesContext facesContext, UIComponent component) throws IOException {\r\n+        String id = component.getClientId(facesContext);\r\n+        String currentValue = getCurrentValue(facesContext, component);\r\n+        boolean readonly = ComponentUtil.getBooleanAttribute(component, ATTR_READONLY);\r\n+        boolean disabled = ComponentUtil.getBooleanAttribute(component, ATTR_DISABLED);\r\n+        Integer min = ComponentUtil.getIntAttribute(component, \"min\");\r\n+        Integer max = ComponentUtil.getIntAttribute(component, \"max\");\r\n+        LOG.info(\"### min = \" + min);\r\n+        LOG.info(\"### max = \" + max);\r\n+        TobagoResponseWriter writer = (TobagoResponseWriter) facesContext.getResponseWriter();\r\n+\r\n+\r\n+        HtmlStyleMap style = (HtmlStyleMap) component.getAttributes().get(ATTR_STYLE);\r\n+        int width = -1;\r\n+        int sliderWidthPerc = ThemeConfig.getValue(facesContext, component, \"sliderWidthPercent\");\r\n+        if (sliderWidthPerc <= 25) {\r\n+            sliderWidthPerc = 25;\r\n+        }\r\n+        if (sliderWidthPerc >= 75) {\r\n+            sliderWidthPerc = 75;\r\n+        }\r\n+        int sliderWidth = 100; // fixme\r\n+        int inputWidth = 50; // fixme;\r\n+        if (style != null && style.containsKey(\"width\")) {\r\n+            width = style.getInt(\"width\");\r\n+        }\r\n+        if (width >= 0) {\r\n+            sliderWidth = (width * sliderWidthPerc) / 100;\r\n+            inputWidth = (width * (100 - sliderWidthPerc)) / 100;\r\n+        }\r\n+\r\n+        LOG.info(\"Slider width: \"+sliderWidth);\r\n+        LOG.info(\"Input width: \"+inputWidth);\r\n+        LOG.info(\"Width: \"+width);\r\n+        LOG.info(\"Percentage: \"+sliderWidthPerc);\r\n+\r\n+        writer.startElement(HtmlConstants.TABLE, component);\r\n+        writer.writeIdAttribute(id);\r\n+        writer.writeComponentClass();\r\n+        writer.writeAttribute(HtmlAttributes.STYLE, null, ATTR_STYLE);\r\n+        //writer.writeAttribute(\"border\",\"1\",false);\r\n+\r\n+        writer.startElement(HtmlConstants.TR);\r\n+        writer.startElement(HtmlConstants.TD);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-min-default\");\r\n+        writer.writeAttribute(HtmlAttributes.STYLE,\r\n+                HtmlRendererUtil.toStyleString(\"width\", sliderWidth / 2), null);\r\n+        writer.startElement(HtmlConstants.SPAN);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-min-default\");\r\n+        writer.writeText(min, null);\r\n+        writer.endElement(HtmlConstants.SPAN);\r\n+\r\n+        writer.endElement(HtmlConstants.TD);\r\n+        writer.startElement(HtmlConstants.TD);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-max-default\");\r\n+        writer.writeAttribute(HtmlAttributes.STYLE,\r\n+                HtmlRendererUtil.toStyleString(\"width\", sliderWidth * 1 / 2), null);\r\n+        writer.startElement(HtmlConstants.SPAN);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-max-default\");\r\n+        writer.writeText(max, null);\r\n+        writer.endElement(HtmlConstants.SPAN);\r\n+        writer.endElement(HtmlConstants.TD);\r\n+\r\n+        // the input field starts here\r\n+        writer.startElement(HtmlConstants.TD);\r\n+        writer.writeAttribute(\"rowspan\", \"2\", false);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-input-default\");\r\n+\r\n+        writer.startElement(HtmlConstants.INPUT);\r\n+        writer.writeClassAttribute(\"tobago-in-default\");\r\n+        writer.writeAttribute(HtmlAttributes.STYLE,\r\n+                HtmlRendererUtil.toStyleString(\"width\", inputWidth), null);\r\n+        String inputIdAndName = getIdForInputField(facesContext, component);\r\n+        writer.writeNameAttribute(inputIdAndName);\r\n+        writer.writeIdAttribute(inputIdAndName);\r\n+        if (currentValue != null) {\r\n+            writer.writeAttribute(HtmlAttributes.VALUE, currentValue, null);\r\n+        }\r\n+        writer.writeAttribute(HtmlAttributes.READONLY, readonly);\r\n+        writer.writeAttribute(HtmlAttributes.DISABLED, disabled);\r\n+        //writer.writeAttribute(HtmlAttributes.STYLE, null, ATTR_STYLE);\r\n+        writer.endElement(HtmlConstants.INPUT);\r\n+        writer.endElement(HtmlConstants.TD);\r\n+\r\n+        writer.endElement(HtmlConstants.TR);\r\n+        writer.startElement(HtmlConstants.TR);\r\n+        writer.startElement(HtmlConstants.TD);\r\n+        writer.writeClassAttribute(\"tobago-inputNumberSlider-slider-default\");\r\n+        writer.writeAttribute(\"colspan\", \"2\", false);\r\n+        //writer.writeAttribute(\"width\", \"200\", false);\r\n+        writer.writeAttribute(\"height\", \"5\", false);\r\n+        //writer.writeAttribute(\"bgcolor\", \"yellow\", false);\r\n+\r\n+        writer.endElement(HtmlConstants.TD);\r\n+        writer.endElement(HtmlConstants.TR);\r\n+        writer.endElement(HtmlConstants.TABLE);\r\n+\r\n+        //HtmlRendererUtil.renderFocusId(facesContext, component);\r\n     }\r\n \r\n-    writer.startElement(HtmlConstants.TABLE, component);\r\n-    writer.writeIdAttribute(id);\r\n-    writer.writeComponentClass();\r\n-    writer.writeAttribute(HtmlAttributes.STYLE, null, ATTR_STYLE);\r\n-    //writer.writeAttribute(\"border\",\"1\",false);\r\n-\r\n-    writer.startElement(HtmlConstants.TR);\r\n-    writer.startElement(HtmlConstants.TD);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-min-default\");\r\n-    writer.writeAttribute(HtmlAttributes.STYLE,\r\n-        HtmlRendererUtil.toStyleString(\"width\", sliderWidth * 1 / 2), null);\r\n-    writer.startElement(HtmlConstants.SPAN);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-min-default\");\r\n-    writer.writeText(min, null);\r\n-    writer.endElement(HtmlConstants.SPAN);\r\n-\r\n-    writer.endElement(HtmlConstants.TD);\r\n-    writer.startElement(HtmlConstants.TD);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-max-default\");\r\n-    writer.writeAttribute(HtmlAttributes.STYLE,\r\n-        HtmlRendererUtil.toStyleString(\"width\", sliderWidth * 1 / 2), null);\r\n-    writer.startElement(HtmlConstants.SPAN);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-max-default\");\r\n-    writer.writeText(max, null);\r\n-    writer.endElement(HtmlConstants.SPAN);\r\n-    writer.endElement(HtmlConstants.TD);\r\n-\r\n-    // the input field starts here\r\n-    writer.startElement(HtmlConstants.TD);\r\n-    writer.writeAttribute(\"rowspan\", \"2\", false);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-input-default\");\r\n-\r\n-    writer.startElement(HtmlConstants.INPUT);\r\n-    writer.writeClassAttribute(\"tobago-in-default\");\r\n-    writer.writeAttribute(HtmlAttributes.STYLE,\r\n-        HtmlRendererUtil.toStyleString(\"width\", inputWidth), null);        \r\n-    String inputIdAndName = getIdForInputField(facesContext, component);\r\n-    writer.writeNameAttribute(inputIdAndName);\r\n-    writer.writeIdAttribute(inputIdAndName);\r\n-    if (currentValue != null) {\r\n-      writer.writeAttribute(HtmlAttributes.VALUE, currentValue, null);\r\n-    }\r\n-    writer.writeAttribute(HtmlAttributes.READONLY, readonly);\r\n-    writer.writeAttribute(HtmlAttributes.DISABLED, disabled);\r\n-    //writer.writeAttribute(HtmlAttributes.STYLE, null, ATTR_STYLE);\r\n-    writer.endElement(HtmlConstants.INPUT);\r\n-    writer.endElement(HtmlConstants.TD);\r\n-\r\n-    writer.endElement(HtmlConstants.TR);\r\n-    writer.startElement(HtmlConstants.TR);\r\n-    writer.startElement(HtmlConstants.TD);\r\n-    writer.writeClassAttribute(\"tobago-inputNumberSlider-slider-default\");\r\n-    writer.writeAttribute(\"colspan\", \"2\", false);\r\n-    //writer.writeAttribute(\"width\", \"200\", false);\r\n-    writer.writeAttribute(\"height\", \"5\", false);\r\n-    //writer.writeAttribute(\"bgcolor\", \"yellow\", false);\r\n-\r\n-    writer.endElement(HtmlConstants.TD);\r\n-    writer.endElement(HtmlConstants.TR);\r\n-    writer.endElement(HtmlConstants.TABLE);\r\n-\r\n-    //HtmlRendererUtil.renderFocusId(facesContext, component);\r\n-  }\r\n-\r\n-  public void decode(FacesContext context, UIComponent component) {\r\n-    UIInput uiInput;\r\n-    if (component instanceof UIInput && !ComponentUtil.isOutputOnly(component)) {\r\n-      uiInput = (UIInput) component;\r\n-    } else {\r\n-      return;\r\n+    public void decode(FacesContext context, UIComponent component) {\r\n+        UIInput uiInput;\r\n+        if (component instanceof UIInput && !ComponentUtil.isOutputOnly(component)) {\r\n+            uiInput = (UIInput) component;\r\n+        } else {\r\n+            return;\r\n+        }\r\n+        String inputId = getIdForInputField(context, component);\r\n+        Map requestParameterMap = context.getExternalContext().getRequestParameterMap();\r\n+        if (requestParameterMap.containsKey(inputId)) {\r\n+            String newValue = (String) requestParameterMap.get(inputId);\r\n+            uiInput.setSubmittedValue(newValue);\r\n+        }\r\n     }\r\n-    String inputId = getIdForInputField(context, component);\r\n-    Map requestParameterMap = context.getExternalContext().getRequestParameterMap();\r\n-    if (requestParameterMap.containsKey(inputId)) {\r\n-      String newValue = (String) requestParameterMap.get(inputId);\r\n-      uiInput.setSubmittedValue(newValue);\r\n-    }\r\n-  }\r\n \r\n-  private String getIdForInputField(FacesContext context,\r\n-      UIComponent component) {\r\n-    String id = component.getClientId(context);\r\n-    return id + TobagoConstants.SUBCOMPONENT_SEP + \"input\";\r\n-  }\r\n+    private String getIdForInputField(FacesContext context,\r\n+                                      UIComponent component) {\r\n+        String id = component.getClientId(context);\r\n+        return id + TobagoConstants.SUBCOMPONENT_SEP + \"input\";\r\n+    }\r\n \r\n \r\n }\r"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/0a58dc8f91776a2789bc6a3016a79001ebf842af",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/63393cc7e4923edd8b2ab09f5acccb13f43d0d96",
        "message": "Merged from trunk\nTOBAGO-1359: NPE when rendering sheet\n - working a little bit on nested sheets (not officially supported): no pretty output, but readable [from revision 1576730]",
        "bug_id": "myfaces-tobago_89",
        "file": [
            {
                "sha": "4b35fd00066973807f9baaa65edcf4109ed68a3a",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 18,
                "deletions": 10,
                "changes": 28,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=0a58dc8f91776a2789bc6a3016a79001ebf842af",
                "patch": "@@ -370,21 +370,29 @@ public void restoreState(final FacesContext context, final Object savedState) {\n   }\n \n   public List<AbstractUIColumn> getAllColumns() {\n-    final List<AbstractUIColumn> columns = new ArrayList<AbstractUIColumn>();\n-    for (final AbstractUIColumn kid : ComponentUtils.findDescendantList(this, AbstractUIColumn.class)) {\n-      columns.add(kid);\n-    }\n-    return columns;\n+    ArrayList<AbstractUIColumn> result = new ArrayList<AbstractUIColumn>();\n+    findColumns(this, result, true);\n+    return result;\n   }\n \n   public List<AbstractUIColumn> getRenderedColumns() {\n-    final List<AbstractUIColumn> columns = new ArrayList<AbstractUIColumn>();\n-    for (final AbstractUIColumn kid : ComponentUtils.findDescendantList(this, AbstractUIColumn.class)) {\n-      if (kid.isRendered()) {\n-        columns.add(kid);\n+    ArrayList<AbstractUIColumn> result = new ArrayList<AbstractUIColumn>();\n+    findColumns(this, result, false);\n+    return result;\n+  }\n+\n+  private void findColumns(final UIComponent component, final List<AbstractUIColumn> result, final boolean all) {\n+    for (final UIComponent child : component.getChildren()) {\n+      if (all || child.isRendered()) {\n+        if (child instanceof AbstractUIColumn) {\n+          result.add((AbstractUIColumn) child);\n+        } else if (child instanceof AbstractUIData){\n+          // ignore nested sheets\n+        } else {\n+          findColumns(child, result, all);\n+        }\n       }\n     }\n-    return columns;\n   }\n \n /*  public MethodBinding getSortActionListener() {"
            },
            {
                "sha": "3aeef40ca27b8c0332592564b0fbc6dedcaedd04",
                "filename": "tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "status": "added",
                "additions": 47,
                "deletions": 0,
                "changes": 47,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java?ref=0a58dc8f91776a2789bc6a3016a79001ebf842af",
                "patch": "@@ -0,0 +1,47 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.myfaces.tobago.example.data;\n+\n+public class Element {\n+\n+  private String name;\n+  private double ratio;\n+\n+  public Element(final String name, final double ratio) {\n+    this.name = name;\n+    this.ratio = ratio;\n+  }\n+\n+  public String getName() {\n+    return name;\n+  }\n+\n+  public void setName(final String name) {\n+    this.name = name;\n+  }\n+\n+  public double getRatio() {\n+    return ratio;\n+  }\n+\n+  public void setRatio(final double ratio) {\n+    this.ratio = ratio;\n+  }\n+}"
            },
            {
                "sha": "fe36236fa59f7b7f5ac9b9723351f32bc78fe477",
                "filename": "tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "status": "modified",
                "additions": 41,
                "deletions": 6,
                "changes": 47,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java?ref=0a58dc8f91776a2789bc6a3016a79001ebf842af",
                "patch": "@@ -21,6 +21,8 @@\n \n import javax.swing.tree.DefaultMutableTreeNode;\n import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n@@ -47,6 +49,8 @@\n \n   private String population;\n \n+  private List<Element> chemicalComposition;\n+\n   public SolarObject(\n       final String name, final String number, final String orbit, final Integer distance, final Double period,\n       final Double incl, final Double eccen, final String discoverer, final Integer discoverYear) {\n@@ -154,6 +158,14 @@ public void setPopulation(final String population) {\n     this.population = population;\n   }\n \n+  public List<Element> getChemicalComposition() {\n+    return chemicalComposition != null ? chemicalComposition : Collections.<Element>emptyList();\n+  }\n+\n+  public void setChemicalComposition(final List<Element> chemicalComposition) {\n+    this.chemicalComposition = chemicalComposition;\n+  }\n+\n   public boolean isSelectionDisabled() {\n     return number.equals(\"II\");\n   }\n@@ -165,9 +177,7 @@ public boolean isSelectionDisabled() {\n   public static List<SolarObject> getList() {\n     final SolarObject[] array = getArray();\n     final List<SolarObject> list = new ArrayList<SolarObject>(array.length);\n-    for (final SolarObject object : array) {\n-      list.add(object);\n-    }\n+    Collections.addAll(list, array);\n     return list;\n   }\n \n@@ -198,18 +208,22 @@ public static DefaultMutableTreeNode getTree() {\n     return collect;\n   }\n \n+  public static final SolarObject SUN = new SolarObject(\"Sun\", \"-\", \"-\", 0, 0.0, 0.0, 0.0, \"-\", null);\n+  public static final SolarObject EARTH =new SolarObject(\"Earth\", \"III\", \"Sun\", 149600, 365.26, 0.00, 0.02, \"-\", null);\n+  public static final SolarObject MOON = new SolarObject(\"Moon\", \"I\", \"Earth\", 384, 27.32, 5.14, 0.05, \"-\", null);\n+\n   public static final SolarObject[] DATA = {\n-      new SolarObject(\"Sun\", \"-\", \"-\", 0, 0.0, 0.0, 0.0, \"-\", null),\n+      SUN,\n       new SolarObject(\"Mercury\", \"I\", \"Sun\", 57910, 87.97, 7.00, 0.21, \"-\", null),\n       new SolarObject(\"Venus\", \"II\", \"Sun\", 108200, 224.70, 3.39, 0.01, \"-\", null),\n-      new SolarObject(\"Earth\", \"III\", \"Sun\", 149600, 365.26, 0.00, 0.02, \"-\", null),\n+      EARTH,\n       new SolarObject(\"Mars\", \"IV\", \"Sun\", 227940, 686.98, 1.85, 0.09, \"-\", null),\n       new SolarObject(\"Jupiter\", \"V\", \"Sun\", 778330, 4332.71, 1.31, 0.05, \"-\", null),\n       new SolarObject(\"Saturn\", \"VI\", \"Sun\", 1429400, 10759.50, 2.49, 0.06, \"-\", null),\n       new SolarObject(\"Uranus\", \"VII\", \"Sun\", 2870990, 30685.0, 0.77, 0.05, \"Herschel\", 1781),\n       new SolarObject(\"Neptune\", \"VIII\", \"Sun\", 4504300, 60190.0, 1.77, 0.01, \"Adams\", 1846),\n       new SolarObject(\"Pluto\", \"IX\", \"Sun\", 5913520, 90800.0, 17.15, 0.25, \"Tombaugh\", 1930),\n-      new SolarObject(\"Moon\", \"I\", \"Earth\", 384, 27.32, 5.14, 0.05, \"-\", null),\n+      MOON,\n       new SolarObject(\"Phobos\", \"I\", \"Mars\", 9, 0.32, 1.00, 0.02, \"Hall\", 1877),\n       new SolarObject(\"Deimos\", \"II\", \"Mars\", 23, 1.26, 1.80, 0.00, \"Hall\", 1877),\n       new SolarObject(\"Metis\", \"XVI\", \"Jupiter\", 128, 0.29, 0.00, 0.00, \"Synnott\", 1979),\n@@ -289,4 +303,25 @@ public static DefaultMutableTreeNode getTree() {\n       new SolarObject(\"Charon\", \"I\", \"Pluto\", 20, 6.39, 98.80, 0.00, \"Christy\", 1978)\n   };\n \n+  static {\n+    List<Element> sun = Arrays.asList(\n+        new Element(\"Hydrogen\", 0.74),\n+        new Element(\"Helium\", 0.25)\n+    );\n+    SUN.setChemicalComposition(sun);\n+    List<Element> earth = Arrays.asList(\n+        new Element(\"Silica\", 0.60),\n+        new Element(\"Alimina\", 0.15),\n+        new Element(\"Lime\", 0.05)\n+    );\n+    EARTH.setChemicalComposition(earth);\n+    List<Element> moon = Arrays.asList(\n+        new Element(\"Silica\", 0.45),\n+        new Element(\"Alimina\", 0.24),\n+        new Element(\"Lime\", 0.16)\n+    );\n+    MOON.setChemicalComposition(moon);\n+  }\n+\n+\n }"
            },
            {
                "sha": "3c5c7ae0e0669e3583eb36f6da32920dbeaeaea4",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "status": "added",
                "additions": 49,
                "deletions": 0,
                "changes": 49,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml?ref=0a58dc8f91776a2789bc6a3016a79001ebf842af",
                "patch": "@@ -0,0 +1,49 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+-->\n+\n+<ui:composition template=\"/WEB-INF/tags/layout/overview.xhtml\"\n+                xmlns:tc=\"http://myfaces.apache.org/tobago/component\"\n+                xmlns:tx=\"http://myfaces.apache.org/tobago/extension\"\n+                xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n+                xmlns:h=\"http://java.sun.com/jsf/html\"\n+                xmlns:f=\"http://java.sun.com/jsf/core\">\n+  <ui:param name=\"title\" value=\"#{overviewBundle.sheet}\"/>\n+\n+    <tc:sheet value=\"#{demo.solarList}\" id=\"sheet\"\n+              columns=\"*;2*\" var=\"luminary\">\n+      <tc:column label=\"#{overviewBundle.solarArrayName}\" id=\"name\" sortable=\"true\" markup=\"#{luminary.markup}\">\n+        <tc:out value=\"#{luminary.name}\" id=\"t_name\"/>\n+      </tc:column>\n+      <tc:column label=\"Chemical Composition\" id=\"cc\" sortable=\"false\" resizable=\"false\"\n+                 tip=\"Chemical Composition of the Crust\">\n+\n+          <tc:sheet value=\"#{luminary.chemicalComposition}\" id=\"nested\"\n+                    columns=\"*;*\" var=\"element\">\n+              <tc:column label=\"Element\" id=\"element\" sortable=\"false\" resizable=\"false\">\n+                  <tc:out value=\"#{element.name}\"/>\n+              </tc:column>\n+              <tc:column label=\"Ratio\" id=\"ratio\" sortable=\"false\" resizable=\"false\">\n+                  <tc:out value=\"#{element.ratio}\"/>\n+              </tc:column>\n+          </tc:sheet>\n+\n+      </tc:column>\n+    </tc:sheet>\n+\n+</ui:composition>"
            },
            {
                "sha": "167ef49ca036aada09d898ec712240e961ef203a",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 8,
                "deletions": 2,
                "changes": 10,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/0a58dc8f91776a2789bc6a3016a79001ebf842af/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java?ref=0a58dc8f91776a2789bc6a3016a79001ebf842af",
                "patch": "@@ -112,7 +112,7 @@ private void ensureHeader(final FacesContext facesContext, final UISheet sheet)\n     if (header == null) {\n       header = CreateComponentUtils.createComponent(facesContext, ComponentTypes.PANEL, null, \"_header\");\n       header.setTransient(true);\n-      final List<AbstractUIColumn> columns = ComponentUtils.findDescendantList(sheet, AbstractUIColumn.class);\n+      final List<AbstractUIColumn> columns = sheet.getAllColumns();\n       int i = 0;\n       for (final AbstractUIColumn column : columns) {\n         final AbstractUIOut out = (AbstractUIOut) CreateComponentUtils.createComponent(\n@@ -739,7 +739,7 @@ private void link(final FacesContext facesContext, final Application application\n     writer.endElement(HtmlElements.IMG);\n   }\n \n-  // TODO sheet.getColumnLayout() liefert ggf. eine falsche Anzahl von Spalten\n+  // TODO sheet.getColumnLayout() may return the wrong number of column...\n   // TODO\n   // TODO\n \n@@ -751,6 +751,12 @@ private void renderColumnHeaders(\n       throws IOException {\n \n     final Grid grid = sheet.getHeaderGrid();\n+    if (grid == null) {\n+      LOG.warn(\"Can't render column headers, because grid == null. One reason can be, the you use nested sheets. \" +\n+          \"The inner sheet ensureHeader() will be called outside the iterating over the rows. \" +\n+          \"Nesting sheet is currently not supported.\");\n+      return;\n+    }\n     final List<Integer> columnWidths = sheet.getWidthList();\n \n     if (LOG.isDebugEnabled()) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/629b92c75658a8ed70257880ad601790bcf87cf8",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/6d3126df3c263b235e6ebcb20946213ec1ad765c",
        "message": "TOBAGO-1359: NPE when rendering sheet\n - working a little bit on nested sheets (not officially supported): no pretty output, but readable",
        "bug_id": "myfaces-tobago_90",
        "file": [
            {
                "sha": "4b35fd00066973807f9baaa65edcf4109ed68a3a",
                "filename": "tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "status": "modified",
                "additions": 18,
                "deletions": 10,
                "changes": 28,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-core/src/main/java/org/apache/myfaces/tobago/internal/component/AbstractUISheet.java?ref=629b92c75658a8ed70257880ad601790bcf87cf8",
                "patch": "@@ -370,21 +370,29 @@ public void restoreState(final FacesContext context, final Object savedState) {\n   }\n \n   public List<AbstractUIColumn> getAllColumns() {\n-    final List<AbstractUIColumn> columns = new ArrayList<AbstractUIColumn>();\n-    for (final AbstractUIColumn kid : ComponentUtils.findDescendantList(this, AbstractUIColumn.class)) {\n-      columns.add(kid);\n-    }\n-    return columns;\n+    ArrayList<AbstractUIColumn> result = new ArrayList<AbstractUIColumn>();\n+    findColumns(this, result, true);\n+    return result;\n   }\n \n   public List<AbstractUIColumn> getRenderedColumns() {\n-    final List<AbstractUIColumn> columns = new ArrayList<AbstractUIColumn>();\n-    for (final AbstractUIColumn kid : ComponentUtils.findDescendantList(this, AbstractUIColumn.class)) {\n-      if (kid.isRendered()) {\n-        columns.add(kid);\n+    ArrayList<AbstractUIColumn> result = new ArrayList<AbstractUIColumn>();\n+    findColumns(this, result, false);\n+    return result;\n+  }\n+\n+  private void findColumns(final UIComponent component, final List<AbstractUIColumn> result, final boolean all) {\n+    for (final UIComponent child : component.getChildren()) {\n+      if (all || child.isRendered()) {\n+        if (child instanceof AbstractUIColumn) {\n+          result.add((AbstractUIColumn) child);\n+        } else if (child instanceof AbstractUIData){\n+          // ignore nested sheets\n+        } else {\n+          findColumns(child, result, all);\n+        }\n       }\n     }\n-    return columns;\n   }\n \n /*  public MethodBinding getSortActionListener() {"
            },
            {
                "sha": "3aeef40ca27b8c0332592564b0fbc6dedcaedd04",
                "filename": "tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "status": "added",
                "additions": 47,
                "deletions": 0,
                "changes": 47,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/Element.java?ref=629b92c75658a8ed70257880ad601790bcf87cf8",
                "patch": "@@ -0,0 +1,47 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.myfaces.tobago.example.data;\n+\n+public class Element {\n+\n+  private String name;\n+  private double ratio;\n+\n+  public Element(final String name, final double ratio) {\n+    this.name = name;\n+    this.ratio = ratio;\n+  }\n+\n+  public String getName() {\n+    return name;\n+  }\n+\n+  public void setName(final String name) {\n+    this.name = name;\n+  }\n+\n+  public double getRatio() {\n+    return ratio;\n+  }\n+\n+  public void setRatio(final double ratio) {\n+    this.ratio = ratio;\n+  }\n+}"
            },
            {
                "sha": "fe36236fa59f7b7f5ac9b9723351f32bc78fe477",
                "filename": "tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "status": "modified",
                "additions": 41,
                "deletions": 6,
                "changes": 47,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-data/src/main/java/org/apache/myfaces/tobago/example/data/SolarObject.java?ref=629b92c75658a8ed70257880ad601790bcf87cf8",
                "patch": "@@ -21,6 +21,8 @@\n \n import javax.swing.tree.DefaultMutableTreeNode;\n import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n@@ -47,6 +49,8 @@\n \n   private String population;\n \n+  private List<Element> chemicalComposition;\n+\n   public SolarObject(\n       final String name, final String number, final String orbit, final Integer distance, final Double period,\n       final Double incl, final Double eccen, final String discoverer, final Integer discoverYear) {\n@@ -154,6 +158,14 @@ public void setPopulation(final String population) {\n     this.population = population;\n   }\n \n+  public List<Element> getChemicalComposition() {\n+    return chemicalComposition != null ? chemicalComposition : Collections.<Element>emptyList();\n+  }\n+\n+  public void setChemicalComposition(final List<Element> chemicalComposition) {\n+    this.chemicalComposition = chemicalComposition;\n+  }\n+\n   public boolean isSelectionDisabled() {\n     return number.equals(\"II\");\n   }\n@@ -165,9 +177,7 @@ public boolean isSelectionDisabled() {\n   public static List<SolarObject> getList() {\n     final SolarObject[] array = getArray();\n     final List<SolarObject> list = new ArrayList<SolarObject>(array.length);\n-    for (final SolarObject object : array) {\n-      list.add(object);\n-    }\n+    Collections.addAll(list, array);\n     return list;\n   }\n \n@@ -198,18 +208,22 @@ public static DefaultMutableTreeNode getTree() {\n     return collect;\n   }\n \n+  public static final SolarObject SUN = new SolarObject(\"Sun\", \"-\", \"-\", 0, 0.0, 0.0, 0.0, \"-\", null);\n+  public static final SolarObject EARTH =new SolarObject(\"Earth\", \"III\", \"Sun\", 149600, 365.26, 0.00, 0.02, \"-\", null);\n+  public static final SolarObject MOON = new SolarObject(\"Moon\", \"I\", \"Earth\", 384, 27.32, 5.14, 0.05, \"-\", null);\n+\n   public static final SolarObject[] DATA = {\n-      new SolarObject(\"Sun\", \"-\", \"-\", 0, 0.0, 0.0, 0.0, \"-\", null),\n+      SUN,\n       new SolarObject(\"Mercury\", \"I\", \"Sun\", 57910, 87.97, 7.00, 0.21, \"-\", null),\n       new SolarObject(\"Venus\", \"II\", \"Sun\", 108200, 224.70, 3.39, 0.01, \"-\", null),\n-      new SolarObject(\"Earth\", \"III\", \"Sun\", 149600, 365.26, 0.00, 0.02, \"-\", null),\n+      EARTH,\n       new SolarObject(\"Mars\", \"IV\", \"Sun\", 227940, 686.98, 1.85, 0.09, \"-\", null),\n       new SolarObject(\"Jupiter\", \"V\", \"Sun\", 778330, 4332.71, 1.31, 0.05, \"-\", null),\n       new SolarObject(\"Saturn\", \"VI\", \"Sun\", 1429400, 10759.50, 2.49, 0.06, \"-\", null),\n       new SolarObject(\"Uranus\", \"VII\", \"Sun\", 2870990, 30685.0, 0.77, 0.05, \"Herschel\", 1781),\n       new SolarObject(\"Neptune\", \"VIII\", \"Sun\", 4504300, 60190.0, 1.77, 0.01, \"Adams\", 1846),\n       new SolarObject(\"Pluto\", \"IX\", \"Sun\", 5913520, 90800.0, 17.15, 0.25, \"Tombaugh\", 1930),\n-      new SolarObject(\"Moon\", \"I\", \"Earth\", 384, 27.32, 5.14, 0.05, \"-\", null),\n+      MOON,\n       new SolarObject(\"Phobos\", \"I\", \"Mars\", 9, 0.32, 1.00, 0.02, \"Hall\", 1877),\n       new SolarObject(\"Deimos\", \"II\", \"Mars\", 23, 1.26, 1.80, 0.00, \"Hall\", 1877),\n       new SolarObject(\"Metis\", \"XVI\", \"Jupiter\", 128, 0.29, 0.00, 0.00, \"Synnott\", 1979),\n@@ -289,4 +303,25 @@ public static DefaultMutableTreeNode getTree() {\n       new SolarObject(\"Charon\", \"I\", \"Pluto\", 20, 6.39, 98.80, 0.00, \"Christy\", 1978)\n   };\n \n+  static {\n+    List<Element> sun = Arrays.asList(\n+        new Element(\"Hydrogen\", 0.74),\n+        new Element(\"Helium\", 0.25)\n+    );\n+    SUN.setChemicalComposition(sun);\n+    List<Element> earth = Arrays.asList(\n+        new Element(\"Silica\", 0.60),\n+        new Element(\"Alimina\", 0.15),\n+        new Element(\"Lime\", 0.05)\n+    );\n+    EARTH.setChemicalComposition(earth);\n+    List<Element> moon = Arrays.asList(\n+        new Element(\"Silica\", 0.45),\n+        new Element(\"Alimina\", 0.24),\n+        new Element(\"Lime\", 0.16)\n+    );\n+    MOON.setChemicalComposition(moon);\n+  }\n+\n+\n }"
            },
            {
                "sha": "3c5c7ae0e0669e3583eb36f6da32920dbeaeaea4",
                "filename": "tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "status": "added",
                "additions": 49,
                "deletions": 0,
                "changes": 49,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-example/tobago-example-demo/src/main/webapp/content/02-sheet/x-sheet-nested.xhtml?ref=629b92c75658a8ed70257880ad601790bcf87cf8",
                "patch": "@@ -0,0 +1,49 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+-->\n+\n+<ui:composition template=\"/WEB-INF/tags/layout/overview.xhtml\"\n+                xmlns:tc=\"http://myfaces.apache.org/tobago/component\"\n+                xmlns:tx=\"http://myfaces.apache.org/tobago/extension\"\n+                xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n+                xmlns:h=\"http://java.sun.com/jsf/html\"\n+                xmlns:f=\"http://java.sun.com/jsf/core\">\n+  <ui:param name=\"title\" value=\"#{overviewBundle.sheet}\"/>\n+\n+    <tc:sheet value=\"#{demo.solarList}\" id=\"sheet\"\n+              columns=\"*;2*\" var=\"luminary\">\n+      <tc:column label=\"#{overviewBundle.solarArrayName}\" id=\"name\" sortable=\"true\" markup=\"#{luminary.markup}\">\n+        <tc:out value=\"#{luminary.name}\" id=\"t_name\"/>\n+      </tc:column>\n+      <tc:column label=\"Chemical Composition\" id=\"cc\" sortable=\"false\" resizable=\"false\"\n+                 tip=\"Chemical Composition of the Crust\">\n+\n+          <tc:sheet value=\"#{luminary.chemicalComposition}\" id=\"nested\"\n+                    columns=\"*;*\" var=\"element\">\n+              <tc:column label=\"Element\" id=\"element\" sortable=\"false\" resizable=\"false\">\n+                  <tc:out value=\"#{element.name}\"/>\n+              </tc:column>\n+              <tc:column label=\"Ratio\" id=\"ratio\" sortable=\"false\" resizable=\"false\">\n+                  <tc:out value=\"#{element.ratio}\"/>\n+              </tc:column>\n+          </tc:sheet>\n+\n+      </tc:column>\n+    </tc:sheet>\n+\n+</ui:composition>"
            },
            {
                "sha": "6ef3b0bf8a1bb522dc9fbacb72d016c4fbd45cbf",
                "filename": "tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 8,
                "deletions": 2,
                "changes": 10,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/629b92c75658a8ed70257880ad601790bcf87cf8/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-standard/src/main/java/org/apache/myfaces/tobago/renderkit/html/standard/standard/tag/SheetRenderer.java?ref=629b92c75658a8ed70257880ad601790bcf87cf8",
                "patch": "@@ -113,7 +113,7 @@ private void ensureHeader(final FacesContext facesContext, final UISheet sheet)\n     if (header == null) {\n       header = CreateComponentUtils.createComponent(facesContext, ComponentTypes.PANEL, null, \"_header\");\n       header.setTransient(true);\n-      final List<AbstractUIColumn> columns = ComponentUtils.findDescendantList(sheet, AbstractUIColumn.class);\n+      final List<AbstractUIColumn> columns = sheet.getAllColumns();\n       int i = 0;\n       for (final AbstractUIColumn column : columns) {\n         final AbstractUIOut out = (AbstractUIOut) CreateComponentUtils.createComponent(\n@@ -715,7 +715,7 @@ private void link(final FacesContext facesContext, final Application application\n     writer.endElement(HtmlElements.IMG);\n   }\n \n-  // TODO sheet.getColumnLayout() liefert ggf. eine falsche Anzahl von Spalten\n+  // TODO sheet.getColumnLayout() may return the wrong number of column...\n   // TODO\n   // TODO\n \n@@ -727,6 +727,12 @@ private void renderColumnHeaders(\n       throws IOException {\n \n     final Grid grid = sheet.getHeaderGrid();\n+    if (grid == null) {\n+      LOG.warn(\"Can't render column headers, because grid == null. One reason can be, the you use nested sheets. \" +\n+          \"The inner sheet ensureHeader() will be called outside the iterating over the rows. \" +\n+          \"Nesting sheet is currently not supported.\");\n+      return;\n+    }\n     final List<Integer> columnWidths = sheet.getWidthList();\n \n     if (LOG.isDebugEnabled()) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/2af9b78cf459551a9b301050b0ede933f7274bf6",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/21717a1bba47e6a295f49ef8ee6e1d5b750b7059",
        "message": "(TOBAGO-543) replace prototype with dojo as underlying ajax library\n<http://issues.apache.org/jira/browse/TOBAGO-543>\n  don't throw NPE on non Ajax request",
        "bug_id": "myfaces-tobago_91",
        "file": [
            {
                "sha": "72d984e5d2a841c1d2804ecaa0fa30a06450ad86",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxUtils.java",
                "status": "modified",
                "additions": 8,
                "deletions": 2,
                "changes": 10,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/2af9b78cf459551a9b301050b0ede933f7274bf6/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxUtils.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/2af9b78cf459551a9b301050b0ede933f7274bf6/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxUtils.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxUtils.java?ref=2af9b78cf459551a9b301050b0ede933f7274bf6",
                "patch": "@@ -106,7 +106,10 @@ public static boolean isAjaxRequest(FacesContext facesContext) {\n   }\n \n   public static void removeAjaxComponent(FacesContext facesContext, String clientId) {\n-    getAjaxComponents(facesContext).remove(clientId);\n+    Map<String, UIComponent> ajaxComponents = getAjaxComponents(facesContext);\n+    if (ajaxComponents != null) {\n+      ajaxComponents.remove(clientId);\n+    }\n   }\n \n   public static void addAjaxComponent(FacesContext facesContext, String clientId) {\n@@ -115,7 +118,10 @@ public static void addAjaxComponent(FacesContext facesContext, String clientId)\n \n   public static void addAjaxComponent(FacesContext facesContext, UIComponent component) {\n     if (component instanceof AjaxComponent) {\n-      getAjaxComponents(facesContext).put(component.getClientId(facesContext), component);\n+      Map<String, UIComponent> ajaxComponents = getAjaxComponents(facesContext);\n+      if (ajaxComponents != null) {\n+        ajaxComponents.put(component.getClientId(facesContext), component);\n+      }\n     } else {\n       LOG.warn(\"Ignore non AjaxComponent : \\\"\"\n           + (component != null ? component.getClientId(facesContext) : \"null\")"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/d9fdd909f320b99ada369c5dff2c60bc30205da0",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/afdefb72424aa72fa1be0a844a33bf54fc25c734",
        "message": "Ajax requests needs a different content-type.\n<http://issues.apache.org/jira/browse/TOBAGO-503>\n  fix NPE on CODE_RELOAD_REQUIRED",
        "bug_id": "myfaces-tobago_92",
        "file": [
            {
                "sha": "087c2097bf38164dc7c6cf6f5f8a74c1bb60a673",
                "filename": "core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxResponseRenderer.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/d9fdd909f320b99ada369c5dff2c60bc30205da0/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxResponseRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/d9fdd909f320b99ada369c5dff2c60bc30205da0/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxResponseRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/core/src/main/java/org/apache/myfaces/tobago/ajax/api/AjaxResponseRenderer.java?ref=d9fdd909f320b99ada369c5dff2c60bc30205da0",
                "patch": "@@ -210,7 +210,12 @@ private void writeResponse(FacesContext facesContext, RenderKit renderKit,\n     RequestUtils.ensureEncoding(externalContext);\n     ResponseUtils.ensureNoCacheHeader(externalContext);\n     UIComponent page = ComponentUtil.findPage(facesContext);\n-    String charset = (String) page.getAttributes().get(ATTR_CHARSET);\n+    String charset;\n+    if (page != null) {  // in case of CODE_RELOAD_REQUIRED page is null\n+      charset = (String) page.getAttributes().get(ATTR_CHARSET);\n+    } else {\n+      charset = \"UTF-8\";\n+    }\n     ensureContentTypeHeader(facesContext, charset, contentType);\n     StringBuilder buffer = new StringBuilder(responseCode);\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/myfaces-tobago/commit/c9fbc78e696ffb8d0fbf7d25fc3770e6d177478c",
        "repo": "myfaces-tobago",
        "parent": "https://github.com/apache/myfaces-tobago/commit/9a29dbe8e86fa9f475f8aa21677d8c4270544b42",
        "message": "TOBAGO-1311: Method prepareRender() will not be called for tree nodes in sheets \n - this is turned off in the moment, because otherwise we got an NullPointerException\n - the problem is, that there is no rowId set\n   - a solution would be, to set",
        "bug_id": "myfaces-tobago_93",
        "file": [
            {
                "sha": "652f3efcf7123b9d4c81d3e717ee0ea5d6ee5792",
                "filename": "tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "status": "modified",
                "additions": 10,
                "deletions": 1,
                "changes": 11,
                "blob_url": "https://github.com/apache/myfaces-tobago/blob/c9fbc78e696ffb8d0fbf7d25fc3770e6d177478c/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "raw_url": "https://github.com/apache/myfaces-tobago/raw/c9fbc78e696ffb8d0fbf7d25fc3770e6d177478c/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/myfaces-tobago/contents/tobago-theme/tobago-theme-scarborough/src/main/java/org/apache/myfaces/tobago/renderkit/html/scarborough/standard/tag/SheetRenderer.java?ref=c9fbc78e696ffb8d0fbf7d25fc3770e6d177478c",
                "patch": "@@ -1099,7 +1099,16 @@ public boolean getPrepareRendersChildren() {\n   public void prepareRendersChildren(FacesContext facesContext, UIComponent component) throws IOException {\n     UISheet sheet = (UISheet) component;\n     for (UIColumn column : sheet.getRenderedColumns()) {\n-      RenderUtils.prepareRendererAll(facesContext, column);\n+      if (column instanceof AbstractUIColumnNode) {\n+        if (LOG.isDebugEnabled()) {\n+          LOG.debug(\"TODO: AbstractUIColumnNode are not prepared.\");\n+        }\n+        // TBD: when the column should be prepared for rendering, I think we need to\n+        // TBD: iterate over each row to prepare it.\n+        // TBD: in the moment this method TreeNodeRendererBase.prepareRender() will not be called in sheets\n+      } else {\n+        RenderUtils.prepareRendererAll(facesContext, column);\n+      }\n     }\n   }\n }"
            }
        ]
    }
]
