[
    {
        "commit": "https://github.com/apache/commons-dbutils/commit/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e",
        "repo": "commons-dbutils",
        "parent": "https://github.com/apache/commons-dbutils/commit/32b0ed2c92338c022a733c0d4ef5bb15c87cb01f",
        "message": "It can be confusing to get a NullPointerException when you forget to set the DataSource or include the Connection parameter, so I've added a dedicated exception for this event\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/dbutils/trunk@348539 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "commons-dbutils_1",
        "file": [
            {
                "sha": "0067ce2321fa82af6593104292a8d95b574e4091",
                "filename": "src/java/org/apache/commons/dbutils/QueryRunner.java",
                "status": "modified",
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/apache/commons-dbutils/blob/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e/src/java/org/apache/commons/dbutils/QueryRunner.java",
                "raw_url": "https://github.com/apache/commons-dbutils/raw/5d50c24831281dcaf7d3f8b80d30194d9dd7f40e/src/java/org/apache/commons/dbutils/QueryRunner.java",
                "contents_url": "https://api.github.com/repos/apache/commons-dbutils/contents/src/java/org/apache/commons/dbutils/QueryRunner.java?ref=5d50c24831281dcaf7d3f8b80d30194d9dd7f40e",
                "patch": "@@ -186,6 +186,9 @@ protected PreparedStatement prepareStatement(Connection conn, String sql)\n      * @since DbUtils 1.1\n      */\n     protected Connection prepareConnection() throws SQLException {\n+        if(this.getDataSource() == null) {\n+            throw new SQLException(\"QueryRunner requires a DataSource to be invoked in this way, or a Connection should be passed in\");\n+        }\n         return this.getDataSource().getConnection();\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/commons-dbutils/commit/76f94eaf3c2298bc502d3928ea27de32768d4ace",
        "repo": "commons-dbutils",
        "parent": "https://github.com/apache/commons-dbutils/commit/6dd1e4eeeb29afcdb358c86bc9e37750ff84f36b",
        "message": "Document why pmd cannot be null (Eclipse says potential NPE)\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/dbutils/trunk@1206285 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "commons-dbutils_2",
        "file": [
            {
                "sha": "6903896530eee277006c09f35a7b7b13e51fa263",
                "filename": "src/main/java/org/apache/commons/dbutils/AbstractQueryRunner.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/commons-dbutils/blob/76f94eaf3c2298bc502d3928ea27de32768d4ace/src/main/java/org/apache/commons/dbutils/AbstractQueryRunner.java",
                "raw_url": "https://github.com/apache/commons-dbutils/raw/76f94eaf3c2298bc502d3928ea27de32768d4ace/src/main/java/org/apache/commons/dbutils/AbstractQueryRunner.java",
                "contents_url": "https://api.github.com/repos/apache/commons-dbutils/contents/src/main/java/org/apache/commons/dbutils/AbstractQueryRunner.java?ref=76f94eaf3c2298bc502d3928ea27de32768d4ace",
                "patch": "@@ -194,6 +194,10 @@ public void fillStatement(PreparedStatement stmt, Object... params) throws SQLEx\n                 int sqlType = Types.VARCHAR;\n                 if (!pmdKnownBroken) {\n                     try {\n+                        /*\n+                         * It's not possible for pmdKnownBroken to change from true to false,\n+                         * (once true, always true) so pmd cannot be null here.\n+                         */\n                         sqlType = pmd.getParameterType(i + 1);\n                     } catch (SQLException e) {\n                         pmdKnownBroken = true;"
            }
        ]
    }
]
