[
    {
        "commit": "https://github.com/apache/commons-jci/commit/50f45fd7d1d79ac57b5473d586467969418e85a8",
        "repo": "commons-jci",
        "parent": "https://github.com/apache/commons-jci/commit/ba9cb0fef29ebf2751483f52170784bfa863ab7a",
        "message": "JCI-68  FilesystemAlterationMonitor NullPointerException when directory not readable\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/jci/trunk@1516029 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "commons-jci_1",
        "file": [
            {
                "sha": "d20d02c625630acb91ac5245e2998ec530306f28",
                "filename": "fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationObserverImpl.java",
                "status": "modified",
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/apache/commons-jci/blob/50f45fd7d1d79ac57b5473d586467969418e85a8/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationObserverImpl.java",
                "raw_url": "https://github.com/apache/commons-jci/raw/50f45fd7d1d79ac57b5473d586467969418e85a8/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationObserverImpl.java",
                "contents_url": "https://api.github.com/repos/apache/commons-jci/contents/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationObserverImpl.java?ref=50f45fd7d1d79ac57b5473d586467969418e85a8",
                "patch": "@@ -59,6 +59,9 @@ public boolean exists() {\n \n         public MonitorFile[] listFiles() {\n             final File[] children = file.listFiles();\n+            if (children == null) { // not a directory or IOError (e.g. protection issue)\n+                return new MonitorFile[0];\n+            }\n \n             final MonitorFile[] providers = new MonitorFile[children.length];\n             for (int i = 0; i < providers.length; i++) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/commons-jci/commit/3ac9c4ed90481911e340ea052908565cf739ac6d",
        "repo": "commons-jci",
        "parent": "https://github.com/apache/commons-jci/commit/619bde16daca59aeec96badf2874ffc1aacd663d",
        "message": "Fixed a NPE when FilesystemAlterationMonitor.stop() is called before start() (JCI-62)\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/jci/trunk@1530244 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "commons-jci_2",
        "file": [
            {
                "sha": "443ac90a9aef927c3a89543a0de042710aa6f112",
                "filename": "fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationMonitor.java",
                "status": "modified",
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/apache/commons-jci/blob/3ac9c4ed90481911e340ea052908565cf739ac6d/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationMonitor.java",
                "raw_url": "https://github.com/apache/commons-jci/raw/3ac9c4ed90481911e340ea052908565cf739ac6d/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationMonitor.java",
                "contents_url": "https://api.github.com/repos/apache/commons-jci/contents/fam/src/main/java/org/apache/commons/jci/monitor/FilesystemAlterationMonitor.java?ref=3ac9c4ed90481911e340ea052908565cf739ac6d",
                "patch": "@@ -59,9 +59,11 @@ public void start() {\n     public void stop() {\n         running = false;\n \n-        try {\n-            thread.join(delay);\n-        } catch (InterruptedException e) {\n+        if (thread != null) {\n+            try {\n+                thread.join(delay);\n+            } catch (InterruptedException e) {\n+            }\n         }\n     }\n "
            }
        ]
    }
]
