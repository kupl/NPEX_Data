[
    {
        "commit": "https://github.com/apache/kalumet/commit/fe015b5911030bdff7ed3987229a29ad5729edca",
        "repo": "kalumet",
        "parent": "https://github.com/apache/kalumet/commit/be0822edb36e1d94ed526630dc505cea7fbcfe92",
        "message": "prevent NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/kalumet/trunk@1359368 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "kalumet_1",
        "file": [
            {
                "sha": "d0a41c13ede1492056f87fc7da09adb0e029a876",
                "filename": "kalumet-modules/console/src/main/java/org/apache/kalumet/console/app/Messages.java",
                "status": "modified",
                "additions": 60,
                "deletions": 54,
                "changes": 114,
                "blob_url": "https://github.com/apache/kalumet/blob/fe015b5911030bdff7ed3987229a29ad5729edca/kalumet-modules/console/src/main/java/org/apache/kalumet/console/app/Messages.java",
                "raw_url": "https://github.com/apache/kalumet/raw/fe015b5911030bdff7ed3987229a29ad5729edca/kalumet-modules/console/src/main/java/org/apache/kalumet/console/app/Messages.java",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/kalumet-modules/console/src/main/java/org/apache/kalumet/console/app/Messages.java?ref=fe015b5911030bdff7ed3987229a29ad5729edca",
                "patch": "@@ -35,70 +35,76 @@\n public class Messages\n {\n \n-  private static final String BUNDLE_NAME = \"org.apache.kalumet.console.app.locales.Messages\";\n+    private static final String BUNDLE_NAME = \"org.apache.kalumet.console.app.locales.Messages\";\n \n-  // a map which contains DateFormat objects for various locales.\n-  private static final Map DATE_FORMAT_MEDIUM_MAP = new HashMap();\n+    // a map which contains DateFormat objects for various locales.\n+    private static final Map DATE_FORMAT_MEDIUM_MAP = new HashMap();\n \n-  /**\n-   * Formats a date with the specified locale.\n-   *\n-   * @param date the date to be formatted.\n-   * @return a localized String representation of the date.\n-   */\n-  public static final String formatDateTimeMedium( Date date )\n-  {\n-    Locale locale = ApplicationInstance.getActive().getLocale();\n-    DateFormat df = (DateFormat) DATE_FORMAT_MEDIUM_MAP.get( locale );\n-    if ( df == null )\n+    /**\n+     * Formats a date with the specified locale.\n+     *\n+     * @param date the date to be formatted.\n+     * @return a localized String representation of the date.\n+     */\n+    public static final String formatDateTimeMedium( Date date )\n     {\n-      df = DateFormat.getDateTimeInstance( DateFormat.MEDIUM, DateFormat.MEDIUM, locale );\n-      DATE_FORMAT_MEDIUM_MAP.put( locale, df );\n+        Locale locale = getLocale();\n+        DateFormat df = (DateFormat) DATE_FORMAT_MEDIUM_MAP.get( locale );\n+        if ( df == null )\n+        {\n+            df = DateFormat.getDateTimeInstance( DateFormat.MEDIUM, DateFormat.MEDIUM, locale );\n+            DATE_FORMAT_MEDIUM_MAP.put( locale, df );\n+        }\n+        return date == null ? null : df.format( date );\n     }\n-    return date == null ? null : df.format( date );\n-  }\n \n-  /**\n-   * Returns a localized formatted message. This method conveniently wraps a\n-   * call to a MessageFormat object.\n-   *\n-   * @param key       the key of the message to be returned.\n-   * @param arguments an array of arguments to be inserted into the message.\n-   */\n-  public static String getFormattedString( String key, Object[] arguments )\n-  {\n-    Locale locale = ApplicationInstance.getActive().getLocale();\n-    String template = getString( key );\n-    MessageFormat messageFormat = new MessageFormat( template );\n-    messageFormat.setLocale( locale );\n-    return messageFormat.format( arguments, new StringBuffer(), null ).toString();\n-  }\n+    /**\n+     * Returns a localized formatted message. This method conveniently wraps a\n+     * call to a MessageFormat object.\n+     *\n+     * @param key       the key of the message to be returned.\n+     * @param arguments an array of arguments to be inserted into the message.\n+     */\n+    public static String getFormattedString( String key, Object[] arguments )\n+    {\n+        Locale locale = getLocale();\n+        String template = getString( key );\n+        MessageFormat messageFormat = new MessageFormat( template );\n+        messageFormat.setLocale( locale );\n+        return messageFormat.format( arguments, new StringBuffer(), null ).toString();\n+    }\n \n-  /**\n-   * Returns localized text.\n-   *\n-   * @param key the key of the text to be returned.\n-   * @return the appropriate localized text (if the key is not defined, the string \"!key!\" is returned).\n-   */\n-  public static String getString( String key )\n-  {\n-    try\n+    /**\n+     * Returns localized text.\n+     *\n+     * @param key the key of the text to be returned.\n+     * @return the appropriate localized text (if the key is not defined, the string \"!key!\" is returned).\n+     */\n+    public static String getString( String key )\n     {\n-      Locale locale = ApplicationInstance.getActive().getLocale();\n-      ResourceBundle resource = ResourceBundle.getBundle( BUNDLE_NAME, locale );\n-      return resource.getString( key );\n+        try\n+        {\n+            Locale locale = getLocale();\n+\n+            ResourceBundle resource = ResourceBundle.getBundle( BUNDLE_NAME, locale );\n+            return resource.getString( key );\n+        }\n+        catch ( MissingResourceException e )\n+        {\n+            return '!' + key + '!';\n+        }\n     }\n-    catch ( MissingResourceException e )\n+\n+    private static Locale getLocale()\n     {\n-      return '!' + key + '!';\n+        return ApplicationInstance.getActive() == null ? Locale.ENGLISH : ApplicationInstance.getActive().getLocale();\n     }\n-  }\n \n-  /**\n-   * Non-instantiable class.\n-   */\n-  private Messages()\n-  {\n-  }\n+    /**\n+     * Non-instantiable class.\n+     */\n+    private Messages()\n+    {\n+    }\n \n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/kalumet/commit/38e8ec8d4f481b75bb45cfefba840eea3eec745d",
        "repo": "kalumet",
        "parent": "https://github.com/apache/kalumet/commit/12faa18bdc6ae995402cc60b4a79ed302f33f257",
        "message": "prevent infinite loop and NPE with a plexus-utils SNAPSHOT\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/kalumet/trunk@1359198 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "kalumet_2",
        "file": [
            {
                "sha": "1cf605766d09b26bff53798f4ef9097a428cb8eb",
                "filename": "documentation/pom.xml",
                "status": "modified",
                "additions": 9,
                "deletions": 1,
                "changes": 10,
                "blob_url": "https://github.com/apache/kalumet/blob/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/pom.xml",
                "raw_url": "https://github.com/apache/kalumet/raw/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/pom.xml",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/documentation/pom.xml?ref=38e8ec8d4f481b75bb45cfefba840eea3eec745d",
                "patch": "@@ -39,15 +39,23 @@\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-site-plugin</artifactId>\n+        <version>3.1</version>\n         <executions>\n           <execution>\n             <id>site</id>\n-            <phase>generate-resources</phase>\n+            <phase>prepare-package</phase>\n             <goals>\n               <goal>site</goal>\n             </goals>\n           </execution>\n         </executions>\n+        <dependencies>\n+          <dependency>\n+            <groupId>org.codehaus.plexus</groupId>\n+            <artifactId>plexus-utils</artifactId>\n+            <version>3.0.2-SNAPSHOT</version>\n+          </dependency>\n+        </dependencies>\n       </plugin>\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>"
            },
            {
                "sha": "052057b92314603bdec9ce34f2bea0f1815a3cf8",
                "filename": "documentation/src/site/assembly/docs.xml",
                "status": "modified",
                "additions": 11,
                "deletions": 1,
                "changes": 12,
                "blob_url": "https://github.com/apache/kalumet/blob/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/src/site/assembly/docs.xml",
                "raw_url": "https://github.com/apache/kalumet/raw/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/src/site/assembly/docs.xml",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/documentation/src/site/assembly/docs.xml?ref=38e8ec8d4f481b75bb45cfefba840eea3eec745d",
                "patch": "@@ -17,5 +17,15 @@\n     limitations under the License.\n -->\n <assembly>\n-\n+  <id>docs</id>\n+  <formats>\n+    <format>zip</format>\n+  </formats>\n+  <includeBaseDirectory>false</includeBaseDirectory>\n+  <fileSets>\n+    <fileSet>\n+      <directory>target/site</directory>\n+      <outputDirectory>/docs/</outputDirectory>\n+    </fileSet>\n+  </fileSets>\n </assembly>"
            },
            {
                "sha": "11b3a2553eb326eabff7d51a496f3a4ead50964b",
                "filename": "documentation/src/site/site.xml",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/kalumet/blob/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/src/site/site.xml",
                "raw_url": "https://github.com/apache/kalumet/raw/38e8ec8d4f481b75bb45cfefba840eea3eec745d/documentation/src/site/site.xml",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/documentation/src/site/site.xml?ref=38e8ec8d4f481b75bb45cfefba840eea3eec745d",
                "patch": "@@ -27,7 +27,7 @@\n   <skin>\n     <groupId>org.apache.maven.skins</groupId>\n     <artifactId>maven-fluido-skin</artifactId>\n-    <version>1.1</version>\n+    <version>1.2.1</version>\n   </skin>\n \n   <publishDate format=\"yyyy-MM-dd\" position=\"right\"/>"
            },
            {
                "sha": "c6f4a80dfbe1a2d7fdff1b9c9267d92639b88cd5",
                "filename": "pom.xml",
                "status": "modified",
                "additions": 0,
                "deletions": 42,
                "changes": 42,
                "blob_url": "https://github.com/apache/kalumet/blob/38e8ec8d4f481b75bb45cfefba840eea3eec745d/pom.xml",
                "raw_url": "https://github.com/apache/kalumet/raw/38e8ec8d4f481b75bb45cfefba840eea3eec745d/pom.xml",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/pom.xml?ref=38e8ec8d4f481b75bb45cfefba840eea3eec745d",
                "patch": "@@ -561,46 +561,4 @@\n     </plugins>\n   </build>\n \n-  <reporting>\n-    <plugins>\n-\n-      <plugin>\n-        <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-project-info-reports-plugin</artifactId>\n-        <version>${project-info-reports-plugin.version}</version>\n-      </plugin>\n-\n-      <plugin>\n-        <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-javadoc-plugin</artifactId>\n-        <version>${javadoc-plugin.version}</version>\n-      </plugin>\n-\n-      <plugin>\n-        <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-jxr-plugin</artifactId>\n-        <version>2.2</version>\n-      </plugin>\n-      <plugin>\n-        <groupId>org.codehaus.sonar-plugins</groupId>\n-        <artifactId>maven-report</artifactId>\n-        <version>0.1</version>\n-      </plugin>\n-      <plugin>\n-        <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-checkstyle-plugin</artifactId>\n-        <version>2.9.1</version>\n-        <inherited>false</inherited>\n-        <reportSets>\n-          <reportSet>\n-            <reports>\n-              <report>checkstyle-aggregate</report>\n-            </reports>\n-          </reportSet>\n-        </reportSets>\n-      </plugin>\n-\n-    </plugins>\n-  </reporting>\n-\n </project>"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/kalumet/commit/e8320ea199b03df5f11c21505260c26e6c1cf99f",
        "repo": "kalumet",
        "parent": "https://github.com/apache/kalumet/commit/efe1f4964e348fdaa12af571307f39dc02dc5f43",
        "message": "[KALUMET-39] Fix a NPE creating a new J2EE application server in the console\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/kalumet/trunk@1348604 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "kalumet_3",
        "file": [
            {
                "sha": "f1440fe2ef78ab4f5f86f9a94809f6cc1da24d8c",
                "filename": "console/src/main/java/org/apache/kalumet/console/app/ApplicationServerGeneralPane.java",
                "status": "modified",
                "additions": 19,
                "deletions": 14,
                "changes": 33,
                "blob_url": "https://github.com/apache/kalumet/blob/e8320ea199b03df5f11c21505260c26e6c1cf99f/console/src/main/java/org/apache/kalumet/console/app/ApplicationServerGeneralPane.java",
                "raw_url": "https://github.com/apache/kalumet/raw/e8320ea199b03df5f11c21505260c26e6c1cf99f/console/src/main/java/org/apache/kalumet/console/app/ApplicationServerGeneralPane.java",
                "contents_url": "https://api.github.com/repos/apache/kalumet/contents/console/src/main/java/org/apache/kalumet/console/app/ApplicationServerGeneralPane.java?ref=e8320ea199b03df5f11c21505260c26e6c1cf99f",
                "patch": "@@ -246,21 +246,26 @@ public void update()\n       blockerField.setSelectedIndex( 1 );\n     }\n     // update the J2EE application server type field\n-    if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.JBOSS4_CONTROLLER_CLASSNAME ) )\n+    if ( parent.getApplicationServer().getClassname() != null )\n     {\n-      typeField.setSelectedIndex( 0 );\n-    }\n-    if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.JBOSS6_CONTROLLER_CLASSNAME ) )\n-    {\n-      typeField.setSelectedIndex( 1 );\n-    }\n-    if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.WEBLOGIC_CONTROLLER_CLASSNAME ) )\n-    {\n-      typeField.setSelectedIndex( 2 );\n-    }\n-    if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.WEBSPHERE_CONTROLLER_CLASSNAME ) )\n-    {\n-      typeField.setSelectedIndex( 3 );\n+      if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.JBOSS4_CONTROLLER_CLASSNAME ) )\n+      {\n+        typeField.setSelectedIndex( 0 );\n+      }\n+      if ( parent.getApplicationServer().getClassname().equals( ApplicationServerWindow.JBOSS6_CONTROLLER_CLASSNAME ) )\n+      {\n+        typeField.setSelectedIndex( 1 );\n+      }\n+      if ( parent.getApplicationServer().getClassname().equals(\n+        ApplicationServerWindow.WEBLOGIC_CONTROLLER_CLASSNAME ) )\n+      {\n+        typeField.setSelectedIndex( 2 );\n+      }\n+      if ( parent.getApplicationServer().getClassname().equals(\n+        ApplicationServerWindow.WEBSPHERE_CONTROLLER_CLASSNAME ) )\n+      {\n+        typeField.setSelectedIndex( 3 );\n+      }\n     }\n     // update the jee application server jmx field\n     jmxField.setText( parent.getApplicationServer().getJmxurl() );"
            }
        ]
    }
]
