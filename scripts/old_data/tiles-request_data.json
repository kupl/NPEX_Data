[
    {
        "commit": "https://github.com/apache/tiles-request/commit/95f8b2e0a574ccf1b099a3366a4e4138fe965d43",
        "repo": "tiles-request",
        "parent": "https://github.com/apache/tiles-request/commit/ce8b8e1effab41d50e490d89890a8cace1381157",
        "message": "TREQ-10 - NPE while reading the session scope when no session has been created\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tiles/framework/trunk/tiles-request@1199216 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles-request_1",
        "file": [
            {
                "sha": "6d4974328a0c0bfb100b48b0db25b8bdd8e791bf",
                "filename": "tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/tiles-request/blob/95f8b2e0a574ccf1b099a3366a4e4138fe965d43/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "raw_url": "https://github.com/apache/tiles-request/raw/95f8b2e0a574ccf1b099a3366a4e4138fe965d43/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "contents_url": "https://api.github.com/repos/apache/tiles-request/contents/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java?ref=95f8b2e0a574ccf1b099a3366a4e4138fe965d43",
                "patch": "@@ -21,6 +21,7 @@\n package org.apache.tiles.request.servlet.extractor;\n \n import java.util.Enumeration;\n+import java.util.Collections;\n \n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpSession;\n@@ -68,7 +69,7 @@ public void removeValue(String name) {\n         if (session != null) {\n             return session.getAttributeNames();\n         }\n-        return null;\n+        return Collections.enumeration(Collections.<String>emptySet());\n     }\n \n     @Override"
            },
            {
                "sha": "8be27b4bea0c2167056ccf8627133a657fddf081",
                "filename": "tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/tiles-request/blob/95f8b2e0a574ccf1b099a3366a4e4138fe965d43/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "raw_url": "https://github.com/apache/tiles-request/raw/95f8b2e0a574ccf1b099a3366a4e4138fe965d43/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "contents_url": "https://api.github.com/repos/apache/tiles-request/contents/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java?ref=95f8b2e0a574ccf1b099a3366a4e4138fe965d43",
                "patch": "@@ -114,7 +114,9 @@ public void testGetKeysNoSession() {\n         expect(request.getSession(false)).andReturn(null);\n \n         replay(request, session);\n-        assertNull(extractor.getKeys());\n+        Enumeration<String> keys = extractor.getKeys();\n+        assertNotNull(keys);\n+        assertFalse(keys.hasMoreElements());\n         verify(request, session);\n     }\n "
            }
        ]
    }
]
