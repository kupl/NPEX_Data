[
    {
        "commit": "https://github.com/apache/fineract-cn-mobile/commit/62613a1879b380287e4e3fcbb299c8728da66989",
        "repo": "fineract-cn-mobile",
        "parent": "https://github.com/apache/fineract-cn-mobile/commit/cda5cd9c8a31f746fc5a19dfdbeef40cc9d652d5",
        "message": "fix: NPE customer contact details",
        "bug_id": "fineract-cn-mobile_1",
        "file": [
            {
                "sha": "e55e27491dbf097953b35188da64bcdf653113bf",
                "filename": "app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java?ref=62613a1879b380287e4e3fcbb299c8728da66989",
                "patch": "@@ -34,8 +34,8 @@ public ContactDetail() {\n         super();\n     }\n \n-    public String getType() {\n-        return this.type.name();\n+    public Type getType() {\n+        return this.type;\n     }\n \n     public void setType(final Type type) {"
            },
            {
                "sha": "050b2c6b4771c5c7398187f0eb8a77feb8730da1",
                "filename": "app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "status": "modified",
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java?ref=62613a1879b380287e4e3fcbb299c8728da66989",
                "patch": "@@ -1,5 +1,6 @@\n package com.mifos.apache.fineract.ui.online.customerdetails;\n \n+import com.mifos.apache.fineract.data.models.customer.ContactDetail;\n import com.mifos.apache.fineract.data.models.customer.Customer;\n import com.mifos.apache.fineract.ui.base.MvpView;\n \n@@ -15,6 +16,8 @@\n \n         void showCustomerDetails(Customer customer);\n \n+        void showContactDetails(ContactDetail contactDetail);\n+\n         void showToolbarTitleSubtitle(String title, String subtitle);\n \n         void showProgressbar();"
            },
            {
                "sha": "92fb7d0326bbea4847cd724a073e4cb9153b2e2e",
                "filename": "app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "status": "modified",
                "additions": 22,
                "deletions": 3,
                "changes": 25,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java?ref=62613a1879b380287e4e3fcbb299c8728da66989",
                "patch": "@@ -16,6 +16,7 @@\n \n import com.mifos.apache.fineract.R;\n import com.mifos.apache.fineract.data.models.customer.Address;\n+import com.mifos.apache.fineract.data.models.customer.ContactDetail;\n import com.mifos.apache.fineract.data.models.customer.Customer;\n import com.mifos.apache.fineract.ui.base.MifosBaseActivity;\n import com.mifos.apache.fineract.ui.base.MifosBaseFragment;\n@@ -202,9 +203,9 @@ public void showCustomerDetails(Customer customer) {\n             tvPhoneNo.setVisibility(View.GONE);\n             tvMobileNo.setVisibility(View.GONE);\n         } else {\n-            tvEmail.setText(customer.getContactDetails().get(0).getValue());\n-            tvPhoneNo.setText(customer.getContactDetails().get(1).getValue());\n-            tvMobileNo.setText(customer.getContactDetails().get(2).getValue());\n+            for (ContactDetail contactDetail : customer.getContactDetails()) {\n+                showContactDetails(contactDetail);\n+            }\n         }\n \n         tvBirthDay.setText(customer.getDateOfBirth().getYear() + \"-\" +\n@@ -221,6 +222,24 @@ public void showCustomerDetails(Customer customer) {\n         showToolbarTitleSubtitle(title, subtitle);\n     }\n \n+    @Override\n+    public void showContactDetails(ContactDetail contactDetail) {\n+        switch (contactDetail.getType()) {\n+            case EMAIL:\n+                tvEmail.setText(contactDetail.getValue());\n+                tvEmail.setVisibility(View.VISIBLE);\n+                break;\n+            case MOBILE:\n+                tvMobileNo.setText(contactDetail.getValue());\n+                tvMobileNo.setVisibility(View.VISIBLE);\n+                break;\n+            case PHONE:\n+                tvPhoneNo.setText(contactDetail.getValue());\n+                tvPhoneNo.setVisibility(View.VISIBLE);\n+                break;\n+        }\n+    }\n+\n     @Override\n     public void showToolbarTitleSubtitle(String title, String subtitle) {\n         toolbarHeaderView.bindTo(title, subtitle);"
            },
            {
                "sha": "e79d256a5c8c459d55c52baf4afbc6523b775ccd",
                "filename": "app/src/main/res/layout/fragment_customer_details.xml",
                "status": "modified",
                "additions": 8,
                "deletions": 5,
                "changes": 13,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/res/layout/fragment_customer_details.xml",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/62613a1879b380287e4e3fcbb299c8728da66989/app/src/main/res/layout/fragment_customer_details.xml",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/res/layout/fragment_customer_details.xml?ref=62613a1879b380287e4e3fcbb299c8728da66989",
                "patch": "@@ -171,27 +171,30 @@\n                             android:layout_width=\"wrap_content\"\n                             android:paddingBottom=\"@dimen/layout_padding_4dp\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"example@gmail.com\"/>\n \n                         <TextView\n-                            android:drawableLeft=\"@drawable/ic_smartphone_black_24dp\"\n-                            android:drawablePadding=\"@dimen/layout_padding_4dp\"\n-                            android:drawableStart=\"@drawable/ic_smartphone_black_24dp\"\n+                            android:drawableStart=\"@drawable/ic_phone_black_24dp\"\n+                            android:drawableLeft=\"@drawable/ic_phone_black_24dp\"\n                             android:id=\"@+id/tv_phone_no\"\n+                            android:drawablePadding=\"@dimen/layout_padding_4dp\"\n                             android:layout_height=\"wrap_content\"\n                             android:layout_width=\"wrap_content\"\n                             android:paddingBottom=\"@dimen/layout_padding_4dp\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"PrefixOperator - NoTelp\"/>\n \n                         <TextView\n-                            android:drawableLeft=\"@drawable/ic_phone_black_24dp\"\n                             android:drawablePadding=\"@dimen/layout_padding_4dp\"\n-                            android:drawableStart=\"@drawable/ic_phone_black_24dp\"\n+                            android:drawableLeft=\"@drawable/ic_smartphone_black_24dp\"\n+                            android:drawableStart=\"@drawable/ic_smartphone_black_24dp\"\n                             android:id=\"@+id/tv_mobile_no\"\n                             android:layout_height=\"wrap_content\"\n                             android:layout_width=\"wrap_content\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"KodeArea - Notelp\"/>\n \n                     </LinearLayout>"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/fineract-cn-mobile/commit/55747dab2bc49f59119ac590e09dd6636e07e6a7",
        "repo": "fineract-cn-mobile",
        "parent": "https://github.com/apache/fineract-cn-mobile/commit/cda5cd9c8a31f746fc5a19dfdbeef40cc9d652d5",
        "message": "Merge pull request #84 from therajanmaurya/fixcustomerdetails\n\nFIx: NPE customer contact details",
        "bug_id": "fineract-cn-mobile_2",
        "file": [
            {
                "sha": "e55e27491dbf097953b35188da64bcdf653113bf",
                "filename": "app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/data/models/customer/ContactDetail.java?ref=55747dab2bc49f59119ac590e09dd6636e07e6a7",
                "patch": "@@ -34,8 +34,8 @@ public ContactDetail() {\n         super();\n     }\n \n-    public String getType() {\n-        return this.type.name();\n+    public Type getType() {\n+        return this.type;\n     }\n \n     public void setType(final Type type) {"
            },
            {
                "sha": "050b2c6b4771c5c7398187f0eb8a77feb8730da1",
                "filename": "app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "status": "modified",
                "additions": 3,
                "deletions": 0,
                "changes": 3,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsContract.java?ref=55747dab2bc49f59119ac590e09dd6636e07e6a7",
                "patch": "@@ -1,5 +1,6 @@\n package com.mifos.apache.fineract.ui.online.customerdetails;\n \n+import com.mifos.apache.fineract.data.models.customer.ContactDetail;\n import com.mifos.apache.fineract.data.models.customer.Customer;\n import com.mifos.apache.fineract.ui.base.MvpView;\n \n@@ -15,6 +16,8 @@\n \n         void showCustomerDetails(Customer customer);\n \n+        void showContactDetails(ContactDetail contactDetail);\n+\n         void showToolbarTitleSubtitle(String title, String subtitle);\n \n         void showProgressbar();"
            },
            {
                "sha": "92fb7d0326bbea4847cd724a073e4cb9153b2e2e",
                "filename": "app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "status": "modified",
                "additions": 22,
                "deletions": 3,
                "changes": 25,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/java/com/mifos/apache/fineract/ui/online/customerdetails/CustomerDetailsFragment.java?ref=55747dab2bc49f59119ac590e09dd6636e07e6a7",
                "patch": "@@ -16,6 +16,7 @@\n \n import com.mifos.apache.fineract.R;\n import com.mifos.apache.fineract.data.models.customer.Address;\n+import com.mifos.apache.fineract.data.models.customer.ContactDetail;\n import com.mifos.apache.fineract.data.models.customer.Customer;\n import com.mifos.apache.fineract.ui.base.MifosBaseActivity;\n import com.mifos.apache.fineract.ui.base.MifosBaseFragment;\n@@ -202,9 +203,9 @@ public void showCustomerDetails(Customer customer) {\n             tvPhoneNo.setVisibility(View.GONE);\n             tvMobileNo.setVisibility(View.GONE);\n         } else {\n-            tvEmail.setText(customer.getContactDetails().get(0).getValue());\n-            tvPhoneNo.setText(customer.getContactDetails().get(1).getValue());\n-            tvMobileNo.setText(customer.getContactDetails().get(2).getValue());\n+            for (ContactDetail contactDetail : customer.getContactDetails()) {\n+                showContactDetails(contactDetail);\n+            }\n         }\n \n         tvBirthDay.setText(customer.getDateOfBirth().getYear() + \"-\" +\n@@ -221,6 +222,24 @@ public void showCustomerDetails(Customer customer) {\n         showToolbarTitleSubtitle(title, subtitle);\n     }\n \n+    @Override\n+    public void showContactDetails(ContactDetail contactDetail) {\n+        switch (contactDetail.getType()) {\n+            case EMAIL:\n+                tvEmail.setText(contactDetail.getValue());\n+                tvEmail.setVisibility(View.VISIBLE);\n+                break;\n+            case MOBILE:\n+                tvMobileNo.setText(contactDetail.getValue());\n+                tvMobileNo.setVisibility(View.VISIBLE);\n+                break;\n+            case PHONE:\n+                tvPhoneNo.setText(contactDetail.getValue());\n+                tvPhoneNo.setVisibility(View.VISIBLE);\n+                break;\n+        }\n+    }\n+\n     @Override\n     public void showToolbarTitleSubtitle(String title, String subtitle) {\n         toolbarHeaderView.bindTo(title, subtitle);"
            },
            {
                "sha": "e79d256a5c8c459d55c52baf4afbc6523b775ccd",
                "filename": "app/src/main/res/layout/fragment_customer_details.xml",
                "status": "modified",
                "additions": 8,
                "deletions": 5,
                "changes": 13,
                "blob_url": "https://github.com/apache/fineract-cn-mobile/blob/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/res/layout/fragment_customer_details.xml",
                "raw_url": "https://github.com/apache/fineract-cn-mobile/raw/55747dab2bc49f59119ac590e09dd6636e07e6a7/app/src/main/res/layout/fragment_customer_details.xml",
                "contents_url": "https://api.github.com/repos/apache/fineract-cn-mobile/contents/app/src/main/res/layout/fragment_customer_details.xml?ref=55747dab2bc49f59119ac590e09dd6636e07e6a7",
                "patch": "@@ -171,27 +171,30 @@\n                             android:layout_width=\"wrap_content\"\n                             android:paddingBottom=\"@dimen/layout_padding_4dp\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"example@gmail.com\"/>\n \n                         <TextView\n-                            android:drawableLeft=\"@drawable/ic_smartphone_black_24dp\"\n-                            android:drawablePadding=\"@dimen/layout_padding_4dp\"\n-                            android:drawableStart=\"@drawable/ic_smartphone_black_24dp\"\n+                            android:drawableStart=\"@drawable/ic_phone_black_24dp\"\n+                            android:drawableLeft=\"@drawable/ic_phone_black_24dp\"\n                             android:id=\"@+id/tv_phone_no\"\n+                            android:drawablePadding=\"@dimen/layout_padding_4dp\"\n                             android:layout_height=\"wrap_content\"\n                             android:layout_width=\"wrap_content\"\n                             android:paddingBottom=\"@dimen/layout_padding_4dp\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"PrefixOperator - NoTelp\"/>\n \n                         <TextView\n-                            android:drawableLeft=\"@drawable/ic_phone_black_24dp\"\n                             android:drawablePadding=\"@dimen/layout_padding_4dp\"\n-                            android:drawableStart=\"@drawable/ic_phone_black_24dp\"\n+                            android:drawableLeft=\"@drawable/ic_smartphone_black_24dp\"\n+                            android:drawableStart=\"@drawable/ic_smartphone_black_24dp\"\n                             android:id=\"@+id/tv_mobile_no\"\n                             android:layout_height=\"wrap_content\"\n                             android:layout_width=\"wrap_content\"\n                             android:paddingTop=\"@dimen/layout_padding_4dp\"\n+                            android:visibility=\"gone\"\n                             tools:text=\"KodeArea - Notelp\"/>\n \n                     </LinearLayout>"
            }
        ]
    }
]
