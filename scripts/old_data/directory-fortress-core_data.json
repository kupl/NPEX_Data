[
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/510d6f257f7d93c2951f8b9e3884ad41048d30df",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/b65e204e2d8069b261f4993dec1d9102dbbd8a81",
        "message": "FC-246 - fix NPE in addRoleConstraint when user not assigned to any roles",
        "bug_id": "directory-fortress-core_1",
        "file": [
            {
                "sha": "968a5c29d5bba7dad7c450edc7ce8a86d549a7ab",
                "filename": "src/main/java/org/apache/directory/fortress/core/impl/AdminMgrImpl.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/510d6f257f7d93c2951f8b9e3884ad41048d30df/src/main/java/org/apache/directory/fortress/core/impl/AdminMgrImpl.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/510d6f257f7d93c2951f8b9e3884ad41048d30df/src/main/java/org/apache/directory/fortress/core/impl/AdminMgrImpl.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/impl/AdminMgrImpl.java?ref=510d6f257f7d93c2951f8b9e3884ad41048d30df",
                "patch": "@@ -461,7 +461,8 @@ public RoleConstraint addRoleConstraint( UserRole uRole, RoleConstraint roleCons\n         // Validate the user-role assignment exists:\n         List<String> assignedRoles = userP.getAssignedRoles( new User( uRole.getUserId() ) );\n         assertContext( CLS_NM, methodName, uRole, GlobalErrIds.URLE_NULL );\n-        if ( ! assignedRoles.stream().anyMatch( uRole.getName()::equalsIgnoreCase) )\n+        // Do not assign role constraint to user if not assigned the role itself.\n+        if ( CollectionUtils.isEmpty( assignedRoles ) || !assignedRoles.stream().anyMatch( uRole.getName()::equalsIgnoreCase) )\n         {\n             String error =  methodName + \" user [\" + uRole.getUserId() + \"] not assigned role [\" + uRole.getName() + \"]\";\n             LOG.error( error );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/748b2cf6f2d4af762a39d820cbffb980a145634e",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/7322d550d27a2b44a655e16c58ed97a95e8c3921",
        "message": "FC-191 - remove possible npe",
        "bug_id": "directory-fortress-core_2",
        "file": [
            {
                "sha": "c2aa6311c55f427eb3a4aca5f776d683469dc424",
                "filename": "src/main/java/org/apache/directory/fortress/core/impl/RoleDAO.java",
                "status": "modified",
                "additions": 13,
                "deletions": 7,
                "changes": 20,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/748b2cf6f2d4af762a39d820cbffb980a145634e/src/main/java/org/apache/directory/fortress/core/impl/RoleDAO.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/748b2cf6f2d4af762a39d820cbffb980a145634e/src/main/java/org/apache/directory/fortress/core/impl/RoleDAO.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/impl/RoleDAO.java?ref=748b2cf6f2d4af762a39d820cbffb980a145634e",
                "patch": "@@ -507,15 +507,21 @@ Role getRole( Role role )\n                     filterbuf.append( \")\" );\n                 }\n                 filterbuf.append( \"))\" );\n-            }\n-            ld = getAdminConnection();\n-            SearchCursor searchResults = search( ld, roleRoot,\n-                SearchScope.ONELEVEL, filterbuf.toString(), ROLE_ATRS, false, GlobalIds.BATCH_SIZE );\n-            long sequence = 0;\n \n-            while ( searchResults.next() )\n+                ld = getAdminConnection();\n+                SearchCursor searchResults = search( ld, roleRoot,\n+                    SearchScope.ONELEVEL, filterbuf.toString(), ROLE_ATRS, false, GlobalIds.BATCH_SIZE );\n+                long sequence = 0;\n+\n+                while ( searchResults.next() )\n+                {\n+                    roleList.add( unloadLdapEntry( searchResults.getEntry(), sequence++, group.getContextId() ) );\n+                }\n+            }\n+            else\n             {\n-                roleList.add( unloadLdapEntry( searchResults.getEntry(), sequence++, group.getContextId() ) );\n+                String error = \"groupRoles passed empty member list\";\n+                throw new FinderException( GlobalErrIds.GROUP_MEMBER_NULL, error );\n             }\n         }\n         catch ( LdapException e )"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/f397ef2eb7aeeb5f479d76e003263fe6318311a1",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/b5cb0d9def4b244509f615b4288f368908da9c13",
        "message": "FC-64 - npe caused by malfunctioned read",
        "bug_id": "directory-fortress-core_3",
        "file": [
            {
                "sha": "b9b97d894d0c6f49df4dc464cb063442fecade33",
                "filename": "src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "status": "modified",
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/f397ef2eb7aeeb5f479d76e003263fe6318311a1/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/f397ef2eb7aeeb5f479d76e003263fe6318311a1/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java?ref=f397ef2eb7aeeb5f479d76e003263fe6318311a1",
                "patch": "@@ -427,8 +427,10 @@ final AdminRole getRole( AdminRole adminRole ) throws FinderException\n         {\n             ld = getAdminConnection();\n             Entry findEntry = read( ld, dn, ROLE_ATRS );\n-            entity = unloadLdapEntry( findEntry, 0, adminRole.getContextId() );\n-\n+            if(findEntry != null)\n+            {\n+                entity = unloadLdapEntry( findEntry, 0, adminRole.getContextId() );\n+            }\n             if ( entity == null )\n             {\n                 String warning = \"getRole name [\" + adminRole.getName() + \"] no entry found dn [\" + dn + \"]\";\n@@ -680,7 +682,7 @@ private AdminRole unloadLdapEntry( Entry le, long sequence, String contextId )\n         entity.setOsP( getAttributeSet( le, ROLE_OSP ) );\n         entity.setOsU( getAttributeSet( le, ROLE_OSU ) );\n         unloadTemporal( le, entity );\n-        entity.setName( getAttribute( le, ROLE_NM ) );\n+        entity.setName( getAttribute( le, SchemaConstants.CN_AT ) );\n         entity.setRoleRangeRaw( getAttribute( le, ROLE_RANGE ) );\n         //entity.setParents(AdminRoleUtil.getParents(entity.getName().toUpperCase(), contextId));\n         entity.setParents( getAttributeSet( le, GlobalIds.PARENT_NODES ) );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/20fd327af415712051b2b77bc06ffbba032e8f2b",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/59297a9e2e9f84f2999b09f7bb7bb84cf60476e2",
        "message": "FC-64 - AdminRoleDAO.unload has NPE",
        "bug_id": "directory-fortress-core_4",
        "file": [
            {
                "sha": "3b006c632f4347f016b0c24b3d2a59d2df9f172d",
                "filename": "src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/20fd327af415712051b2b77bc06ffbba032e8f2b/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/20fd327af415712051b2b77bc06ffbba032e8f2b/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/rbac/AdminRoleDAO.java?ref=20fd327af415712051b2b77bc06ffbba032e8f2b",
                "patch": "@@ -22,6 +22,7 @@\n \n import java.util.ArrayList;\n import java.util.List;\n+import java.util.Set;\n \n import org.apache.directory.api.ldap.model.constants.SchemaConstants;\n import org.apache.directory.api.ldap.model.cursor.CursorException;\n@@ -674,12 +675,12 @@ private AdminRole unloadLdapEntry( Entry le, long sequence, String contextId )\n         AdminRole entity = new ObjectFactory().createAdminRole();\n         entity.setSequenceId( sequence );\n         entity.setId( getAttribute( le, GlobalIds.FT_IID ) );\n-        entity.setName( getAttribute( le, ROLE_NM ) );\n         entity.setDescription( getAttribute( le, SchemaConstants.DESCRIPTION_AT ) );\n         entity.setOccupants( getAttributes( le, ROLE_OCCUPANT ) );\n         entity.setOsP( getAttributeSet( le, ROLE_OSP ) );\n         entity.setOsU( getAttributeSet( le, ROLE_OSU ) );\n         unloadTemporal( le, entity );\n+        entity.setName( getAttribute( le, ROLE_NM ) );\n         entity.setRoleRangeRaw( getAttribute( le, ROLE_RANGE ) );\n         //entity.setParents(AdminRoleUtil.getParents(entity.getName().toUpperCase(), contextId));\n         entity.setParents( getAttributeSet( le, GlobalIds.PARENT_NODES ) );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/4d037cb2b5aae082159371b4460921610c8af644",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/2e5a93cb8e7319309d492922eb0eeec2206e454d",
        "message": "FC-105 - [fortress-core] - fix npe with pw",
        "bug_id": "directory-fortress-core_5",
        "file": [
            {
                "sha": "04dfa6b773834ff7440e146088ae71291f9078fc",
                "filename": "src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "status": "modified",
                "additions": 8,
                "deletions": 4,
                "changes": 12,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/4d037cb2b5aae082159371b4460921610c8af644/src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/4d037cb2b5aae082159371b4460921610c8af644/src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/rbac/User.java?ref=4d037cb2b5aae082159371b4460921610c8af644",
                "patch": "@@ -376,7 +376,8 @@ public User( String userId )\n     public User( String userId, char[] password )\n     {\n         this.userId = userId;\n-        this.password = password.clone();\n+        if( password != null )\n+            this.password = password.clone();\n     }\n \n \n@@ -390,7 +391,8 @@ public User( String userId, char[] password )\n     public User( String userId, char[] password, String roleName )\n     {\n         this.userId = userId;\n-        this.password = password.clone();\n+        if( password != null )\n+            this.password = password.clone();\n         setRole( new UserRole( roleName ) );\n     }\n \n@@ -405,7 +407,8 @@ public User( String userId, char[] password, String roleName )\n     public User( String userId, char[] password, String[] roleNames )\n     {\n         this.userId = userId;\n-        this.password = password.clone();\n+        if( password != null )\n+            this.password = password.clone();\n \n         if ( roleNames != null )\n         {\n@@ -428,7 +431,8 @@ public User( String userId, char[] password, String[] roleNames )\n     public User( String userId, char[] password, String roleName, String ou )\n     {\n         this.userId = userId;\n-        this.password = password.clone();\n+        if( password != null )\n+            this.password = password.clone();\n         setRole( new UserRole( roleName ) );\n         this.ou = ou;\n     }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/2e5a93cb8e7319309d492922eb0eeec2206e454d",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/d063797fbe835822cf164af24871ac097909b436",
        "message": "FC-105 - [fortress-core] - fix npe with jpegphoto",
        "bug_id": "directory-fortress-core_6",
        "file": [
            {
                "sha": "464c01ddbb31c2fb0a900e0481b783a0699ecbaa",
                "filename": "src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/2e5a93cb8e7319309d492922eb0eeec2206e454d/src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/2e5a93cb8e7319309d492922eb0eeec2206e454d/src/main/java/org/apache/directory/fortress/core/rbac/User.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/rbac/User.java?ref=2e5a93cb8e7319309d492922eb0eeec2206e454d",
                "patch": "@@ -1562,7 +1562,8 @@ public void setSystem( Boolean system )\n      */\n     public void setJpegPhoto( byte[] jpegPhoto )\n     {\n-        this.jpegPhoto = jpegPhoto.clone();\n+        if( jpegPhoto != null )\n+            this.jpegPhoto = jpegPhoto.clone();\n     }\n \n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/c464c730546a75ad8da2ba8c2bfe84b4c1b6a90f",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/804ca390fb55146696703441741a2ee32843edbf",
        "message": "FC-39 - Cleanup NPE during ldap pool init",
        "bug_id": "directory-fortress-core_7",
        "file": [
            {
                "sha": "6aca1984a8d871a50b1d9ee4dcbca01405060b6f",
                "filename": "src/main/java/org/apache/directory/fortress/core/ldap/ApacheDsDataProvider.java",
                "status": "modified",
                "additions": 13,
                "deletions": 10,
                "changes": 23,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/c464c730546a75ad8da2ba8c2bfe84b4c1b6a90f/src/main/java/org/apache/directory/fortress/core/ldap/ApacheDsDataProvider.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/c464c730546a75ad8da2ba8c2bfe84b4c1b6a90f/src/main/java/org/apache/directory/fortress/core/ldap/ApacheDsDataProvider.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/ldap/ApacheDsDataProvider.java?ref=c464c730546a75ad8da2ba8c2bfe84b4c1b6a90f",
                "patch": "@@ -78,8 +78,8 @@\n \n /**\n  * Abstract class contains methods to perform low-level entity to ldap persistence.  These methods are called by the\n- * Fortress DAO's, i.e. {@link org.apache.directory.fortress.core.rbac.UserDAO}. {@link org.apache.directory.fortress.core.rbac.dao.apache\n- * .RoleDAO}, {@link org.apache.directory.fortress.core.rbac.PermDAO}, ....\n+ * Fortress DAO's, i.e. {@link org.apache.directory.fortress.core.rbac.UserDAO}. {@link org.apache.directory.fortress.core.rbac.RoleDAO},\n+ * {@link org.apache.directory.fortress.core.rbac.PermDAO}, ....\n  * These are low-level data utilities, very little if any data validations are performed here.\n  * <p/>\n  * This class is thread safe.\n@@ -170,10 +170,11 @@\n         config.setUseSsl( IS_SSL );\n         //config.setTrustManagers( new NoVerificationTrustManager() );\n \n-        // validate certificates but allow self-signed certs if within this truststore:\n-        config.setTrustManagers( new LdapClientTrustStoreManager(\n-            TRUST_STORE,\n-            TRUST_STORE_PW.toCharArray() , null, true ) );\n+        if(IS_SSL && VUtil.isNotNullOrEmpty( TRUST_STORE ) && VUtil.isNotNullOrEmpty( TRUST_STORE_PW ) )\n+        {\n+            // validate certificates but allow self-signed certs if within this truststore:\n+            config.setTrustManagers( new LdapClientTrustStoreManager( TRUST_STORE, TRUST_STORE_PW.toCharArray(), null, true ) );\n+        }\n \n         String adminPw;\n         if ( EncryptUtil.isEnabled() )\n@@ -238,10 +239,12 @@\n             logConfig.setName( Config.getProperty( LDAP_ADMIN_POOL_UID, \"\" ) );\n \n             logConfig.setUseSsl( IS_SSL );\n-            // validate certificates but allow self-signed certs if within this truststore:\n-            logConfig.setTrustManagers( new LdapClientTrustStoreManager(\n-                TRUST_STORE,\n-                TRUST_STORE_PW.toCharArray() , null, true ) );\n+\n+            if( IS_SSL && VUtil.isNotNullOrEmpty( TRUST_STORE ) && VUtil.isNotNullOrEmpty( TRUST_STORE_PW ) )\n+            {\n+                // validate certificates but allow self-signed certs if within this truststore:\n+                logConfig.setTrustManagers( new LdapClientTrustStoreManager( TRUST_STORE, TRUST_STORE_PW.toCharArray(), null, true ) );\n+            }\n \n             logConfig.setName( Config.getProperty( LDAP_LOG_POOL_UID, \"\" ) );\n             String logPw;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/fd409f1e4892c439e8870b261ed8785872bc49aa",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/131097b1c754b9ade12b0a9e67dab9db28d15e37",
        "message": "FC-57 - User Add NPE when ou is null",
        "bug_id": "directory-fortress-core_8",
        "file": [
            {
                "sha": "db40f3d612cc444e8406e97093f35ebefa3aa775",
                "filename": "src/main/java/us/jts/fortress/rbac/UserP.java",
                "status": "modified",
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/fd409f1e4892c439e8870b261ed8785872bc49aa/src/main/java/us/jts/fortress/rbac/UserP.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/fd409f1e4892c439e8870b261ed8785872bc49aa/src/main/java/us/jts/fortress/rbac/UserP.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/us/jts/fortress/rbac/UserP.java?ref=fd409f1e4892c439e8870b261ed8785872bc49aa",
                "patch": "@@ -762,8 +762,12 @@ private void validate( User entity, boolean isUpdate )\n             {\n                 VUtil.password( entity.getPassword() );\n             }\n-\n             // the OU attribute is required:\n+            if ( !VUtil.isNotNullOrEmpty( entity.getOu() ) )\n+            {\n+                String error = \"OU validation failed, null or empty value\";\n+                throw new ValidationException( GlobalErrIds.ORG_NULL_USER, error );\n+            }\n             VUtil.orgUnit( entity.getOu() );\n             // ensure ou exists in the OS-U pool:\n             OrgUnit ou = new OrgUnit( entity.getOu(), OrgUnit.Type.USER );\n@@ -774,7 +778,6 @@ private void validate( User entity, boolean isUpdate )\n                     + \"] adding user with userId [\" + entity.getUserId() + \"]\";\n                 throw new ValidationException( GlobalErrIds.USER_OU_INVALID, error );\n             }\n-\n             // description attribute is optional:\n             if ( VUtil.isNotNullOrEmpty( entity.getDescription() ) )\n             {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/9bb47110058707ea5a0caf784b4ed1584a248d50",
        "message": "FC-10 - correct npe during userCreate and update for null pw's",
        "bug_id": "directory-fortress-core_9",
        "file": [
            {
                "sha": "451e1d4f70bf4f87d14e8615f77c2a952dbfb8bf",
                "filename": "README-QUICKSTART-APACHEDS.html",
                "status": "modified",
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART-APACHEDS.html",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART-APACHEDS.html",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/README-QUICKSTART-APACHEDS.html?ref=eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361",
                "patch": "@@ -217,7 +217,7 @@ <h3>Instructions to run the Fortress Command Line Interpreter (CLI) utility (opt\n To learn more about the CLI and what it can do, follow instructions in the command line interpreter reference\n manual in the javadoc located here:\n <br><br>\n-<a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n+<a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n <br><br>\n Note: if javadocs are not found, go to Section VII\n \t   </li>\t   \n@@ -296,11 +296,11 @@ <h3>Instructions to generate and view Javadoc  (optional)</h3>\n            <li>\n Good places to start learning about Fortress:\n     <ul><br>\n-    <li><a href=\"./dist/docs/api/com/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>    \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/AuditMgr.html\">Audit Manager</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/AuditMgr.html\">Audit Manager</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n     </ul>\n \t   </li>\n         </ol>\n@@ -384,7 +384,7 @@ <h3>More Utilities</h3>\n            <li>\n 'admin' - provides an XML-centric way to provision RBAC data policies and user accounts.\n check out the following javadoc for more info on this utility:\t    \n-<a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\t    \n+<a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\n \t   </li>\n \t  <br>\t   \t   \n            <li>'encrypt' - interface to jacypt encryption utility</li>"
            },
            {
                "sha": "dc390508044d3b70e6a34f7a4200d67d2eb4ceb5",
                "filename": "README-QUICKSTART-WINDOWS.html",
                "status": "modified",
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART-WINDOWS.html",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART-WINDOWS.html",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/README-QUICKSTART-WINDOWS.html?ref=eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361",
                "patch": "@@ -196,7 +196,7 @@ <h3>Instructions to run the Fortress Command Line Interpreter (CLI) utility (opt\n To learn more about the CLI and what it can do, follow instructions in the command line interpreter reference\n manual in the javadoc located here:\n <br><br>\n-<a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n+<a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n <br><br>\n Note: if javadocs are not found, go to Section VII\n \t   </li>\t   \n@@ -275,11 +275,11 @@ <h3>Instructions to generate and view Javadoc  (optional)</h3>\n            <li>\n Good places to start learning about Fortress:\n     <ul><br>\n-    <li><a href=\"./dist/docs/api/com/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>    \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/AuditMgr.html\">Audit Manager</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/AuditMgr.html\">Audit Manager</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n     </ul>\n \t   </li>\n         </ol>\n@@ -298,7 +298,7 @@ <h3>More Utilities</h3>\n            <li>\n 'admin' - provides an XML-centric way to provision RBAC data policies and user accounts.\n check out the following javadoc for more info on this utility:\t    \n-<a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\t    \n+<a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\n \t   </li>\n \t  <br>\t   \t   \n            <li>'encrypt' - interface to jacypt encryption utility</li>"
            },
            {
                "sha": "dc08131a89662ecf066aab3f273f944f489720f6",
                "filename": "README-QUICKSTART.html",
                "status": "modified",
                "additions": 7,
                "deletions": 7,
                "changes": 14,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART.html",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/README-QUICKSTART.html",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/README-QUICKSTART.html?ref=eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361",
                "patch": "@@ -207,7 +207,7 @@ <h3>Instructions to run the Fortress Command Line Interpreter (CLI) utility (opt\n To learn more about the CLI and what it can do, follow instructions in the command line interpreter reference\n manual in the javadoc located here:\n <br><br>\n-<a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n+<a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a>\n <br><br>\n Note: if javadocs are not found, go to Section VII\n \t   </li>\t   \n@@ -286,11 +286,11 @@ <h3>Instructions to generate and view Javadoc  (optional)</h3>\n            <li>\n Good places to start learning about Fortress:\n     <ul><br>\n-    <li><a href=\"./dist/docs/api/com/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>    \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/AuditMgr.html\">Audit Manager</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>        \n-    <li><a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/package-summary.html\">Fortress Manager Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/rbac/package-summary.html\">RBAC Summary</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/AuditMgr.html\">Audit Manager</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/cli/package-summary.html\">Command Line Interpreter</a></li>\n+    <li><a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">FortressAntTask</a></li>\n     </ul>\n \t   </li>\n         </ol>\n@@ -374,7 +374,7 @@ <h3>More Utilities</h3>\n            <li>\n 'admin' - provides an XML-centric way to provision RBAC data policies and user accounts.\n check out the following javadoc for more info on this utility:\t    \n-<a href=\"./dist/docs/api/com/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\t    \n+<a href=\"./dist/docs/api/us/jts/fortress/ant/FortressAntTask.html\">Fortress Ant admin script utility document</a>\n \t   </li>\n \t  <br>\t   \t   \n            <li>'encrypt' - interface to jacypt encryption utility</li>"
            },
            {
                "sha": "38e97f5511e9e88cd75f2689c884295716b785cf",
                "filename": "src/main/java/us/jts/fortress/rbac/UserDAO.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/src/main/java/us/jts/fortress/rbac/UserDAO.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361/src/main/java/us/jts/fortress/rbac/UserDAO.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/us/jts/fortress/rbac/UserDAO.java?ref=eecac4f8afc5e4b1abdc6f2c4d5a095f067d2361",
                "patch": "@@ -293,7 +293,8 @@ final User create(User entity)\n                 entity.setSn(entity.getUserId());\n             }\n             attrs.add(createAttribute(SN, entity.getSn()));\n-            attrs.add(createAttribute(PW, new String(entity.getPassword())));\n+            // guard against npe\n+            attrs.add(createAttribute(PW, VUtil.isNotNullOrEmpty(entity.getPassword()) ? new String(entity.getPassword()) : new String(new char[]{})));\n             attrs.add(createAttribute(DISPLAY_NAME, entity.getCn()));\n             if (VUtil.isNotNullOrEmpty(entity.getTitle()))\n             {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/directory-fortress-core/commit/9bb82e6cbca536132e33f4a10e5c4c750d22a1d7",
        "repo": "directory-fortress-core",
        "parent": "https://github.com/apache/directory-fortress-core/commit/10a597b4aef84ab32c1ec4034be0e11c66481362",
        "message": "o Added a toString() method\no used the Strings.toUpperCase() method instead of xxx.toUpperCase() to\navoid potential NPE when xxx is null\no Added a serialVersionUID to shut up the compiler warning\no Added some javadoc",
        "bug_id": "directory-fortress-core_10",
        "file": [
            {
                "sha": "8045c804aedff4a1983a99a8007aac136549e4c0",
                "filename": "src/main/java/org/apache/directory/fortress/core/rbac/Hier.java",
                "status": "modified",
                "additions": 88,
                "deletions": 21,
                "changes": 109,
                "blob_url": "https://github.com/apache/directory-fortress-core/blob/9bb82e6cbca536132e33f4a10e5c4c750d22a1d7/src/main/java/org/apache/directory/fortress/core/rbac/Hier.java",
                "raw_url": "https://github.com/apache/directory-fortress-core/raw/9bb82e6cbca536132e33f4a10e5c4c750d22a1d7/src/main/java/org/apache/directory/fortress/core/rbac/Hier.java",
                "contents_url": "https://api.github.com/repos/apache/directory-fortress-core/contents/src/main/java/org/apache/directory/fortress/core/rbac/Hier.java?ref=9bb82e6cbca536132e33f4a10e5c4c750d22a1d7",
                "patch": "@@ -19,9 +19,12 @@\n  */\n package org.apache.directory.fortress.core.rbac;\n \n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.List;\n \n+import org.apache.directory.api.util.Strings;\n+\n /**\n  * All entities (User, Role, Permission, Policy, SDSet, etc...) are used to carry data between Fortress's\n  * layers starting with the (1) Manager layer down thru middle (2) Process layer and it's processing rules into\n@@ -90,11 +93,17 @@\n  *\n  * @author Shawn McKinney\n  */\n-public class Hier extends FortEntity\n-    implements java.io.Serializable\n+public class Hier extends FortEntity implements Serializable\n {\n+    private static final long serialVersionUID = 1L;\n+    \n+    /** The operation */\n     public Op op;\n+    \n+    /** The hierarchy type - ROLE, AROLE, USER, PERM */\n     public Type type;\n+    \n+    /** the list of relationships that are set in collection on this entity */\n     private List<Relationship> relationships;\n \n     /**\n@@ -103,26 +112,29 @@\n     public Hier()\n     {\n     }\n+    \n \n     /**\n      * construct hierarchy given a list of parent-child relationships.\n      *\n      * @param relationships maps to 'ftRels' attribute on 'ftHier' object class.\n      */\n-    public Hier(List<Relationship> relationships)\n+    public Hier( List<Relationship> relationships )\n     {\n         this.relationships = relationships;\n     }\n+    \n \n     /**\n      * Construct entity given a hierarchy type - ROLE, AROLE, USER, PERM.\n      *\n      * @param type determines where the target node resides.  For example the 'ROLE' type will specify the RBAC Role container as target.\n      */\n-    public Hier(Type type)\n+    public Hier( Type type )\n     {\n         this.type = type;\n     }\n+    \n \n     /**\n      * Construct entity given a parent, child and a hierarchy type.\n@@ -131,22 +143,24 @@ public Hier(Type type)\n      * @param child  maps to the 'ftRels' attribute in 'ftHier' object class.\n      * @param parent maps to the 'ftRels' attribute in 'ftHier' object class.\n      */\n-    public Hier(Type type, String child, String parent)\n+    public Hier( Type type, String child, String parent )\n     {\n         this.type = type;\n-        setRelationship(child, parent);\n+        setRelationship( child, parent );\n     }\n+    \n \n     /**\n      * Construct entity given a parent and child.\n      *\n      * @param child  maps to the 'ftRels' attribute in 'ftHier' object class.\n      * @param parent maps to the 'ftRels' attribute in 'ftHier' object class.\n      */\n-    public Hier(String child, String parent)\n+    public Hier( String child, String parent )\n     {\n-        setRelationship(child, parent);\n+        setRelationship( child, parent );\n     }\n+    \n \n     /**\n      * Operation type specifies if Add, Update or Deletion of relationship is being targeted.\n@@ -168,6 +182,7 @@ public Hier(String child, String parent)\n          */\n         REM\n     }\n+    \n \n     /**\n      * Return the operation to execute on behalf of this entity.\n@@ -178,6 +193,7 @@ public Op getOp()\n     {\n         return op;\n     }\n+    \n \n     /**\n      * The the operation for which this entity is bound for.  Add, Update or Delete.\n@@ -188,6 +204,7 @@ public void setOp(Op op)\n     {\n         this.op = op;\n     }\n+    \n \n     /**\n      * Enumeration is used to specify which hierarchy node this entity is bound to.  RBAC Role, Admin Roles, User OU or Perm OU.\n@@ -214,6 +231,7 @@ public void setOp(Op op)\n          */\n         PERM\n     }\n+    \n \n     /**\n      * Return required the type of node this entity is bound to.\n@@ -224,13 +242,14 @@ public Type getType()\n     {\n         return type;\n     }\n+    \n \n     /**\n      * Set the required type which determines which directory node this entity is bound to.\n      *\n      * @param type variable specifies which directory node the hierarchy entity is bound to.\n      */\n-    public void setType(Type type)\n+    public void setType( Type type )\n     {\n         this.type = type;\n     }\n@@ -243,61 +262,69 @@ public void setType(Type type)\n      * @param role   attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      * @param parent attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      */\n-    public boolean isRelationship(String role, String parent)\n+    public boolean isRelationship( String role, String parent )\n     {\n         boolean result = false;\n-        if (relationships != null)\n+        \n+        if ( relationships != null )\n         {\n-            result = relationships.contains(new Relationship(role.toUpperCase(), parent.toUpperCase()));\n+            result = relationships.contains(\n+                new Relationship( Strings.toUpperCase( role ), Strings.toUpperCase( parent ) ) );\n         }\n \n         return result;\n     }\n+    \n \n     /**\n      * Set the child and parent into the collection of valid relationships stored in this entity.\n      *\n      * @param role   attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      * @param parent attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      */\n-    public void setRelationship(String role, String parent)\n+    public void setRelationship( String role, String parent )\n     {\n         if (relationships == null)\n         {\n-            relationships = new ArrayList<>();\n+            relationships = new ArrayList<Relationship>();\n         }\n \n-        relationships.add(new Relationship(role.toUpperCase(), parent.toUpperCase()));\n+        relationships.add(\n+            new Relationship( Strings.toUpperCase( role ), Strings.toUpperCase(parent ) ) );\n     }\n \n+    \n     /**\n      * Set the relationship object into the collection of valid relationships stored in this entity.\n      *\n      * @param rel attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      */\n-    public void setRelationship(Relationship rel)\n+    public void setRelationship( Relationship rel )\n     {\n         if (relationships == null)\n         {\n-            relationships = new ArrayList<>();\n+            relationships = new ArrayList<Relationship>();\n         }\n \n-        relationships.add(rel);\n+        relationships.add( rel );\n     }\n+    \n \n     /**\n      * Remove the specified relationship from the collection of valid relationships stored in this entity.\n      *\n      * @param role   attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      * @param parent attribute maps to the 'ftRels' attribute on 'ftHier' object class.\n      */\n-    public void removeRelationship(String role, String parent)\n+    public void removeRelationship( String role, String parent )\n     {\n         if (relationships != null)\n         {\n-            relationships.remove(new Relationship(role.toUpperCase(), parent.toUpperCase()));\n+            relationships.remove(\n+                new Relationship( Strings.toUpperCase( role ), Strings.toUpperCase( parent ) ) );\n         }\n     }\n+    \n \n     /**\n      * Return the list of relationships that are set in collection on this entity.\n@@ -308,14 +335,54 @@ public void removeRelationship(String role, String parent)\n     {\n         return relationships;\n     }\n+    \n \n     /**\n      * Set the list of relationships that are set in collection on this entity.\n      *\n      * @param relationships that map to the 'ftRels' attribute on the 'ftHier' object class.\n      */\n-    public void setRelationships(List<Relationship> relationships)\n+    public void setRelationships( List<Relationship> relationships )\n     {\n         this.relationships = relationships;\n     }\n+\n+\n+    /**\n+     * @see Object#toString()\n+     */\n+    public String toString()\n+    {\n+        StringBuilder sb = new StringBuilder();\n+\n+        sb.append( \"Hier object: \\n\" );\n+\n+        sb.append( \"    operation :\" ).append( op ).append( '\\n' );\n+        sb.append( \"    type :\" ).append( type ).append( '\\n' );\n+\n+        if ( relationships != null )\n+        {\n+            sb.append( \"    relationships : \" );\n+\n+            boolean isFirst = true;\n+\n+            for ( Relationship relationship : relationships )\n+            {\n+                if ( isFirst )\n+                {\n+                    isFirst = false;\n+                }\n+                else\n+                {\n+                    sb.append( \", \" );\n+                }\n+\n+                sb.append( relationship );\n+            }\n+\n+            sb.append( '\\n' );\n+        }\n+\n+        return sb.toString();\n+    }\n }\n\\ No newline at end of file"
            }
        ]
    }
]
