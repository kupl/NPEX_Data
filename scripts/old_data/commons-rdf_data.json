[
    {
        "commit": "https://github.com/apache/commons-rdf/commit/c56e46024e30fcb2b8356147c921147f3c54a836",
        "repo": "commons-rdf",
        "parent": "https://github.com/apache/commons-rdf/commit/5d1d8e2db4951a7f4225cf79c177cacedcefde7f",
        "message": "Avoid NPE for contextFilter",
        "bug_id": "commons-rdf_1",
        "file": [
            {
                "sha": "401f221aa09e75856bf1f5cd86371715c242efb8",
                "filename": "rdf4j/src/main/java/org/apache/commons/rdf/rdf4j/impl/RepositoryGraphImpl.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/commons-rdf/blob/c56e46024e30fcb2b8356147c921147f3c54a836/rdf4j/src/main/java/org/apache/commons/rdf/rdf4j/impl/RepositoryGraphImpl.java",
                "raw_url": "https://github.com/apache/commons-rdf/raw/c56e46024e30fcb2b8356147c921147f3c54a836/rdf4j/src/main/java/org/apache/commons/rdf/rdf4j/impl/RepositoryGraphImpl.java",
                "contents_url": "https://api.github.com/repos/apache/commons-rdf/contents/rdf4j/src/main/java/org/apache/commons/rdf/rdf4j/impl/RepositoryGraphImpl.java?ref=c56e46024e30fcb2b8356147c921147f3c54a836",
                "patch": "@@ -17,7 +17,6 @@\n  */\n package org.apache.commons.rdf.rdf4j.impl;\n \n-import java.util.Arrays;\n import java.util.Optional;\n import java.util.stream.Stream;\n \n@@ -43,7 +42,8 @@\n \tpublic RepositoryGraphImpl(Repository repository, boolean includeInferred, boolean unionGraph) {\n \t\tsuper(repository, includeInferred);\n \t\tif (unionGraph) {\n-\t\t\tthis.contextFilter = null;\n+\t\t\t// no context filter aka any context\n+\t\t\tthis.contextFilter = new Resource[] { };\n \t\t} else {\n \t\t\t// default context: null\n \t\t\tthis.contextFilter = new Resource[] { null };"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/commons-rdf/commit/1b7b2ecaa8349e5e439ebae0abf136c36041e4ad",
        "repo": "commons-rdf",
        "parent": "https://github.com/apache/commons-rdf/commit/9f20482fb42da24fb80e911fd2a86bd3bd0b50e8",
        "message": "Avoid NPE if Dataset.contains(null, null, null, null)",
        "bug_id": "commons-rdf_2",
        "file": [
            {
                "sha": "91821789a4636044ac8751cc9cebb16861a13b7b",
                "filename": "simple/src/main/java/org/apache/commons/rdf/simple/DatasetImpl.java",
                "status": "modified",
                "additions": 7,
                "deletions": 1,
                "changes": 8,
                "blob_url": "https://github.com/apache/commons-rdf/blob/1b7b2ecaa8349e5e439ebae0abf136c36041e4ad/simple/src/main/java/org/apache/commons/rdf/simple/DatasetImpl.java",
                "raw_url": "https://github.com/apache/commons-rdf/raw/1b7b2ecaa8349e5e439ebae0abf136c36041e4ad/simple/src/main/java/org/apache/commons/rdf/simple/DatasetImpl.java",
                "contents_url": "https://api.github.com/repos/apache/commons-rdf/contents/simple/src/main/java/org/apache/commons/rdf/simple/DatasetImpl.java?ref=1b7b2ecaa8349e5e439ebae0abf136c36041e4ad",
                "patch": "@@ -129,7 +129,13 @@ public boolean contains(Quad quad) {\n     @Override\n     public Stream<Quad> stream(Optional<BlankNodeOrIRI> graphName, BlankNodeOrIRI subject, IRI predicate,\n             RDFTerm object) {\n-        final Optional<BlankNodeOrIRI> newGraphName = graphName.map(g -> (BlankNodeOrIRI) internallyMap(g));\n+        final Optional<BlankNodeOrIRI> newGraphName;\n+        if (graphName == null) { \n+            // Avoid Optional<Optional<BlankNodeOrIRI>> ...\n+            newGraphName = null;\n+        } else {\n+            newGraphName = graphName.map(g -> (BlankNodeOrIRI) internallyMap(g));\n+        }\n         final BlankNodeOrIRI newSubject = (BlankNodeOrIRI) internallyMap(subject);\n         final IRI newPredicate = (IRI) internallyMap(predicate);\n         final RDFTerm newObject = internallyMap(object);"
            }
        ]
    }
]
