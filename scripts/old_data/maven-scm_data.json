[
    {
        "commit": "https://github.com/apache/maven-scm/commit/57c9e6caa823011f9c4cc9d0e72790cbc1f23e4a",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/c83eee65903c6d1eafd9e51810a3c523037b499b",
        "message": "[SCM-879] JazzChangeLogCommandTest#testListChangesetConsumerWithTimeOnly() fails with NPE on Java 10",
        "bug_id": "maven-scm_1",
        "file": [
            {
                "sha": "57403880df92c25743b5f0ef62cb1ebb9409a10d",
                "filename": "maven-scm-providers/maven-scm-provider-jazz/src/main/java/org/apache/maven/scm/provider/jazz/command/changelog/JazzListChangesetConsumer.java",
                "status": "modified",
                "additions": 7,
                "deletions": 2,
                "changes": 9,
                "blob_url": "https://github.com/apache/maven-scm/blob/57c9e6caa823011f9c4cc9d0e72790cbc1f23e4a/maven-scm-providers/maven-scm-provider-jazz/src/main/java/org/apache/maven/scm/provider/jazz/command/changelog/JazzListChangesetConsumer.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/57c9e6caa823011f9c4cc9d0e72790cbc1f23e4a/maven-scm-providers/maven-scm-provider-jazz/src/main/java/org/apache/maven/scm/provider/jazz/command/changelog/JazzListChangesetConsumer.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-jazz/src/main/java/org/apache/maven/scm/provider/jazz/command/changelog/JazzListChangesetConsumer.java?ref=57c9e6caa823011f9c4cc9d0e72790cbc1f23e4a",
                "patch": "@@ -127,7 +127,7 @@\n \n     private static final int STATE_CHANGES = 4;\n \n-    // Header definitions. \n+    // Header definitions.\n     private static final String HEADER_CHANGE_SETS = \"Change sets:\";\n \n     private static final String HEADER_CHANGE_SET = \"(\";\n@@ -344,10 +344,15 @@ private void processModifiedLine( String line )\n             {\n                 changesetDate = parseDate( date.toString(), userDateFormat, JAZZ_TIMESTAMP_PATTERN, Locale.ENGLISH );\n             }\n+            // changesetDate will be null when the date is not given, it only has just the time. The date is today.\n             if ( changesetDate == null )\n             {\n-                // changesetDate will be null when the date is not given, it only has just the time. The date is today.\n                 changesetDate = parseDate( date.toString(), userDateFormat, JAZZ_TIMESTAMP_PATTERN_TIME );\n+                // try again forcing en locale\n+                if ( changesetDate == null )\n+                {\n+                    changesetDate = parseDate( date.toString(), userDateFormat, JAZZ_TIMESTAMP_PATTERN_TIME, Locale.ENGLISH );\n+                }\n                 // Get today's time/date. Used to get the date.\n                 Calendar today = Calendar.getInstance();\n                 // Get a working one."
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/fa78bbc6d4e93ecc218f245df24c3b674023a25c",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/6f7dd0c6eebab9da4899b489e8d78ba6ce6195bf",
        "message": "[SCM-863] fix NPE in GlobalOptions.setCVSRoot(null) with newer cvsclient\n\nhttp://hg.netbeans.org/releases/file/91d6c4c73bea/lib.cvsclient/src/org/netbeans/lib/cvsclient/command/GlobalOptions.java#l467",
        "bug_id": "maven-scm_2",
        "file": [
            {
                "sha": "53323aacc489f2666aa4832acbece4d939e31610",
                "filename": "maven-scm-providers/maven-scm-providers-cvs/maven-scm-provider-cvsjava/src/main/java/org/apache/maven/scm/provider/cvslib/cvsjava/util/CvsConnection.java",
                "status": "modified",
                "additions": 11,
                "deletions": 8,
                "changes": 19,
                "blob_url": "https://github.com/apache/maven-scm/blob/fa78bbc6d4e93ecc218f245df24c3b674023a25c/maven-scm-providers/maven-scm-providers-cvs/maven-scm-provider-cvsjava/src/main/java/org/apache/maven/scm/provider/cvslib/cvsjava/util/CvsConnection.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/fa78bbc6d4e93ecc218f245df24c3b674023a25c/maven-scm-providers/maven-scm-providers-cvs/maven-scm-provider-cvsjava/src/main/java/org/apache/maven/scm/provider/cvslib/cvsjava/util/CvsConnection.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-cvs/maven-scm-provider-cvsjava/src/main/java/org/apache/maven/scm/provider/cvslib/cvsjava/util/CvsConnection.java?ref=fa78bbc6d4e93ecc218f245df24c3b674023a25c",
                "patch": "@@ -399,11 +399,7 @@ private static String completeCvsRootPort( String cvsRoot )\n     public static boolean processCommand( String[] args, String localPath, CVSListener listener, ScmLogger logger )\n         throws Exception\n     {\n-        // Set up the CVSRoot. Note that it might still be null after this\n-        // call if the user has decided to set it with the -d command line\n-        // global option\n         GlobalOptions globalOptions = new GlobalOptions();\n-        globalOptions.setCVSRoot( getCVSRoot( localPath ) );\n \n         // Set up any global options specified. These occur before the\n         // name of the command to run\n@@ -422,14 +418,21 @@ public static boolean processCommand( String[] args, String localPath, CVSListen\n             return false;\n         }\n \n-        // if we don't have a CVS root by now, the user has messed up\n+        // CVSRoot might still be null if the user has NOT decided to set\n+        // it with the -d command line global option\n         if ( globalOptions.getCVSRoot() == null )\n         {\n-            if ( logger.isErrorEnabled() )\n+            String cvsRoot = getCVSRoot( localPath );\n+            if ( cvsRoot == null )\n             {\n-                logger.error( \"No CVS root is set. Check your <repository> information in the POM.\" );\n+                // if we don't have a CVS root by now, the user has messed up\n+                if ( logger.isErrorEnabled() )\n+                {\n+                    logger.error( \"No CVS root is set. Check your <repository> information in the POM.\" );\n+                }\n+                return false;\n             }\n-            return false;\n+            globalOptions.setCVSRoot( cvsRoot );\n         }\n \n         // parse the CVS root into its constituent parts"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/79bc9a1d656bdb17fc6c0f16fff4784ea131dc44",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/3534860d069aa6afdb418a010051ff2d921c6149",
        "message": "prevent NPE",
        "bug_id": "maven-scm_3",
        "file": [
            {
                "sha": "c6ba5a7aee274af7ec9e862875d030d9c8964d56",
                "filename": "src/main/java/org/apache/maven/scm/provider/git/jgit/command/JGitUtils.java",
                "status": "modified",
                "additions": 4,
                "deletions": 3,
                "changes": 7,
                "blob_url": "https://github.com/apache/maven-scm/blob/79bc9a1d656bdb17fc6c0f16fff4784ea131dc44/src/main/java/org/apache/maven/scm/provider/git/jgit/command/JGitUtils.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/79bc9a1d656bdb17fc6c0f16fff4784ea131dc44/src/main/java/org/apache/maven/scm/provider/git/jgit/command/JGitUtils.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/src/main/java/org/apache/maven/scm/provider/git/jgit/command/JGitUtils.java?ref=79bc9a1d656bdb17fc6c0f16fff4784ea131dc44",
                "patch": "@@ -101,8 +101,9 @@ public static CredentialsProvider prepareSession(ScmLogger logger, Git git, GitS\n \t\tconfig.setString(\"remote\", \"origin\", \"url\", repository.getFetchUrl());\n \t\tconfig.setString(\"remote\", \"origin\", \"pushURL\", repository.getPushUrl());\n \t\t// make sure we do not log any passwords to the output\n-\t\tlogger.info(\"fetch url: \" + repository.getFetchUrl().replace(repository.getPassword(), \"******\"));\n-\t\tlogger.info(\"push url: \" + repository.getPushUrl().replace(repository.getPassword(), \"******\"));\n+\t\tString password = repository.getPassword() != null ? repository.getPassword() : \"\";\n+\t\tlogger.info(\"fetch url: \" + repository.getFetchUrl().replace(password, \"******\"));\n+\t\tlogger.info(\"push url: \" + repository.getPushUrl().replace(password, \"******\"));\n \t\treturn getCredentials(repository);\n \t}\n \n@@ -118,7 +119,7 @@ public static CredentialsProvider prepareSession(ScmLogger logger, Git git, GitS\n \t *         provider with\n \t */\n \tpublic static CredentialsProvider getCredentials(GitScmProviderRepository repository) {\n-\t\tif (StringUtils.isNotBlank(repository.getUser())) {\n+\t\tif (StringUtils.isNotBlank(repository.getUser()) && StringUtils.isNotBlank(repository.getPassword())) {\n \t\t\treturn new UsernamePasswordCredentialsProvider(repository.getUser(), repository.getPassword());\n \t\t}\n \t\treturn null;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/7b064c5e9f437db580c579f26b89cfed57a711f9",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/1f4d5d195fd27086b49c86bf85726dc7486560a4",
        "message": "fix possible NPE",
        "bug_id": "maven-scm_4",
        "file": [
            {
                "sha": "95f486e2dfad9fb28621aef4603839728b10a365",
                "filename": "src/main/java/org/apache/maven/scm/provider/git/jgit/command/checkout/JGitCheckOutCommand.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/maven-scm/blob/7b064c5e9f437db580c579f26b89cfed57a711f9/src/main/java/org/apache/maven/scm/provider/git/jgit/command/checkout/JGitCheckOutCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/7b064c5e9f437db580c579f26b89cfed57a711f9/src/main/java/org/apache/maven/scm/provider/git/jgit/command/checkout/JGitCheckOutCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/src/main/java/org/apache/maven/scm/provider/git/jgit/command/checkout/JGitCheckOutCommand.java?ref=7b064c5e9f437db580c579f26b89cfed57a711f9",
                "patch": "@@ -73,7 +73,7 @@ protected CheckOutScmResult executeCheckOutCommand( ScmProviderRepository repo,\n \n             ProgressMonitor monitor = JGitUtils.getMonitor( getLogger() );\n \n-            String branch = version.getName();\n+            String branch = version == null ? null : version.getName();\n             if ( StringUtils.isBlank( branch ) )\n             {\n                 branch = Constants.MASTER;"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/7ccb6e71207485eb2e91349ae111438f98dddcd3",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/d0c2a18923e8c4b5cbf3e0860f7fd0976b5fe89d",
        "message": "fix NPE in diff command",
        "bug_id": "maven-scm_5",
        "file": [
            {
                "sha": "db77fe95161999b3f517acd48b2d0e33e200dbd0",
                "filename": "src/main/java/org/apache/maven/scm/provider/git/jgit/command/diff/JGitDiffCommand.java",
                "status": "modified",
                "additions": 18,
                "deletions": 3,
                "changes": 21,
                "blob_url": "https://github.com/apache/maven-scm/blob/7ccb6e71207485eb2e91349ae111438f98dddcd3/src/main/java/org/apache/maven/scm/provider/git/jgit/command/diff/JGitDiffCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/7ccb6e71207485eb2e91349ae111438f98dddcd3/src/main/java/org/apache/maven/scm/provider/git/jgit/command/diff/JGitDiffCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/src/main/java/org/apache/maven/scm/provider/git/jgit/command/diff/JGitDiffCommand.java?ref=7ccb6e71207485eb2e91349ae111438f98dddcd3",
                "patch": "@@ -18,6 +18,7 @@\n import org.apache.maven.scm.command.diff.DiffScmResult;\n import org.apache.maven.scm.provider.ScmProviderRepository;\n import org.apache.maven.scm.provider.git.command.GitCommand;\n+import org.codehaus.plexus.util.StringUtils;\n import org.eclipse.jgit.api.DiffCommand;\n import org.eclipse.jgit.api.Git;\n import org.eclipse.jgit.diff.DiffEntry;\n@@ -37,12 +38,26 @@ protected DiffScmResult executeDiffCommand(ScmProviderRepository repository, Scm\n \t\ttry {\n \t\t\tGit git = Git.open(fileSet.getBasedir());\n \n+\t\t\tAbstractTreeIterator oldTree = null;\n+\t\t\tif (startRevision != null && StringUtils.isNotEmpty(startRevision.getName().trim())) {\n+\t\t\t\tString startRev = startRevision.getName().trim();\n+\t\t\t\toldTree = getTreeIterator(git.getRepository(), startRev);\n+\t\t\t}\n+\n+\t\t\tAbstractTreeIterator newTree = null;\n+\t\t\tif (endRevision != null && StringUtils.isNotEmpty(endRevision.getName().trim())) {\n+\t\t\t\tString endRev = endRevision.getName().trim();\n+\t\t\t\tnewTree = getTreeIterator(git.getRepository(), endRev);\n+\t\t\t}\n+\n \t\t\tOutputStream out = new ByteArrayOutputStream();\n-\t\t\tDiffCommand diff = git.diff().setOutputStream(out).setOldTree(getTreeIterator(git.getRepository(), startRevision.getName())).setNewTree(getTreeIterator(git.getRepository(), endRevision.getName()));\n+\n+\t\t\tDiffCommand diff = git.diff().setOutputStream(out).setOldTree(oldTree).setNewTree(newTree);\n \t\t\tList<DiffEntry> entries = diff.call();\n \t\t\tList<ScmFile> changedFiles = new ArrayList<ScmFile>();\n-\t\t\t\n-\t\t\t// TODO get differences \n+\n+\t\t\t// TODO get differences (but actually these are captured in the out\n+\t\t\t// already...)\n \t\t\tMap<String, CharSequence> differences = new HashMap<String, CharSequence>();\n \n \t\t\tfor (DiffEntry diffEntry : entries) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/f27d45154ecc59c8089cb752e73c17ec47e80c4a",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/299ae82379d9bd6783c347427585592861a712aa",
        "message": "use last extra-enforcer-rules version to avoid NPE\n\nSigned-off-by: olivier lamy <olamy@apache.org>",
        "bug_id": "maven-scm_6",
        "file": [
            {
                "sha": "2e62984cb5d5b9ef942c778b88783abcae632646",
                "filename": "pom.xml",
                "status": "modified",
                "additions": 11,
                "deletions": 0,
                "changes": 11,
                "blob_url": "https://github.com/apache/maven-scm/blob/f27d45154ecc59c8089cb752e73c17ec47e80c4a/pom.xml",
                "raw_url": "https://github.com/apache/maven-scm/raw/f27d45154ecc59c8089cb752e73c17ec47e80c4a/pom.xml",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/pom.xml?ref=f27d45154ecc59c8089cb752e73c17ec47e80c4a",
                "patch": "@@ -444,6 +444,17 @@\n           </execution>\n         </executions>\n       </plugin>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-enforcer-plugin</artifactId>\n+        <dependencies>\n+          <dependency>\n+            <groupId>org.codehaus.mojo</groupId>\n+            <artifactId>extra-enforcer-rules</artifactId>\n+            <version>1.0-beta-4</version>\n+          </dependency>\n+        </dependencies>\n+      </plugin>\n     </plugins>\n \n   </build>"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/7c551265ddbcf50c2031ce6218a574738269a280",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/9cd6b11bf03bb68426eb0f530aae033abc15a398",
        "message": "NPE free\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@1058914 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_7",
        "file": [
            {
                "sha": "9173ebfdf685a8c6206cc00b3fa41387c0e71976",
                "filename": "maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/StarteamCommandLineUtils.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/maven-scm/blob/7c551265ddbcf50c2031ce6218a574738269a280/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/StarteamCommandLineUtils.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/7c551265ddbcf50c2031ce6218a574738269a280/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/StarteamCommandLineUtils.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/StarteamCommandLineUtils.java?ref=7c551265ddbcf50c2031ce6218a574738269a280",
                "patch": "@@ -63,6 +63,10 @@ public static Commandline createStarteamBaseCommandLine( String action, Starteam\n \n     private static Commandline addCommandlineArguments( Commandline cl, List<String> args )\n     {\n+        if ( args == null )\n+        {\n+          return cl;\n+        }\n         for ( String arg : args )\n         {\n             cl.createArg().setValue( arg );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/72aef297d97155f5c9920518b25165db8ae6f8e8",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/7f65c29f5b0dac4a4660ea48eedfe74a0a4765f4",
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@532235 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_8",
        "file": [
            {
                "sha": "96c5298554eaf0a8ab89f7692cd4399455bf79df",
                "filename": "maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/checkout/ClearCaseCheckOutCommand.java",
                "status": "modified",
                "additions": 4,
                "deletions": 1,
                "changes": 5,
                "blob_url": "https://github.com/apache/maven-scm/blob/72aef297d97155f5c9920518b25165db8ae6f8e8/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/checkout/ClearCaseCheckOutCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/72aef297d97155f5c9920518b25165db8ae6f8e8/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/checkout/ClearCaseCheckOutCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/checkout/ClearCaseCheckOutCommand.java?ref=72aef297d97155f5c9920518b25165db8ae6f8e8",
                "patch": "@@ -62,7 +62,10 @@ protected CheckOutScmResult executeCheckOutCommand( ScmProviderRepository reposi\n         ClearCaseScmProviderRepository repo = (ClearCaseScmProviderRepository) repository;\n         File workingDirectory = fileSet.getBasedir();\n \n-        getLogger().debug( version.getType() + \": \" + version.getName() );\n+        if ( version != null )\n+        {\n+            getLogger().debug( version.getType() + \": \" + version.getName() );\n+        }\n \n         getLogger().debug( \"Running with CLEARCASE \" + settings.getClearcaseType() );\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/2e2d5e897d8d0eaa6c818a56de2efa525276ba3d",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/793eaf9a5211aa4bbb1bdd5071358c9fffa1ecbb",
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@374497 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_9",
        "file": [
            {
                "sha": "3464619fd05d5832c5f580da451bcb5fbc48ac77",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/maven-scm/blob/2e2d5e897d8d0eaa6c818a56de2efa525276ba3d/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/2e2d5e897d8d0eaa6c818a56de2efa525276ba3d/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java?ref=2e2d5e897d8d0eaa6c818a56de2efa525276ba3d",
                "patch": "@@ -223,7 +223,12 @@ public Date getDate()\n      */\n     public void setDate( Date date )\n     {\n-        this.date = new Date( date.getTime() );\n+        if ( date != null )\n+        {\n+            this.date = new Date( date.getTime() );\n+        }\n+\n+        date = null;\n     }\n \n     /**"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/9e3cf3523cfd249d4d11e343d185be800189ec5c",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/0a65c8b568db91e27e90e7b92292a16f61bb0117",
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@374399 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_10",
        "file": [
            {
                "sha": "c45de3d37058e75f928efcfe43db332549b2a559",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "status": "modified",
                "additions": 6,
                "deletions": 1,
                "changes": 7,
                "blob_url": "https://github.com/apache/maven-scm/blob/9e3cf3523cfd249d4d11e343d185be800189ec5c/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/9e3cf3523cfd249d4d11e343d185be800189ec5c/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java?ref=9e3cf3523cfd249d4d11e343d185be800189ec5c",
                "patch": "@@ -208,7 +208,12 @@ public void setComment( String comment )\n      */\n     public Date getDate()\n     {\n-        return (Date) date.clone();\n+        if ( date != null )\n+        {\n+            return (Date) date.clone();\n+        }\n+\n+        return null;\n     }\n \n     /**"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/026e5bea21f86ade36ed3f09f338fbe29c699153",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/c1d24b976f08c4e548747194817c5cd2c3410cc4",
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@374372 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_11",
        "file": [
            {
                "sha": "4459130047ca78cb4e95a9acb5d1550b2d72fa6c",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "status": "modified",
                "additions": 13,
                "deletions": 8,
                "changes": 21,
                "blob_url": "https://github.com/apache/maven-scm/blob/026e5bea21f86ade36ed3f09f338fbe29c699153/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/026e5bea21f86ade36ed3f09f338fbe29c699153/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java?ref=026e5bea21f86ade36ed3f09f338fbe29c699153",
                "patch": "@@ -333,14 +333,19 @@ public String toXML()\n     {\n         StringBuffer buffer = new StringBuffer();\n \n-        buffer.append( \"\\t<changelog-entry>\\n\" )\n-            .append( \"\\t\\t<date pattern=\\\"\" + DATE_PATTERN + \"\\\">\" )\n-            .append( getDateFormatted() )\n-            .append( \"</date>\\n\" )\n-            .append( \"\\t\\t<time pattern=\\\"\" + TIME_PATTERN + \"\\\">\" )\n-            .append( getTimeFormatted() )\n-            .append( \"</time>\\n\" )\n-            .append( \"\\t\\t<author><![CDATA[\" )\n+        buffer.append( \"\\t<changelog-entry>\\n\" );\n+\n+        if ( getDate() != null )\n+        {\n+            buffer.append( \"\\t\\t<date pattern=\\\"\" + DATE_PATTERN + \"\\\">\" )\n+                .append( getDateFormatted() )\n+                .append( \"</date>\\n\" )\n+                .append( \"\\t\\t<time pattern=\\\"\" + TIME_PATTERN + \"\\\">\" )\n+                .append( getTimeFormatted() )\n+                .append( \"</time>\\n\" );\n+        }\n+\n+        buffer.append( \"\\t\\t<author><![CDATA[\" )\n             .append( author )\n             .append( \"]]></author>\\n\" );\n "
            },
            {
                "sha": "1ac10ac581f5e9af94b6fd1ec49685be71f897a6",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/ChangeLogSet.java",
                "status": "modified",
                "additions": 18,
                "deletions": 5,
                "changes": 23,
                "blob_url": "https://github.com/apache/maven-scm/blob/026e5bea21f86ade36ed3f09f338fbe29c699153/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/ChangeLogSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/026e5bea21f86ade36ed3f09f338fbe29c699153/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/ChangeLogSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/ChangeLogSet.java?ref=026e5bea21f86ade36ed3f09f338fbe29c699153",
                "patch": "@@ -105,11 +105,24 @@ public String toXML()\n         String pattern = \"yyyyMMdd HH:mm:ss z\";\n         SimpleDateFormat formatter = new SimpleDateFormat( pattern );\n \n-        buffer.append( \"<changeset datePattern=\\\"\" + pattern + \"\\\" start=\\\"\" )\n-            .append( formatter.format( startDate ) )\n-            .append( \"\\\" end=\\\"\" )\n-            .append( formatter.format( endDate ) )\n-            .append( \"\\\">\\n\" );\n+        buffer.append( \"<changeset datePattern=\\\"\" )\n+            .append( pattern )\n+            .append( \"\\\"\" );\n+\n+        if ( startDate != null )\n+        {\n+            buffer.append( \" start=\\\"\" )\n+                .append( formatter.format( startDate ) )\n+                .append( \"\\\"\" );\n+        }\n+        if ( endDate != null )\n+        {\n+            buffer.append( \" end=\\\"\" )\n+                .append( formatter.format( endDate ) )\n+                .append( \"\\\">\" );\n+        }\n+\n+        buffer.append( \"\\n\" );\n \n         //  Write out the entries\n         for ( Iterator i = getChangeSets().iterator(); i.hasNext(); )"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/6b289ea0373bf2bd763230512ecb9c56c901bfbb",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/87427a9193ca21ab8916c38abd33d9a2b17e579b",
        "message": "Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@219924 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_12",
        "file": [
            {
                "sha": "02524ac2e4194087b27bbd6f9e8fe19af7dd84c8",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/provider/AbstractScmProvider.java",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "blob_url": "https://github.com/apache/maven-scm/blob/6b289ea0373bf2bd763230512ecb9c56c901bfbb/maven-scm-api/src/main/java/org/apache/maven/scm/provider/AbstractScmProvider.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/6b289ea0373bf2bd763230512ecb9c56c901bfbb/maven-scm-api/src/main/java/org/apache/maven/scm/provider/AbstractScmProvider.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/provider/AbstractScmProvider.java?ref=6b289ea0373bf2bd763230512ecb9c56c901bfbb",
                "patch": "@@ -129,13 +129,13 @@ protected Command getCommand( String name )\n \n         Command command = (Command) cmds.get( name );\n \n-        command.setLogger( logDispatcher );\n-\n         if ( command == null )\n         {\n             throw new NoSuchCommandScmException( name );\n         }\n \n+        command.setLogger( logDispatcher );\n+\n         return command;\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/547aa972deec46d3b926081d91aba81ffc323423",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/1c5ccb72bb9ba83a763b85d4f2e8f94fc8951055",
        "message": "Fix SCM-641: NPE when workingDirectory is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@1242108 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_13",
        "file": [
            {
                "sha": "ce4ebcde8794e20fa2f83a7a36aec40d3d34757f",
                "filename": "maven-scm-client/src/main/java/org/apache/maven/scm/client/cli/MavenScmCli.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/maven-scm/blob/547aa972deec46d3b926081d91aba81ffc323423/maven-scm-client/src/main/java/org/apache/maven/scm/client/cli/MavenScmCli.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/547aa972deec46d3b926081d91aba81ffc323423/maven-scm-client/src/main/java/org/apache/maven/scm/client/cli/MavenScmCli.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-client/src/main/java/org/apache/maven/scm/client/cli/MavenScmCli.java?ref=547aa972deec46d3b926081d91aba81ffc323423",
                "patch": "@@ -115,7 +115,8 @@ public static void main( String[] args )\n \n         command = args[0];\n \n-        File workingDirectory = new File( args[1] );\n+        // SCM-641\n+        File workingDirectory = new File( args[1] ).getAbsoluteFile();\n \n         scmUrl = args[2];\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/f5b3e3200ff2774099b1b9407349ac8f04e29497",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/c1a7e71219147a5a0b977be95d14e8118f42fb7d",
        "message": "Fix SCM-641 for HG: NPE when workingDirectory is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@1241140 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_14",
        "file": [
            {
                "sha": "a745bb5416b7126bb28bd531db0c9e59c1fce12f",
                "filename": "maven-scm-providers/maven-scm-provider-hg/src/main/java/org/apache/maven/scm/provider/hg/HgUtils.java",
                "status": "modified",
                "additions": 11,
                "deletions": 8,
                "changes": 19,
                "blob_url": "https://github.com/apache/maven-scm/blob/f5b3e3200ff2774099b1b9407349ac8f04e29497/maven-scm-providers/maven-scm-provider-hg/src/main/java/org/apache/maven/scm/provider/hg/HgUtils.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/f5b3e3200ff2774099b1b9407349ac8f04e29497/maven-scm-providers/maven-scm-provider-hg/src/main/java/org/apache/maven/scm/provider/hg/HgUtils.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-hg/src/main/java/org/apache/maven/scm/provider/hg/HgUtils.java?ref=f5b3e3200ff2774099b1b9407349ac8f04e29497",
                "patch": "@@ -146,16 +146,19 @@ static Commandline buildCmd( File workingDir, String[] cmdAndArgs )\n     {\n         Commandline cmd = new Commandline();\n         cmd.setExecutable( HgCommandConstants.EXEC );\n-        cmd.setWorkingDirectory( workingDir.getAbsolutePath() );\n         cmd.addArguments( cmdAndArgs );\n-\n-        if ( !workingDir.exists() )\n+        if ( workingDir != null )\n         {\n-            boolean success = workingDir.mkdirs();\n-            if ( !success )\n+            cmd.setWorkingDirectory( workingDir.getAbsolutePath() );\n+\n+            if ( !workingDir.exists() )\n             {\n-                String msg = \"Working directory did not exist\" + \" and it couldn't be created: \" + workingDir;\n-                throw new ScmException( msg );\n+                boolean success = workingDir.mkdirs();\n+                if ( !success )\n+                {\n+                    String msg = \"Working directory did not exist\" + \" and it couldn't be created: \" + workingDir;\n+                    throw new ScmException( msg );\n+                }\n             }\n         }\n         return cmd;\n@@ -195,7 +198,7 @@ public static ScmResult execute( File workingDir, String[] cmdAndArgs )\n         int i = 0;\n         for ( Iterator<File> iterator = filesList.iterator(); iterator.hasNext(); i++ )\n         {\n-            File scmFile = (File) iterator.next();\n+            File scmFile = iterator.next();\n             String file = scmFile.getPath().replace( '\\\\', File.separatorChar );\n             cmd[i + cmdAndArgs.length] = file;\n "
            },
            {
                "sha": "3aeb4391f947f99228bb04522ea1ba594150e21f",
                "filename": "maven-scm-providers/maven-scm-provider-hg/src/test/java/org/apache/maven/scm/provider/hg/HgUtilsTest.java",
                "status": "added",
                "additions": 17,
                "deletions": 0,
                "changes": 17,
                "blob_url": "https://github.com/apache/maven-scm/blob/f5b3e3200ff2774099b1b9407349ac8f04e29497/maven-scm-providers/maven-scm-provider-hg/src/test/java/org/apache/maven/scm/provider/hg/HgUtilsTest.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/f5b3e3200ff2774099b1b9407349ac8f04e29497/maven-scm-providers/maven-scm-provider-hg/src/test/java/org/apache/maven/scm/provider/hg/HgUtilsTest.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-hg/src/test/java/org/apache/maven/scm/provider/hg/HgUtilsTest.java?ref=f5b3e3200ff2774099b1b9407349ac8f04e29497",
                "patch": "@@ -0,0 +1,17 @@\n+package org.apache.maven.scm.provider.hg;\r\n+\r\n+import static org.junit.Assert.*;\r\n+import org.codehaus.plexus.util.cli.Commandline;\r\n+import org.junit.Test;\r\n+\r\n+public class HgUtilsTest\r\n+{\r\n+\r\n+    @Test\r\n+    public void testNullWorkingDirectory()\r\n+        throws Exception\r\n+    {\r\n+        Commandline cmd = HgUtils.buildCmd( null, new String[] {} );\r\n+        assertEquals( null, cmd.getWorkingDirectory() );\r\n+    }\r\n+}\n\\ No newline at end of file"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/6ea4931929e08ab7233faad0e2ea156633f09010",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/cabdf8ac9a124bdce3a9aee7588cd229aaf4a3ad",
        "message": "made code NPE free\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@1052813 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_15",
        "file": [
            {
                "sha": "4c6c5f96bf26b7a3458a5b56b945967455aeb214",
                "filename": "maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/mkdir/SvnMkdirConsumer.java",
                "status": "modified",
                "additions": 6,
                "deletions": 0,
                "changes": 6,
                "blob_url": "https://github.com/apache/maven-scm/blob/6ea4931929e08ab7233faad0e2ea156633f09010/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/mkdir/SvnMkdirConsumer.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/6ea4931929e08ab7233faad0e2ea156633f09010/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/mkdir/SvnMkdirConsumer.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/mkdir/SvnMkdirConsumer.java?ref=6ea4931929e08ab7233faad0e2ea156633f09010",
                "patch": "@@ -25,6 +25,7 @@\n import org.apache.maven.scm.ScmFile;\n import org.apache.maven.scm.ScmFileStatus;\n import org.apache.maven.scm.log.ScmLogger;\n+import org.codehaus.plexus.util.StringUtils;\n import org.codehaus.plexus.util.cli.StreamConsumer;\n \n /**\n@@ -50,6 +51,11 @@ public SvnMkdirConsumer( ScmLogger logger )\n     /** {@inheritDoc} */\n     public void consumeLine( String line )\n     {\n+        if ( StringUtils.isBlank( line ) )\n+        {\n+            return;\n+        }\n+        \n         String statusString = line.substring( 0, 1 );\n         ScmFileStatus status;\n        "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/b3b848065914aebbeb7b5abc8f21e19c113f441f",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/e96d4e8d270211c213e6b0b1645ec0d64303f5c4",
        "message": "Fix NPE related to CONTINUUM-1521\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@607771 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_16",
        "file": [
            {
                "sha": "b9d6142897be95be3eaa24e854e41f80185f842e",
                "filename": "maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/changelog/StarteamChangeLogCommand.java",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/maven-scm/blob/b3b848065914aebbeb7b5abc8f21e19c113f441f/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/changelog/StarteamChangeLogCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/b3b848065914aebbeb7b5abc8f21e19c113f441f/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/changelog/StarteamChangeLogCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-starteam/src/main/java/org/apache/maven/scm/provider/starteam/command/changelog/StarteamChangeLogCommand.java?ref=b3b848065914aebbeb7b5abc8f21e19c113f441f",
                "patch": "@@ -54,7 +54,7 @@ protected ChangeLogScmResult executeChangeLogCommand( ScmProviderRepository repo\n         throws ScmException\n     {\n \n-        if ( branch != null || StringUtils.isNotEmpty( branch.getName() ) )\n+        if ( branch != null || StringUtils.isNotEmpty( (branch==null)?null:branch.getName() ) )\n         {\n             this.getLogger().warn( \"This provider doesn't support changelog with on a given branch.\" );\n         }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/052e5a234fc6d6c9391a8f02e4a8b6ab51a133f7",
        "message": "[SCM-278] Fix NPE when endDate is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@517192 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_17",
        "file": [
            {
                "sha": "75d3702988419c7da067503e4bd77c6d20ea47b7",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/AbstractChangeLogCommand.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/maven-scm/blob/02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/AbstractChangeLogCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/AbstractChangeLogCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/command/changelog/AbstractChangeLogCommand.java?ref=02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6",
                "patch": "@@ -90,6 +90,10 @@ public ScmResult executeCommand( ScmProviderRepository repository, ScmFileSet fi\n \n                 endDate = new Date( System.currentTimeMillis() + (long) 1 * 24 * 60 * 60 * 1000 );\n             }\n+            else if ( endDate == null )\n+            {\n+                endDate = new Date();\n+            }\n \n             return executeChangeLogCommand( repository, fileSet, startDate, endDate, branch, datePattern );\n         }"
            },
            {
                "sha": "904292455ae5813f7b7697ae7e70d7f7396153bf",
                "filename": "maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/changelog/VssHistoryCommand.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/maven-scm/blob/02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/changelog/VssHistoryCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/changelog/VssHistoryCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/changelog/VssHistoryCommand.java?ref=02120dab2bc5c2d16b97f5bb63144a5bd79dc3d6",
                "patch": "@@ -110,6 +110,11 @@ public Commandline buildCmdLine( VssScmProviderRepository repo, ScmFileSet fileS\n         //Display only versions that fall within specified data range.\n         if ( startDate != null )\n         {\n+            if ( endDate == null )\n+            {\n+                endDate = new Date(); // = now\n+            }\n+\n             SimpleDateFormat sdf = new SimpleDateFormat( \"dd/MM/yyyy\", Locale.ENGLISH );\n             String dateRange = sdf.format( endDate ) + \"~\" + sdf.format( startDate );\n             command.createArgument().setValue( VssConstants.FLAG_VERSION_DATE + dateRange );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/052e5a234fc6d6c9391a8f02e4a8b6ab51a133f7",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/b4f98f0d051170c5fe7b3fc9cced0fa9b70cb7f2",
        "message": "[SCM-283] Fix possible NPE when files list is null\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@517191 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_18",
        "file": [
            {
                "sha": "ef4f13ebb14f15d9724918222ff79a314d030c58",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "status": "modified",
                "additions": 4,
                "deletions": 0,
                "changes": 4,
                "blob_url": "https://github.com/apache/maven-scm/blob/052e5a234fc6d6c9391a8f02e4a8b6ab51a133f7/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/052e5a234fc6d6c9391a8f02e4a8b6ab51a133f7/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java?ref=052e5a234fc6d6c9391a8f02e4a8b6ab51a133f7",
                "patch": "@@ -134,6 +134,10 @@ public ChangeSet()\n      */\n     public List getFiles()\n     {\n+        if ( files == null )\n+        {\n+            return new ArrayList();\n+        }\n         return files;\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/befb6a7da00ae096c8216687ab425188c551532a",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/83dc15598a7f499a577e615f5e080a842b5a9db7",
        "message": "Fix & Detect NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@453208 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_19",
        "file": [
            {
                "sha": "b9a84f41cf0b96acc2b276755b9cb40b44203140",
                "filename": "maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "status": "modified",
                "additions": 7,
                "deletions": 2,
                "changes": 9,
                "blob_url": "https://github.com/apache/maven-scm/blob/befb6a7da00ae096c8216687ab425188c551532a/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/befb6a7da00ae096c8216687ab425188c551532a/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java?ref=befb6a7da00ae096c8216687ab425188c551532a",
                "patch": "@@ -48,7 +48,7 @@\n \n /**\n  * SCM Provider for Subversion\n- * \n+ *\n  * @author <a href=\"mailto:evenisse@apache.org\">Emmanuel Venisse</a>\n  * @version $Id$\n  */\n@@ -94,7 +94,12 @@ public ScmProviderRepository makeProviderScmRepository( String scmSpecificUrl, c\n     public ScmProviderRepository makeProviderScmRepository( File path )\n         throws ScmRepositoryException, UnknownRepositoryStructure\n     {\n-        if ( path == null || !path.isDirectory() )\n+        if ( path == null )\n+        {\n+            throw new NullPointerException( \"Path argument is null\" );\n+        }\n+\n+        if ( !path.isDirectory() )\n         {\n             throw new ScmRepositoryException( path.getAbsolutePath() + \" isn't a valid directory.\" );\n         }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/c6280e886b5d98b852d2c09062ec5d0d00908b7a",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/7aca62a55d57ba18e3234bb92f220e4fc9ff99a9",
        "message": "[SCM-144] Fix NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@373770 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_20",
        "file": [
            {
                "sha": "023d1c1de008d5f30edc702202230e6ae48c6ec9",
                "filename": "maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/update/ClearCaseUpdateCommand.java",
                "status": "modified",
                "additions": 5,
                "deletions": 1,
                "changes": 6,
                "blob_url": "https://github.com/apache/maven-scm/blob/c6280e886b5d98b852d2c09062ec5d0d00908b7a/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/update/ClearCaseUpdateCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/c6280e886b5d98b852d2c09062ec5d0d00908b7a/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/update/ClearCaseUpdateCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-clearcase/src/main/java/org/apache/maven/scm/provider/clearcase/command/update/ClearCaseUpdateCommand.java?ref=c6280e886b5d98b852d2c09062ec5d0d00908b7a",
                "patch": "@@ -69,7 +69,11 @@ protected UpdateScmResult executeUpdateCommand( ScmProviderRepository repository\n \n     protected ChangeLogCommand getChangeLogCommand()\n     {\n-        return new ClearCaseChangeLogCommand();\n+        ClearCaseChangeLogCommand changeLogCmd = new ClearCaseChangeLogCommand();\n+\n+        changeLogCmd.setLogger( getLogger() );\n+\n+        return changeLogCmd;\n     }\n \n     // ----------------------------------------------------------------------"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/cc4f7e2a42f22b386884992c91233dc2ca988dc2",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/06c342ca00ac587cb5e2087aad7f070ddeaeeb3e",
        "message": "[SCM-597] NPE in AccuRev provider changelog\nSubmitted by Grant Gardner\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@1062063 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_21",
        "file": [
            {
                "sha": "6c508f3a390cb00f571a02efb3021e60ee1e5cf2",
                "filename": "maven-scm-providers/maven-scm-provider-accurev/src/main/java/org/apache/maven/scm/provider/accurev/cli/DiffConsumer.java",
                "status": "modified",
                "additions": 5,
                "deletions": 3,
                "changes": 8,
                "blob_url": "https://github.com/apache/maven-scm/blob/cc4f7e2a42f22b386884992c91233dc2ca988dc2/maven-scm-providers/maven-scm-provider-accurev/src/main/java/org/apache/maven/scm/provider/accurev/cli/DiffConsumer.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/cc4f7e2a42f22b386884992c91233dc2ca988dc2/maven-scm-providers/maven-scm-provider-accurev/src/main/java/org/apache/maven/scm/provider/accurev/cli/DiffConsumer.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-accurev/src/main/java/org/apache/maven/scm/provider/accurev/cli/DiffConsumer.java?ref=cc4f7e2a42f22b386884992c91233dc2ca988dc2",
                "patch": "@@ -47,12 +47,12 @@ protected void startTag( List<String> tagPath, Map<String, String> attributes )\n         {\n             currentDifference = new FileDifference();\n         }\n-        else if ( \"Stream2\".equals( tagName ) )\n+        else if ( \"Stream2\".equals( tagName ) && attributes.get( \"Name\" ) != null)\n         {\n             currentDifference.setElementId( Long.parseLong( attributes.get( \"eid\" ) ) );\n             currentDifference.setNewVersion( attributes.get( \"Name\" ), attributes.get( \"Version\" ) );\n         }\n-        else if ( \"Stream1\".equals( tagName ) )\n+        else if ( \"Stream1\".equals( tagName ) && attributes.get( \"Name\" ) != null )\n         {\n             currentDifference.setElementId( Long.parseLong( attributes.get( \"eid\" ) ) );\n             currentDifference.setOldVersion( attributes.get( \"Name\" ), attributes.get( \"Version\" ) );\n@@ -66,7 +66,9 @@ protected void endTag( List<String> tagPath )\n         String tagName = getTagName( tagPath );\n         if ( \"Element\".equals( tagName ) )\n         {\n-            results.add( currentDifference );\n+            if (currentDifference.getNewFile() != null || currentDifference.getOldFile() != null) {\n+                results.add( currentDifference );\n+            }\n         }\n     }\n "
            },
            {
                "sha": "db9af4a32a0abde3ce7e741a6cd7f825a2779e9a",
                "filename": "maven-scm-providers/maven-scm-provider-accurev/src/test/resources/diff-vvt.xml",
                "status": "modified",
                "additions": 7,
                "deletions": 0,
                "changes": 7,
                "blob_url": "https://github.com/apache/maven-scm/blob/cc4f7e2a42f22b386884992c91233dc2ca988dc2/maven-scm-providers/maven-scm-provider-accurev/src/test/resources/diff-vvt.xml",
                "raw_url": "https://github.com/apache/maven-scm/raw/cc4f7e2a42f22b386884992c91233dc2ca988dc2/maven-scm-providers/maven-scm-provider-accurev/src/test/resources/diff-vvt.xml",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-accurev/src/test/resources/diff-vvt.xml?ref=cc4f7e2a42f22b386884992c91233dc2ca988dc2",
                "patch": "@@ -43,6 +43,13 @@\n           IsDir=\"no\"\n           elemType=\"text\"/>\n     </Change>\n+     <Change\n+        What=\"eid\">\n+      <Stream1\n+          eid=\"9\"/>\n+      <Stream2\n+          eid=\"23\"/>\n+    </Change>\n   </Element>\n   <Element>\n     <Change"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/12724ef168ab50f522b099ef10d2d8fa2758906b",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/033c937f9c0e9da1a815413d05690ff7920f86ce",
        "message": "[SCM-451] NPE when file list is empty\nSubmitted by Karsten Tinnefeld\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@756910 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_22",
        "file": [
            {
                "sha": "280c45faf0fc413c2fb001aa15b0e74530abe3f2",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "status": "modified",
                "additions": 9,
                "deletions": 10,
                "changes": 19,
                "blob_url": "https://github.com/apache/maven-scm/blob/12724ef168ab50f522b099ef10d2d8fa2758906b/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/12724ef168ab50f522b099ef10d2d8fa2758906b/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/ChangeSet.java?ref=12724ef168ab50f522b099ef10d2d8fa2758906b",
                "patch": "@@ -420,17 +420,16 @@ public String toXML()\n             .append( author )\n             .append( \"]]></author>\\n\" );\n \n-        for ( Iterator i = files.iterator(); i.hasNext(); )\n+        if ( files != null )\n         {\n-            ChangeFile file = (ChangeFile) i.next();\n-            buffer.append( \"\\t\\t<file>\\n\" )\n-                .append( \"\\t\\t\\t<name>\" )\n-                .append( escapeValue( file.getName() ) )\n-                .append( \"</name>\\n\" )\n-                .append( \"\\t\\t\\t<revision>\" )\n-                .append( file.getRevision() )\n-                .append( \"</revision>\\n\" );\n-            buffer.append( \"\\t\\t</file>\\n\" );\n+            for ( Iterator i = files.iterator(); i.hasNext(); )\n+            {\n+                ChangeFile file = (ChangeFile) i.next();\n+                buffer.append( \"\\t\\t<file>\\n\" ).append( \"\\t\\t\\t<name>\" ).append( escapeValue( file.getName() ) )\n+                    .append( \"</name>\\n\" ).append( \"\\t\\t\\t<revision>\" ).append( file.getRevision() )\n+                    .append( \"</revision>\\n\" );\n+                buffer.append( \"\\t\\t</file>\\n\" );\n+            }\n         }\n         buffer.append( \"\\t\\t<msg><![CDATA[\" )\n             .append( removeCDataEnd( comment ) )"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/6345f6737b95f33a010e1355881a0585769ca752",
        "message": "[SCM-441] NPE when using Git SCM 1.2-SNAPSHOT\nSubmitted by Mark Struberg \n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@755751 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_23",
        "file": [
            {
                "sha": "d008d4a0b05732e3957c00569147af43ed43f141",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumer.java",
                "status": "added",
                "additions": 100,
                "deletions": 0,
                "changes": 100,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumer.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumer.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumer.java?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -0,0 +1,100 @@\n+package org.apache.maven.scm.provider.git.gitexe.command.update;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import org.apache.maven.scm.log.ScmLogger;\n+import org.apache.maven.scm.util.AbstractConsumer;\n+import org.apache.regexp.RE;\n+import org.apache.regexp.RESyntaxException;\n+import org.codehaus.plexus.util.StringUtils;\n+\n+/**\n+ * @author <a href=\"mailto:struberg@yahoo.de\">Mark Struberg</a>\n+ * @version $Id$\n+ */\n+public class GitLatestRevisionCommandConsumer\n+    extends AbstractConsumer\n+{\n+\n+    /**\n+     * The pattern used to match git log latest revision lines\n+     */\n+    private static final String LATESTREV_PATTERN = \"^commit \\\\s*(.*)\";\n+\n+    /**\n+     * The regular expression used to match git log latest revision lines\n+     */\n+    private RE latestRevRegexp;\n+\n+    private String latestRevision;\n+\n+    public GitLatestRevisionCommandConsumer( ScmLogger logger )\n+    {\n+        super( logger );\n+\n+        try\n+        {\n+            latestRevRegexp = new RE( LATESTREV_PATTERN );\n+        }\n+        catch ( RESyntaxException ex )\n+        {\n+            throw new RuntimeException(\n+                                        \"INTERNAL ERROR: Could not create regexp to parse git log file. This shouldn't happen. Something is probably wrong with the oro installation.\",\n+                                        ex );\n+        }\n+\n+    }\n+\n+    /** {@inheritDoc} */\n+    public void consumeLine( String line )\n+    {\n+        if ( getLogger().isDebugEnabled() )\n+        {\n+            getLogger().debug( \"GitLatestRevisionCommandConsumer consumeLine : \" + line );\n+        }\n+        if ( line == null || StringUtils.isEmpty( line ) )\n+        {\n+            return;\n+        }\n+\n+        processGetLatestRevision( line );\n+    }\n+\n+    public String getLatestRevision()\n+    {\n+        return latestRevision;\n+    }\n+\n+    /**\n+     * Process the current input line for the latest revision\n+     *\n+     * @param line A line of text from the git log output\n+     */\n+    private void processGetLatestRevision( String line )\n+    {\n+        if ( !latestRevRegexp.match( line ) )\n+        {\n+            return;\n+        }\n+\n+        latestRevision = latestRevRegexp.getParen( 1 );\n+    }\n+\n+}"
            },
            {
                "sha": "99c2c9df08facdf988c7f3d0de8e748059a8c6aa",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommand.java",
                "status": "modified",
                "additions": 52,
                "deletions": 4,
                "changes": 56,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/main/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommand.java?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -19,6 +19,8 @@\n  * under the License.\n  */\n \n+import java.io.File;\n+\n import org.apache.maven.scm.ScmBranch;\n import org.apache.maven.scm.ScmException;\n import org.apache.maven.scm.ScmFileSet;\n@@ -63,7 +65,7 @@ protected UpdateScmResult executeUpdateCommand( ScmProviderRepository repo, ScmF\n \n         CommandLineUtils.StringStreamConsumer stderr = new CommandLineUtils.StringStreamConsumer();\n \n-        Commandline cl = createCommandLine( repository, fileSet, scmVersion );\n+        Commandline cl = createCommandLine( repository, fileSet.getBasedir(), scmVersion );\n         exitCode = GitCommandLineUtils.execute( cl, consumer, stderr, getLogger() );\n         if ( exitCode != 0 )\n         {\n@@ -74,7 +76,23 @@ protected UpdateScmResult executeUpdateCommand( ScmProviderRepository repo, ScmF\n             return new UpdateScmResult( cl.toString(), \"The git-pull origin master command failed.\",\n                                         stderr.getOutput(), false );\n         }\n-        return new UpdateScmResultWithRevision( cl.toString(), consumer.getUpdatedFiles(), null );\n+        \n+        // now let's get the latest version\n+        Commandline clRev = createLatestRevisionCommandLine( repository, fileSet.getBasedir(), scmVersion );\n+        GitLatestRevisionCommandConsumer consumerRev = new GitLatestRevisionCommandConsumer( getLogger() );\n+        exitCode = GitCommandLineUtils.execute( clRev, consumerRev, stderr, getLogger() );\n+        if ( exitCode != 0 )\n+        {\n+            if ( getLogger().isWarnEnabled() )\n+            {\n+                getLogger().warn( \"failed to update git, return code \" + exitCode );\n+            }\n+            return new UpdateScmResult( cl.toString(), \"The git-log command failed.\",\n+                                        stderr.getOutput(), false );\n+        }\n+        String latestRevision = consumerRev.getLatestRevision();\n+        \n+        return new UpdateScmResultWithRevision( cl.toString(), consumer.getUpdatedFiles(), latestRevision );\n     }\n \n     /** {@inheritDoc} */\n@@ -89,9 +107,9 @@ protected ChangeLogCommand getChangeLogCommand()\n     /**\n      * create the command line for updating the current branch with the info from the foreign repository. \n      */\n-    public static Commandline createCommandLine( GitScmProviderRepository repository, ScmFileSet fileSet, ScmVersion scmVersion ) \n+    public static Commandline createCommandLine( GitScmProviderRepository repository, File workingDirectory, ScmVersion scmVersion ) \n     {\n-        Commandline cl = GitCommandLineUtils.getBaseGitCommandLine( fileSet.getBasedir(), \"pull\" );\n+        Commandline cl = GitCommandLineUtils.getBaseGitCommandLine( workingDirectory, \"pull\" );\n         \n         cl.createArg().setLine( \"origin\" );\n \n@@ -107,4 +125,34 @@ public static Commandline createCommandLine( GitScmProviderRepository repository\n         \n         return cl;\n     }\n+    \n+    /**\n+     * @param scmVersion a valid branch or <code>null</code> if the master branch should be taken\n+     * @return CommandLine for getting the latest commit on the given branch\n+     */\n+    public static Commandline createLatestRevisionCommandLine(GitScmProviderRepository repository, File workingDirectory,\n+                                                               ScmVersion scmVersion)\n+    {\n+        Commandline cl = GitCommandLineUtils.getBaseGitCommandLine( workingDirectory, \"log\" );\n+        \n+        // only show exactly 1 commit\n+        cl.createArg().setValue( \"-n1\" ); \n+        \n+        // same as --topo-order, but ensure ordering of merges\n+        cl.createArg().setValue( \"--date-order\" );\n+        \n+        if ( scmVersion != null && scmVersion instanceof ScmBranch && \n+             scmVersion.getName() != null && scmVersion.getName().length() > 0 )\n+        {\n+            // if any branch is given, lets take em\n+            cl.createArg().setValue( scmVersion.getName() );\n+        }\n+        else\n+        {\n+            // otherwise we work on the master branch\n+            cl.createArg().setValue( \"master\" );\n+        }\n+        \n+        return cl;\n+    }\n }"
            },
            {
                "sha": "59c9c2942c77c93078fc276dd6612cf5ae17de66",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumerTest.java",
                "status": "added",
                "additions": 77,
                "deletions": 0,
                "changes": 77,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumerTest.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumerTest.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitLatestRevisionCommandConsumerTest.java?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -0,0 +1,77 @@\n+package org.apache.maven.scm.provider.git.gitexe.command.update;\n+\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.Reader;\n+\n+import org.apache.maven.scm.log.DefaultLog;\n+import org.codehaus.plexus.PlexusTestCase;\n+import org.codehaus.plexus.util.ReaderFactory;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+/**\n+ * @author <a href=\"mailto:struberg@yahoo.de\">Mark Struberg</a>\n+ * @since 1.2\n+ * @version $Id$\n+ */\n+public class GitLatestRevisionCommandConsumerTest\n+    extends PlexusTestCase\n+{\n+    public void testUpToDate()\n+        throws Exception\n+    {\n+\n+        GitLatestRevisionCommandConsumer consumer = buildGitLatestRevisionCommandConsumer( \"/src/test/resources/git/update/git-update-latest-rev.out\" );\n+\n+        String latestRev = consumer.getLatestRevision();\n+\n+        assertNotNull( latestRev );\n+        assertEquals( \"a300c56a341bae8d0eb5ec4ed5551a11c75a5a6e\", latestRev );\n+    }\n+\n+    \n+    // utils methods\n+\n+    private GitLatestRevisionCommandConsumer buildGitLatestRevisionCommandConsumer( String fileName )\n+        throws Exception\n+    {\n+        GitLatestRevisionCommandConsumer consumer = new GitLatestRevisionCommandConsumer( new DefaultLog() );\n+\n+        BufferedReader r = getGitLogBufferedReader( fileName );\n+\n+        String line;\n+\n+        while ( ( line = r.readLine() ) != null )\n+        {\n+            //System.out.println(\" line \" + line );\n+            consumer.consumeLine( line );\n+        }\n+        return consumer;\n+    }\n+\n+    private BufferedReader getGitLogBufferedReader( String fileName )\n+        throws Exception\n+    {\n+        File f = getTestFile( fileName );\n+        Reader reader = ReaderFactory.newReader( f, \"UTF-8\" );\n+        return new BufferedReader( reader );\n+    }\n+}"
            },
            {
                "sha": "3ede9539fa54a4ace1eca4c32f91240c1438bd85",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandConsumerTest.java",
                "status": "modified",
                "additions": 4,
                "deletions": 2,
                "changes": 6,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandConsumerTest.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandConsumerTest.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandConsumerTest.java?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -98,8 +98,10 @@ public void testOneUpdateOtherFormat()\n     \n     \n     \n-    // utils methods\n-\n+    // ----------------------------------------------------------------------\n+    // private helper functions\n+    // ----------------------------------------------------------------------\n+    \n     private void assertOneUpdate( String fileName )\n         throws Exception\n     {"
            },
            {
                "sha": "57e609a1134ea3a741874b437dcc85194dacc504",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandTest.java",
                "status": "added",
                "additions": 89,
                "deletions": 0,
                "changes": 89,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandTest.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandTest.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/java/org/apache/maven/scm/provider/git/gitexe/command/update/GitUpdateCommandTest.java?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -0,0 +1,89 @@\n+package org.apache.maven.scm.provider.git.gitexe.command.update;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import org.apache.maven.scm.ScmBranch;\n+import org.apache.maven.scm.ScmTestCase;\n+import org.apache.maven.scm.ScmVersion;\n+import org.apache.maven.scm.provider.git.repository.GitScmProviderRepository;\n+import org.apache.maven.scm.repository.ScmRepository;\n+import org.codehaus.plexus.util.cli.Commandline;\n+\n+import java.io.File;\n+\n+/**\n+ * @author <a href=\"mailto:struberg@yahoo.de\">Mark Struberg</a>\n+ * @version $Id$\n+ */\n+public class GitUpdateCommandTest\n+    extends ScmTestCase\n+{\n+    public void testCommandLineNoBranch()\n+        throws Exception\n+    {\n+        testCommandLine( \"scm:git:http://foo.com/git\", null, \"git pull origin master\" );\n+    }\n+\n+    public void testCommandLineWithBranch()\n+    throws Exception\n+    {\n+        testCommandLine( \"scm:git:http://foo.com/git\", new ScmBranch( \"mybranch\" ), \"git pull origin mybranch\" );\n+    }\n+\n+\n+    public void testCommandLineLatestRevision()\n+        throws Exception\n+    {\n+        testLatestRevisionCommandLine( \"scm:git:http://foo.com/git\", null, \"git log -n1 --date-order master\"  );\n+    }\n+    \n+    // ----------------------------------------------------------------------\n+    // private helper functions\n+    // ----------------------------------------------------------------------\n+\n+    private void testCommandLine( String scmUrl, ScmVersion branch, String commandLine )\n+        throws Exception\n+    {\n+        File workingDirectory = getTestFile( \"target/git-update-command-test\" );\n+\n+        ScmRepository repository = getScmManager().makeScmRepository( scmUrl );\n+\n+        GitScmProviderRepository gitRepository = (GitScmProviderRepository) repository.getProviderRepository();\n+\n+        Commandline cl = GitUpdateCommand.createCommandLine( gitRepository, workingDirectory, branch );\n+\n+        assertCommandLine( commandLine, workingDirectory, cl );\n+    }\n+\n+    private void testLatestRevisionCommandLine( String scmUrl, ScmBranch branch, String commandLine )\n+    throws Exception\n+    {\n+        File workingDirectory = getTestFile( \"target/git-update-command-test\" );\n+    \n+        ScmRepository repository = getScmManager().makeScmRepository( scmUrl );\n+    \n+        GitScmProviderRepository gitRepository = (GitScmProviderRepository) repository.getProviderRepository();\n+    \n+        Commandline cl = GitUpdateCommand.createLatestRevisionCommandLine( gitRepository, workingDirectory, branch );\n+    \n+        assertCommandLine( commandLine, workingDirectory, cl );\n+    }\n+\n+}"
            },
            {
                "sha": "8349bee81afc5ddb59a489607b1a345d3fbbfc82",
                "filename": "maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/resources/git/update/git-update-latest-rev.out",
                "status": "added",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/maven-scm/blob/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/resources/git/update/git-update-latest-rev.out",
                "raw_url": "https://github.com/apache/maven-scm/raw/0f7292086489b0ecc79fff14f00ba20f9efa2bd9/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/resources/git/update/git-update-latest-rev.out",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-git/maven-scm-provider-gitexe/src/test/resources/git/update/git-update-latest-rev.out?ref=0f7292086489b0ecc79fff14f00ba20f9efa2bd9",
                "patch": "@@ -0,0 +1,5 @@\n+commit a300c56a341bae8d0eb5ec4ed5551a11c75a5a6e\n+Author: Mark Struberg <struberg@yahoo.de>\n+Date:   Wed Mar 18 15:59:31 2009 +0100\n+\n+    No msg"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/a834c41f40fa23fcd064502ac8cfb24eba64b0ed",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/418fc6a78b19e0f440c277da5ddda48396150a03",
        "message": "[SCM-338] Fix NPE when using vssDirectory system property\nSubmitted by : Allan Lang\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@656802 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_24",
        "file": [
            {
                "sha": "5f99e6553fedc9167f3fdf7f9ec28883953ea4dc",
                "filename": "maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtils.java",
                "status": "modified",
                "additions": 17,
                "deletions": 2,
                "changes": 19,
                "blob_url": "https://github.com/apache/maven-scm/blob/a834c41f40fa23fcd064502ac8cfb24eba64b0ed/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtils.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/a834c41f40fa23fcd064502ac8cfb24eba64b0ed/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtils.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-vss/src/main/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtils.java?ref=a834c41f40fa23fcd064502ac8cfb24eba64b0ed",
                "patch": "@@ -45,6 +45,8 @@\n public class VssCommandLineUtils\n     implements VssConstants  // FIXME extend CommandLineUtils\n {\n+    private static File scmConfDir = new File( System.getProperty( \"user.home\" ), \".scm\" );\n+\n     public static void addFiles( Commandline cl, ScmFileSet fileSet )\n     {\n         Iterator it = fileSet.getFileList().iterator();\n@@ -107,8 +109,7 @@ public static int executeCommandline( Commandline cl, StreamConsumer consumer,\n     public static final Settings getSettings()\n     {\n         Settings settings = null;\n-        File scmUserHome = new File( System.getProperty( \"user.home\" ), \".scm\" );\n-        File settingsFile = new File( scmUserHome, \"vss-settings.xml\" );\n+        File settingsFile = new File( scmConfDir, \"vss-settings.xml\" );\n         if ( settingsFile.exists() )\n         {\n             VssXpp3Reader reader = new VssXpp3Reader();\n@@ -134,11 +135,25 @@ public static final Settings getSettings()\n         String vssDirectory = System.getProperty( \"vssDirectory\" );\n         if ( StringUtils.isNotEmpty( vssDirectory ) )\n         {\n+            if ( settings == null )\n+            {\n+                settings = new Settings();\n+            }\n             settings.setVssDirectory( vssDirectory );\n         }\n         return settings;\n     }\n \n+    protected static final File getScmConfDir()\n+    {\n+        return scmConfDir;\n+    }\n+\n+    protected static final void setScmConfDir( File directory )\n+    {\n+        scmConfDir = directory;\n+    }\n+\n     public static final String getSsDir()\n     {\n         String ssDir = \"\";"
            },
            {
                "sha": "2ed458cd43508fe51a86c53a09b893b6e06950d2",
                "filename": "maven-scm-providers/maven-scm-provider-vss/src/test/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtilsTest.java",
                "status": "added",
                "additions": 162,
                "deletions": 0,
                "changes": 162,
                "blob_url": "https://github.com/apache/maven-scm/blob/a834c41f40fa23fcd064502ac8cfb24eba64b0ed/maven-scm-providers/maven-scm-provider-vss/src/test/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtilsTest.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/a834c41f40fa23fcd064502ac8cfb24eba64b0ed/maven-scm-providers/maven-scm-provider-vss/src/test/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtilsTest.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-vss/src/test/java/org/apache/maven/scm/provider/vss/commands/VssCommandLineUtilsTest.java?ref=a834c41f40fa23fcd064502ac8cfb24eba64b0ed",
                "patch": "@@ -0,0 +1,162 @@\n+package org.apache.maven.scm.provider.vss.commands;\n+\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+import org.apache.maven.scm.ScmTestCase;\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+\n+/**\n+ * @author Allan Lang\n+ * @version $Id$\n+ */\n+public class VssCommandLineUtilsTest\n+    extends ScmTestCase\n+{\n+\n+    private static final String VSS_DIRECTORY_PROPERTY = \"vssDirectory\";\n+\n+    //private ScmManager scmManager;\n+\n+    public void setUp()\n+        throws Exception\n+    {\n+        super.setUp();\n+\n+        //scmManager = getScmManager();\n+    }\n+\n+    public void testGetSettings()\n+        throws IOException\n+    {\n+        /*\n+         * If we have a genuine settings file, take a copy of this first Create\n+         * the test settings file Check getSettings from file Delete the test\n+         * settings file Check getSettings without file Check getSettings with\n+         * system property Re-instate original settings file, if existing\n+         *\n+         */\n+\n+        final String vssInstallPath = \"c:\\\\wherever\";\n+        final String vssInstallPathAlt = \"c:\\\\somewhere\";\n+        final String settingsXml =\n+            \"<vss-settings><Settings><vssDirectory>\" + vssInstallPath + \"</vssDirectory></Settings></vss-settings>\";\n+        final String settingsFilename = \"vss-settings.xml\";\n+        final String backupFilename = settingsFilename + \".backup\";\n+        boolean preExistingScmFolder = false;\n+        boolean preExistingSettings = false;\n+\n+        /*\n+         * Create a backup of the current settings file, if one exists\n+         */\n+        File scmUserHome = new File( getTestFile( \"target/vssdir\" ), \".scm\" );\n+        if ( scmUserHome.exists() )\n+        {\n+            preExistingScmFolder = true;\n+            File settingsFile = new File( scmUserHome, settingsFilename );\n+            if ( settingsFile.exists() )\n+            {\n+                preExistingSettings = true;\n+                settingsFile.renameTo( new File( scmUserHome, backupFilename ) );\n+            }\n+        }\n+        else\n+        {\n+            scmUserHome.mkdirs();\n+        }\n+\n+        /*\n+         * Create the test settings file\n+         */\n+        File testSettings = new File( scmUserHome, settingsFilename );\n+        FileOutputStream fos = new FileOutputStream( testSettings );\n+        fos.write( settingsXml.getBytes() );\n+        fos.flush();\n+        fos.close();\n+        fos = null;\n+\n+        /*\n+         * Validate that setting from settings file is returned correctly\n+         */\n+        VssCommandLineUtils.setScmConfDir( scmUserHome );\n+        assertEquals( vssInstallPath, VssCommandLineUtils.getSettings().getVssDirectory() );\n+\n+        /*\n+         * Validate that setting is overridden by system property\n+         */\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathAlt );\n+        assertEquals( vssInstallPathAlt, VssCommandLineUtils.getSettings().getVssDirectory() );\n+\n+        /*\n+         * Delete the test settings file\n+         */\n+        testSettings.delete();\n+\n+        /*\n+         * Validate that setting is still equal to system property\n+         */\n+        assertEquals( vssInstallPathAlt, VssCommandLineUtils.getSettings().getVssDirectory() );\n+\n+        /*\n+         * Re-instate the original settings file, if one existed\n+         */\n+        if ( preExistingSettings )\n+        {\n+            File backup = new File( scmUserHome, backupFilename );\n+            backup.renameTo( new File( scmUserHome, settingsFilename ) );\n+        }\n+\n+        if ( !preExistingScmFolder )\n+        {\n+            scmUserHome.delete();\n+        }\n+\n+    }\n+\n+    public void testGetSsDir()\n+    {\n+        final String vssInstallPathWindowsStyle = \"c:\\\\vss\\\\bin\";\n+        final String vssInstallPathUnixStyle = \"c:/vss/bin\";\n+        final String targetValue = \"c:/vss/bin/\";\n+\n+        // Windows style test\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathWindowsStyle );\n+        assertEquals( targetValue, VssCommandLineUtils.getSsDir() );\n+\n+        // Unix style test\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathUnixStyle );\n+        assertEquals( targetValue, VssCommandLineUtils.getSsDir() );\n+\n+        // Windows style with folder indicator\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathWindowsStyle + \"\\\\\" );\n+        assertEquals( targetValue, VssCommandLineUtils.getSsDir() );\n+\n+        // Unix style with folder indicator\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathUnixStyle + \"/\" );\n+        assertEquals( targetValue, VssCommandLineUtils.getSsDir() );\n+\n+        // Unix style with Windows style folder indicator\n+        System.setProperty( VSS_DIRECTORY_PROPERTY, vssInstallPathUnixStyle + \"\\\\\" );\n+        assertEquals( targetValue, VssCommandLineUtils.getSsDir() );\n+\n+    }\n+}"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/bc0cd0839c5b6e020bdf4f019493c48135153a85",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/a1dd2ca4b154c0fc9fa305fcf01fbcc7e59aea6f",
        "message": "PR: SCM-242\n\nFix NPE due to assumption that ScmRepositoryException.getValidationMessages() != null.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@454658 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_25",
        "file": [
            {
                "sha": "52362b25e5f76b1fdbf1a52e1e786e1658704316",
                "filename": "maven-scm-api/src/main/java/org/apache/maven/scm/repository/ScmRepositoryException.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/maven-scm/blob/bc0cd0839c5b6e020bdf4f019493c48135153a85/maven-scm-api/src/main/java/org/apache/maven/scm/repository/ScmRepositoryException.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/bc0cd0839c5b6e020bdf4f019493c48135153a85/maven-scm-api/src/main/java/org/apache/maven/scm/repository/ScmRepositoryException.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-api/src/main/java/org/apache/maven/scm/repository/ScmRepositoryException.java?ref=bc0cd0839c5b6e020bdf4f019493c48135153a85",
                "patch": "@@ -18,6 +18,7 @@\n \n import org.apache.maven.scm.ScmException;\n \n+import java.util.Collections;\n import java.util.List;\n \n /**\n@@ -27,7 +28,7 @@\n public class ScmRepositoryException\n     extends ScmException\n {\n-    private List validationMessages;\n+    private List validationMessages = Collections.EMPTY_LIST;\n \n     public ScmRepositoryException( String msg )\n     {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/d901ad7dd90c5a7dc091169681c76c2ee9a2f239",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/e3c445bb26f3fa80da6f1cab4fa93e3b70809ae9",
        "message": "o Remove possible NPE in command line execution\no Remove unnecessary timezone\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@391976 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_26",
        "file": [
            {
                "sha": "4994ec00d0bd641046a680f54d9a5de1b4f5cbd8",
                "filename": "maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/changelog/SvnChangeLogCommand.java",
                "status": "modified",
                "additions": 2,
                "deletions": 3,
                "changes": 5,
                "blob_url": "https://github.com/apache/maven-scm/blob/d901ad7dd90c5a7dc091169681c76c2ee9a2f239/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/changelog/SvnChangeLogCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/d901ad7dd90c5a7dc091169681c76c2ee9a2f239/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/changelog/SvnChangeLogCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svnexe/src/main/java/org/apache/maven/scm/provider/svn/svnexe/command/changelog/SvnChangeLogCommand.java?ref=d901ad7dd90c5a7dc091169681c76c2ee9a2f239",
                "patch": "@@ -26,6 +26,7 @@\n import org.apache.maven.scm.provider.svn.command.SvnCommand;\n import org.apache.maven.scm.provider.svn.repository.SvnScmProviderRepository;\n import org.apache.maven.scm.provider.svn.svnexe.command.SvnCommandLineUtils;\n+import org.codehaus.plexus.util.StringUtils;\n import org.codehaus.plexus.util.cli.CommandLineException;\n import org.codehaus.plexus.util.cli.CommandLineUtils;\n import org.codehaus.plexus.util.cli.Commandline;\n@@ -89,8 +90,6 @@ public static Commandline createCommandLine( SvnScmProviderRepository repository\n     {\n         SimpleDateFormat dateFormat = new SimpleDateFormat( DATE_FORMAT );\n \n-        dateFormat.setTimeZone( TimeZone.getTimeZone( \"GMT\" ) );\n-\n         Commandline cl = SvnCommandLineUtils.getBaseSvnCommandLine( workingDirectory, repository );\n \n         cl.createArgument().setValue( \"log\" );\n@@ -114,7 +113,7 @@ public static Commandline createCommandLine( SvnScmProviderRepository repository\n             }\n         }\n \n-        if ( branch != null )\n+        if ( StringUtils.isNotEmpty( branch ) )\n         {\n             // By specifying a branch and this repository url below, subversion should show \n             // the changelog of that branch, but limit it to paths that also occur in this repository."
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/50528c906a293b0059d30995394765b892936884",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/524825c5d15947882020199312ffde78a4f41dc7",
        "message": "o Clean code\no Fix possible NPE\no Fix user/password initialization\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@389486 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_27",
        "file": [
            {
                "sha": "180d53adb0002d104599c1755d89ca2f8aa20c8d",
                "filename": "maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "status": "modified",
                "additions": 1,
                "deletions": 7,
                "changes": 8,
                "blob_url": "https://github.com/apache/maven-scm/blob/50528c906a293b0059d30995394765b892936884/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/50528c906a293b0059d30995394765b892936884/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/AbstractSvnScmProvider.java?ref=50528c906a293b0059d30995394765b892936884",
                "patch": "@@ -167,12 +167,6 @@ private ScmUrlParserResult parseScmUrl( String scmSpecificUrl )\n \n         String url = scmSpecificUrl;\n \n-        String user = null;\n-\n-        String password = null;\n-\n-        String protocol = null;\n-\n         // ----------------------------------------------------------------------\n         // Do some sanity checking of the SVN url\n         // ----------------------------------------------------------------------\n@@ -229,7 +223,7 @@ else if ( url.startsWith( \"svn\" ) )\n             return result;\n         }\n \n-        result.repository = new SvnScmProviderRepository( url, user, password );\n+        result.repository = new SvnScmProviderRepository( url );\n \n         return result;\n     }"
            },
            {
                "sha": "169b0c0c74788664c5002060fd64a5b3a35e877e",
                "filename": "maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/repository/SvnScmProviderRepository.java",
                "status": "modified",
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/apache/maven-scm/blob/50528c906a293b0059d30995394765b892936884/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/repository/SvnScmProviderRepository.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/50528c906a293b0059d30995394765b892936884/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/repository/SvnScmProviderRepository.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-providers-svn/maven-scm-provider-svn-commons/src/main/java/org/apache/maven/scm/provider/svn/repository/SvnScmProviderRepository.java?ref=50528c906a293b0059d30995394765b892936884",
                "patch": "@@ -33,13 +33,18 @@\n      */\n     private String tagBase;\n \n+    public SvnScmProviderRepository( String url )\n+    {\n+        parseUrl( url );\n+    }\n+\n     public SvnScmProviderRepository( String url, String user, String password )\n     {\n+        this( url );\n+\n         setUser( user );\n \n         setPassword( password );\n-\n-        parseUrl( url );\n     }\n \n     public String getUrl()\n@@ -95,6 +100,11 @@ else if ( url.startsWith( \"svn\" ) )\n             protocol = \"svn://\";\n         }\n \n+        if ( protocol == null )\n+        {\n+            return;\n+        }\n+\n         String urlPath = url.substring( protocol.length() );\n \n         int indexAt = urlPath.indexOf( \"@\" );"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-scm/commit/949136ef09e86f9ea9d2dfad9fdb38f5dd971a0c",
        "repo": "maven-scm",
        "parent": "https://github.com/apache/maven-scm/commit/d6ef961c7fb3686b3b5cc8ced5b888147ef2ad34",
        "message": "PR: SCM-164\nSubmitted by: John Didion\nFix NPE in Update command\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/scm/trunk@380145 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-scm_28",
        "file": [
            {
                "sha": "4436ac4c8b05238dd5c2712c7c1454da8947b6ff",
                "filename": "maven-scm-providers/maven-scm-provider-perforce/src/main/java/org/apache/maven/scm/provider/perforce/command/update/PerforceUpdateCommand.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/maven-scm/blob/949136ef09e86f9ea9d2dfad9fdb38f5dd971a0c/maven-scm-providers/maven-scm-provider-perforce/src/main/java/org/apache/maven/scm/provider/perforce/command/update/PerforceUpdateCommand.java",
                "raw_url": "https://github.com/apache/maven-scm/raw/949136ef09e86f9ea9d2dfad9fdb38f5dd971a0c/maven-scm-providers/maven-scm-provider-perforce/src/main/java/org/apache/maven/scm/provider/perforce/command/update/PerforceUpdateCommand.java",
                "contents_url": "https://api.github.com/repos/apache/maven-scm/contents/maven-scm-providers/maven-scm-provider-perforce/src/main/java/org/apache/maven/scm/provider/perforce/command/update/PerforceUpdateCommand.java?ref=949136ef09e86f9ea9d2dfad9fdb38f5dd971a0c",
                "patch": "@@ -62,6 +62,8 @@ protected UpdateScmResult executeUpdateCommand( ScmProviderRepository repo, ScmF\n \n     protected ChangeLogCommand getChangeLogCommand()\n     {\n-        return new PerforceChangeLogCommand();\n+        PerforceChangeLogCommand command = new PerforceChangeLogCommand();\n+        command.setLogger( getLogger() );\n+        return command;\n     }\n }"
            }
        ]
    }
]
