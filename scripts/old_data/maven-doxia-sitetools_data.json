[
    {
        "commit": "https://github.com/apache/maven-doxia-sitetools/commit/711cca392e490c3e675da5dbd8534039b3b7bd6c",
        "repo": "maven-doxia-sitetools",
        "parent": "https://github.com/apache/maven-doxia-sitetools/commit/cefa3295d6c0ff8805cb175c9e11a193046bb9c0",
        "message": "o fixed potential NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia-sitetools/trunk@571131 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-doxia-sitetools_1",
        "file": [
            {
                "sha": "58e786f6a9801b2d2665a51e2561f6b71dc4d820",
                "filename": "doxia-doc-renderer/src/main/java/org/apache/maven/doxia/docrenderer/itext/AbstractITextRender.java",
                "status": "modified",
                "additions": 21,
                "deletions": 6,
                "changes": 27,
                "blob_url": "https://github.com/apache/maven-doxia-sitetools/blob/711cca392e490c3e675da5dbd8534039b3b7bd6c/doxia-doc-renderer/src/main/java/org/apache/maven/doxia/docrenderer/itext/AbstractITextRender.java",
                "raw_url": "https://github.com/apache/maven-doxia-sitetools/raw/711cca392e490c3e675da5dbd8534039b3b7bd6c/doxia-doc-renderer/src/main/java/org/apache/maven/doxia/docrenderer/itext/AbstractITextRender.java",
                "contents_url": "https://api.github.com/repos/apache/maven-doxia-sitetools/contents/doxia-doc-renderer/src/main/java/org/apache/maven/doxia/docrenderer/itext/AbstractITextRender.java?ref=711cca392e490c3e675da5dbd8534039b3b7bd6c",
                "patch": "@@ -222,7 +222,7 @@ public void render( File siteDirectory, File outputDirectory, File documentDescr\n                             outTmp = outTmp.substring( 0, outTmp.lastIndexOf( \".\" ) );\n \n                             String outRef = StringUtils.replace( tocItem.getRef(), \"\\\\\", \"/\" );\n-                            if (outRef.lastIndexOf( \".\" )!= -1)\n+                            if ( outRef.lastIndexOf( \".\" ) != -1 )\n                             {\n                                 outRef = outRef.substring( 0, outRef.lastIndexOf( \".\" ) );\n                             }\n@@ -400,11 +400,23 @@ private Transformer initTransformer()\n      */\n     private void addTransformerParameters( Transformer transformer, DocumentModel documentModel )\n     {\n-        transformer.setParameter( \"title\", documentModel.getMeta().getTitle() );\n-        transformer.setParameter( \"author\", documentModel.getMeta().getAuthor() );\n+        if ( documentModel.getMeta().getTitle() != null )\n+        {\n+            transformer.setParameter( \"title\", documentModel.getMeta().getTitle() );\n+        }\n+        if ( documentModel.getMeta().getAuthor() != null )\n+        {\n+            transformer.setParameter( \"author\", documentModel.getMeta().getAuthor() );\n+        }\n         transformer.setParameter( \"creationdate\", new Date().toString() );\n-        transformer.setParameter( \"subject\", documentModel.getMeta().getSubject() );\n-        transformer.setParameter( \"keywords\", documentModel.getMeta().getKeywords() );\n+        if ( documentModel.getMeta().getSubject() != null )\n+        {\n+            transformer.setParameter( \"subject\", documentModel.getMeta().getSubject() );\n+        }\n+        if ( documentModel.getMeta().getKeywords() != null )\n+        {\n+            transformer.setParameter( \"keywords\", documentModel.getMeta().getKeywords() );\n+        }\n         transformer.setParameter( \"producer\", \"Generated with Doxia by \" + System.getProperty( \"user.name\" ) );\n         if ( ITextUtil.isPageSizeSupported( documentModel.getMeta().getTitle() ) )\n         {\n@@ -416,7 +428,10 @@ private void addTransformerParameters( Transformer transformer, DocumentModel do\n         }\n \n         transformer.setParameter( \"frontPageHeader\", \"\" );\n-        transformer.setParameter( \"frontPageTitle\", documentModel.getMeta().getTitle() );\n+        if ( documentModel.getMeta().getTitle() != null )\n+        {\n+            transformer.setParameter( \"frontPageTitle\", documentModel.getMeta().getTitle() );\n+        }\n         transformer.setParameter( \"frontPageFooter\", \"Generated date \" + new Date().toString() );\n     }\n "
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-doxia-sitetools/commit/b428bfffff5e0a0ef3d99a85b0f29dd448ac2afc",
        "repo": "maven-doxia-sitetools",
        "parent": "https://github.com/apache/maven-doxia-sitetools/commit/e11fef47a2e8237eee0fbf30e8ebd89a14e17dbc",
        "message": "[DOXIASITETOOLS-79] better error message in case velocity parsing fails, avoid NPE\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia-sitetools/trunk@1436769 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-doxia-sitetools_2",
        "file": [
            {
                "sha": "331ef726b0760dc9f445abfd96b542822af04f5e",
                "filename": "doxia-site-renderer/src/main/java/org/apache/maven/doxia/siterenderer/DefaultSiteRenderer.java",
                "status": "modified",
                "additions": 5,
                "deletions": 0,
                "changes": 5,
                "blob_url": "https://github.com/apache/maven-doxia-sitetools/blob/b428bfffff5e0a0ef3d99a85b0f29dd448ac2afc/doxia-site-renderer/src/main/java/org/apache/maven/doxia/siterenderer/DefaultSiteRenderer.java",
                "raw_url": "https://github.com/apache/maven-doxia-sitetools/raw/b428bfffff5e0a0ef3d99a85b0f29dd448ac2afc/doxia-site-renderer/src/main/java/org/apache/maven/doxia/siterenderer/DefaultSiteRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/maven-doxia-sitetools/contents/doxia-site-renderer/src/main/java/org/apache/maven/doxia/siterenderer/DefaultSiteRenderer.java?ref=b428bfffff5e0a0ef3d99a85b0f29dd448ac2afc",
                "patch": "@@ -398,6 +398,11 @@ public void renderDocument( Writer writer, RenderingContext renderingContext, Si\n                 }\n             }\n             sink.enableLogging( new PlexusLoggerWrapper( getLogger() ) );\n+\n+            if ( reader == null ) // can happen if velocity throws above\n+            {\n+                throw new RendererException( \"Error getting a parser for '\" + doc );\n+            }\n             doxia.parse( reader, renderingContext.getParserId(), sink );\n         }\n         catch ( ParserNotFoundException e )"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-doxia-sitetools/commit/cd578c331a2dde51baf600f845202a4243d8c999",
        "repo": "maven-doxia-sitetools",
        "parent": "https://github.com/apache/maven-doxia-sitetools/commit/8bb1f370839e1297081ad6903d04f19ad631bdf7",
        "message": "[DOXIASITETOOLS-13] NPE when generating Maven site and no project URL defined\nSubmitted by: Adrian Tarau\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia-sitetools/trunk@732668 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-doxia-sitetools_3",
        "file": [
            {
                "sha": "b8f0470274ac43c8554cb5c42fde8a6949a37db3",
                "filename": "doxia-decoration-model/src/main/java/org/apache/maven/doxia/site/decoration/inheritance/PathUtils.java",
                "status": "modified",
                "additions": 11,
                "deletions": 2,
                "changes": 13,
                "blob_url": "https://github.com/apache/maven-doxia-sitetools/blob/cd578c331a2dde51baf600f845202a4243d8c999/doxia-decoration-model/src/main/java/org/apache/maven/doxia/site/decoration/inheritance/PathUtils.java",
                "raw_url": "https://github.com/apache/maven-doxia-sitetools/raw/cd578c331a2dde51baf600f845202a4243d8c999/doxia-decoration-model/src/main/java/org/apache/maven/doxia/site/decoration/inheritance/PathUtils.java",
                "contents_url": "https://api.github.com/repos/apache/maven-doxia-sitetools/contents/doxia-decoration-model/src/main/java/org/apache/maven/doxia/site/decoration/inheritance/PathUtils.java?ref=cd578c331a2dde51baf600f845202a4243d8c999",
                "patch": "@@ -33,9 +33,12 @@\n  */\n public abstract class PathUtils\n {\n+    /**\n+     * Private constructor.\n+     */\n     private PathUtils()\n     {\n-        // nop\n+        // do not instantiate\n     }\n \n     /**\n@@ -92,11 +95,17 @@ public static final String getRelativePath( final PathDescriptor oldPathDescript\n             URL oldUrl = oldPathDescriptor.getPathUrl();\n             URL newUrl = newPathDescriptor.getPathUrl();\n \n+            if ( oldUrl == null || newUrl == null )\n+            {\n+                // One of the sites has a strange URL. no relative path possible, bail out.\n+                return null;\n+            }\n+\n             if ( ( newUrl.getProtocol().equalsIgnoreCase( oldUrl.getProtocol() ) )\n                             && ( newUrl.getHost().equalsIgnoreCase( oldUrl.getHost() ) )\n                             && ( newUrl.getPort() == oldUrl.getPort() ) )\n             {\n-                // Both pathes point to the same site. So we can use relative pathes.\n+                // Both paths point to the same site. So we can use relative paths.\n \n                 String oldPath = oldPathDescriptor.getPath();\n                 String newPath = newPathDescriptor.getPath();"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/maven-doxia-sitetools/commit/cf2dd258df3d5a8523483ef94677117557f826d5",
        "repo": "maven-doxia-sitetools",
        "parent": "https://github.com/apache/maven-doxia-sitetools/commit/5c205dca0a27670412d9a86c1b0ccebbe9f80914",
        "message": "DOXIA-240: NPE when building documentation\n\no uncommented test\n\ngit-svn-id: https://svn.apache.org/repos/asf/maven/doxia/doxia-sitetools/trunk@656476 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "maven-doxia-sitetools_4",
        "file": [
            {
                "sha": "eb283db05dcedd63538229430945872d20e9792e",
                "filename": "doxia-site-renderer/src/test/site/xdoc/macro.xml",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "blob_url": "https://github.com/apache/maven-doxia-sitetools/blob/cf2dd258df3d5a8523483ef94677117557f826d5/doxia-site-renderer/src/test/site/xdoc/macro.xml",
                "raw_url": "https://github.com/apache/maven-doxia-sitetools/raw/cf2dd258df3d5a8523483ef94677117557f826d5/doxia-site-renderer/src/test/site/xdoc/macro.xml",
                "contents_url": "https://api.github.com/repos/apache/maven-doxia-sitetools/contents/doxia-site-renderer/src/test/site/xdoc/macro.xml?ref=cf2dd258df3d5a8523483ef94677117557f826d5",
                "patch": "@@ -26,7 +26,7 @@\n \n   <body>\n     <!-- FIXME: DOXIA-240 -->\n-    <!-- <macro name=\"toc\"/> -->\n+    <macro name=\"toc\"/>\n \n     <section name=\"section name\">\n       <macro name=\"echo\" message=\"hello!\"/>"
            }
        ]
    }
]
