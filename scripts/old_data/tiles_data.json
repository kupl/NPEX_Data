[
    {
        "commit": "https://github.com/apache/tiles/commit/2601bcd2d8c7c5f1dde663830093c426ffff3da4",
        "repo": "tiles",
        "parent": "https://github.com/apache/tiles/commit/8f9cb3ab2bf3e1a1fb7f6aa59b9dd2b61612eb5d",
        "message": "Fixes NullPointerException in OptionsRenderer\nhttps://issues.apache.org/jira/browse/TILES-598\nThis closes #14\n\nPatch by Christian Schuster\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tiles/framework/trunk@1840285 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles_1",
        "file": [
            {
                "sha": "b387fd7e553aaf7db40de0c33af244ebd64f6c74",
                "filename": "tiles-extras/src/main/java/org/apache/tiles/extras/renderer/OptionsRenderer.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/tiles/blob/2601bcd2d8c7c5f1dde663830093c426ffff3da4/tiles-extras/src/main/java/org/apache/tiles/extras/renderer/OptionsRenderer.java",
                "raw_url": "https://github.com/apache/tiles/raw/2601bcd2d8c7c5f1dde663830093c426ffff3da4/tiles-extras/src/main/java/org/apache/tiles/extras/renderer/OptionsRenderer.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-extras/src/main/java/org/apache/tiles/extras/renderer/OptionsRenderer.java?ref=2601bcd2d8c7c5f1dde663830093c426ffff3da4",
                "patch": "@@ -190,7 +190,8 @@ public Boolean load(String key) {\n \n \n         static boolean attemptTemplate(final String template) {\n-            return !TEMPLATE_EXISTS.containsKey(template) || TEMPLATE_EXISTS.get(template);\n+            Boolean found = TEMPLATE_EXISTS.get(template);\n+            return found == null || found;\n         }\n \n         static void update(final String template, final boolean found) {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/tiles/commit/d802888d59d5afbc759ddca5a1e0eddccd91001f",
        "repo": "tiles",
        "parent": "https://github.com/apache/tiles/commit/d80b1ad45e41bf35093f7d2abeb4459a60d9516f",
        "message": "Fix for Bug 38670 - Standalone Tiles NullPointerException when debugging - patch supplied by David DeWolf\n\ngit-svn-id: https://svn.apache.org/repos/asf/struts/sandbox/trunk/tiles@379724 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles_2",
        "file": [
            {
                "sha": "49043b1a5db2c2686eee3617ea5e7df62c9d3626",
                "filename": "src/java/org/apache/tiles/ComponentAttribute.java",
                "status": "modified",
                "additions": 5,
                "deletions": 2,
                "changes": 7,
                "blob_url": "https://github.com/apache/tiles/blob/d802888d59d5afbc759ddca5a1e0eddccd91001f/src/java/org/apache/tiles/ComponentAttribute.java",
                "raw_url": "https://github.com/apache/tiles/raw/d802888d59d5afbc759ddca5a1e0eddccd91001f/src/java/org/apache/tiles/ComponentAttribute.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/src/java/org/apache/tiles/ComponentAttribute.java?ref=d802888d59d5afbc759ddca5a1e0eddccd91001f",
                "patch": "@@ -1,7 +1,7 @@\n /*\n  * $Id$\n  *\n- * Copyright 1999-2004 The Apache Software Foundation.\n+ * Copyright 1999-2006 The Apache Software Foundation.\n  * \n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n@@ -118,7 +118,10 @@ public void setValue(Object value) {\n      * Get String representation of this object.\n      */\n     public String toString() {\n-        return value.toString();\n+        if (value != null) {\n+            return value.toString();\n+        }\n+        return null;\n     }\n \n     public String getType() {"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/tiles/commit/3a03bfd44c322113360298431fbd9a25900a6350",
        "repo": "tiles",
        "parent": "https://github.com/apache/tiles/commit/7fbeaabb91693456a41ec2a47f97c7282e3e0627",
        "message": "TILES-437\nNow Definition.toString does not cause a NPE.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tiles/framework/trunk@790231 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles_3",
        "file": [
            {
                "sha": "a11ddd54bf73bde40f89da48503372d9c8e5fa08",
                "filename": "tiles-api/src/main/java/org/apache/tiles/Definition.java",
                "status": "modified",
                "additions": 3,
                "deletions": 3,
                "changes": 6,
                "blob_url": "https://github.com/apache/tiles/blob/3a03bfd44c322113360298431fbd9a25900a6350/tiles-api/src/main/java/org/apache/tiles/Definition.java",
                "raw_url": "https://github.com/apache/tiles/raw/3a03bfd44c322113360298431fbd9a25900a6350/tiles-api/src/main/java/org/apache/tiles/Definition.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-api/src/main/java/org/apache/tiles/Definition.java?ref=3a03bfd44c322113360298431fbd9a25900a6350",
                "patch": "@@ -299,13 +299,13 @@ public String toString() {\n         return \"{name=\"\n             + name\n             + \", template=\"\n-            + templateAttribute.getValue()\n+            + (templateAttribute != null ? templateAttribute.getValue() : \"<null>\")\n             + \", role=\"\n-            + templateAttribute.getRoles()\n+            + (templateAttribute != null ? templateAttribute.getRoles() : \"<null>\")\n             + \", preparerInstance=\"\n             + preparer\n             + \", attributes=\"\n             + attributes\n-            + \"}\\n\";\n+            + \"}\";\n     }\n }"
            },
            {
                "sha": "555a46607dd76445ed7dfb61cc206bd917501e83",
                "filename": "tiles-api/src/test/java/org/apache/tiles/TestDefinition.java",
                "status": "modified",
                "additions": 20,
                "deletions": 0,
                "changes": 20,
                "blob_url": "https://github.com/apache/tiles/blob/3a03bfd44c322113360298431fbd9a25900a6350/tiles-api/src/test/java/org/apache/tiles/TestDefinition.java",
                "raw_url": "https://github.com/apache/tiles/raw/3a03bfd44c322113360298431fbd9a25900a6350/tiles-api/src/test/java/org/apache/tiles/TestDefinition.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-api/src/test/java/org/apache/tiles/TestDefinition.java?ref=3a03bfd44c322113360298431fbd9a25900a6350",
                "patch": "@@ -157,4 +157,24 @@ public void testInherit() {\n                 \"localLanguage\", context.getTemplateAttribute()\n                         .getExpressionObject().getLanguage());\n     }\n+\n+    /**\n+     * Tests {@link Definition#toString()}.\n+     */\n+    public void testToString() {\n+        Definition definition = new Definition();\n+        definition.setName(\"myDefinitionName\");\n+        assertEquals(\n+                \"{name=myDefinitionName, template=<null>, role=<null>, preparerInstance=null, attributes=null}\",\n+                definition.toString());\n+        definition.setTemplateAttribute(Attribute.createTemplateAttribute(\"myTemplate\"));\n+        assertEquals(\n+                \"{name=myDefinitionName, template=myTemplate, role=null, preparerInstance=null, attributes=null}\",\n+                definition.toString());\n+        definition.putAttribute(\"myAttributeName\", new Attribute(\"myAttributeValue\"));\n+        assertEquals(\n+                \"{name=myDefinitionName, template=myTemplate, role=null, preparerInstance=null, \"\n+                        + \"attributes={myAttributeName=myAttributeValue}}\",\n+                definition.toString());\n+    }\n }"
            }
        ]
    },
    {
        "commit": "https://github.com/apache/tiles/commit/bf1b130ec331e6fbe03beee80c407e277125f47f",
        "repo": "tiles",
        "parent": "https://github.com/apache/tiles/commit/03520867f4612fb5d5b6d8f42fee840d14066ff2",
        "message": "SB-38\nNow the tag check if a ComponentContext has been registered and, if there is one, uses it to take an attribute value.\nThis way the NullPointerException will not be thrown.\n\ngit-svn-id: https://svn.apache.org/repos/asf/struts/sandbox/trunk/tiles@437675 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles_4",
        "file": [
            {
                "sha": "88ec5c490b9ccd3deea5049f9386933acbd5c55f",
                "filename": "tiles-core/src/main/java/org/apache/tiles/taglib/InsertTag.java",
                "status": "modified",
                "additions": 12,
                "deletions": 2,
                "changes": 14,
                "blob_url": "https://github.com/apache/tiles/blob/bf1b130ec331e6fbe03beee80c407e277125f47f/tiles-core/src/main/java/org/apache/tiles/taglib/InsertTag.java",
                "raw_url": "https://github.com/apache/tiles/raw/bf1b130ec331e6fbe03beee80c407e277125f47f/tiles-core/src/main/java/org/apache/tiles/taglib/InsertTag.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-core/src/main/java/org/apache/tiles/taglib/InsertTag.java?ref=bf1b130ec331e6fbe03beee80c407e277125f47f",
                "patch": "@@ -437,7 +437,12 @@ public TagHandler createTagHandler() throws JspException {\n \t * processDefinitionName()\n \t */\n \tpublic TagHandler processName(String name) throws JspException {\n-\t\tObject attrValue = getCurrentContext().getAttribute(name);\n+        Object attrValue = null;\n+        ComponentContext context = getCurrentContext();\n+        \n+        if (context != null) {\n+            attrValue = context.getAttribute(name);\n+        }\n \n \t\tif (attrValue != null && attrValue instanceof ComponentAttribute) {\n                     return processTypedAttribute((ComponentAttribute) attrValue);\n@@ -559,7 +564,12 @@ protected TagHandler processDefinition(ComponentDefinition definition)\n \t * @throws JspException - Throws by underlying nested call to processDefinitionName()\n \t */\n \tpublic TagHandler processAttribute(String name) throws JspException {\n-            Object attrValue = getCurrentContext().getAttribute(name);\n+            Object attrValue = null;\n+            ComponentContext context = getCurrentContext();\n+            \n+            if (context != null) {\n+                attrValue = context.getAttribute(name);\n+            }\n \n             if (attrValue == null) {\n                     throw new JspException("
            }
        ]
    },
    {
        "commit": "https://github.com/apache/tiles/commit/93d446173367bee1056bbd14d2139a23b30bc65d",
        "repo": "tiles",
        "parent": "https://github.com/apache/tiles/commit/ded340ef750f648690bc5aff9170bf8457be9ec0",
        "message": "TREQ-10 - NPE while reading the session scope when no session has been created\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tiles/framework/trunk@1199216 13f79535-47bb-0310-9956-ffa450edef68",
        "bug_id": "tiles_5",
        "file": [
            {
                "sha": "6d4974328a0c0bfb100b48b0db25b8bdd8e791bf",
                "filename": "tiles-request/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "status": "modified",
                "additions": 2,
                "deletions": 1,
                "changes": 3,
                "blob_url": "https://github.com/apache/tiles/blob/93d446173367bee1056bbd14d2139a23b30bc65d/tiles-request/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "raw_url": "https://github.com/apache/tiles/raw/93d446173367bee1056bbd14d2139a23b30bc65d/tiles-request/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-request/tiles-request-servlet/src/main/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractor.java?ref=93d446173367bee1056bbd14d2139a23b30bc65d",
                "patch": "@@ -21,6 +21,7 @@\n package org.apache.tiles.request.servlet.extractor;\n \n import java.util.Enumeration;\n+import java.util.Collections;\n \n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpSession;\n@@ -68,7 +69,7 @@ public void removeValue(String name) {\n         if (session != null) {\n             return session.getAttributeNames();\n         }\n-        return null;\n+        return Collections.enumeration(Collections.<String>emptySet());\n     }\n \n     @Override"
            },
            {
                "sha": "8be27b4bea0c2167056ccf8627133a657fddf081",
                "filename": "tiles-request/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "status": "modified",
                "additions": 3,
                "deletions": 1,
                "changes": 4,
                "blob_url": "https://github.com/apache/tiles/blob/93d446173367bee1056bbd14d2139a23b30bc65d/tiles-request/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "raw_url": "https://github.com/apache/tiles/raw/93d446173367bee1056bbd14d2139a23b30bc65d/tiles-request/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java",
                "contents_url": "https://api.github.com/repos/apache/tiles/contents/tiles-request/tiles-request-servlet/src/test/java/org/apache/tiles/request/servlet/extractor/SessionScopeExtractorTest.java?ref=93d446173367bee1056bbd14d2139a23b30bc65d",
                "patch": "@@ -114,7 +114,9 @@ public void testGetKeysNoSession() {\n         expect(request.getSession(false)).andReturn(null);\n \n         replay(request, session);\n-        assertNull(extractor.getKeys());\n+        Enumeration<String> keys = extractor.getKeys();\n+        assertNotNull(keys);\n+        assertFalse(keys.hasMoreElements());\n         verify(request, session);\n     }\n "
            }
        ]
    }
]
