<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TypeConverter API</title>
<link rel="stylesheet" href="css/blazebit.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="prettify/prettify.min.css">
<script src="prettify/prettify.min.js"></script>
<script src="prettify/lang-ext.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
<link rel="shortcut icon" href="images/favicon.png">
</head>
<body class="book toc2 toc-left">

<div class="brand">
    <a class="vendor" href="https://blazebit.com">
        <strong>Blazebit.com</strong>
    </a>
    <a class="logo" href="https://persistence.blazebit.com">
        <strong>blaze-persistence</strong>
    </a>
</div>
<br/>

<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#entity-view-type-converter-api">TypeConverter API</a>
<ul class="sectlevel2">
<li><a href="#builtin-typeconverters">Builtin TypeConverters</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="entity-view-type-converter-api"><a class="anchor" href="#entity-view-type-converter-api"></a>TypeConverter API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The TypeConverter API is similar to the JPA AttributeConverter API as it allows to convert between an entity view model type and an underlying type.
This is similar to the <a href="#entity-view-basic-user-type-spi">BasicUserType SPI</a> but can also be used to convert view types to custom types.
All this might sound very generic, but it is the foundation for the support of wrapping a type in a <code>java.util.Optional</code>.</p>
</div>
<div class="paragraph">
<p>A <code>TypeConverter</code> is responsible for figuring out the actual underlying type of an entity view attribute type.
In case of an attribute like e.g. <code>Optional&lt;Integer&gt; getId()</code> the <code>TypeConverter</code> for the <code>java.util.Optional</code> support determines the underlying type which is <code>Integer</code>.
Apart from this, the <code>TypeConverter</code> must also implement the conversion from the view type to the underlying type and the other way around.</p>
</div>
<div class="sect2">
<h3 id="builtin-typeconverters"><a class="anchor" href="#builtin-typeconverters"></a>Builtin TypeConverters</h3>
<div class="paragraph">
<p>There are several <code>TypeConverters</code> registered out of the box.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Converters for <code>java.sql.Blob</code>, <code>java.sql.Clob</code>, <code>java.sql.NClob</code> to implement dirty tracking in coordination with a custom <code>BasicUserType</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If found on the classpath, <code>TypeConverters</code> for the following types are registered</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.util.Optional</code> for all Object types</p>
</li>
<li>
<p><code>java.util.OptionalInt</code> for <code>java.lang.Integer</code></p>
</li>
<li>
<p><code>java.util.OptionalLong</code> for <code>java.lang.Long</code></p>
</li>
<li>
<p><code>java.util.OptionalDouble</code> for <code>java.lang.Double</code></p>
</li>
<li>
<p><code>java.time.LocalDate</code> for entity types</p>
<div class="ulist">
<ul>
<li>
<p><code>java.util.Date</code></p>
</li>
<li>
<p><code>java.sql.Date</code></p>
</li>
<li>
<p><code>java.sql.Timestamp</code></p>
</li>
<li>
<p><code>java.util.Calendar</code></p>
</li>
<li>
<p><code>java.util.GregorianCalendar</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>java.time.LocalDateTime</code> for entity types</p>
<div class="ulist">
<ul>
<li>
<p><code>java.util.Date</code></p>
</li>
<li>
<p><code>java.sql.Timestamp</code></p>
</li>
<li>
<p><code>java.util.Calendar</code></p>
</li>
<li>
<p><code>java.util.GregorianCalendar</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>java.time.LocalTime</code> for <code>java.sql.Time</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you miss a <code>TypeConverter</code> you can register it via <a href="{entity_view_jdoc}/persistence/view/spi/EntityViewConfiguration.html#registerTypeConverter(java.lang.Class,%20java.lang.Class,%20com.blazebit.persistence.view.spi.type.TypeConverter)"><code>EntityViewConfiguration.registerTypeConverter(Class entityModelType, Class viewModelType, TypeConverter typeConverter)</code></a>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-08-05 16:46:14 KST
</div>
</div>
</body>
</html>