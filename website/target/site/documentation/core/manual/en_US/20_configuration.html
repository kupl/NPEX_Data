<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Configuration</title>
<link rel="stylesheet" href="css/blazebit.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="prettify/prettify.min.css">
<script src="prettify/prettify.min.js"></script>
<script src="prettify/lang-ext.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
<link rel="shortcut icon" href="images/favicon.png">
</head>
<body class="book toc2 toc-left">

<div class="brand">
    <a class="vendor" href="https://blazebit.com">
        <strong>Blazebit.com</strong>
    </a>
    <a class="logo" href="https://persistence.blazebit.com">
        <strong>blaze-persistence</strong>
    </a>
</div>
<br/>

<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#configuration-properties">Configuration properties</a></li>
<li><a href="#configuration-jpql-functions">Jpql functions</a></li>
<li><a href="#configuration-dbms-dialects">Dbms dialects</a></li>
<li><a href="#configuration-entity-manager-factory-integrators">Entity manager factory integrators</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{projectname} can be configured by setting properties on a <a href="{core_jdoc}/persistence/spi/CriteriaBuilderConfiguration.html#setProperty(java.lang.String,%20java.lang.String)"><code>CriteriaBuilderConfiguration</code></a>
object and creating a <a href="{core_jdoc}/persistence/spi/CriteriaBuilderConfiguration.html#createCriteriaBuilderFactory(javax.persistence.EntityManagerFactory)"><code>CriteriaBuilderFactory</code></a> from it.</p>
</div>
<div class="paragraph">
<p>You can also set configuration properties on a per builder basis via the <a href="{core_jdoc}/persistence/CommonQueryBuilder.html#setProperty(java.lang.String,%20java.lang.String)"><code>setProperty(String, String)</code></a> method.</p>
</div>
<div class="sect2">
<h3 id="configuration-properties"><a class="anchor" href="#configuration-properties"></a>Configuration properties</h3>
<div class="sect3">
<h4 id="compatible_mode"><a class="anchor" href="#compatible_mode"></a>COMPATIBLE_MODE</h4>
<div class="paragraph">
<p>Enables JPA compatibility mode to disallow the usage of vendor specific extensions. This will result in higher portability.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.compatible_mode</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration only</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="returning_clause_case_sensitive"><a class="anchor" href="#returning_clause_case_sensitive"></a>RETURNING_CLAUSE_CASE_SENSITIVE</h4>
<div class="paragraph">
<p>Defines whether column names should be used with the case in which they are given or as lower case when returning column values from a DML query.
This is mostly relevant for PostgreSQL which requires <code>false</code> to work properly.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.returning_clause_case_sensitive</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="size_to_count_transformation"><a class="anchor" href="#size_to_count_transformation"></a>SIZE_TO_COUNT_TRANSFORMATION</h4>
<div class="paragraph">
<p>Defines whether the SIZE to COUNT tranformation should be applied to queries or not.
The transformation can be very beneficial especially for databases that can&#8217;t optimize subqueries properly within the context of a parent query.
This property exists just so you can turn the transformation off if you encounter problems.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.size_to_count_transformation</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implicit_group_by_from_select"><a class="anchor" href="#implicit_group_by_from_select"></a>IMPLICIT_GROUP_BY_FROM_SELECT</h4>
<div class="paragraph">
<p>Defines whether non-aggregate expressions from the SELECT clause should be automatically added to the GROUP BY.
Some databases require that all non-aggregate expressions must be included in the GROUP BY clause which is pretty annoying.
This feature can make writing queries a lot easier since it will implicitly copy expressions over to the GROUP BY clause.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.implicit_group_by_from_select</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implicit_group_by_from_having"><a class="anchor" href="#implicit_group_by_from_having"></a>IMPLICIT_GROUP_BY_FROM_HAVING</h4>
<div class="paragraph">
<p>Defines whether non-aggregate expressions from the HAVING clause should be automatically added to the GROUP BY.
Some databases require that all non-aggregate expressions must be included in the GROUP BY clause which is pretty annoying.
This feature can make writing queries a lot easier since it will implicitly copy expressions over to the GROUP BY clause.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.implicit_group_by_from_having</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="implicit_group_by_from_order_by"><a class="anchor" href="#implicit_group_by_from_order_by"></a>IMPLICIT_GROUP_BY_FROM_ORDER_BY</h4>
<div class="paragraph">
<p>Defines whether non-aggregate expressions from the ORDER BY clause should be automatically added to the GROUP BY.
Some databases require that all non-aggregate expressions must be included in the GROUP BY clause which is pretty annoying.
This feature can make writing queries a lot easier since it will implicitly copy expressions over to the GROUP BY clause.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.implicit_group_by_from_order_by</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="expression_optimization"><a class="anchor" href="#expression_optimization"></a>EXPRESSION_OPTIMIZATION</h4>
<div class="paragraph">
<p>Defines whether expressions should be optimized.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.expression_optimization</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration only</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="expression_cache_class"><a class="anchor" href="#expression_cache_class"></a>EXPRESSION_CACHE_CLASS</h4>
<div class="paragraph">
<p>The full qualified expression cache implementation class name.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.expression.cache_class</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration only</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.blazebit.persistence.parser.expression.ConcurrentHashMapExpressionCache</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="values_clause_filter_nulls"><a class="anchor" href="#values_clause_filter_nulls"></a>VALUES_CLAUSE_FILTER_NULLS</h4>
<div class="paragraph">
<p>Defines whether tuples of a VALUES clause with all NULL values should be filtered out.
The property can be changed for a criteria builder before using the VALUES clause.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.values.filter_nulls</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="parameter_as_literal_rendering"><a class="anchor" href="#parameter_as_literal_rendering"></a>PARAMETER_AS_LITERAL_RENDERING</h4>
<div class="paragraph">
<p>Defines whether parameters should be rendered as literals when the type can not be inferred, or always as parameter.
The property can be changed for a criteria builder before constructing a query.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.parameter_literal_rendering</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="optimized_keyset_predicate_rendering"><a class="anchor" href="#optimized_keyset_predicate_rendering"></a>OPTIMIZED_KEYSET_PREDICATE_RENDERING</h4>
<div class="paragraph">
<p>Defines whether the keyset predicate should be rendered in an optimized form so that database optimizers are more likely
to use indices.
The property can be changed for a criteria builder before constructing a query.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">com.blazebit.persistence.optimized_keyset_predicate_rendering</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-jpql-functions"><a class="anchor" href="#configuration-jpql-functions"></a>Jpql functions</h3>
<div class="paragraph">
<p>Custom functions that can be invoked via the JPA 2.1 function syntax <code>FUNCTION('function_name', args&#8230;&#8203;)</code> can be registered with <code>registerFunction(JpqlFunctionGroup)</code>.
A <code>JpqlFunctionGroup</code> represents a logical function that can contain multiple implementations for various dbms and can be defined as being an aggregate function.</p>
</div>
<div class="paragraph">
<p>These functions are registered as native persistence provider functions and can therefore also be used with plain JPA APIs or the native persistence provider APIs.
For more information refer to the <a href="#JPQL functions">[JPQL functions]</a> section.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-dbms-dialects"><a class="anchor" href="#configuration-dbms-dialects"></a>Dbms dialects</h3>
<div class="paragraph">
<p>Dbms dialect implementations provide SQL-level abstractions for a specific dbms. {projectname} comes with support for the following dbms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>h2</p>
</li>
<li>
<p>mysql</p>
</li>
<li>
<p>postgresql</p>
</li>
<li>
<p>db2</p>
</li>
<li>
<p>oracle</p>
</li>
<li>
<p>microsoft</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By registering a custom implementation for a specific dbms via <code>registerDialect(String, DbmsDialect)</code> the default implementation will be overridden.
For more information refer to the <a href="#Customize DBMS dialect">[Customize DBMS dialect]</a> section.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-entity-manager-factory-integrators"><a class="anchor" href="#configuration-entity-manager-factory-integrators"></a>Entity manager factory integrators</h3>
<div class="paragraph">
<p>A little integration layer to extract the dbms of an entity manager and register <code>JpqlFunctionGroup</code> instances with the entity manager. This is normally provided by an integration module for persistence providers.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-08-05 16:46:14 KST
</div>
</div>
</body>
</html>