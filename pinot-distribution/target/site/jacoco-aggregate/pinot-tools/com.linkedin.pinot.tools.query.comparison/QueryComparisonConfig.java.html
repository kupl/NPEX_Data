<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>QueryComparisonConfig.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">pinot-distribution</a> &gt; <a href="../index.html" class="el_bundle">pinot-tools</a> &gt; <a href="index.source.html" class="el_package">com.linkedin.pinot.tools.query.comparison</a> &gt; <span class="el_source">QueryComparisonConfig.java</span></div><h1>QueryComparisonConfig.java</h1><pre class="source lang-java linenums">/**
 * Copyright (C) 2014-2016 LinkedIn Corp. (pinot-core@linkedin.com)
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.linkedin.pinot.tools.query.comparison;

import com.linkedin.pinot.common.utils.CommonConstants;
import java.io.File;
import org.apache.commons.configuration.ConfigurationException;
import org.apache.commons.configuration.PropertiesConfiguration;


public class QueryComparisonConfig extends PropertiesConfiguration {
  private static final String CLUSTER_NAME = &quot;cluster.name&quot;;

  private static final String ZOOKEEPER_ADDRESS = &quot;zookeeper.address&quot;;
  private static final String CONTROLLER_PORT = &quot;controller.port&quot;;
  private static final String BROKER_HOST = &quot;broker.host&quot;;
  private static final String BROKER_PORT = &quot;broker.port&quot;;
  private static final String SERVER_PORT = &quot;server.port&quot;;
  private static final String PERF_URL = &quot;perf.url&quot;;

  // Used if a reference cluster needs to be started for testing.
  private static final String REF_CONTROLLER_PORT = &quot;ref.controller.port&quot;;
  private static final String REF_BROKER_HOST = &quot;ref.broker.host&quot;;
  private static final String REF_BROKER_PORT = &quot;ref.broker.port&quot;;
  private static final String REF_SERVER_PORT = &quot;ref.server.port&quot;;

  private static final String TABLE_NAME = &quot;table.name&quot;;
  private static final String TABLE_CONFIG_FILE = &quot;table.config.file&quot;;

  public static final String SEGMENT_NAME = &quot;segment.name&quot;;
  private static final String INPUT_DATA_DIR = &quot;input.data.dir&quot;;
  private static final String SCHEMA_FILE_NAME = &quot;schema.file.name&quot;;
  private static final String SEGMENTS_DIR = &quot;segments.dir&quot;;

  private static final String QUERY_FILE = &quot;query.file&quot;;
  private static final String RESULT_FILE = &quot;result.file&quot;;
  private static final String START_ZOOKEEPER = &quot;start.zookeeper&quot;;
  private static final String START_CLUSTER = &quot;start.cluster&quot;;
  private static final String TIME_COLUMN_NAME = &quot;time.column.name&quot;;

  // Used for different test mode
  private static final String FUNCTION_MODE = &quot;function.mode&quot;;
  private static final String PERF_MODE = &quot;perf.mode&quot;;

  private static final String TIME_UNIT = &quot;time.unit&quot;;
  private static final String DEFAULT_CLUSTER_NAME = &quot;QueryComparisonCluster&quot;;
  private static final String DEFAULT_ZOOKEEPER_ADDRESS = &quot;localhost:2181&quot;;

  private static final String DEFAULT_CONTROLLER_PORT = &quot;9000&quot;;
  private static final String DEFAULT_BROKER_HOST = &quot;localhost&quot;;
<span class="nc" id="L64">  private static final String DEFAULT_BROKER_PORT = String.valueOf(CommonConstants.Helix.DEFAULT_BROKER_QUERY_PORT);</span>
<span class="nc" id="L65">  private static final String DEFAULT_SERVER_PORT = String.valueOf(CommonConstants.Helix.DEFAULT_SERVER_NETTY_PORT);</span>

  private static final String DEFAULT_REF_CONTROLLER_PORT = &quot;10000&quot;;
  private static final String DEFAULT_REF_BROKER_HOST = &quot;localhost&quot;;
  private static final String DEFAULT_REF_BROKER_PORT = &quot;10001&quot;;
  private static final String DEFAULT_REF_SERVER_PORT = &quot;10002&quot;;

  private static final boolean DEFAULT_START_ZOOKEEPER = true;
  private static final boolean DEFAULT_ENABLE_STAR_TREE = false;

  private static final boolean DEFAULT_FUNCTION_MODE = true;
  private static final boolean DEFAULT_PERF_MODE = false;

  public static final String DEFAULT_SEGMENT_NAME = &quot;pinotSegment&quot;;

  private static final boolean DEFAULT_START_CLUSTER = true;
  private static final String DEFAULT_TIME_COLUMN_NAME = &quot;daysSinceEpoch&quot;;
  private static final String DEFAULT_TIME_UNIT = &quot;DAYS&quot;;

  public QueryComparisonConfig(File file)
      throws ConfigurationException {
<span class="nc" id="L86">    super(file);</span>
<span class="nc" id="L87">  }</span>

  public String getClusterName() {
<span class="nc" id="L90">    String value = (String) getProperty(CLUSTER_NAME);</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_CLUSTER_NAME;</span>
  }

  public String getZookeeperAddress() {
<span class="nc" id="L95">    String value = (String) getProperty(ZOOKEEPER_ADDRESS);</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_ZOOKEEPER_ADDRESS;</span>
  }

  public boolean getStartZookeeper() {
<span class="nc" id="L100">    String value = (String) getProperty(START_ZOOKEEPER);</span>
<span class="nc bnc" id="L101" title="All 2 branches missed.">    return (value != null) ? Boolean.valueOf(value) : DEFAULT_START_ZOOKEEPER;</span>
  }

  public boolean getStartCluster() {
<span class="nc" id="L105">    String value = (String) getProperty(START_CLUSTER);</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">    return (value != null) ? Boolean.valueOf(value) : DEFAULT_START_CLUSTER;</span>
  }

  public boolean getFunctionMode() {
<span class="nc" id="L110">    String value = (String) getProperty(FUNCTION_MODE);</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">    return (value != null) ? Boolean.valueOf(value) : DEFAULT_FUNCTION_MODE;</span>
  }

  public boolean getPerfMode() {
<span class="nc" id="L115">    String value = (String) getProperty(PERF_MODE);</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">    return (value != null) ? Boolean.valueOf(value) : DEFAULT_PERF_MODE;</span>
  }

  public String getControllerPort() {
<span class="nc" id="L120">    String value =  (String) getProperty(CONTROLLER_PORT);</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_CONTROLLER_PORT;</span>
  }

  public String getBrokerHost() {
<span class="nc" id="L125">    String value = (String) getProperty(BROKER_HOST);</span>
<span class="nc bnc" id="L126" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_BROKER_HOST;</span>
  }
  public String getBrokerPort() {
<span class="nc" id="L129">    String value = (String) getProperty(BROKER_PORT);</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_BROKER_PORT;</span>
  }

  public String getServerPort() {
<span class="nc" id="L134">    String value = (String) getProperty(SERVER_PORT);</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_SERVER_PORT;</span>
  }

  public String getPerfUrl() {
<span class="nc" id="L139">    String value = (String) getProperty(PERF_URL);</span>
<span class="nc" id="L140">    return value;</span>
  }

  public String getRefControllerPort() {
<span class="nc" id="L144">    String value =  (String) getProperty(REF_CONTROLLER_PORT);</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_REF_CONTROLLER_PORT;</span>
  }

  public String getRefBrokerHost() {
<span class="nc" id="L149">    String value = (String) getProperty(REF_BROKER_HOST);</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_REF_BROKER_HOST;</span>
  }
  public String getRefBrokerPort() {
<span class="nc" id="L153">    String value = (String) getProperty(REF_BROKER_PORT);</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_REF_BROKER_PORT;</span>
  }

  public String getRefServerPort() {
<span class="nc" id="L158">    String value = (String) getProperty(REF_SERVER_PORT);</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_REF_SERVER_PORT;</span>
  }

  public String getTableName() {
<span class="nc" id="L163">    return (String) getProperty(TABLE_NAME);</span>
  }

  public String getTableConfigFile() {
<span class="nc" id="L167">    return (String) getProperty(TABLE_CONFIG_FILE);</span>
  }

  public String getSegmentName() {
<span class="nc" id="L171">    String value = (String) getProperty(SEGMENT_NAME);</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_SEGMENT_NAME;</span>
  }

  public String getInputDataDir()  {
<span class="nc" id="L176">    return (String) getProperty(INPUT_DATA_DIR);</span>
  }

  public String getSegmentsDir() {
<span class="nc" id="L180">    return (String) getProperty(SEGMENTS_DIR);</span>
  }

  public String getSchemaFileName() {
<span class="nc" id="L184">    return (String) getProperty(SCHEMA_FILE_NAME);</span>
  }

  public String getQueryFile() {
<span class="nc" id="L188">    return (String) getProperty(QUERY_FILE);</span>
  }

  public String getResultFile() {
<span class="nc" id="L192">    return (String) getProperty(RESULT_FILE);</span>
  }

  public String getTimeColumnName() {
<span class="nc" id="L196">    String value = (String) getProperty(TIME_COLUMN_NAME);</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_TIME_COLUMN_NAME;</span>
  }

  public String getTimeUnit() {
<span class="nc" id="L201">    String value =  (String) getProperty(TIME_UNIT);</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">    return (value != null) ? value : DEFAULT_TIME_UNIT;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>