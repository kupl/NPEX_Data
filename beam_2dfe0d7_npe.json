[
    {
        "parent": "https://github.com/apache/beam/commit/95b36e084f970a38047d574f10e1a85e731bbea4",
        "commit": "https://github.com/apache/beam/commit/2dfe0d7538046d12d72ca617919fc0d1f77da47f",
        "repo": "beam",
        "bug_id": "beam_2dfe0d7",
        "message": "Fix NullPointerException in Proto2Coder\n\n----Release Notes----\n\n[]\n-------------\nCreated by MOE: http://code.google.com/p/moe-java\nMOE_MIGRATED_REVID=98868924",
        "unit_tests": [
            "Proto2CoderTest.java"
        ],
        "file": [
            {
                "additions": 7,
                "raw_url": "https://github.com/apache/beam/raw/2dfe0d7538046d12d72ca617919fc0d1f77da47f/sdk/src/main/java/com/google/cloud/dataflow/sdk/coders/Proto2Coder.java",
                "changes": 10,
                "blob_url": "https://github.com/apache/beam/blob/2dfe0d7538046d12d72ca617919fc0d1f77da47f/sdk/src/main/java/com/google/cloud/dataflow/sdk/coders/Proto2Coder.java",
                "status": "modified",
                "patch": "@@ -38,6 +38,8 @@\n import java.util.List;\n import java.util.Objects;\n \n+import javax.annotation.Nullable;\n+\n /**\n  * An encoder using Google Protocol Buffers 2 binary format.\n  *\n@@ -288,14 +290,16 @@ private ExtensionRegistry getExtensionRegistry() {\n   @JsonCreator\n   public static <T extends Message> Proto2Coder<T> of(\n       @JsonProperty(PROTO_MESSAGE_CLASS) String protoMessageClassName,\n-      @JsonProperty(PROTO_EXTENSION_HOSTS) List<String> extensionHostClassNames) {\n+      @Nullable @JsonProperty(PROTO_EXTENSION_HOSTS) List<String> extensionHostClassNames) {\n \n     try {\n       @SuppressWarnings(\"unchecked\")\n       Class<T> protoMessageClass = (Class<T>) Class.forName(protoMessageClassName);\n       List<Class<?>> extensionHostClasses = Lists.newArrayList();\n-      for (String extensionHostClassName : extensionHostClassNames) {\n-        extensionHostClasses.add(Class.forName(extensionHostClassName));\n+      if (extensionHostClassNames != null) {\n+        for (String extensionHostClassName : extensionHostClassNames) {\n+          extensionHostClasses.add(Class.forName(extensionHostClassName));\n+        }\n       }\n       return of(protoMessageClass).withExtensionsFrom(extensionHostClasses);\n     } catch (ClassNotFoundException e) {",
                "sha": "32e540c98a2792acb3472e7befd533ea838873a5",
                "deletions": 3,
                "contents_url": "https://api.github.com/repos/apache/beam/contents/sdk/src/main/java/com/google/cloud/dataflow/sdk/coders/Proto2Coder.java?ref=2dfe0d7538046d12d72ca617919fc0d1f77da47f",
                "filename": "sdk/src/main/java/com/google/cloud/dataflow/sdk/coders/Proto2Coder.java"
            }
        ],
        "patched_files": [
            "Proto2Coder.java"
        ]
    },
    {
        "test_file": "sdk/src/test/java/com/google/cloud/dataflow/sdk/coders/Proto2CoderTest.java",
        "buggy_files": [
            "sdk/src/main/java/com/google/cloud/dataflow/sdk/coders/Proto2Coder.java"
        ],
        "buggy": false,
        "fixed": true
    }
]